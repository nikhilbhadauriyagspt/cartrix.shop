function D0(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(n,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();var Nt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Nm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Sm={exports:{}},Ho={},km={exports:{}},ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var la=Symbol.for("react.element"),F0=Symbol.for("react.portal"),q0=Symbol.for("react.fragment"),B0=Symbol.for("react.strict_mode"),U0=Symbol.for("react.profiler"),z0=Symbol.for("react.provider"),H0=Symbol.for("react.context"),V0=Symbol.for("react.forward_ref"),W0=Symbol.for("react.suspense"),G0=Symbol.for("react.memo"),K0=Symbol.for("react.lazy"),Of=Symbol.iterator;function Y0(e){return e===null||typeof e!="object"?null:(e=Of&&e[Of]||e["@@iterator"],typeof e=="function"?e:null)}var Em={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Tm=Object.assign,Om={};function Ds(e,t,r){this.props=e,this.context=t,this.refs=Om,this.updater=r||Em}Ds.prototype.isReactComponent={};Ds.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ds.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Cm(){}Cm.prototype=Ds.prototype;function ad(e,t,r){this.props=e,this.context=t,this.refs=Om,this.updater=r||Em}var od=ad.prototype=new Cm;od.constructor=ad;Tm(od,Ds.prototype);od.isPureReactComponent=!0;var Cf=Array.isArray,Pm=Object.prototype.hasOwnProperty,ld={current:null},Am={key:!0,ref:!0,__self:!0,__source:!0};function Im(e,t,r){var n,s={},a=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)Pm.call(t,n)&&!Am.hasOwnProperty(n)&&(s[n]=t[n]);var c=arguments.length-2;if(c===1)s.children=r;else if(1<c){for(var l=Array(c),u=0;u<c;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(n in c=e.defaultProps,c)s[n]===void 0&&(s[n]=c[n]);return{$$typeof:la,type:e,key:a,ref:o,props:s,_owner:ld.current}}function J0(e,t){return{$$typeof:la,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function cd(e){return typeof e=="object"&&e!==null&&e.$$typeof===la}function Q0(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Pf=/\/+/g;function Pl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Q0(""+e.key):t.toString(36)}function Wa(e,t,r,n,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case la:case F0:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+Pl(o,0):n,Cf(s)?(r="",e!=null&&(r=e.replace(Pf,"$&/")+"/"),Wa(s,t,r,"",function(u){return u})):s!=null&&(cd(s)&&(s=J0(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Pf,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",Cf(e))for(var c=0;c<e.length;c++){a=e[c];var l=n+Pl(a,c);o+=Wa(a,t,r,l,s)}else if(l=Y0(e),typeof l=="function")for(e=l.call(e),c=0;!(a=e.next()).done;)a=a.value,l=n+Pl(a,c++),o+=Wa(a,t,r,l,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ba(e,t,r){if(e==null)return e;var n=[],s=0;return Wa(e,n,"","",function(a){return t.call(r,a,s++)}),n}function X0(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var lt={current:null},Ga={transition:null},Z0={ReactCurrentDispatcher:lt,ReactCurrentBatchConfig:Ga,ReactCurrentOwner:ld};function Rm(){throw Error("act(...) is not supported in production builds of React.")}ge.Children={map:ba,forEach:function(e,t,r){ba(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return ba(e,function(){t++}),t},toArray:function(e){return ba(e,function(t){return t})||[]},only:function(e){if(!cd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ge.Component=Ds;ge.Fragment=q0;ge.Profiler=U0;ge.PureComponent=ad;ge.StrictMode=B0;ge.Suspense=W0;ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z0;ge.act=Rm;ge.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Tm({},e.props),s=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=ld.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)Pm.call(t,l)&&!Am.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&c!==void 0?c[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){c=Array(l);for(var u=0;u<l;u++)c[u]=arguments[u+2];n.children=c}return{$$typeof:la,type:e.type,key:s,ref:a,props:n,_owner:o}};ge.createContext=function(e){return e={$$typeof:H0,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:z0,_context:e},e.Consumer=e};ge.createElement=Im;ge.createFactory=function(e){var t=Im.bind(null,e);return t.type=e,t};ge.createRef=function(){return{current:null}};ge.forwardRef=function(e){return{$$typeof:V0,render:e}};ge.isValidElement=cd;ge.lazy=function(e){return{$$typeof:K0,_payload:{_status:-1,_result:e},_init:X0}};ge.memo=function(e,t){return{$$typeof:G0,type:e,compare:t===void 0?null:t}};ge.startTransition=function(e){var t=Ga.transition;Ga.transition={};try{e()}finally{Ga.transition=t}};ge.unstable_act=Rm;ge.useCallback=function(e,t){return lt.current.useCallback(e,t)};ge.useContext=function(e){return lt.current.useContext(e)};ge.useDebugValue=function(){};ge.useDeferredValue=function(e){return lt.current.useDeferredValue(e)};ge.useEffect=function(e,t){return lt.current.useEffect(e,t)};ge.useId=function(){return lt.current.useId()};ge.useImperativeHandle=function(e,t,r){return lt.current.useImperativeHandle(e,t,r)};ge.useInsertionEffect=function(e,t){return lt.current.useInsertionEffect(e,t)};ge.useLayoutEffect=function(e,t){return lt.current.useLayoutEffect(e,t)};ge.useMemo=function(e,t){return lt.current.useMemo(e,t)};ge.useReducer=function(e,t,r){return lt.current.useReducer(e,t,r)};ge.useRef=function(e){return lt.current.useRef(e)};ge.useState=function(e){return lt.current.useState(e)};ge.useSyncExternalStore=function(e,t,r){return lt.current.useSyncExternalStore(e,t,r)};ge.useTransition=function(){return lt.current.useTransition()};ge.version="18.3.1";km.exports=ge;var O=km.exports;const oe=Nm(O),Cc=D0({__proto__:null,default:oe},[O]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ex=O,tx=Symbol.for("react.element"),rx=Symbol.for("react.fragment"),nx=Object.prototype.hasOwnProperty,sx=ex.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ix={key:!0,ref:!0,__self:!0,__source:!0};function Lm(e,t,r){var n,s={},a=null,o=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)nx.call(t,n)&&!ix.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:tx,type:e,key:a,ref:o,props:s,_owner:sx.current}}Ho.Fragment=rx;Ho.jsx=Lm;Ho.jsxs=Lm;Sm.exports=Ho;var i=Sm.exports,Pc={},Mm={exports:{}},Ct={},$m={exports:{}},Dm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(q,D){var I=q.length;q.push(D);e:for(;0<I;){var P=I-1>>>1,M=q[P];if(0<s(M,D))q[P]=D,q[I]=M,I=P;else break e}}function r(q){return q.length===0?null:q[0]}function n(q){if(q.length===0)return null;var D=q[0],I=q.pop();if(I!==D){q[0]=I;e:for(var P=0,M=q.length,R=M>>>1;P<R;){var V=2*(P+1)-1,W=q[V],$=V+1,H=q[$];if(0>s(W,I))$<M&&0>s(H,W)?(q[P]=H,q[$]=I,P=$):(q[P]=W,q[V]=I,P=V);else if($<M&&0>s(H,I))q[P]=H,q[$]=I,P=$;else break e}}return D}function s(q,D){var I=q.sortIndex-D.sortIndex;return I!==0?I:q.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,c=o.now();e.unstable_now=function(){return o.now()-c}}var l=[],u=[],h=1,d=null,f=3,p=!1,b=!1,x=!1,w=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(q){for(var D=r(u);D!==null;){if(D.callback===null)n(u);else if(D.startTime<=q)n(u),D.sortIndex=D.expirationTime,t(l,D);else break;D=r(u)}}function y(q){if(x=!1,v(q),!b)if(r(l)!==null)b=!0,U(j);else{var D=r(u);D!==null&&B(y,D.startTime-q)}}function j(q,D){b=!1,x&&(x=!1,g(_),_=-1),p=!0;var I=f;try{for(v(D),d=r(l);d!==null&&(!(d.expirationTime>D)||q&&!E());){var P=d.callback;if(typeof P=="function"){d.callback=null,f=d.priorityLevel;var M=P(d.expirationTime<=D);D=e.unstable_now(),typeof M=="function"?d.callback=M:d===r(l)&&n(l),v(D)}else n(l);d=r(l)}if(d!==null)var R=!0;else{var V=r(u);V!==null&&B(y,V.startTime-D),R=!1}return R}finally{d=null,f=I,p=!1}}var S=!1,N=null,_=-1,C=5,k=-1;function E(){return!(e.unstable_now()-k<C)}function T(){if(N!==null){var q=e.unstable_now();k=q;var D=!0;try{D=N(!0,q)}finally{D?A():(S=!1,N=null)}}else S=!1}var A;if(typeof m=="function")A=function(){m(T)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,F=L.port2;L.port1.onmessage=T,A=function(){F.postMessage(null)}}else A=function(){w(T,0)};function U(q){N=q,S||(S=!0,A())}function B(q,D){_=w(function(){q(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_continueExecution=function(){b||p||(b=!0,U(j))},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(q){switch(f){case 1:case 2:case 3:var D=3;break;default:D=f}var I=f;f=D;try{return q()}finally{f=I}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(q,D){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var I=f;f=q;try{return D()}finally{f=I}},e.unstable_scheduleCallback=function(q,D,I){var P=e.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?P+I:P):I=P,q){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=I+M,q={id:h++,callback:D,priorityLevel:q,startTime:I,expirationTime:M,sortIndex:-1},I>P?(q.sortIndex=I,t(u,q),r(l)===null&&q===r(u)&&(x?(g(_),_=-1):x=!0,B(y,I-P))):(q.sortIndex=M,t(l,q),b||p||(b=!0,U(j))),q},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(q){var D=f;return function(){var I=f;f=D;try{return q.apply(this,arguments)}finally{f=I}}}})(Dm);$m.exports=Dm;var ax=$m.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ox=O,Ot=ax;function ee(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Fm=new Set,Ci={};function zn(e,t){ks(e,t),ks(e+"Capture",t)}function ks(e,t){for(Ci[e]=t,e=0;e<t.length;e++)Fm.add(t[e])}var Er=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ac=Object.prototype.hasOwnProperty,lx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Af={},If={};function cx(e){return Ac.call(If,e)?!0:Ac.call(Af,e)?!1:lx.test(e)?If[e]=!0:(Af[e]=!0,!1)}function ux(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function dx(e,t,r,n){if(t===null||typeof t>"u"||ux(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ct(e,t,r,n,s,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Xe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Xe[e]=new ct(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Xe[t]=new ct(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Xe[e]=new ct(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Xe[e]=new ct(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Xe[e]=new ct(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Xe[e]=new ct(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Xe[e]=new ct(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Xe[e]=new ct(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Xe[e]=new ct(e,5,!1,e.toLowerCase(),null,!1,!1)});var ud=/[\-:]([a-z])/g;function dd(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ud,dd);Xe[t]=new ct(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ud,dd);Xe[t]=new ct(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ud,dd);Xe[t]=new ct(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Xe[e]=new ct(e,1,!1,e.toLowerCase(),null,!1,!1)});Xe.xlinkHref=new ct("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Xe[e]=new ct(e,1,!1,e.toLowerCase(),null,!0,!0)});function fd(e,t,r,n){var s=Xe.hasOwnProperty(t)?Xe[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(dx(t,r,s,n)&&(r=null),n||s===null?cx(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Ar=ox.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,wa=Symbol.for("react.element"),ns=Symbol.for("react.portal"),ss=Symbol.for("react.fragment"),hd=Symbol.for("react.strict_mode"),Ic=Symbol.for("react.profiler"),qm=Symbol.for("react.provider"),Bm=Symbol.for("react.context"),pd=Symbol.for("react.forward_ref"),Rc=Symbol.for("react.suspense"),Lc=Symbol.for("react.suspense_list"),md=Symbol.for("react.memo"),Br=Symbol.for("react.lazy"),Um=Symbol.for("react.offscreen"),Rf=Symbol.iterator;function Js(e){return e===null||typeof e!="object"?null:(e=Rf&&e[Rf]||e["@@iterator"],typeof e=="function"?e:null)}var Ae=Object.assign,Al;function ai(e){if(Al===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Al=t&&t[1]||""}return`
`+Al+e}var Il=!1;function Rl(e,t){if(!e||Il)return"";Il=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),a=n.stack.split(`
`),o=s.length-1,c=a.length-1;1<=o&&0<=c&&s[o]!==a[c];)c--;for(;1<=o&&0<=c;o--,c--)if(s[o]!==a[c]){if(o!==1||c!==1)do if(o--,c--,0>c||s[o]!==a[c]){var l=`
`+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=c);break}}}finally{Il=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?ai(e):""}function fx(e){switch(e.tag){case 5:return ai(e.type);case 16:return ai("Lazy");case 13:return ai("Suspense");case 19:return ai("SuspenseList");case 0:case 2:case 15:return e=Rl(e.type,!1),e;case 11:return e=Rl(e.type.render,!1),e;case 1:return e=Rl(e.type,!0),e;default:return""}}function Mc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ss:return"Fragment";case ns:return"Portal";case Ic:return"Profiler";case hd:return"StrictMode";case Rc:return"Suspense";case Lc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Bm:return(e.displayName||"Context")+".Consumer";case qm:return(e._context.displayName||"Context")+".Provider";case pd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case md:return t=e.displayName||null,t!==null?t:Mc(e.type)||"Memo";case Br:t=e._payload,e=e._init;try{return Mc(e(t))}catch{}}return null}function hx(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Mc(t);case 8:return t===hd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function dn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function zm(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function px(e){var t=zm(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ja(e){e._valueTracker||(e._valueTracker=px(e))}function Hm(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=zm(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function io(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function $c(e,t){var r=t.checked;return Ae({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Lf(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=dn(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Vm(e,t){t=t.checked,t!=null&&fd(e,"checked",t,!1)}function Dc(e,t){Vm(e,t);var r=dn(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Fc(e,t.type,r):t.hasOwnProperty("defaultValue")&&Fc(e,t.type,dn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Mf(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Fc(e,t,r){(t!=="number"||io(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var oi=Array.isArray;function vs(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+dn(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function qc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ee(91));return Ae({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function $f(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ee(92));if(oi(r)){if(1<r.length)throw Error(ee(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:dn(r)}}function Wm(e,t){var r=dn(t.value),n=dn(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Df(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Gm(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Bc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Gm(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var _a,Km=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(_a=_a||document.createElement("div"),_a.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=_a.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Pi(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var pi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mx=["Webkit","ms","Moz","O"];Object.keys(pi).forEach(function(e){mx.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pi[t]=pi[e]})});function Ym(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||pi.hasOwnProperty(e)&&pi[e]?(""+t).trim():t+"px"}function Jm(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Ym(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var gx=Ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Uc(e,t){if(t){if(gx[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ee(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ee(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ee(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ee(62))}}function zc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hc=null;function gd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Vc=null,ys=null,xs=null;function Ff(e){if(e=da(e)){if(typeof Vc!="function")throw Error(ee(280));var t=e.stateNode;t&&(t=Yo(t),Vc(e.stateNode,e.type,t))}}function Qm(e){ys?xs?xs.push(e):xs=[e]:ys=e}function Xm(){if(ys){var e=ys,t=xs;if(xs=ys=null,Ff(e),t)for(e=0;e<t.length;e++)Ff(t[e])}}function Zm(e,t){return e(t)}function eg(){}var Ll=!1;function tg(e,t,r){if(Ll)return e(t,r);Ll=!0;try{return Zm(e,t,r)}finally{Ll=!1,(ys!==null||xs!==null)&&(eg(),Xm())}}function Ai(e,t){var r=e.stateNode;if(r===null)return null;var n=Yo(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ee(231,t,typeof r));return r}var Wc=!1;if(Er)try{var Qs={};Object.defineProperty(Qs,"passive",{get:function(){Wc=!0}}),window.addEventListener("test",Qs,Qs),window.removeEventListener("test",Qs,Qs)}catch{Wc=!1}function vx(e,t,r,n,s,a,o,c,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(h){this.onError(h)}}var mi=!1,ao=null,oo=!1,Gc=null,yx={onError:function(e){mi=!0,ao=e}};function xx(e,t,r,n,s,a,o,c,l){mi=!1,ao=null,vx.apply(yx,arguments)}function bx(e,t,r,n,s,a,o,c,l){if(xx.apply(this,arguments),mi){if(mi){var u=ao;mi=!1,ao=null}else throw Error(ee(198));oo||(oo=!0,Gc=u)}}function Hn(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function rg(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function qf(e){if(Hn(e)!==e)throw Error(ee(188))}function wx(e){var t=e.alternate;if(!t){if(t=Hn(e),t===null)throw Error(ee(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var a=s.alternate;if(a===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===r)return qf(s),e;if(a===n)return qf(s),t;a=a.sibling}throw Error(ee(188))}if(r.return!==n.return)r=s,n=a;else{for(var o=!1,c=s.child;c;){if(c===r){o=!0,r=s,n=a;break}if(c===n){o=!0,n=s,r=a;break}c=c.sibling}if(!o){for(c=a.child;c;){if(c===r){o=!0,r=a,n=s;break}if(c===n){o=!0,n=a,r=s;break}c=c.sibling}if(!o)throw Error(ee(189))}}if(r.alternate!==n)throw Error(ee(190))}if(r.tag!==3)throw Error(ee(188));return r.stateNode.current===r?e:t}function ng(e){return e=wx(e),e!==null?sg(e):null}function sg(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=sg(e);if(t!==null)return t;e=e.sibling}return null}var ig=Ot.unstable_scheduleCallback,Bf=Ot.unstable_cancelCallback,jx=Ot.unstable_shouldYield,_x=Ot.unstable_requestPaint,$e=Ot.unstable_now,Nx=Ot.unstable_getCurrentPriorityLevel,vd=Ot.unstable_ImmediatePriority,ag=Ot.unstable_UserBlockingPriority,lo=Ot.unstable_NormalPriority,Sx=Ot.unstable_LowPriority,og=Ot.unstable_IdlePriority,Vo=null,ir=null;function kx(e){if(ir&&typeof ir.onCommitFiberRoot=="function")try{ir.onCommitFiberRoot(Vo,e,void 0,(e.current.flags&128)===128)}catch{}}var Jt=Math.clz32?Math.clz32:Ox,Ex=Math.log,Tx=Math.LN2;function Ox(e){return e>>>=0,e===0?32:31-(Ex(e)/Tx|0)|0}var Na=64,Sa=4194304;function li(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function co(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,a=e.pingedLanes,o=r&268435455;if(o!==0){var c=o&~s;c!==0?n=li(c):(a&=o,a!==0&&(n=li(a)))}else o=r&~s,o!==0?n=li(o):a!==0&&(n=li(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Jt(t),s=1<<r,n|=e[r],t&=~s;return n}function Cx(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Px(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-Jt(a),c=1<<o,l=s[o];l===-1?(!(c&r)||c&n)&&(s[o]=Cx(c,t)):l<=t&&(e.expiredLanes|=c),a&=~c}}function Kc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function lg(){var e=Na;return Na<<=1,!(Na&4194240)&&(Na=64),e}function Ml(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ca(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Jt(t),e[t]=r}function Ax(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Jt(r),a=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~a}}function yd(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Jt(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var be=0;function cg(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ug,xd,dg,fg,hg,Yc=!1,ka=[],en=null,tn=null,rn=null,Ii=new Map,Ri=new Map,Hr=[],Ix="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Uf(e,t){switch(e){case"focusin":case"focusout":en=null;break;case"dragenter":case"dragleave":tn=null;break;case"mouseover":case"mouseout":rn=null;break;case"pointerover":case"pointerout":Ii.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ri.delete(t.pointerId)}}function Xs(e,t,r,n,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[s]},t!==null&&(t=da(t),t!==null&&xd(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Rx(e,t,r,n,s){switch(t){case"focusin":return en=Xs(en,e,t,r,n,s),!0;case"dragenter":return tn=Xs(tn,e,t,r,n,s),!0;case"mouseover":return rn=Xs(rn,e,t,r,n,s),!0;case"pointerover":var a=s.pointerId;return Ii.set(a,Xs(Ii.get(a)||null,e,t,r,n,s)),!0;case"gotpointercapture":return a=s.pointerId,Ri.set(a,Xs(Ri.get(a)||null,e,t,r,n,s)),!0}return!1}function pg(e){var t=Tn(e.target);if(t!==null){var r=Hn(t);if(r!==null){if(t=r.tag,t===13){if(t=rg(r),t!==null){e.blockedOn=t,hg(e.priority,function(){dg(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ka(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Jc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Hc=n,r.target.dispatchEvent(n),Hc=null}else return t=da(r),t!==null&&xd(t),e.blockedOn=r,!1;t.shift()}return!0}function zf(e,t,r){Ka(e)&&r.delete(t)}function Lx(){Yc=!1,en!==null&&Ka(en)&&(en=null),tn!==null&&Ka(tn)&&(tn=null),rn!==null&&Ka(rn)&&(rn=null),Ii.forEach(zf),Ri.forEach(zf)}function Zs(e,t){e.blockedOn===t&&(e.blockedOn=null,Yc||(Yc=!0,Ot.unstable_scheduleCallback(Ot.unstable_NormalPriority,Lx)))}function Li(e){function t(s){return Zs(s,e)}if(0<ka.length){Zs(ka[0],e);for(var r=1;r<ka.length;r++){var n=ka[r];n.blockedOn===e&&(n.blockedOn=null)}}for(en!==null&&Zs(en,e),tn!==null&&Zs(tn,e),rn!==null&&Zs(rn,e),Ii.forEach(t),Ri.forEach(t),r=0;r<Hr.length;r++)n=Hr[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Hr.length&&(r=Hr[0],r.blockedOn===null);)pg(r),r.blockedOn===null&&Hr.shift()}var bs=Ar.ReactCurrentBatchConfig,uo=!0;function Mx(e,t,r,n){var s=be,a=bs.transition;bs.transition=null;try{be=1,bd(e,t,r,n)}finally{be=s,bs.transition=a}}function $x(e,t,r,n){var s=be,a=bs.transition;bs.transition=null;try{be=4,bd(e,t,r,n)}finally{be=s,bs.transition=a}}function bd(e,t,r,n){if(uo){var s=Jc(e,t,r,n);if(s===null)Wl(e,t,n,fo,r),Uf(e,n);else if(Rx(s,e,t,r,n))n.stopPropagation();else if(Uf(e,n),t&4&&-1<Ix.indexOf(e)){for(;s!==null;){var a=da(s);if(a!==null&&ug(a),a=Jc(e,t,r,n),a===null&&Wl(e,t,n,fo,r),a===s)break;s=a}s!==null&&n.stopPropagation()}else Wl(e,t,n,null,r)}}var fo=null;function Jc(e,t,r,n){if(fo=null,e=gd(n),e=Tn(e),e!==null)if(t=Hn(e),t===null)e=null;else if(r=t.tag,r===13){if(e=rg(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return fo=e,null}function mg(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Nx()){case vd:return 1;case ag:return 4;case lo:case Sx:return 16;case og:return 536870912;default:return 16}default:return 16}}var Kr=null,wd=null,Ya=null;function gg(){if(Ya)return Ya;var e,t=wd,r=t.length,n,s="value"in Kr?Kr.value:Kr.textContent,a=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[a-n];n++);return Ya=s.slice(e,1<n?1-n:void 0)}function Ja(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ea(){return!0}function Hf(){return!1}function Pt(e){function t(r,n,s,a,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(r=e[c],this[c]=r?r(a):a[c]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Ea:Hf,this.isPropagationStopped=Hf,this}return Ae(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ea)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ea)},persist:function(){},isPersistent:Ea}),t}var Fs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jd=Pt(Fs),ua=Ae({},Fs,{view:0,detail:0}),Dx=Pt(ua),$l,Dl,ei,Wo=Ae({},ua,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_d,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ei&&(ei&&e.type==="mousemove"?($l=e.screenX-ei.screenX,Dl=e.screenY-ei.screenY):Dl=$l=0,ei=e),$l)},movementY:function(e){return"movementY"in e?e.movementY:Dl}}),Vf=Pt(Wo),Fx=Ae({},Wo,{dataTransfer:0}),qx=Pt(Fx),Bx=Ae({},ua,{relatedTarget:0}),Fl=Pt(Bx),Ux=Ae({},Fs,{animationName:0,elapsedTime:0,pseudoElement:0}),zx=Pt(Ux),Hx=Ae({},Fs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Vx=Pt(Hx),Wx=Ae({},Fs,{data:0}),Wf=Pt(Wx),Gx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Kx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jx(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Yx[e])?!!t[e]:!1}function _d(){return Jx}var Qx=Ae({},ua,{key:function(e){if(e.key){var t=Gx[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ja(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Kx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_d,charCode:function(e){return e.type==="keypress"?Ja(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ja(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Xx=Pt(Qx),Zx=Ae({},Wo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gf=Pt(Zx),eb=Ae({},ua,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_d}),tb=Pt(eb),rb=Ae({},Fs,{propertyName:0,elapsedTime:0,pseudoElement:0}),nb=Pt(rb),sb=Ae({},Wo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ib=Pt(sb),ab=[9,13,27,32],Nd=Er&&"CompositionEvent"in window,gi=null;Er&&"documentMode"in document&&(gi=document.documentMode);var ob=Er&&"TextEvent"in window&&!gi,vg=Er&&(!Nd||gi&&8<gi&&11>=gi),Kf=" ",Yf=!1;function yg(e,t){switch(e){case"keyup":return ab.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var is=!1;function lb(e,t){switch(e){case"compositionend":return xg(t);case"keypress":return t.which!==32?null:(Yf=!0,Kf);case"textInput":return e=t.data,e===Kf&&Yf?null:e;default:return null}}function cb(e,t){if(is)return e==="compositionend"||!Nd&&yg(e,t)?(e=gg(),Ya=wd=Kr=null,is=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return vg&&t.locale!=="ko"?null:t.data;default:return null}}var ub={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ub[e.type]:t==="textarea"}function bg(e,t,r,n){Qm(n),t=ho(t,"onChange"),0<t.length&&(r=new jd("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var vi=null,Mi=null;function db(e){Pg(e,0)}function Go(e){var t=ls(e);if(Hm(t))return e}function fb(e,t){if(e==="change")return t}var wg=!1;if(Er){var ql;if(Er){var Bl="oninput"in document;if(!Bl){var Qf=document.createElement("div");Qf.setAttribute("oninput","return;"),Bl=typeof Qf.oninput=="function"}ql=Bl}else ql=!1;wg=ql&&(!document.documentMode||9<document.documentMode)}function Xf(){vi&&(vi.detachEvent("onpropertychange",jg),Mi=vi=null)}function jg(e){if(e.propertyName==="value"&&Go(Mi)){var t=[];bg(t,Mi,e,gd(e)),tg(db,t)}}function hb(e,t,r){e==="focusin"?(Xf(),vi=t,Mi=r,vi.attachEvent("onpropertychange",jg)):e==="focusout"&&Xf()}function pb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Go(Mi)}function mb(e,t){if(e==="click")return Go(t)}function gb(e,t){if(e==="input"||e==="change")return Go(t)}function vb(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Xt=typeof Object.is=="function"?Object.is:vb;function $i(e,t){if(Xt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Ac.call(t,s)||!Xt(e[s],t[s]))return!1}return!0}function Zf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function eh(e,t){var r=Zf(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Zf(r)}}function _g(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?_g(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ng(){for(var e=window,t=io();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=io(e.document)}return t}function Sd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function yb(e){var t=Ng(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&_g(r.ownerDocument.documentElement,r)){if(n!==null&&Sd(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,a=Math.min(n.start,s);n=n.end===void 0?a:Math.min(n.end,s),!e.extend&&a>n&&(s=n,n=a,a=s),s=eh(r,a);var o=eh(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var xb=Er&&"documentMode"in document&&11>=document.documentMode,as=null,Qc=null,yi=null,Xc=!1;function th(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Xc||as==null||as!==io(n)||(n=as,"selectionStart"in n&&Sd(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),yi&&$i(yi,n)||(yi=n,n=ho(Qc,"onSelect"),0<n.length&&(t=new jd("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=as)))}function Ta(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var os={animationend:Ta("Animation","AnimationEnd"),animationiteration:Ta("Animation","AnimationIteration"),animationstart:Ta("Animation","AnimationStart"),transitionend:Ta("Transition","TransitionEnd")},Ul={},Sg={};Er&&(Sg=document.createElement("div").style,"AnimationEvent"in window||(delete os.animationend.animation,delete os.animationiteration.animation,delete os.animationstart.animation),"TransitionEvent"in window||delete os.transitionend.transition);function Ko(e){if(Ul[e])return Ul[e];if(!os[e])return e;var t=os[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Sg)return Ul[e]=t[r];return e}var kg=Ko("animationend"),Eg=Ko("animationiteration"),Tg=Ko("animationstart"),Og=Ko("transitionend"),Cg=new Map,rh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function pn(e,t){Cg.set(e,t),zn(t,[e])}for(var zl=0;zl<rh.length;zl++){var Hl=rh[zl],bb=Hl.toLowerCase(),wb=Hl[0].toUpperCase()+Hl.slice(1);pn(bb,"on"+wb)}pn(kg,"onAnimationEnd");pn(Eg,"onAnimationIteration");pn(Tg,"onAnimationStart");pn("dblclick","onDoubleClick");pn("focusin","onFocus");pn("focusout","onBlur");pn(Og,"onTransitionEnd");ks("onMouseEnter",["mouseout","mouseover"]);ks("onMouseLeave",["mouseout","mouseover"]);ks("onPointerEnter",["pointerout","pointerover"]);ks("onPointerLeave",["pointerout","pointerover"]);zn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));zn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));zn("onBeforeInput",["compositionend","keypress","textInput","paste"]);zn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));zn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));zn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ci="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jb=new Set("cancel close invalid load scroll toggle".split(" ").concat(ci));function nh(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,bx(n,t,void 0,e),e.currentTarget=null}function Pg(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var o=n.length-1;0<=o;o--){var c=n[o],l=c.instance,u=c.currentTarget;if(c=c.listener,l!==a&&s.isPropagationStopped())break e;nh(s,c,u),a=l}else for(o=0;o<n.length;o++){if(c=n[o],l=c.instance,u=c.currentTarget,c=c.listener,l!==a&&s.isPropagationStopped())break e;nh(s,c,u),a=l}}}if(oo)throw e=Gc,oo=!1,Gc=null,e}function Ne(e,t){var r=t[nu];r===void 0&&(r=t[nu]=new Set);var n=e+"__bubble";r.has(n)||(Ag(t,e,2,!1),r.add(n))}function Vl(e,t,r){var n=0;t&&(n|=4),Ag(r,e,n,t)}var Oa="_reactListening"+Math.random().toString(36).slice(2);function Di(e){if(!e[Oa]){e[Oa]=!0,Fm.forEach(function(r){r!=="selectionchange"&&(jb.has(r)||Vl(r,!1,e),Vl(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Oa]||(t[Oa]=!0,Vl("selectionchange",!1,t))}}function Ag(e,t,r,n){switch(mg(t)){case 1:var s=Mx;break;case 4:s=$x;break;default:s=bd}r=s.bind(null,t,r,e),s=void 0,!Wc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Wl(e,t,r,n,s){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var c=n.stateNode.containerInfo;if(c===s||c.nodeType===8&&c.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;c!==null;){if(o=Tn(c),o===null)return;if(l=o.tag,l===5||l===6){n=a=o;continue e}c=c.parentNode}}n=n.return}tg(function(){var u=a,h=gd(r),d=[];e:{var f=Cg.get(e);if(f!==void 0){var p=jd,b=e;switch(e){case"keypress":if(Ja(r)===0)break e;case"keydown":case"keyup":p=Xx;break;case"focusin":b="focus",p=Fl;break;case"focusout":b="blur",p=Fl;break;case"beforeblur":case"afterblur":p=Fl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Vf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=qx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=tb;break;case kg:case Eg:case Tg:p=zx;break;case Og:p=nb;break;case"scroll":p=Dx;break;case"wheel":p=ib;break;case"copy":case"cut":case"paste":p=Vx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Gf}var x=(t&4)!==0,w=!x&&e==="scroll",g=x?f!==null?f+"Capture":null:f;x=[];for(var m=u,v;m!==null;){v=m;var y=v.stateNode;if(v.tag===5&&y!==null&&(v=y,g!==null&&(y=Ai(m,g),y!=null&&x.push(Fi(m,y,v)))),w)break;m=m.return}0<x.length&&(f=new p(f,b,null,r,h),d.push({event:f,listeners:x}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",f&&r!==Hc&&(b=r.relatedTarget||r.fromElement)&&(Tn(b)||b[Tr]))break e;if((p||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,p?(b=r.relatedTarget||r.toElement,p=u,b=b?Tn(b):null,b!==null&&(w=Hn(b),b!==w||b.tag!==5&&b.tag!==6)&&(b=null)):(p=null,b=u),p!==b)){if(x=Vf,y="onMouseLeave",g="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(x=Gf,y="onPointerLeave",g="onPointerEnter",m="pointer"),w=p==null?f:ls(p),v=b==null?f:ls(b),f=new x(y,m+"leave",p,r,h),f.target=w,f.relatedTarget=v,y=null,Tn(h)===u&&(x=new x(g,m+"enter",b,r,h),x.target=v,x.relatedTarget=w,y=x),w=y,p&&b)t:{for(x=p,g=b,m=0,v=x;v;v=Gn(v))m++;for(v=0,y=g;y;y=Gn(y))v++;for(;0<m-v;)x=Gn(x),m--;for(;0<v-m;)g=Gn(g),v--;for(;m--;){if(x===g||g!==null&&x===g.alternate)break t;x=Gn(x),g=Gn(g)}x=null}else x=null;p!==null&&sh(d,f,p,x,!1),b!==null&&w!==null&&sh(d,w,b,x,!0)}}e:{if(f=u?ls(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var j=fb;else if(Jf(f))if(wg)j=gb;else{j=pb;var S=hb}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(j=mb);if(j&&(j=j(e,u))){bg(d,j,r,h);break e}S&&S(e,f,u),e==="focusout"&&(S=f._wrapperState)&&S.controlled&&f.type==="number"&&Fc(f,"number",f.value)}switch(S=u?ls(u):window,e){case"focusin":(Jf(S)||S.contentEditable==="true")&&(as=S,Qc=u,yi=null);break;case"focusout":yi=Qc=as=null;break;case"mousedown":Xc=!0;break;case"contextmenu":case"mouseup":case"dragend":Xc=!1,th(d,r,h);break;case"selectionchange":if(xb)break;case"keydown":case"keyup":th(d,r,h)}var N;if(Nd)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else is?yg(e,r)&&(_="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(_="onCompositionStart");_&&(vg&&r.locale!=="ko"&&(is||_!=="onCompositionStart"?_==="onCompositionEnd"&&is&&(N=gg()):(Kr=h,wd="value"in Kr?Kr.value:Kr.textContent,is=!0)),S=ho(u,_),0<S.length&&(_=new Wf(_,e,null,r,h),d.push({event:_,listeners:S}),N?_.data=N:(N=xg(r),N!==null&&(_.data=N)))),(N=ob?lb(e,r):cb(e,r))&&(u=ho(u,"onBeforeInput"),0<u.length&&(h=new Wf("onBeforeInput","beforeinput",null,r,h),d.push({event:h,listeners:u}),h.data=N))}Pg(d,t)})}function Fi(e,t,r){return{instance:e,listener:t,currentTarget:r}}function ho(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=Ai(e,r),a!=null&&n.unshift(Fi(e,a,s)),a=Ai(e,t),a!=null&&n.push(Fi(e,a,s))),e=e.return}return n}function Gn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function sh(e,t,r,n,s){for(var a=t._reactName,o=[];r!==null&&r!==n;){var c=r,l=c.alternate,u=c.stateNode;if(l!==null&&l===n)break;c.tag===5&&u!==null&&(c=u,s?(l=Ai(r,a),l!=null&&o.unshift(Fi(r,l,c))):s||(l=Ai(r,a),l!=null&&o.push(Fi(r,l,c)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var _b=/\r\n?/g,Nb=/\u0000|\uFFFD/g;function ih(e){return(typeof e=="string"?e:""+e).replace(_b,`
`).replace(Nb,"")}function Ca(e,t,r){if(t=ih(t),ih(e)!==t&&r)throw Error(ee(425))}function po(){}var Zc=null,eu=null;function tu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ru=typeof setTimeout=="function"?setTimeout:void 0,Sb=typeof clearTimeout=="function"?clearTimeout:void 0,ah=typeof Promise=="function"?Promise:void 0,kb=typeof queueMicrotask=="function"?queueMicrotask:typeof ah<"u"?function(e){return ah.resolve(null).then(e).catch(Eb)}:ru;function Eb(e){setTimeout(function(){throw e})}function Gl(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Li(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Li(t)}function nn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function oh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var qs=Math.random().toString(36).slice(2),sr="__reactFiber$"+qs,qi="__reactProps$"+qs,Tr="__reactContainer$"+qs,nu="__reactEvents$"+qs,Tb="__reactListeners$"+qs,Ob="__reactHandles$"+qs;function Tn(e){var t=e[sr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Tr]||r[sr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=oh(e);e!==null;){if(r=e[sr])return r;e=oh(e)}return t}e=r,r=e.parentNode}return null}function da(e){return e=e[sr]||e[Tr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ls(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ee(33))}function Yo(e){return e[qi]||null}var su=[],cs=-1;function mn(e){return{current:e}}function ke(e){0>cs||(e.current=su[cs],su[cs]=null,cs--)}function _e(e,t){cs++,su[cs]=e.current,e.current=t}var fn={},rt=mn(fn),ft=mn(!1),Ln=fn;function Es(e,t){var r=e.type.contextTypes;if(!r)return fn;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in r)s[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function ht(e){return e=e.childContextTypes,e!=null}function mo(){ke(ft),ke(rt)}function lh(e,t,r){if(rt.current!==fn)throw Error(ee(168));_e(rt,t),_e(ft,r)}function Ig(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(ee(108,hx(e)||"Unknown",s));return Ae({},r,n)}function go(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||fn,Ln=rt.current,_e(rt,e),_e(ft,ft.current),!0}function ch(e,t,r){var n=e.stateNode;if(!n)throw Error(ee(169));r?(e=Ig(e,t,Ln),n.__reactInternalMemoizedMergedChildContext=e,ke(ft),ke(rt),_e(rt,e)):ke(ft),_e(ft,r)}var yr=null,Jo=!1,Kl=!1;function Rg(e){yr===null?yr=[e]:yr.push(e)}function Cb(e){Jo=!0,Rg(e)}function gn(){if(!Kl&&yr!==null){Kl=!0;var e=0,t=be;try{var r=yr;for(be=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}yr=null,Jo=!1}catch(s){throw yr!==null&&(yr=yr.slice(e+1)),ig(vd,gn),s}finally{be=t,Kl=!1}}return null}var us=[],ds=0,vo=null,yo=0,Rt=[],Lt=0,Mn=null,br=1,wr="";function bn(e,t){us[ds++]=yo,us[ds++]=vo,vo=e,yo=t}function Lg(e,t,r){Rt[Lt++]=br,Rt[Lt++]=wr,Rt[Lt++]=Mn,Mn=e;var n=br;e=wr;var s=32-Jt(n)-1;n&=~(1<<s),r+=1;var a=32-Jt(t)+s;if(30<a){var o=s-s%5;a=(n&(1<<o)-1).toString(32),n>>=o,s-=o,br=1<<32-Jt(t)+s|r<<s|n,wr=a+e}else br=1<<a|r<<s|n,wr=e}function kd(e){e.return!==null&&(bn(e,1),Lg(e,1,0))}function Ed(e){for(;e===vo;)vo=us[--ds],us[ds]=null,yo=us[--ds],us[ds]=null;for(;e===Mn;)Mn=Rt[--Lt],Rt[Lt]=null,wr=Rt[--Lt],Rt[Lt]=null,br=Rt[--Lt],Rt[Lt]=null}var kt=null,St=null,Ee=!1,Kt=null;function Mg(e,t){var r=$t(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function uh(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,kt=e,St=nn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,kt=e,St=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Mn!==null?{id:br,overflow:wr}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=$t(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,kt=e,St=null,!0):!1;default:return!1}}function iu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function au(e){if(Ee){var t=St;if(t){var r=t;if(!uh(e,t)){if(iu(e))throw Error(ee(418));t=nn(r.nextSibling);var n=kt;t&&uh(e,t)?Mg(n,r):(e.flags=e.flags&-4097|2,Ee=!1,kt=e)}}else{if(iu(e))throw Error(ee(418));e.flags=e.flags&-4097|2,Ee=!1,kt=e}}}function dh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;kt=e}function Pa(e){if(e!==kt)return!1;if(!Ee)return dh(e),Ee=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!tu(e.type,e.memoizedProps)),t&&(t=St)){if(iu(e))throw $g(),Error(ee(418));for(;t;)Mg(e,t),t=nn(t.nextSibling)}if(dh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ee(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){St=nn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}St=null}}else St=kt?nn(e.stateNode.nextSibling):null;return!0}function $g(){for(var e=St;e;)e=nn(e.nextSibling)}function Ts(){St=kt=null,Ee=!1}function Td(e){Kt===null?Kt=[e]:Kt.push(e)}var Pb=Ar.ReactCurrentBatchConfig;function ti(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ee(309));var n=r.stateNode}if(!n)throw Error(ee(147,e));var s=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var c=s.refs;o===null?delete c[a]:c[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(ee(284));if(!r._owner)throw Error(ee(290,e))}return e}function Aa(e,t){throw e=Object.prototype.toString.call(t),Error(ee(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function fh(e){var t=e._init;return t(e._payload)}function Dg(e){function t(g,m){if(e){var v=g.deletions;v===null?(g.deletions=[m],g.flags|=16):v.push(m)}}function r(g,m){if(!e)return null;for(;m!==null;)t(g,m),m=m.sibling;return null}function n(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function s(g,m){return g=ln(g,m),g.index=0,g.sibling=null,g}function a(g,m,v){return g.index=v,e?(v=g.alternate,v!==null?(v=v.index,v<m?(g.flags|=2,m):v):(g.flags|=2,m)):(g.flags|=1048576,m)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function c(g,m,v,y){return m===null||m.tag!==6?(m=tc(v,g.mode,y),m.return=g,m):(m=s(m,v),m.return=g,m)}function l(g,m,v,y){var j=v.type;return j===ss?h(g,m,v.props.children,y,v.key):m!==null&&(m.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Br&&fh(j)===m.type)?(y=s(m,v.props),y.ref=ti(g,m,v),y.return=g,y):(y=no(v.type,v.key,v.props,null,g.mode,y),y.ref=ti(g,m,v),y.return=g,y)}function u(g,m,v,y){return m===null||m.tag!==4||m.stateNode.containerInfo!==v.containerInfo||m.stateNode.implementation!==v.implementation?(m=rc(v,g.mode,y),m.return=g,m):(m=s(m,v.children||[]),m.return=g,m)}function h(g,m,v,y,j){return m===null||m.tag!==7?(m=Rn(v,g.mode,y,j),m.return=g,m):(m=s(m,v),m.return=g,m)}function d(g,m,v){if(typeof m=="string"&&m!==""||typeof m=="number")return m=tc(""+m,g.mode,v),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case wa:return v=no(m.type,m.key,m.props,null,g.mode,v),v.ref=ti(g,null,m),v.return=g,v;case ns:return m=rc(m,g.mode,v),m.return=g,m;case Br:var y=m._init;return d(g,y(m._payload),v)}if(oi(m)||Js(m))return m=Rn(m,g.mode,v,null),m.return=g,m;Aa(g,m)}return null}function f(g,m,v,y){var j=m!==null?m.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return j!==null?null:c(g,m,""+v,y);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case wa:return v.key===j?l(g,m,v,y):null;case ns:return v.key===j?u(g,m,v,y):null;case Br:return j=v._init,f(g,m,j(v._payload),y)}if(oi(v)||Js(v))return j!==null?null:h(g,m,v,y,null);Aa(g,v)}return null}function p(g,m,v,y,j){if(typeof y=="string"&&y!==""||typeof y=="number")return g=g.get(v)||null,c(m,g,""+y,j);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case wa:return g=g.get(y.key===null?v:y.key)||null,l(m,g,y,j);case ns:return g=g.get(y.key===null?v:y.key)||null,u(m,g,y,j);case Br:var S=y._init;return p(g,m,v,S(y._payload),j)}if(oi(y)||Js(y))return g=g.get(v)||null,h(m,g,y,j,null);Aa(m,y)}return null}function b(g,m,v,y){for(var j=null,S=null,N=m,_=m=0,C=null;N!==null&&_<v.length;_++){N.index>_?(C=N,N=null):C=N.sibling;var k=f(g,N,v[_],y);if(k===null){N===null&&(N=C);break}e&&N&&k.alternate===null&&t(g,N),m=a(k,m,_),S===null?j=k:S.sibling=k,S=k,N=C}if(_===v.length)return r(g,N),Ee&&bn(g,_),j;if(N===null){for(;_<v.length;_++)N=d(g,v[_],y),N!==null&&(m=a(N,m,_),S===null?j=N:S.sibling=N,S=N);return Ee&&bn(g,_),j}for(N=n(g,N);_<v.length;_++)C=p(N,g,_,v[_],y),C!==null&&(e&&C.alternate!==null&&N.delete(C.key===null?_:C.key),m=a(C,m,_),S===null?j=C:S.sibling=C,S=C);return e&&N.forEach(function(E){return t(g,E)}),Ee&&bn(g,_),j}function x(g,m,v,y){var j=Js(v);if(typeof j!="function")throw Error(ee(150));if(v=j.call(v),v==null)throw Error(ee(151));for(var S=j=null,N=m,_=m=0,C=null,k=v.next();N!==null&&!k.done;_++,k=v.next()){N.index>_?(C=N,N=null):C=N.sibling;var E=f(g,N,k.value,y);if(E===null){N===null&&(N=C);break}e&&N&&E.alternate===null&&t(g,N),m=a(E,m,_),S===null?j=E:S.sibling=E,S=E,N=C}if(k.done)return r(g,N),Ee&&bn(g,_),j;if(N===null){for(;!k.done;_++,k=v.next())k=d(g,k.value,y),k!==null&&(m=a(k,m,_),S===null?j=k:S.sibling=k,S=k);return Ee&&bn(g,_),j}for(N=n(g,N);!k.done;_++,k=v.next())k=p(N,g,_,k.value,y),k!==null&&(e&&k.alternate!==null&&N.delete(k.key===null?_:k.key),m=a(k,m,_),S===null?j=k:S.sibling=k,S=k);return e&&N.forEach(function(T){return t(g,T)}),Ee&&bn(g,_),j}function w(g,m,v,y){if(typeof v=="object"&&v!==null&&v.type===ss&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case wa:e:{for(var j=v.key,S=m;S!==null;){if(S.key===j){if(j=v.type,j===ss){if(S.tag===7){r(g,S.sibling),m=s(S,v.props.children),m.return=g,g=m;break e}}else if(S.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Br&&fh(j)===S.type){r(g,S.sibling),m=s(S,v.props),m.ref=ti(g,S,v),m.return=g,g=m;break e}r(g,S);break}else t(g,S);S=S.sibling}v.type===ss?(m=Rn(v.props.children,g.mode,y,v.key),m.return=g,g=m):(y=no(v.type,v.key,v.props,null,g.mode,y),y.ref=ti(g,m,v),y.return=g,g=y)}return o(g);case ns:e:{for(S=v.key;m!==null;){if(m.key===S)if(m.tag===4&&m.stateNode.containerInfo===v.containerInfo&&m.stateNode.implementation===v.implementation){r(g,m.sibling),m=s(m,v.children||[]),m.return=g,g=m;break e}else{r(g,m);break}else t(g,m);m=m.sibling}m=rc(v,g.mode,y),m.return=g,g=m}return o(g);case Br:return S=v._init,w(g,m,S(v._payload),y)}if(oi(v))return b(g,m,v,y);if(Js(v))return x(g,m,v,y);Aa(g,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,m!==null&&m.tag===6?(r(g,m.sibling),m=s(m,v),m.return=g,g=m):(r(g,m),m=tc(v,g.mode,y),m.return=g,g=m),o(g)):r(g,m)}return w}var Os=Dg(!0),Fg=Dg(!1),xo=mn(null),bo=null,fs=null,Od=null;function Cd(){Od=fs=bo=null}function Pd(e){var t=xo.current;ke(xo),e._currentValue=t}function ou(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function ws(e,t){bo=e,Od=fs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(dt=!0),e.firstContext=null)}function Ft(e){var t=e._currentValue;if(Od!==e)if(e={context:e,memoizedValue:t,next:null},fs===null){if(bo===null)throw Error(ee(308));fs=e,bo.dependencies={lanes:0,firstContext:e}}else fs=fs.next=e;return t}var On=null;function Ad(e){On===null?On=[e]:On.push(e)}function qg(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Ad(t)):(r.next=s.next,s.next=r),t.interleaved=r,Or(e,n)}function Or(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Ur=!1;function Id(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Bg(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function _r(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function sn(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ye&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Or(e,r)}return s=n.interleaved,s===null?(t.next=t,Ad(n)):(t.next=s.next,s.next=t),n.interleaved=t,Or(e,r)}function Qa(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,yd(e,r)}}function hh(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?s=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?s=a=t:a=a.next=t}else s=a=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function wo(e,t,r,n){var s=e.updateQueue;Ur=!1;var a=s.firstBaseUpdate,o=s.lastBaseUpdate,c=s.shared.pending;if(c!==null){s.shared.pending=null;var l=c,u=l.next;l.next=null,o===null?a=u:o.next=u,o=l;var h=e.alternate;h!==null&&(h=h.updateQueue,c=h.lastBaseUpdate,c!==o&&(c===null?h.firstBaseUpdate=u:c.next=u,h.lastBaseUpdate=l))}if(a!==null){var d=s.baseState;o=0,h=u=l=null,c=a;do{var f=c.lane,p=c.eventTime;if((n&f)===f){h!==null&&(h=h.next={eventTime:p,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var b=e,x=c;switch(f=t,p=r,x.tag){case 1:if(b=x.payload,typeof b=="function"){d=b.call(p,d,f);break e}d=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=x.payload,f=typeof b=="function"?b.call(p,d,f):b,f==null)break e;d=Ae({},d,f);break e;case 2:Ur=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[c]:f.push(c))}else p={eventTime:p,lane:f,tag:c.tag,payload:c.payload,callback:c.callback,next:null},h===null?(u=h=p,l=d):h=h.next=p,o|=f;if(c=c.next,c===null){if(c=s.shared.pending,c===null)break;f=c,c=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(h===null&&(l=d),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=h,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);Dn|=o,e.lanes=o,e.memoizedState=d}}function ph(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(ee(191,s));s.call(n)}}}var fa={},ar=mn(fa),Bi=mn(fa),Ui=mn(fa);function Cn(e){if(e===fa)throw Error(ee(174));return e}function Rd(e,t){switch(_e(Ui,t),_e(Bi,e),_e(ar,fa),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Bc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Bc(t,e)}ke(ar),_e(ar,t)}function Cs(){ke(ar),ke(Bi),ke(Ui)}function Ug(e){Cn(Ui.current);var t=Cn(ar.current),r=Bc(t,e.type);t!==r&&(_e(Bi,e),_e(ar,r))}function Ld(e){Bi.current===e&&(ke(ar),ke(Bi))}var Ce=mn(0);function jo(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Yl=[];function Md(){for(var e=0;e<Yl.length;e++)Yl[e]._workInProgressVersionPrimary=null;Yl.length=0}var Xa=Ar.ReactCurrentDispatcher,Jl=Ar.ReactCurrentBatchConfig,$n=0,Pe=null,He=null,We=null,_o=!1,xi=!1,zi=0,Ab=0;function Ze(){throw Error(ee(321))}function $d(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Xt(e[r],t[r]))return!1;return!0}function Dd(e,t,r,n,s,a){if($n=a,Pe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Xa.current=e===null||e.memoizedState===null?Mb:$b,e=r(n,s),xi){a=0;do{if(xi=!1,zi=0,25<=a)throw Error(ee(301));a+=1,We=He=null,t.updateQueue=null,Xa.current=Db,e=r(n,s)}while(xi)}if(Xa.current=No,t=He!==null&&He.next!==null,$n=0,We=He=Pe=null,_o=!1,t)throw Error(ee(300));return e}function Fd(){var e=zi!==0;return zi=0,e}function nr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return We===null?Pe.memoizedState=We=e:We=We.next=e,We}function qt(){if(He===null){var e=Pe.alternate;e=e!==null?e.memoizedState:null}else e=He.next;var t=We===null?Pe.memoizedState:We.next;if(t!==null)We=t,He=e;else{if(e===null)throw Error(ee(310));He=e,e={memoizedState:He.memoizedState,baseState:He.baseState,baseQueue:He.baseQueue,queue:He.queue,next:null},We===null?Pe.memoizedState=We=e:We=We.next=e}return We}function Hi(e,t){return typeof t=="function"?t(e):t}function Ql(e){var t=qt(),r=t.queue;if(r===null)throw Error(ee(311));r.lastRenderedReducer=e;var n=He,s=n.baseQueue,a=r.pending;if(a!==null){if(s!==null){var o=s.next;s.next=a.next,a.next=o}n.baseQueue=s=a,r.pending=null}if(s!==null){a=s.next,n=n.baseState;var c=o=null,l=null,u=a;do{var h=u.lane;if(($n&h)===h)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(c=l=d,o=n):l=l.next=d,Pe.lanes|=h,Dn|=h}u=u.next}while(u!==null&&u!==a);l===null?o=n:l.next=c,Xt(n,t.memoizedState)||(dt=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do a=s.lane,Pe.lanes|=a,Dn|=a,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Xl(e){var t=qt(),r=t.queue;if(r===null)throw Error(ee(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,a=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do a=e(a,o.action),o=o.next;while(o!==s);Xt(a,t.memoizedState)||(dt=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function zg(){}function Hg(e,t){var r=Pe,n=qt(),s=t(),a=!Xt(n.memoizedState,s);if(a&&(n.memoizedState=s,dt=!0),n=n.queue,qd(Gg.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||We!==null&&We.memoizedState.tag&1){if(r.flags|=2048,Vi(9,Wg.bind(null,r,n,s,t),void 0,null),Ge===null)throw Error(ee(349));$n&30||Vg(r,t,s)}return s}function Vg(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Pe.updateQueue,t===null?(t={lastEffect:null,stores:null},Pe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Wg(e,t,r,n){t.value=r,t.getSnapshot=n,Kg(t)&&Yg(e)}function Gg(e,t,r){return r(function(){Kg(t)&&Yg(e)})}function Kg(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Xt(e,r)}catch{return!0}}function Yg(e){var t=Or(e,1);t!==null&&Qt(t,e,1,-1)}function mh(e){var t=nr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:e},t.queue=e,e=e.dispatch=Lb.bind(null,Pe,e),[t.memoizedState,e]}function Vi(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Pe.updateQueue,t===null?(t={lastEffect:null,stores:null},Pe.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Jg(){return qt().memoizedState}function Za(e,t,r,n){var s=nr();Pe.flags|=e,s.memoizedState=Vi(1|t,r,void 0,n===void 0?null:n)}function Qo(e,t,r,n){var s=qt();n=n===void 0?null:n;var a=void 0;if(He!==null){var o=He.memoizedState;if(a=o.destroy,n!==null&&$d(n,o.deps)){s.memoizedState=Vi(t,r,a,n);return}}Pe.flags|=e,s.memoizedState=Vi(1|t,r,a,n)}function gh(e,t){return Za(8390656,8,e,t)}function qd(e,t){return Qo(2048,8,e,t)}function Qg(e,t){return Qo(4,2,e,t)}function Xg(e,t){return Qo(4,4,e,t)}function Zg(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ev(e,t,r){return r=r!=null?r.concat([e]):null,Qo(4,4,Zg.bind(null,t,e),r)}function Bd(){}function tv(e,t){var r=qt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&$d(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function rv(e,t){var r=qt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&$d(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function nv(e,t,r){return $n&21?(Xt(r,t)||(r=lg(),Pe.lanes|=r,Dn|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,dt=!0),e.memoizedState=r)}function Ib(e,t){var r=be;be=r!==0&&4>r?r:4,e(!0);var n=Jl.transition;Jl.transition={};try{e(!1),t()}finally{be=r,Jl.transition=n}}function sv(){return qt().memoizedState}function Rb(e,t,r){var n=on(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},iv(e))av(t,r);else if(r=qg(e,t,r,n),r!==null){var s=at();Qt(r,e,n,s),ov(r,t,n)}}function Lb(e,t,r){var n=on(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(iv(e))av(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,c=a(o,r);if(s.hasEagerState=!0,s.eagerState=c,Xt(c,o)){var l=t.interleaved;l===null?(s.next=s,Ad(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}r=qg(e,t,s,n),r!==null&&(s=at(),Qt(r,e,n,s),ov(r,t,n))}}function iv(e){var t=e.alternate;return e===Pe||t!==null&&t===Pe}function av(e,t){xi=_o=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function ov(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,yd(e,r)}}var No={readContext:Ft,useCallback:Ze,useContext:Ze,useEffect:Ze,useImperativeHandle:Ze,useInsertionEffect:Ze,useLayoutEffect:Ze,useMemo:Ze,useReducer:Ze,useRef:Ze,useState:Ze,useDebugValue:Ze,useDeferredValue:Ze,useTransition:Ze,useMutableSource:Ze,useSyncExternalStore:Ze,useId:Ze,unstable_isNewReconciler:!1},Mb={readContext:Ft,useCallback:function(e,t){return nr().memoizedState=[e,t===void 0?null:t],e},useContext:Ft,useEffect:gh,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Za(4194308,4,Zg.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Za(4194308,4,e,t)},useInsertionEffect:function(e,t){return Za(4,2,e,t)},useMemo:function(e,t){var r=nr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=nr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Rb.bind(null,Pe,e),[n.memoizedState,e]},useRef:function(e){var t=nr();return e={current:e},t.memoizedState=e},useState:mh,useDebugValue:Bd,useDeferredValue:function(e){return nr().memoizedState=e},useTransition:function(){var e=mh(!1),t=e[0];return e=Ib.bind(null,e[1]),nr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Pe,s=nr();if(Ee){if(r===void 0)throw Error(ee(407));r=r()}else{if(r=t(),Ge===null)throw Error(ee(349));$n&30||Vg(n,t,r)}s.memoizedState=r;var a={value:r,getSnapshot:t};return s.queue=a,gh(Gg.bind(null,n,a,e),[e]),n.flags|=2048,Vi(9,Wg.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=nr(),t=Ge.identifierPrefix;if(Ee){var r=wr,n=br;r=(n&~(1<<32-Jt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=zi++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Ab++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},$b={readContext:Ft,useCallback:tv,useContext:Ft,useEffect:qd,useImperativeHandle:ev,useInsertionEffect:Qg,useLayoutEffect:Xg,useMemo:rv,useReducer:Ql,useRef:Jg,useState:function(){return Ql(Hi)},useDebugValue:Bd,useDeferredValue:function(e){var t=qt();return nv(t,He.memoizedState,e)},useTransition:function(){var e=Ql(Hi)[0],t=qt().memoizedState;return[e,t]},useMutableSource:zg,useSyncExternalStore:Hg,useId:sv,unstable_isNewReconciler:!1},Db={readContext:Ft,useCallback:tv,useContext:Ft,useEffect:qd,useImperativeHandle:ev,useInsertionEffect:Qg,useLayoutEffect:Xg,useMemo:rv,useReducer:Xl,useRef:Jg,useState:function(){return Xl(Hi)},useDebugValue:Bd,useDeferredValue:function(e){var t=qt();return He===null?t.memoizedState=e:nv(t,He.memoizedState,e)},useTransition:function(){var e=Xl(Hi)[0],t=qt().memoizedState;return[e,t]},useMutableSource:zg,useSyncExternalStore:Hg,useId:sv,unstable_isNewReconciler:!1};function Ht(e,t){if(e&&e.defaultProps){t=Ae({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function lu(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Ae({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Xo={isMounted:function(e){return(e=e._reactInternals)?Hn(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=at(),s=on(e),a=_r(n,s);a.payload=t,r!=null&&(a.callback=r),t=sn(e,a,s),t!==null&&(Qt(t,e,s,n),Qa(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=at(),s=on(e),a=_r(n,s);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=sn(e,a,s),t!==null&&(Qt(t,e,s,n),Qa(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=at(),n=on(e),s=_r(r,n);s.tag=2,t!=null&&(s.callback=t),t=sn(e,s,n),t!==null&&(Qt(t,e,n,r),Qa(t,e,n))}};function vh(e,t,r,n,s,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,o):t.prototype&&t.prototype.isPureReactComponent?!$i(r,n)||!$i(s,a):!0}function lv(e,t,r){var n=!1,s=fn,a=t.contextType;return typeof a=="object"&&a!==null?a=Ft(a):(s=ht(t)?Ln:rt.current,n=t.contextTypes,a=(n=n!=null)?Es(e,s):fn),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Xo,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function yh(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Xo.enqueueReplaceState(t,t.state,null)}function cu(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Id(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=Ft(a):(a=ht(t)?Ln:rt.current,s.context=Es(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(lu(e,t,a,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Xo.enqueueReplaceState(s,s.state,null),wo(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Ps(e,t){try{var r="",n=t;do r+=fx(n),n=n.return;while(n);var s=r}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function Zl(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function uu(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Fb=typeof WeakMap=="function"?WeakMap:Map;function cv(e,t,r){r=_r(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){ko||(ko=!0,bu=n),uu(e,t)},r}function uv(e,t,r){r=_r(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){uu(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){uu(e,t),typeof n!="function"&&(an===null?an=new Set([this]):an.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function xh(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Fb;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=Zb.bind(null,e,t,r),t.then(e,e))}function bh(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function wh(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=_r(-1,1),t.tag=2,sn(r,t,1))),r.lanes|=1),e)}var qb=Ar.ReactCurrentOwner,dt=!1;function it(e,t,r,n){t.child=e===null?Fg(t,null,r,n):Os(t,e.child,r,n)}function jh(e,t,r,n,s){r=r.render;var a=t.ref;return ws(t,s),n=Dd(e,t,r,n,a,s),r=Fd(),e!==null&&!dt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Cr(e,t,s)):(Ee&&r&&kd(t),t.flags|=1,it(e,t,n,s),t.child)}function _h(e,t,r,n,s){if(e===null){var a=r.type;return typeof a=="function"&&!Yd(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,dv(e,t,a,n,s)):(e=no(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:$i,r(o,n)&&e.ref===t.ref)return Cr(e,t,s)}return t.flags|=1,e=ln(a,n),e.ref=t.ref,e.return=t,t.child=e}function dv(e,t,r,n,s){if(e!==null){var a=e.memoizedProps;if($i(a,n)&&e.ref===t.ref)if(dt=!1,t.pendingProps=n=a,(e.lanes&s)!==0)e.flags&131072&&(dt=!0);else return t.lanes=e.lanes,Cr(e,t,s)}return du(e,t,r,n,s)}function fv(e,t,r){var n=t.pendingProps,s=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_e(ps,bt),bt|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_e(ps,bt),bt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,_e(ps,bt),bt|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,_e(ps,bt),bt|=n;return it(e,t,s,r),t.child}function hv(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function du(e,t,r,n,s){var a=ht(r)?Ln:rt.current;return a=Es(t,a),ws(t,s),r=Dd(e,t,r,n,a,s),n=Fd(),e!==null&&!dt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Cr(e,t,s)):(Ee&&n&&kd(t),t.flags|=1,it(e,t,r,s),t.child)}function Nh(e,t,r,n,s){if(ht(r)){var a=!0;go(t)}else a=!1;if(ws(t,s),t.stateNode===null)eo(e,t),lv(t,r,n),cu(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,c=t.memoizedProps;o.props=c;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Ft(u):(u=ht(r)?Ln:rt.current,u=Es(t,u));var h=r.getDerivedStateFromProps,d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==n||l!==u)&&yh(t,o,n,u),Ur=!1;var f=t.memoizedState;o.state=f,wo(t,n,o,s),l=t.memoizedState,c!==n||f!==l||ft.current||Ur?(typeof h=="function"&&(lu(t,r,h,n),l=t.memoizedState),(c=Ur||vh(t,r,c,n,f,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=u,n=c):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,Bg(e,t),c=t.memoizedProps,u=t.type===t.elementType?c:Ht(t.type,c),o.props=u,d=t.pendingProps,f=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=Ft(l):(l=ht(r)?Ln:rt.current,l=Es(t,l));var p=r.getDerivedStateFromProps;(h=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==d||f!==l)&&yh(t,o,n,l),Ur=!1,f=t.memoizedState,o.state=f,wo(t,n,o,s);var b=t.memoizedState;c!==d||f!==b||ft.current||Ur?(typeof p=="function"&&(lu(t,r,p,n),b=t.memoizedState),(u=Ur||vh(t,r,u,n,f,b,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,b,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,b,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||c===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=b),o.props=n,o.state=b,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||c===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return fu(e,t,r,n,a,s)}function fu(e,t,r,n,s,a){hv(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&ch(t,r,!1),Cr(e,t,a);n=t.stateNode,qb.current=t;var c=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Os(t,e.child,null,a),t.child=Os(t,null,c,a)):it(e,t,c,a),t.memoizedState=n.state,s&&ch(t,r,!0),t.child}function pv(e){var t=e.stateNode;t.pendingContext?lh(e,t.pendingContext,t.pendingContext!==t.context):t.context&&lh(e,t.context,!1),Rd(e,t.containerInfo)}function Sh(e,t,r,n,s){return Ts(),Td(s),t.flags|=256,it(e,t,r,n),t.child}var hu={dehydrated:null,treeContext:null,retryLane:0};function pu(e){return{baseLanes:e,cachePool:null,transitions:null}}function mv(e,t,r){var n=t.pendingProps,s=Ce.current,a=!1,o=(t.flags&128)!==0,c;if((c=o)||(c=e!==null&&e.memoizedState===null?!1:(s&2)!==0),c?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),_e(Ce,s&1),e===null)return au(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,a?(n=t.mode,a=t.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=tl(o,n,0,null),e=Rn(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=pu(r),t.memoizedState=hu,e):Ud(t,o));if(s=e.memoizedState,s!==null&&(c=s.dehydrated,c!==null))return Bb(e,t,o,n,c,s,r);if(a){a=n.fallback,o=t.mode,s=e.child,c=s.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=ln(s,l),n.subtreeFlags=s.subtreeFlags&14680064),c!==null?a=ln(c,a):(a=Rn(a,o,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,o=e.child.memoizedState,o=o===null?pu(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~r,t.memoizedState=hu,n}return a=e.child,e=a.sibling,n=ln(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Ud(e,t){return t=tl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ia(e,t,r,n){return n!==null&&Td(n),Os(t,e.child,null,r),e=Ud(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Bb(e,t,r,n,s,a,o){if(r)return t.flags&256?(t.flags&=-257,n=Zl(Error(ee(422))),Ia(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,s=t.mode,n=tl({mode:"visible",children:n.children},s,0,null),a=Rn(a,s,o,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&Os(t,e.child,null,o),t.child.memoizedState=pu(o),t.memoizedState=hu,a);if(!(t.mode&1))return Ia(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var c=n.dgst;return n=c,a=Error(ee(419)),n=Zl(a,n,void 0),Ia(e,t,o,n)}if(c=(o&e.childLanes)!==0,dt||c){if(n=Ge,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,Or(e,s),Qt(n,e,s,-1))}return Kd(),n=Zl(Error(ee(421))),Ia(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=ew.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,St=nn(s.nextSibling),kt=t,Ee=!0,Kt=null,e!==null&&(Rt[Lt++]=br,Rt[Lt++]=wr,Rt[Lt++]=Mn,br=e.id,wr=e.overflow,Mn=t),t=Ud(t,n.children),t.flags|=4096,t)}function kh(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),ou(e.return,t,r)}function ec(e,t,r,n,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=s)}function gv(e,t,r){var n=t.pendingProps,s=n.revealOrder,a=n.tail;if(it(e,t,n.children,r),n=Ce.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&kh(e,r,t);else if(e.tag===19)kh(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(_e(Ce,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&jo(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),ec(t,!1,s,r,a);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&jo(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}ec(t,!0,r,null,a);break;case"together":ec(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function eo(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Cr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Dn|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ee(153));if(t.child!==null){for(e=t.child,r=ln(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ln(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Ub(e,t,r){switch(t.tag){case 3:pv(t),Ts();break;case 5:Ug(t);break;case 1:ht(t.type)&&go(t);break;case 4:Rd(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;_e(xo,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(_e(Ce,Ce.current&1),t.flags|=128,null):r&t.child.childLanes?mv(e,t,r):(_e(Ce,Ce.current&1),e=Cr(e,t,r),e!==null?e.sibling:null);_e(Ce,Ce.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return gv(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),_e(Ce,Ce.current),n)break;return null;case 22:case 23:return t.lanes=0,fv(e,t,r)}return Cr(e,t,r)}var vv,mu,yv,xv;vv=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};mu=function(){};yv=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Cn(ar.current);var a=null;switch(r){case"input":s=$c(e,s),n=$c(e,n),a=[];break;case"select":s=Ae({},s,{value:void 0}),n=Ae({},n,{value:void 0}),a=[];break;case"textarea":s=qc(e,s),n=qc(e,n),a=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=po)}Uc(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var c=s[u];for(o in c)c.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ci.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var l=n[u];if(c=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&l!==c&&(l!=null||c!=null))if(u==="style")if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(a||(a=[]),a.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,c=c?c.__html:void 0,l!=null&&c!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ci.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ne("scroll",e),a||c===l||(a=[])):(a=a||[]).push(u,l))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};xv=function(e,t,r,n){r!==n&&(t.flags|=4)};function ri(e,t){if(!Ee)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function et(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function zb(e,t,r){var n=t.pendingProps;switch(Ed(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return et(t),null;case 1:return ht(t.type)&&mo(),et(t),null;case 3:return n=t.stateNode,Cs(),ke(ft),ke(rt),Md(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Pa(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Kt!==null&&(_u(Kt),Kt=null))),mu(e,t),et(t),null;case 5:Ld(t);var s=Cn(Ui.current);if(r=t.type,e!==null&&t.stateNode!=null)yv(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ee(166));return et(t),null}if(e=Cn(ar.current),Pa(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[sr]=t,n[qi]=a,e=(t.mode&1)!==0,r){case"dialog":Ne("cancel",n),Ne("close",n);break;case"iframe":case"object":case"embed":Ne("load",n);break;case"video":case"audio":for(s=0;s<ci.length;s++)Ne(ci[s],n);break;case"source":Ne("error",n);break;case"img":case"image":case"link":Ne("error",n),Ne("load",n);break;case"details":Ne("toggle",n);break;case"input":Lf(n,a),Ne("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Ne("invalid",n);break;case"textarea":$f(n,a),Ne("invalid",n)}Uc(r,a),s=null;for(var o in a)if(a.hasOwnProperty(o)){var c=a[o];o==="children"?typeof c=="string"?n.textContent!==c&&(a.suppressHydrationWarning!==!0&&Ca(n.textContent,c,e),s=["children",c]):typeof c=="number"&&n.textContent!==""+c&&(a.suppressHydrationWarning!==!0&&Ca(n.textContent,c,e),s=["children",""+c]):Ci.hasOwnProperty(o)&&c!=null&&o==="onScroll"&&Ne("scroll",n)}switch(r){case"input":ja(n),Mf(n,a,!0);break;case"textarea":ja(n),Df(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=po)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Gm(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[sr]=t,e[qi]=n,vv(e,t,!1,!1),t.stateNode=e;e:{switch(o=zc(r,n),r){case"dialog":Ne("cancel",e),Ne("close",e),s=n;break;case"iframe":case"object":case"embed":Ne("load",e),s=n;break;case"video":case"audio":for(s=0;s<ci.length;s++)Ne(ci[s],e);s=n;break;case"source":Ne("error",e),s=n;break;case"img":case"image":case"link":Ne("error",e),Ne("load",e),s=n;break;case"details":Ne("toggle",e),s=n;break;case"input":Lf(e,n),s=$c(e,n),Ne("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Ae({},n,{value:void 0}),Ne("invalid",e);break;case"textarea":$f(e,n),s=qc(e,n),Ne("invalid",e);break;default:s=n}Uc(r,s),c=s;for(a in c)if(c.hasOwnProperty(a)){var l=c[a];a==="style"?Jm(e,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Km(e,l)):a==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Pi(e,l):typeof l=="number"&&Pi(e,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Ci.hasOwnProperty(a)?l!=null&&a==="onScroll"&&Ne("scroll",e):l!=null&&fd(e,a,l,o))}switch(r){case"input":ja(e),Mf(e,n,!1);break;case"textarea":ja(e),Df(e);break;case"option":n.value!=null&&e.setAttribute("value",""+dn(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?vs(e,!!n.multiple,a,!1):n.defaultValue!=null&&vs(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=po)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return et(t),null;case 6:if(e&&t.stateNode!=null)xv(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ee(166));if(r=Cn(Ui.current),Cn(ar.current),Pa(t)){if(n=t.stateNode,r=t.memoizedProps,n[sr]=t,(a=n.nodeValue!==r)&&(e=kt,e!==null))switch(e.tag){case 3:Ca(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ca(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[sr]=t,t.stateNode=n}return et(t),null;case 13:if(ke(Ce),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ee&&St!==null&&t.mode&1&&!(t.flags&128))$g(),Ts(),t.flags|=98560,a=!1;else if(a=Pa(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(ee(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(ee(317));a[sr]=t}else Ts(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;et(t),a=!1}else Kt!==null&&(_u(Kt),Kt=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Ce.current&1?Ve===0&&(Ve=3):Kd())),t.updateQueue!==null&&(t.flags|=4),et(t),null);case 4:return Cs(),mu(e,t),e===null&&Di(t.stateNode.containerInfo),et(t),null;case 10:return Pd(t.type._context),et(t),null;case 17:return ht(t.type)&&mo(),et(t),null;case 19:if(ke(Ce),a=t.memoizedState,a===null)return et(t),null;if(n=(t.flags&128)!==0,o=a.rendering,o===null)if(n)ri(a,!1);else{if(Ve!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=jo(e),o!==null){for(t.flags|=128,ri(a,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return _e(Ce,Ce.current&1|2),t.child}e=e.sibling}a.tail!==null&&$e()>As&&(t.flags|=128,n=!0,ri(a,!1),t.lanes=4194304)}else{if(!n)if(e=jo(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),ri(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Ee)return et(t),null}else 2*$e()-a.renderingStartTime>As&&r!==1073741824&&(t.flags|=128,n=!0,ri(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(r=a.last,r!==null?r.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=$e(),t.sibling=null,r=Ce.current,_e(Ce,n?r&1|2:r&1),t):(et(t),null);case 22:case 23:return Gd(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?bt&1073741824&&(et(t),t.subtreeFlags&6&&(t.flags|=8192)):et(t),null;case 24:return null;case 25:return null}throw Error(ee(156,t.tag))}function Hb(e,t){switch(Ed(t),t.tag){case 1:return ht(t.type)&&mo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Cs(),ke(ft),ke(rt),Md(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ld(t),null;case 13:if(ke(Ce),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ee(340));Ts()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ke(Ce),null;case 4:return Cs(),null;case 10:return Pd(t.type._context),null;case 22:case 23:return Gd(),null;case 24:return null;default:return null}}var Ra=!1,tt=!1,Vb=typeof WeakSet=="function"?WeakSet:Set,ie=null;function hs(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Le(e,t,n)}else r.current=null}function gu(e,t,r){try{r()}catch(n){Le(e,t,n)}}var Eh=!1;function Wb(e,t){if(Zc=uo,e=Ng(),Sd(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,c=-1,l=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==r||s!==0&&d.nodeType!==3||(c=o+s),d!==a||n!==0&&d.nodeType!==3||(l=o+n),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===e)break t;if(f===r&&++u===s&&(c=o),f===a&&++h===n&&(l=o),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}r=c===-1||l===-1?null:{start:c,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(eu={focusedElem:e,selectionRange:r},uo=!1,ie=t;ie!==null;)if(t=ie,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ie=e;else for(;ie!==null;){t=ie;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var x=b.memoizedProps,w=b.memoizedState,g=t.stateNode,m=g.getSnapshotBeforeUpdate(t.elementType===t.type?x:Ht(t.type,x),w);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ee(163))}}catch(y){Le(t,t.return,y)}if(e=t.sibling,e!==null){e.return=t.return,ie=e;break}ie=t.return}return b=Eh,Eh=!1,b}function bi(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&gu(t,r,a)}s=s.next}while(s!==n)}}function Zo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function vu(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function bv(e){var t=e.alternate;t!==null&&(e.alternate=null,bv(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[sr],delete t[qi],delete t[nu],delete t[Tb],delete t[Ob])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function wv(e){return e.tag===5||e.tag===3||e.tag===4}function Th(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||wv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function yu(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=po));else if(n!==4&&(e=e.child,e!==null))for(yu(e,t,r),e=e.sibling;e!==null;)yu(e,t,r),e=e.sibling}function xu(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(xu(e,t,r),e=e.sibling;e!==null;)xu(e,t,r),e=e.sibling}var Je=null,Wt=!1;function qr(e,t,r){for(r=r.child;r!==null;)jv(e,t,r),r=r.sibling}function jv(e,t,r){if(ir&&typeof ir.onCommitFiberUnmount=="function")try{ir.onCommitFiberUnmount(Vo,r)}catch{}switch(r.tag){case 5:tt||hs(r,t);case 6:var n=Je,s=Wt;Je=null,qr(e,t,r),Je=n,Wt=s,Je!==null&&(Wt?(e=Je,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Je.removeChild(r.stateNode));break;case 18:Je!==null&&(Wt?(e=Je,r=r.stateNode,e.nodeType===8?Gl(e.parentNode,r):e.nodeType===1&&Gl(e,r),Li(e)):Gl(Je,r.stateNode));break;case 4:n=Je,s=Wt,Je=r.stateNode.containerInfo,Wt=!0,qr(e,t,r),Je=n,Wt=s;break;case 0:case 11:case 14:case 15:if(!tt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var a=s,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&gu(r,t,o),s=s.next}while(s!==n)}qr(e,t,r);break;case 1:if(!tt&&(hs(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(c){Le(r,t,c)}qr(e,t,r);break;case 21:qr(e,t,r);break;case 22:r.mode&1?(tt=(n=tt)||r.memoizedState!==null,qr(e,t,r),tt=n):qr(e,t,r);break;default:qr(e,t,r)}}function Oh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Vb),t.forEach(function(n){var s=tw.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Ut(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var a=e,o=t,c=o;e:for(;c!==null;){switch(c.tag){case 5:Je=c.stateNode,Wt=!1;break e;case 3:Je=c.stateNode.containerInfo,Wt=!0;break e;case 4:Je=c.stateNode.containerInfo,Wt=!0;break e}c=c.return}if(Je===null)throw Error(ee(160));jv(a,o,s),Je=null,Wt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){Le(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)_v(t,e),t=t.sibling}function _v(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ut(t,e),Zt(e),n&4){try{bi(3,e,e.return),Zo(3,e)}catch(x){Le(e,e.return,x)}try{bi(5,e,e.return)}catch(x){Le(e,e.return,x)}}break;case 1:Ut(t,e),Zt(e),n&512&&r!==null&&hs(r,r.return);break;case 5:if(Ut(t,e),Zt(e),n&512&&r!==null&&hs(r,r.return),e.flags&32){var s=e.stateNode;try{Pi(s,"")}catch(x){Le(e,e.return,x)}}if(n&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,o=r!==null?r.memoizedProps:a,c=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{c==="input"&&a.type==="radio"&&a.name!=null&&Vm(s,a),zc(c,o);var u=zc(c,a);for(o=0;o<l.length;o+=2){var h=l[o],d=l[o+1];h==="style"?Jm(s,d):h==="dangerouslySetInnerHTML"?Km(s,d):h==="children"?Pi(s,d):fd(s,h,d,u)}switch(c){case"input":Dc(s,a);break;case"textarea":Wm(s,a);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?vs(s,!!a.multiple,p,!1):f!==!!a.multiple&&(a.defaultValue!=null?vs(s,!!a.multiple,a.defaultValue,!0):vs(s,!!a.multiple,a.multiple?[]:"",!1))}s[qi]=a}catch(x){Le(e,e.return,x)}}break;case 6:if(Ut(t,e),Zt(e),n&4){if(e.stateNode===null)throw Error(ee(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(x){Le(e,e.return,x)}}break;case 3:if(Ut(t,e),Zt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Li(t.containerInfo)}catch(x){Le(e,e.return,x)}break;case 4:Ut(t,e),Zt(e);break;case 13:Ut(t,e),Zt(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(Vd=$e())),n&4&&Oh(e);break;case 22:if(h=r!==null&&r.memoizedState!==null,e.mode&1?(tt=(u=tt)||h,Ut(t,e),tt=u):Ut(t,e),Zt(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!h&&e.mode&1)for(ie=e,h=e.child;h!==null;){for(d=ie=h;ie!==null;){switch(f=ie,p=f.child,f.tag){case 0:case 11:case 14:case 15:bi(4,f,f.return);break;case 1:hs(f,f.return);var b=f.stateNode;if(typeof b.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(x){Le(n,r,x)}}break;case 5:hs(f,f.return);break;case 22:if(f.memoizedState!==null){Ph(d);continue}}p!==null?(p.return=f,ie=p):Ph(d)}h=h.sibling}e:for(h=null,d=e;;){if(d.tag===5){if(h===null){h=d;try{s=d.stateNode,u?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(c=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,c.style.display=Ym("display",o))}catch(x){Le(e,e.return,x)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(x){Le(e,e.return,x)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Ut(t,e),Zt(e),n&4&&Oh(e);break;case 21:break;default:Ut(t,e),Zt(e)}}function Zt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(wv(r)){var n=r;break e}r=r.return}throw Error(ee(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Pi(s,""),n.flags&=-33);var a=Th(e);xu(e,a,s);break;case 3:case 4:var o=n.stateNode.containerInfo,c=Th(e);yu(e,c,o);break;default:throw Error(ee(161))}}catch(l){Le(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Gb(e,t,r){ie=e,Nv(e)}function Nv(e,t,r){for(var n=(e.mode&1)!==0;ie!==null;){var s=ie,a=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Ra;if(!o){var c=s.alternate,l=c!==null&&c.memoizedState!==null||tt;c=Ra;var u=tt;if(Ra=o,(tt=l)&&!u)for(ie=s;ie!==null;)o=ie,l=o.child,o.tag===22&&o.memoizedState!==null?Ah(s):l!==null?(l.return=o,ie=l):Ah(s);for(;a!==null;)ie=a,Nv(a),a=a.sibling;ie=s,Ra=c,tt=u}Ch(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,ie=a):Ch(e)}}function Ch(e){for(;ie!==null;){var t=ie;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:tt||Zo(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!tt)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Ht(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&ph(t,a,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}ph(t,o,r)}break;case 5:var c=t.stateNode;if(r===null&&t.flags&4){r=c;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&Li(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ee(163))}tt||t.flags&512&&vu(t)}catch(f){Le(t,t.return,f)}}if(t===e){ie=null;break}if(r=t.sibling,r!==null){r.return=t.return,ie=r;break}ie=t.return}}function Ph(e){for(;ie!==null;){var t=ie;if(t===e){ie=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ie=r;break}ie=t.return}}function Ah(e){for(;ie!==null;){var t=ie;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Zo(4,t)}catch(l){Le(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(l){Le(t,s,l)}}var a=t.return;try{vu(t)}catch(l){Le(t,a,l)}break;case 5:var o=t.return;try{vu(t)}catch(l){Le(t,o,l)}}}catch(l){Le(t,t.return,l)}if(t===e){ie=null;break}var c=t.sibling;if(c!==null){c.return=t.return,ie=c;break}ie=t.return}}var Kb=Math.ceil,So=Ar.ReactCurrentDispatcher,zd=Ar.ReactCurrentOwner,Dt=Ar.ReactCurrentBatchConfig,ye=0,Ge=null,Be=null,Qe=0,bt=0,ps=mn(0),Ve=0,Wi=null,Dn=0,el=0,Hd=0,wi=null,ut=null,Vd=0,As=1/0,gr=null,ko=!1,bu=null,an=null,La=!1,Yr=null,Eo=0,ji=0,wu=null,to=-1,ro=0;function at(){return ye&6?$e():to!==-1?to:to=$e()}function on(e){return e.mode&1?ye&2&&Qe!==0?Qe&-Qe:Pb.transition!==null?(ro===0&&(ro=lg()),ro):(e=be,e!==0||(e=window.event,e=e===void 0?16:mg(e.type)),e):1}function Qt(e,t,r,n){if(50<ji)throw ji=0,wu=null,Error(ee(185));ca(e,r,n),(!(ye&2)||e!==Ge)&&(e===Ge&&(!(ye&2)&&(el|=r),Ve===4&&Vr(e,Qe)),pt(e,n),r===1&&ye===0&&!(t.mode&1)&&(As=$e()+500,Jo&&gn()))}function pt(e,t){var r=e.callbackNode;Px(e,t);var n=co(e,e===Ge?Qe:0);if(n===0)r!==null&&Bf(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Bf(r),t===1)e.tag===0?Cb(Ih.bind(null,e)):Rg(Ih.bind(null,e)),kb(function(){!(ye&6)&&gn()}),r=null;else{switch(cg(n)){case 1:r=vd;break;case 4:r=ag;break;case 16:r=lo;break;case 536870912:r=og;break;default:r=lo}r=Av(r,Sv.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Sv(e,t){if(to=-1,ro=0,ye&6)throw Error(ee(327));var r=e.callbackNode;if(js()&&e.callbackNode!==r)return null;var n=co(e,e===Ge?Qe:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=To(e,n);else{t=n;var s=ye;ye|=2;var a=Ev();(Ge!==e||Qe!==t)&&(gr=null,As=$e()+500,In(e,t));do try{Qb();break}catch(c){kv(e,c)}while(!0);Cd(),So.current=a,ye=s,Be!==null?t=0:(Ge=null,Qe=0,t=Ve)}if(t!==0){if(t===2&&(s=Kc(e),s!==0&&(n=s,t=ju(e,s))),t===1)throw r=Wi,In(e,0),Vr(e,n),pt(e,$e()),r;if(t===6)Vr(e,n);else{if(s=e.current.alternate,!(n&30)&&!Yb(s)&&(t=To(e,n),t===2&&(a=Kc(e),a!==0&&(n=a,t=ju(e,a))),t===1))throw r=Wi,In(e,0),Vr(e,n),pt(e,$e()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(ee(345));case 2:wn(e,ut,gr);break;case 3:if(Vr(e,n),(n&130023424)===n&&(t=Vd+500-$e(),10<t)){if(co(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){at(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=ru(wn.bind(null,e,ut,gr),t);break}wn(e,ut,gr);break;case 4:if(Vr(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-Jt(n);a=1<<o,o=t[o],o>s&&(s=o),n&=~a}if(n=s,n=$e()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Kb(n/1960))-n,10<n){e.timeoutHandle=ru(wn.bind(null,e,ut,gr),n);break}wn(e,ut,gr);break;case 5:wn(e,ut,gr);break;default:throw Error(ee(329))}}}return pt(e,$e()),e.callbackNode===r?Sv.bind(null,e):null}function ju(e,t){var r=wi;return e.current.memoizedState.isDehydrated&&(In(e,t).flags|=256),e=To(e,t),e!==2&&(t=ut,ut=r,t!==null&&_u(t)),e}function _u(e){ut===null?ut=e:ut.push.apply(ut,e)}function Yb(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],a=s.getSnapshot;s=s.value;try{if(!Xt(a(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Vr(e,t){for(t&=~Hd,t&=~el,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Jt(t),n=1<<r;e[r]=-1,t&=~n}}function Ih(e){if(ye&6)throw Error(ee(327));js();var t=co(e,0);if(!(t&1))return pt(e,$e()),null;var r=To(e,t);if(e.tag!==0&&r===2){var n=Kc(e);n!==0&&(t=n,r=ju(e,n))}if(r===1)throw r=Wi,In(e,0),Vr(e,t),pt(e,$e()),r;if(r===6)throw Error(ee(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wn(e,ut,gr),pt(e,$e()),null}function Wd(e,t){var r=ye;ye|=1;try{return e(t)}finally{ye=r,ye===0&&(As=$e()+500,Jo&&gn())}}function Fn(e){Yr!==null&&Yr.tag===0&&!(ye&6)&&js();var t=ye;ye|=1;var r=Dt.transition,n=be;try{if(Dt.transition=null,be=1,e)return e()}finally{be=n,Dt.transition=r,ye=t,!(ye&6)&&gn()}}function Gd(){bt=ps.current,ke(ps)}function In(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Sb(r)),Be!==null)for(r=Be.return;r!==null;){var n=r;switch(Ed(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&mo();break;case 3:Cs(),ke(ft),ke(rt),Md();break;case 5:Ld(n);break;case 4:Cs();break;case 13:ke(Ce);break;case 19:ke(Ce);break;case 10:Pd(n.type._context);break;case 22:case 23:Gd()}r=r.return}if(Ge=e,Be=e=ln(e.current,null),Qe=bt=t,Ve=0,Wi=null,Hd=el=Dn=0,ut=wi=null,On!==null){for(t=0;t<On.length;t++)if(r=On[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=s,n.next=o}r.pending=n}On=null}return e}function kv(e,t){do{var r=Be;try{if(Cd(),Xa.current=No,_o){for(var n=Pe.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}_o=!1}if($n=0,We=He=Pe=null,xi=!1,zi=0,zd.current=null,r===null||r.return===null){Ve=1,Wi=t,Be=null;break}e:{var a=e,o=r.return,c=r,l=t;if(t=Qe,c.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,h=c,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=bh(o);if(p!==null){p.flags&=-257,wh(p,o,c,a,t),p.mode&1&&xh(a,u,t),t=p,l=u;var b=t.updateQueue;if(b===null){var x=new Set;x.add(l),t.updateQueue=x}else b.add(l);break e}else{if(!(t&1)){xh(a,u,t),Kd();break e}l=Error(ee(426))}}else if(Ee&&c.mode&1){var w=bh(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),wh(w,o,c,a,t),Td(Ps(l,c));break e}}a=l=Ps(l,c),Ve!==4&&(Ve=2),wi===null?wi=[a]:wi.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var g=cv(a,l,t);hh(a,g);break e;case 1:c=l;var m=a.type,v=a.stateNode;if(!(a.flags&128)&&(typeof m.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(an===null||!an.has(v)))){a.flags|=65536,t&=-t,a.lanes|=t;var y=uv(a,c,t);hh(a,y);break e}}a=a.return}while(a!==null)}Ov(r)}catch(j){t=j,Be===r&&r!==null&&(Be=r=r.return);continue}break}while(!0)}function Ev(){var e=So.current;return So.current=No,e===null?No:e}function Kd(){(Ve===0||Ve===3||Ve===2)&&(Ve=4),Ge===null||!(Dn&268435455)&&!(el&268435455)||Vr(Ge,Qe)}function To(e,t){var r=ye;ye|=2;var n=Ev();(Ge!==e||Qe!==t)&&(gr=null,In(e,t));do try{Jb();break}catch(s){kv(e,s)}while(!0);if(Cd(),ye=r,So.current=n,Be!==null)throw Error(ee(261));return Ge=null,Qe=0,Ve}function Jb(){for(;Be!==null;)Tv(Be)}function Qb(){for(;Be!==null&&!jx();)Tv(Be)}function Tv(e){var t=Pv(e.alternate,e,bt);e.memoizedProps=e.pendingProps,t===null?Ov(e):Be=t,zd.current=null}function Ov(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Hb(r,t),r!==null){r.flags&=32767,Be=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ve=6,Be=null;return}}else if(r=zb(r,t,bt),r!==null){Be=r;return}if(t=t.sibling,t!==null){Be=t;return}Be=t=e}while(t!==null);Ve===0&&(Ve=5)}function wn(e,t,r){var n=be,s=Dt.transition;try{Dt.transition=null,be=1,Xb(e,t,r,n)}finally{Dt.transition=s,be=n}return null}function Xb(e,t,r,n){do js();while(Yr!==null);if(ye&6)throw Error(ee(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ee(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(Ax(e,a),e===Ge&&(Be=Ge=null,Qe=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||La||(La=!0,Av(lo,function(){return js(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Dt.transition,Dt.transition=null;var o=be;be=1;var c=ye;ye|=4,zd.current=null,Wb(e,r),_v(r,e),yb(eu),uo=!!Zc,eu=Zc=null,e.current=r,Gb(r),_x(),ye=c,be=o,Dt.transition=a}else e.current=r;if(La&&(La=!1,Yr=e,Eo=s),a=e.pendingLanes,a===0&&(an=null),kx(r.stateNode),pt(e,$e()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(ko)throw ko=!1,e=bu,bu=null,e;return Eo&1&&e.tag!==0&&js(),a=e.pendingLanes,a&1?e===wu?ji++:(ji=0,wu=e):ji=0,gn(),null}function js(){if(Yr!==null){var e=cg(Eo),t=Dt.transition,r=be;try{if(Dt.transition=null,be=16>e?16:e,Yr===null)var n=!1;else{if(e=Yr,Yr=null,Eo=0,ye&6)throw Error(ee(331));var s=ye;for(ye|=4,ie=e.current;ie!==null;){var a=ie,o=a.child;if(ie.flags&16){var c=a.deletions;if(c!==null){for(var l=0;l<c.length;l++){var u=c[l];for(ie=u;ie!==null;){var h=ie;switch(h.tag){case 0:case 11:case 15:bi(8,h,a)}var d=h.child;if(d!==null)d.return=h,ie=d;else for(;ie!==null;){h=ie;var f=h.sibling,p=h.return;if(bv(h),h===u){ie=null;break}if(f!==null){f.return=p,ie=f;break}ie=p}}}var b=a.alternate;if(b!==null){var x=b.child;if(x!==null){b.child=null;do{var w=x.sibling;x.sibling=null,x=w}while(x!==null)}}ie=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,ie=o;else e:for(;ie!==null;){if(a=ie,a.flags&2048)switch(a.tag){case 0:case 11:case 15:bi(9,a,a.return)}var g=a.sibling;if(g!==null){g.return=a.return,ie=g;break e}ie=a.return}}var m=e.current;for(ie=m;ie!==null;){o=ie;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,ie=v;else e:for(o=m;ie!==null;){if(c=ie,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:Zo(9,c)}}catch(j){Le(c,c.return,j)}if(c===o){ie=null;break e}var y=c.sibling;if(y!==null){y.return=c.return,ie=y;break e}ie=c.return}}if(ye=s,gn(),ir&&typeof ir.onPostCommitFiberRoot=="function")try{ir.onPostCommitFiberRoot(Vo,e)}catch{}n=!0}return n}finally{be=r,Dt.transition=t}}return!1}function Rh(e,t,r){t=Ps(r,t),t=cv(e,t,1),e=sn(e,t,1),t=at(),e!==null&&(ca(e,1,t),pt(e,t))}function Le(e,t,r){if(e.tag===3)Rh(e,e,r);else for(;t!==null;){if(t.tag===3){Rh(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(an===null||!an.has(n))){e=Ps(r,e),e=uv(t,e,1),t=sn(t,e,1),e=at(),t!==null&&(ca(t,1,e),pt(t,e));break}}t=t.return}}function Zb(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=at(),e.pingedLanes|=e.suspendedLanes&r,Ge===e&&(Qe&r)===r&&(Ve===4||Ve===3&&(Qe&130023424)===Qe&&500>$e()-Vd?In(e,0):Hd|=r),pt(e,t)}function Cv(e,t){t===0&&(e.mode&1?(t=Sa,Sa<<=1,!(Sa&130023424)&&(Sa=4194304)):t=1);var r=at();e=Or(e,t),e!==null&&(ca(e,t,r),pt(e,r))}function ew(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Cv(e,r)}function tw(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ee(314))}n!==null&&n.delete(t),Cv(e,r)}var Pv;Pv=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||ft.current)dt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return dt=!1,Ub(e,t,r);dt=!!(e.flags&131072)}else dt=!1,Ee&&t.flags&1048576&&Lg(t,yo,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;eo(e,t),e=t.pendingProps;var s=Es(t,rt.current);ws(t,r),s=Dd(null,t,n,e,s,r);var a=Fd();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ht(n)?(a=!0,go(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Id(t),s.updater=Xo,t.stateNode=s,s._reactInternals=t,cu(t,n,e,r),t=fu(null,t,n,!0,a,r)):(t.tag=0,Ee&&a&&kd(t),it(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(eo(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=nw(n),e=Ht(n,e),s){case 0:t=du(null,t,n,e,r);break e;case 1:t=Nh(null,t,n,e,r);break e;case 11:t=jh(null,t,n,e,r);break e;case 14:t=_h(null,t,n,Ht(n.type,e),r);break e}throw Error(ee(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ht(n,s),du(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ht(n,s),Nh(e,t,n,s,r);case 3:e:{if(pv(t),e===null)throw Error(ee(387));n=t.pendingProps,a=t.memoizedState,s=a.element,Bg(e,t),wo(t,n,null,r);var o=t.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=Ps(Error(ee(423)),t),t=Sh(e,t,n,r,s);break e}else if(n!==s){s=Ps(Error(ee(424)),t),t=Sh(e,t,n,r,s);break e}else for(St=nn(t.stateNode.containerInfo.firstChild),kt=t,Ee=!0,Kt=null,r=Fg(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ts(),n===s){t=Cr(e,t,r);break e}it(e,t,n,r)}t=t.child}return t;case 5:return Ug(t),e===null&&au(t),n=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,o=s.children,tu(n,s)?o=null:a!==null&&tu(n,a)&&(t.flags|=32),hv(e,t),it(e,t,o,r),t.child;case 6:return e===null&&au(t),null;case 13:return mv(e,t,r);case 4:return Rd(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Os(t,null,n,r):it(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ht(n,s),jh(e,t,n,s,r);case 7:return it(e,t,t.pendingProps,r),t.child;case 8:return it(e,t,t.pendingProps.children,r),t.child;case 12:return it(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,a=t.memoizedProps,o=s.value,_e(xo,n._currentValue),n._currentValue=o,a!==null)if(Xt(a.value,o)){if(a.children===s.children&&!ft.current){t=Cr(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var c=a.dependencies;if(c!==null){o=a.child;for(var l=c.firstContext;l!==null;){if(l.context===n){if(a.tag===1){l=_r(-1,r&-r),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),ou(a.return,r,t),c.lanes|=r;break}l=l.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(ee(341));o.lanes|=r,c=o.alternate,c!==null&&(c.lanes|=r),ou(o,r,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}it(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,ws(t,r),s=Ft(s),n=n(s),t.flags|=1,it(e,t,n,r),t.child;case 14:return n=t.type,s=Ht(n,t.pendingProps),s=Ht(n.type,s),_h(e,t,n,s,r);case 15:return dv(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ht(n,s),eo(e,t),t.tag=1,ht(n)?(e=!0,go(t)):e=!1,ws(t,r),lv(t,n,s),cu(t,n,s,r),fu(null,t,n,!0,e,r);case 19:return gv(e,t,r);case 22:return fv(e,t,r)}throw Error(ee(156,t.tag))};function Av(e,t){return ig(e,t)}function rw(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $t(e,t,r,n){return new rw(e,t,r,n)}function Yd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function nw(e){if(typeof e=="function")return Yd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===pd)return 11;if(e===md)return 14}return 2}function ln(e,t){var r=e.alternate;return r===null?(r=$t(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function no(e,t,r,n,s,a){var o=2;if(n=e,typeof e=="function")Yd(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case ss:return Rn(r.children,s,a,t);case hd:o=8,s|=8;break;case Ic:return e=$t(12,r,t,s|2),e.elementType=Ic,e.lanes=a,e;case Rc:return e=$t(13,r,t,s),e.elementType=Rc,e.lanes=a,e;case Lc:return e=$t(19,r,t,s),e.elementType=Lc,e.lanes=a,e;case Um:return tl(r,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case qm:o=10;break e;case Bm:o=9;break e;case pd:o=11;break e;case md:o=14;break e;case Br:o=16,n=null;break e}throw Error(ee(130,e==null?e:typeof e,""))}return t=$t(o,r,t,s),t.elementType=e,t.type=n,t.lanes=a,t}function Rn(e,t,r,n){return e=$t(7,e,n,t),e.lanes=r,e}function tl(e,t,r,n){return e=$t(22,e,n,t),e.elementType=Um,e.lanes=r,e.stateNode={isHidden:!1},e}function tc(e,t,r){return e=$t(6,e,null,t),e.lanes=r,e}function rc(e,t,r){return t=$t(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function sw(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ml(0),this.expirationTimes=Ml(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ml(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Jd(e,t,r,n,s,a,o,c,l){return e=new sw(e,t,r,c,l),t===1?(t=1,a===!0&&(t|=8)):t=0,a=$t(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Id(a),e}function iw(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ns,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Iv(e){if(!e)return fn;e=e._reactInternals;e:{if(Hn(e)!==e||e.tag!==1)throw Error(ee(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ht(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ee(171))}if(e.tag===1){var r=e.type;if(ht(r))return Ig(e,r,t)}return t}function Rv(e,t,r,n,s,a,o,c,l){return e=Jd(r,n,!0,e,s,a,o,c,l),e.context=Iv(null),r=e.current,n=at(),s=on(r),a=_r(n,s),a.callback=t??null,sn(r,a,s),e.current.lanes=s,ca(e,s,n),pt(e,n),e}function rl(e,t,r,n){var s=t.current,a=at(),o=on(s);return r=Iv(r),t.context===null?t.context=r:t.pendingContext=r,t=_r(a,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=sn(s,t,o),e!==null&&(Qt(e,s,o,a),Qa(e,s,o)),o}function Oo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Lh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Qd(e,t){Lh(e,t),(e=e.alternate)&&Lh(e,t)}function aw(){return null}var Lv=typeof reportError=="function"?reportError:function(e){console.error(e)};function Xd(e){this._internalRoot=e}nl.prototype.render=Xd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ee(409));rl(e,t,null,null)};nl.prototype.unmount=Xd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Fn(function(){rl(null,e,null,null)}),t[Tr]=null}};function nl(e){this._internalRoot=e}nl.prototype.unstable_scheduleHydration=function(e){if(e){var t=fg();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Hr.length&&t!==0&&t<Hr[r].priority;r++);Hr.splice(r,0,e),r===0&&pg(e)}};function Zd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function sl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Mh(){}function ow(e,t,r,n,s){if(s){if(typeof n=="function"){var a=n;n=function(){var u=Oo(o);a.call(u)}}var o=Rv(t,n,e,0,null,!1,!1,"",Mh);return e._reactRootContainer=o,e[Tr]=o.current,Di(e.nodeType===8?e.parentNode:e),Fn(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var c=n;n=function(){var u=Oo(l);c.call(u)}}var l=Jd(e,0,!1,null,null,!1,!1,"",Mh);return e._reactRootContainer=l,e[Tr]=l.current,Di(e.nodeType===8?e.parentNode:e),Fn(function(){rl(t,l,r,n)}),l}function il(e,t,r,n,s){var a=r._reactRootContainer;if(a){var o=a;if(typeof s=="function"){var c=s;s=function(){var l=Oo(o);c.call(l)}}rl(t,o,e,s)}else o=ow(r,t,e,s,n);return Oo(o)}ug=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=li(t.pendingLanes);r!==0&&(yd(t,r|1),pt(t,$e()),!(ye&6)&&(As=$e()+500,gn()))}break;case 13:Fn(function(){var n=Or(e,1);if(n!==null){var s=at();Qt(n,e,1,s)}}),Qd(e,1)}};xd=function(e){if(e.tag===13){var t=Or(e,134217728);if(t!==null){var r=at();Qt(t,e,134217728,r)}Qd(e,134217728)}};dg=function(e){if(e.tag===13){var t=on(e),r=Or(e,t);if(r!==null){var n=at();Qt(r,e,t,n)}Qd(e,t)}};fg=function(){return be};hg=function(e,t){var r=be;try{return be=e,t()}finally{be=r}};Vc=function(e,t,r){switch(t){case"input":if(Dc(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Yo(n);if(!s)throw Error(ee(90));Hm(n),Dc(n,s)}}}break;case"textarea":Wm(e,r);break;case"select":t=r.value,t!=null&&vs(e,!!r.multiple,t,!1)}};Zm=Wd;eg=Fn;var lw={usingClientEntryPoint:!1,Events:[da,ls,Yo,Qm,Xm,Wd]},ni={findFiberByHostInstance:Tn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},cw={bundleType:ni.bundleType,version:ni.version,rendererPackageName:ni.rendererPackageName,rendererConfig:ni.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ar.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ng(e),e===null?null:e.stateNode},findFiberByHostInstance:ni.findFiberByHostInstance||aw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ma=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ma.isDisabled&&Ma.supportsFiber)try{Vo=Ma.inject(cw),ir=Ma}catch{}}Ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lw;Ct.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Zd(t))throw Error(ee(200));return iw(e,t,null,r)};Ct.createRoot=function(e,t){if(!Zd(e))throw Error(ee(299));var r=!1,n="",s=Lv;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Jd(e,1,!1,null,null,r,!1,n,s),e[Tr]=t.current,Di(e.nodeType===8?e.parentNode:e),new Xd(t)};Ct.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ee(188)):(e=Object.keys(e).join(","),Error(ee(268,e)));return e=ng(t),e=e===null?null:e.stateNode,e};Ct.flushSync=function(e){return Fn(e)};Ct.hydrate=function(e,t,r){if(!sl(t))throw Error(ee(200));return il(null,e,t,!0,r)};Ct.hydrateRoot=function(e,t,r){if(!Zd(e))throw Error(ee(405));var n=r!=null&&r.hydratedSources||null,s=!1,a="",o=Lv;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=Rv(t,null,e,1,r??null,s,!1,a,o),e[Tr]=t.current,Di(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new nl(t)};Ct.render=function(e,t,r){if(!sl(t))throw Error(ee(200));return il(null,e,t,!1,r)};Ct.unmountComponentAtNode=function(e){if(!sl(e))throw Error(ee(40));return e._reactRootContainer?(Fn(function(){il(null,null,e,!1,function(){e._reactRootContainer=null,e[Tr]=null})}),!0):!1};Ct.unstable_batchedUpdates=Wd;Ct.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!sl(r))throw Error(ee(200));if(e==null||e._reactInternals===void 0)throw Error(ee(38));return il(e,t,r,!1,n)};Ct.version="18.3.1-next-f1338f8080-20240426";function Mv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Mv)}catch(e){console.error(e)}}Mv(),Mm.exports=Ct;var ef=Mm.exports,$h=ef;Pc.createRoot=$h.createRoot,Pc.hydrateRoot=$h.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gi(){return Gi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gi.apply(this,arguments)}var Jr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Jr||(Jr={}));const Dh="popstate";function uw(e){e===void 0&&(e={});function t(n,s){let{pathname:a,search:o,hash:c}=n.location;return Nu("",{pathname:a,search:o,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Co(s)}return fw(t,r,null,e)}function De(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function tf(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function dw(){return Math.random().toString(36).substr(2,8)}function Fh(e,t){return{usr:e.state,key:e.key,idx:t}}function Nu(e,t,r,n){return r===void 0&&(r=null),Gi({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Bs(t):t,{state:r,key:t&&t.key||n||dw()})}function Co(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Bs(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function fw(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:a=!1}=n,o=s.history,c=Jr.Pop,l=null,u=h();u==null&&(u=0,o.replaceState(Gi({},o.state,{idx:u}),""));function h(){return(o.state||{idx:null}).idx}function d(){c=Jr.Pop;let w=h(),g=w==null?null:w-u;u=w,l&&l({action:c,location:x.location,delta:g})}function f(w,g){c=Jr.Push;let m=Nu(x.location,w,g);u=h()+1;let v=Fh(m,u),y=x.createHref(m);try{o.pushState(v,"",y)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(y)}a&&l&&l({action:c,location:x.location,delta:1})}function p(w,g){c=Jr.Replace;let m=Nu(x.location,w,g);u=h();let v=Fh(m,u),y=x.createHref(m);o.replaceState(v,"",y),a&&l&&l({action:c,location:x.location,delta:0})}function b(w){let g=s.location.origin!=="null"?s.location.origin:s.location.href,m=typeof w=="string"?w:Co(w);return m=m.replace(/ $/,"%20"),De(g,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,g)}let x={get action(){return c},get location(){return e(s,o)},listen(w){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Dh,d),l=w,()=>{s.removeEventListener(Dh,d),l=null}},createHref(w){return t(s,w)},createURL:b,encodeLocation(w){let g=b(w);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:p,go(w){return o.go(w)}};return x}var qh;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(qh||(qh={}));function hw(e,t,r){return r===void 0&&(r="/"),pw(e,t,r)}function pw(e,t,r,n){let s=typeof t=="string"?Bs(t):t,a=rf(s.pathname||"/",r);if(a==null)return null;let o=$v(e);mw(o);let c=null;for(let l=0;c==null&&l<o.length;++l){let u=Ew(a);c=Nw(o[l],u)}return c}function $v(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(a,o,c)=>{let l={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};l.relativePath.startsWith("/")&&(De(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=cn([n,l.relativePath]),h=r.concat(l);a.children&&a.children.length>0&&(De(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),$v(a.children,t,h,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:jw(u,a.index),routesMeta:h})};return e.forEach((a,o)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))s(a,o);else for(let l of Dv(a.path))s(a,o,l)}),t}function Dv(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return s?[a,""]:[a];let o=Dv(n.join("/")),c=[];return c.push(...o.map(l=>l===""?a:[a,l].join("/"))),s&&c.push(...o),c.map(l=>e.startsWith("/")&&l===""?"/":l)}function mw(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:_w(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const gw=/^:[\w-]+$/,vw=3,yw=2,xw=1,bw=10,ww=-2,Bh=e=>e==="*";function jw(e,t){let r=e.split("/"),n=r.length;return r.some(Bh)&&(n+=ww),t&&(n+=yw),r.filter(s=>!Bh(s)).reduce((s,a)=>s+(gw.test(a)?vw:a===""?xw:bw),n)}function _w(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function Nw(e,t,r){let{routesMeta:n}=e,s={},a="/",o=[];for(let c=0;c<n.length;++c){let l=n[c],u=c===n.length-1,h=a==="/"?t:t.slice(a.length)||"/",d=Sw({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},h),f=l.route;if(!d)return null;Object.assign(s,d.params),o.push({params:s,pathname:cn([a,d.pathname]),pathnameBase:Aw(cn([a,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(a=cn([a,d.pathnameBase]))}return o}function Sw(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=kw(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let a=s[0],o=a.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:n.reduce((u,h,d)=>{let{paramName:f,isOptional:p}=h;if(f==="*"){let x=c[d]||"";o=a.slice(0,a.length-x.length).replace(/(.)\/+$/,"$1")}const b=c[d];return p&&!b?u[f]=void 0:u[f]=(b||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:e}}function kw(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),tf(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,l)=>(n.push({paramName:c,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function Ew(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return tf(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function rf(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const Tw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ow=e=>Tw.test(e);function Cw(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Bs(e):e,a;if(r)if(Ow(r))a=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),tf(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?a=Uh(r.substring(1),"/"):a=Uh(r,t)}else a=t;return{pathname:a,search:Iw(n),hash:Rw(s)}}function Uh(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function nc(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Pw(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function nf(e,t){let r=Pw(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function sf(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=Bs(e):(s=Gi({},e),De(!s.pathname||!s.pathname.includes("?"),nc("?","pathname","search",s)),De(!s.pathname||!s.pathname.includes("#"),nc("#","pathname","hash",s)),De(!s.search||!s.search.includes("#"),nc("#","search","hash",s)));let a=e===""||s.pathname==="",o=a?"/":s.pathname,c;if(o==null)c=r;else{let d=t.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;s.pathname=f.join("/")}c=d>=0?t[d]:"/"}let l=Cw(s,c),u=o&&o!=="/"&&o.endsWith("/"),h=(a||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||h)&&(l.pathname+="/"),l}const cn=e=>e.join("/").replace(/\/\/+/g,"/"),Aw=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Iw=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Rw=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Lw(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Fv=["post","put","patch","delete"];new Set(Fv);const Mw=["get",...Fv];new Set(Mw);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ki(){return Ki=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ki.apply(this,arguments)}const af=O.createContext(null),$w=O.createContext(null),vn=O.createContext(null),al=O.createContext(null),Ir=O.createContext({outlet:null,matches:[],isDataRoute:!1}),qv=O.createContext(null);function Dw(e,t){let{relative:r}=t===void 0?{}:t;Us()||De(!1);let{basename:n,navigator:s}=O.useContext(vn),{hash:a,pathname:o,search:c}=Uv(e,{relative:r}),l=o;return n!=="/"&&(l=o==="/"?n:cn([n,o])),s.createHref({pathname:l,search:c,hash:a})}function Us(){return O.useContext(al)!=null}function Rr(){return Us()||De(!1),O.useContext(al).location}function Bv(e){O.useContext(vn).static||O.useLayoutEffect(e)}function vt(){let{isDataRoute:e}=O.useContext(Ir);return e?Qw():Fw()}function Fw(){Us()||De(!1);let e=O.useContext(af),{basename:t,future:r,navigator:n}=O.useContext(vn),{matches:s}=O.useContext(Ir),{pathname:a}=Rr(),o=JSON.stringify(nf(s,r.v7_relativeSplatPath)),c=O.useRef(!1);return Bv(()=>{c.current=!0}),O.useCallback(function(u,h){if(h===void 0&&(h={}),!c.current)return;if(typeof u=="number"){n.go(u);return}let d=sf(u,JSON.parse(o),a,h.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:cn([t,d.pathname])),(h.replace?n.replace:n.push)(d,h.state,h)},[t,n,o,a,e])}function of(){let{matches:e}=O.useContext(Ir),t=e[e.length-1];return t?t.params:{}}function Uv(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=O.useContext(vn),{matches:s}=O.useContext(Ir),{pathname:a}=Rr(),o=JSON.stringify(nf(s,n.v7_relativeSplatPath));return O.useMemo(()=>sf(e,JSON.parse(o),a,r==="path"),[e,o,a,r])}function qw(e,t){return Bw(e,t)}function Bw(e,t,r,n){Us()||De(!1);let{navigator:s}=O.useContext(vn),{matches:a}=O.useContext(Ir),o=a[a.length-1],c=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=Rr(),h;if(t){var d;let w=typeof t=="string"?Bs(t):t;l==="/"||(d=w.pathname)!=null&&d.startsWith(l)||De(!1),h=w}else h=u;let f=h.pathname||"/",p=f;if(l!=="/"){let w=l.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(w.length).join("/")}let b=hw(e,{pathname:p}),x=Ww(b&&b.map(w=>Object.assign({},w,{params:Object.assign({},c,w.params),pathname:cn([l,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:cn([l,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),a,r,n);return t&&x?O.createElement(al.Provider,{value:{location:Ki({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Jr.Pop}},x):x}function Uw(){let e=Jw(),t=Lw(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},t),r?O.createElement("pre",{style:s},r):null,null)}const zw=O.createElement(Uw,null);class Hw extends O.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?O.createElement(Ir.Provider,{value:this.props.routeContext},O.createElement(qv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Vw(e){let{routeContext:t,match:r,children:n}=e,s=O.useContext(af);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),O.createElement(Ir.Provider,{value:t},n)}function Ww(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,c=(s=r)==null?void 0:s.errors;if(c!=null){let h=o.findIndex(d=>d.route.id&&(c==null?void 0:c[d.route.id])!==void 0);h>=0||De(!1),o=o.slice(0,Math.min(o.length,h+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let h=0;h<o.length;h++){let d=o[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=h),d.route.id){let{loaderData:f,errors:p}=r,b=d.route.loader&&f[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||b){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((h,d,f)=>{let p,b=!1,x=null,w=null;r&&(p=c&&d.route.id?c[d.route.id]:void 0,x=d.route.errorElement||zw,l&&(u<0&&f===0?(Xw("route-fallback"),b=!0,w=null):u===f&&(b=!0,w=d.route.hydrateFallbackElement||null)));let g=t.concat(o.slice(0,f+1)),m=()=>{let v;return p?v=x:b?v=w:d.route.Component?v=O.createElement(d.route.Component,null):d.route.element?v=d.route.element:v=h,O.createElement(Vw,{match:d,routeContext:{outlet:h,matches:g,isDataRoute:r!=null},children:v})};return r&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?O.createElement(Hw,{location:r.location,revalidation:r.revalidation,component:x,error:p,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):m()},null)}var zv=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(zv||{}),Hv=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Hv||{});function Gw(e){let t=O.useContext(af);return t||De(!1),t}function Kw(e){let t=O.useContext($w);return t||De(!1),t}function Yw(e){let t=O.useContext(Ir);return t||De(!1),t}function Vv(e){let t=Yw(),r=t.matches[t.matches.length-1];return r.route.id||De(!1),r.route.id}function Jw(){var e;let t=O.useContext(qv),r=Kw(),n=Vv();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function Qw(){let{router:e}=Gw(zv.UseNavigateStable),t=Vv(Hv.UseNavigateStable),r=O.useRef(!1);return Bv(()=>{r.current=!0}),O.useCallback(function(s,a){a===void 0&&(a={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Ki({fromRouteId:t},a)))},[e,t])}const zh={};function Xw(e,t,r){zh[e]||(zh[e]=!0)}function Zw(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function e1(e){let{to:t,replace:r,state:n,relative:s}=e;Us()||De(!1);let{future:a,static:o}=O.useContext(vn),{matches:c}=O.useContext(Ir),{pathname:l}=Rr(),u=vt(),h=sf(t,nf(c,a.v7_relativeSplatPath),l,s==="path"),d=JSON.stringify(h);return O.useEffect(()=>u(JSON.parse(d),{replace:r,state:n,relative:s}),[u,d,s,r,n]),null}function xe(e){De(!1)}function t1(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Jr.Pop,navigator:a,static:o=!1,future:c}=e;Us()&&De(!1);let l=t.replace(/^\/*/,"/"),u=O.useMemo(()=>({basename:l,navigator:a,static:o,future:Ki({v7_relativeSplatPath:!1},c)}),[l,c,a,o]);typeof n=="string"&&(n=Bs(n));let{pathname:h="/",search:d="",hash:f="",state:p=null,key:b="default"}=n,x=O.useMemo(()=>{let w=rf(h,l);return w==null?null:{location:{pathname:w,search:d,hash:f,state:p,key:b},navigationType:s}},[l,h,d,f,p,b,s]);return x==null?null:O.createElement(vn.Provider,{value:u},O.createElement(al.Provider,{children:r,value:x}))}function Hh(e){let{children:t,location:r}=e;return qw(Su(t),r)}new Promise(()=>{});function Su(e,t){t===void 0&&(t=[]);let r=[];return O.Children.forEach(e,(n,s)=>{if(!O.isValidElement(n))return;let a=[...t,s];if(n.type===O.Fragment){r.push.apply(r,Su(n.props.children,a));return}n.type!==xe&&De(!1),!n.props.index||!n.props.children||De(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Su(n.props.children,a)),r.push(o)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ku(){return ku=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ku.apply(this,arguments)}function r1(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,a;for(a=0;a<n.length;a++)s=n[a],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function n1(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function s1(e,t){return e.button===0&&(!t||t==="_self")&&!n1(e)}function Eu(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function i1(e,t){let r=Eu(e);return t&&t.forEach((n,s)=>{r.has(s)||t.getAll(s).forEach(a=>{r.append(s,a)})}),r}const a1=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],o1="6";try{window.__reactRouterVersion=o1}catch{}const l1="startTransition",Vh=Cc[l1];function c1(e){let{basename:t,children:r,future:n,window:s}=e,a=O.useRef();a.current==null&&(a.current=uw({window:s,v5Compat:!0}));let o=a.current,[c,l]=O.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},h=O.useCallback(d=>{u&&Vh?Vh(()=>l(d)):l(d)},[l,u]);return O.useLayoutEffect(()=>o.listen(h),[o,h]),O.useEffect(()=>Zw(n),[n]),O.createElement(t1,{basename:t,children:r,location:c.location,navigationType:c.action,navigator:o,future:n})}const u1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",d1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ae=O.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:a,replace:o,state:c,target:l,to:u,preventScrollReset:h,viewTransition:d}=t,f=r1(t,a1),{basename:p}=O.useContext(vn),b,x=!1;if(typeof u=="string"&&d1.test(u)&&(b=u,u1))try{let v=new URL(window.location.href),y=u.startsWith("//")?new URL(v.protocol+u):new URL(u),j=rf(y.pathname,p);y.origin===v.origin&&j!=null?u=j+y.search+y.hash:x=!0}catch{}let w=Dw(u,{relative:s}),g=f1(u,{replace:o,state:c,target:l,preventScrollReset:h,relative:s,viewTransition:d});function m(v){n&&n(v),v.defaultPrevented||g(v)}return O.createElement("a",ku({},f,{href:b||w,onClick:x||a?n:m,ref:r,target:l}))});var Wh;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Wh||(Wh={}));var Gh;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Gh||(Gh={}));function f1(e,t){let{target:r,replace:n,state:s,preventScrollReset:a,relative:o,viewTransition:c}=t===void 0?{}:t,l=vt(),u=Rr(),h=Uv(e,{relative:o});return O.useCallback(d=>{if(s1(d,r)){d.preventDefault();let f=n!==void 0?n:Co(u)===Co(h);l(e,{replace:f,state:s,preventScrollReset:a,relative:o,viewTransition:c})}},[u,l,h,n,s,r,e,a,o,c])}function Wv(e){let t=O.useRef(Eu(e)),r=O.useRef(!1),n=Rr(),s=O.useMemo(()=>i1(n.search,r.current?null:t.current),[n.search]),a=vt(),o=O.useCallback((c,l)=>{const u=Eu(typeof c=="function"?c(s):c);r.current=!0,a("?"+u,l)},[a,s]);return[s,o]}function ol(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function h1(e,t,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function c(h){try{u(n.next(h))}catch(d){o(d)}}function l(h){try{u(n.throw(h))}catch(d){o(d)}}function u(h){h.done?a(h.value):s(h.value).then(c,l)}u((n=n.apply(e,t||[])).next())})}const p1=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class lf extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class m1 extends lf{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Kh extends lf{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Yh extends lf{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Tu;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Tu||(Tu={}));class g1{constructor(t,{headers:r={},customFetch:n,region:s=Tu.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=p1(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return h1(this,arguments,void 0,function*(r,n={}){var s;let a,o;try{const{headers:c,method:l,body:u,signal:h,timeout:d}=n;let f={},{region:p}=n;p||(p=this.region);const b=new URL(`${this.url}/${r}`);p&&p!=="any"&&(f["x-region"]=p,b.searchParams.set("forceFunctionRegion",p));let x;u&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",x=u):typeof u=="string"?(f["Content-Type"]="text/plain",x=u):typeof FormData<"u"&&u instanceof FormData?x=u:(f["Content-Type"]="application/json",x=JSON.stringify(u)):x=u;let w=h;d&&(o=new AbortController,a=setTimeout(()=>o.abort(),d),h?(w=o.signal,h.addEventListener("abort",()=>o.abort())):w=o.signal);const g=yield this.fetch(b.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),c),body:x,signal:w}).catch(j=>{throw new m1(j)}),m=g.headers.get("x-relay-error");if(m&&m==="true")throw new Kh(g);if(!g.ok)throw new Yh(g);let v=((s=g.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),y;return v==="application/json"?y=yield g.json():v==="application/octet-stream"||v==="application/pdf"?y=yield g.blob():v==="text/event-stream"?y=g:v==="multipart/form-data"?y=yield g.formData():y=yield g.text(),{data:y,error:null,response:g}}catch(c){return{data:null,error:c,response:c instanceof Yh||c instanceof Kh?c.context:void 0}}finally{a&&clearTimeout(a)}})}}var v1=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},y1=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{let o=null,c=null,l=null,u=a.status,h=a.statusText;if(a.ok){var d,f;if(r.method!=="HEAD"){var p;const g=await a.text();g===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((p=r.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?c=g:c=JSON.parse(g))}const x=(d=r.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),w=(f=a.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");x&&w&&w.length>1&&(l=parseInt(w[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(c)&&(c.length>1?(o={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,l=null,u=406,h="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{var b;const x=await a.text();try{o=JSON.parse(x),Array.isArray(o)&&a.status===404&&(c=[],o=null,u=200,h="OK")}catch{a.status===404&&x===""?(u=204,h="No Content"):o={message:x}}if(o&&r.isMaybeSingle&&(!(o==null||(b=o.details)===null||b===void 0)&&b.includes("0 rows"))&&(o=null,u=200,h="OK"),o&&r.shouldThrowOnError)throw new v1(o)}return{error:o,data:c,count:l,status:u,statusText:h}});return this.shouldThrowOnError||(s=s.catch(a=>{var o;let c="";const l=a==null?void 0:a.cause;if(l){var u,h,d,f;const b=(u=l==null?void 0:l.message)!==null&&u!==void 0?u:"",x=(h=l==null?void 0:l.code)!==null&&h!==void 0?h:"";c=`${(d=a==null?void 0:a.name)!==null&&d!==void 0?d:"FetchError"}: ${a==null?void 0:a.message}`,c+=`

Caused by: ${(f=l==null?void 0:l.name)!==null&&f!==void 0?f:"Error"}: ${b}`,x&&(c+=` (${x})`),l!=null&&l.stack&&(c+=`
${l.stack}`)}else{var p;c=(p=a==null?void 0:a.stack)!==null&&p!==void 0?p:""}return{error:{message:`${(o=a==null?void 0:a.name)!==null&&o!==void 0?o:"FetchError"}: ${a==null?void 0:a.message}`,details:c,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},x1=class extends y1{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:s=n}={}){const a=s?`${s}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"offset":`${n}.offset`,a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(a,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:s=!1,format:a="text"}={}){var o;const c=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),l=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${l}"; options=${c};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const Jh=new RegExp("[,()]");var es=class extends x1{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&Jh.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&Jh.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let s="";n==="plain"?s="pl":n==="phrase"?s="ph":n==="websearch"&&(s="w");const a=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${a}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},b1=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n}select(e,t){const{head:r=!1,count:n}=t??{},s=r?"HEAD":"GET";let a=!1;const o=(e??"*").split("").map(c=>/\s/.test(c)&&!a?"":(c==='"'&&(a=!a),c)).join("");return this.url.searchParams.set("select",o),n&&this.headers.append("Prefer",`count=${n}`),new es({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const s="POST";if(t&&this.headers.append("Prefer",`count=${t}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const a=e.reduce((o,c)=>o.concat(Object.keys(c)),[]);if(a.length>0){const o=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",o.join(","))}}return new es({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}={}){var a;const o="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),n&&this.headers.append("Prefer",`count=${n}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const c=e.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(c.length>0){const l=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new es({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}update(e,{count:t}={}){var r;const n="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new es({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new es({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},w1=class Gv{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new b1(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Gv(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:a}={}){var o;let c;const l=new URL(`${this.url}/rpc/${t}`);let u;n||s?(c=n?"HEAD":"GET",Object.entries(r).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{l.searchParams.append(d,f)})):(c="POST",u=r);const h=new Headers(this.headers);return a&&h.set("Prefer",`count=${a}`),new es({method:c,url:l,headers:h,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class j1{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const _1="2.89.0",N1=`realtime-js/${_1}`,Kv="1.0.0",S1="2.0.0",Qh=Kv,Ou=1e4,k1=1e3,E1=100;var zr;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(zr||(zr={}));var ze;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ze||(ze={}));var Gt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Gt||(Gt={}));var Cu;(function(e){e.websocket="websocket"})(Cu||(Cu={}));var Sn;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Sn||(Sn={}));class T1{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,r,n){var s,a;const o=t.topic,c=(s=t.ref)!==null&&s!==void 0?s:"",l=(a=t.join_ref)!==null&&a!==void 0?a:"",u=t.payload.event,h=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},d=Object.keys(h).length===0?"":JSON.stringify(h);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`ref length ${c.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`metadata length ${d.length} exceeds maximum of 255`);const f=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+c.length+o.length+u.length+d.length,p=new ArrayBuffer(this.HEADER_LENGTH+f);let b=new DataView(p),x=0;b.setUint8(x++,this.KINDS.userBroadcastPush),b.setUint8(x++,l.length),b.setUint8(x++,c.length),b.setUint8(x++,o.length),b.setUint8(x++,u.length),b.setUint8(x++,d.length),b.setUint8(x++,r),Array.from(l,g=>b.setUint8(x++,g.charCodeAt(0))),Array.from(c,g=>b.setUint8(x++,g.charCodeAt(0))),Array.from(o,g=>b.setUint8(x++,g.charCodeAt(0))),Array.from(u,g=>b.setUint8(x++,g.charCodeAt(0))),Array.from(d,g=>b.setUint8(x++,g.charCodeAt(0)));var w=new Uint8Array(p.byteLength+n.byteLength);return w.set(new Uint8Array(p),0),w.set(new Uint8Array(n),p.byteLength),w.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[s,a,o,c,l]=n;return r({join_ref:s,ref:a,topic:o,event:c,payload:l})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,s)}}_decodeUserBroadcast(t,r,n){const s=r.getUint8(1),a=r.getUint8(2),o=r.getUint8(3),c=r.getUint8(4);let l=this.HEADER_LENGTH+4;const u=n.decode(t.slice(l,l+s));l=l+s;const h=n.decode(t.slice(l,l+a));l=l+a;const d=n.decode(t.slice(l,l+o));l=l+o;const f=t.slice(l,t.byteLength),p=c===this.JSON_ENCODING?JSON.parse(n.decode(f)):f,b={type:this.BROADCAST_EVENT,event:h,payload:p};return o>0&&(b.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:b}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class Yv{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var je;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(je||(je={}));const Xh=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((a,o)=>(a[o]=O1(o,e,t,s),a),{}):{}},O1=(e,t,r,n)=>{const s=t.find(c=>c.name===e),a=s==null?void 0:s.type,o=r[e];return a&&!n.includes(a)?Jv(a,o):Pu(o)},Jv=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return I1(t,r)}switch(e){case je.bool:return C1(t);case je.float4:case je.float8:case je.int2:case je.int4:case je.int8:case je.numeric:case je.oid:return P1(t);case je.json:case je.jsonb:return A1(t);case je.timestamp:return R1(t);case je.abstime:case je.date:case je.daterange:case je.int4range:case je.int8range:case je.money:case je.reltime:case je.text:case je.time:case je.timestamptz:case je.timetz:case je.tsrange:case je.tstzrange:return Pu(t);default:return Pu(t)}},Pu=e=>e,C1=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},P1=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},A1=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},I1=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const o=e.slice(1,r);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(c=>Jv(t,c))}return e},R1=e=>typeof e=="string"?e.replace(" ","T"):e,Qv=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class sc{constructor(t,r,n={},s=Ou){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Zh;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Zh||(Zh={}));class _i{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:a,onLeave:o,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=_i.syncState(this.state,s,a,o),this.pendingDiffs.forEach(l=>{this.state=_i.syncDiff(this.state,l,a,o)}),this.pendingDiffs=[],c()}),this.channel._on(n.diff,{},s=>{const{onJoin:a,onLeave:o,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=_i.syncDiff(this.state,s,a,o),c())}),this.onJoin((s,a,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:a,newPresences:o})}),this.onLeave((s,a,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const a=this.cloneDeep(t),o=this.transformState(r),c={},l={};return this.map(a,(u,h)=>{o[u]||(l[u]=h)}),this.map(o,(u,h)=>{const d=a[u];if(d){const f=h.map(w=>w.presence_ref),p=d.map(w=>w.presence_ref),b=h.filter(w=>p.indexOf(w.presence_ref)<0),x=d.filter(w=>f.indexOf(w.presence_ref)<0);b.length>0&&(c[u]=b),x.length>0&&(l[u]=x)}else c[u]=h}),this.syncDiff(a,{joins:c,leaves:l},n,s)}static syncDiff(t,r,n,s){const{joins:a,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(a,(c,l)=>{var u;const h=(u=t[c])!==null&&u!==void 0?u:[];if(t[c]=this.cloneDeep(l),h.length>0){const d=t[c].map(p=>p.presence_ref),f=h.filter(p=>d.indexOf(p.presence_ref)<0);t[c].unshift(...f)}n(c,h,l)}),this.map(o,(c,l)=>{let u=t[c];if(!u)return;const h=l.map(d=>d.presence_ref);u=u.filter(d=>h.indexOf(d.presence_ref)<0),t[c]=u,s(c,u,l),u.length===0&&delete t[c]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ep;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(ep||(ep={}));var Ni;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Ni||(Ni={}));var vr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(vr||(vr={}));class ms{constructor(t,r={config:{}},n){var s,a;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=ze.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new sc(this,Gt.join,this.params,this.timeout),this.rejoinTimer=new Yv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ze.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ze.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ze.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ze.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ze.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Gt.reply,{},(o,c)=>{this._trigger(this._replyEventName(c),o)}),this.presence=new _i(this),this.broadcastEndpointURL=Qv(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,s,a;if(this.socket.isConnected()||this.socket.connect(),this.state==ze.closed){const{config:{broadcast:o,presence:c,private:l}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&s!==void 0?s:[],h=!!this.bindings[Ni.PRESENCE]&&this.bindings[Ni.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,d={},f={broadcast:o,presence:Object.assign(Object.assign({},c),{enabled:h}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(vr.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(vr.CLOSED)),this.updateJoinPayload(Object.assign({config:f},d)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var b;if(this.socket._isManualToken()||this.socket.setAuth(),p===void 0){t==null||t(vr.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,w=(b=x==null?void 0:x.length)!==null&&b!==void 0?b:0,g=[];for(let m=0;m<w;m++){const v=x[m],{filter:{event:y,schema:j,table:S,filter:N}}=v,_=p&&p[m];if(_&&_.event===y&&ms.isFilterValueEqual(_.schema,j)&&ms.isFilterValueEqual(_.table,S)&&ms.isFilterValueEqual(_.filter,N))g.push(Object.assign(Object.assign({},v),{id:_.id}));else{this.unsubscribe(),this.state=ze.errored,t==null||t(vr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(vr.SUBSCRIBED);return}}).receive("error",p=>{this.state=ze.errored,t==null||t(vr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(vr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===ze.joined&&t===Ni.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var s;if(r==null)return Promise.reject("Payload is required for httpSend()");const a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},c=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(c.status===202)return{success:!0};let l=c.statusText;try{const u=await c.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:o}=t,c={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(c.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:c,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,c,l;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(c=(o=this.params)===null||o===void 0?void 0:o.config)===null||c===void 0?void 0:c.broadcast)===null||l===void 0)&&l.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ze.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Gt.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new sc(this,Gt.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ze.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,a=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(a),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new sc(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>E1){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,a;const o=t.toLocaleLowerCase(),{close:c,error:l,leave:u,join:h}=Gt;if(n&&[c,l,u,h].indexOf(o)>=0&&n!==this._joinRef())return;let f=this._onMessage(o,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var b,x,w;return((b=p.filter)===null||b===void 0?void 0:b.event)==="*"||((w=(x=p.filter)===null||x===void 0?void 0:x.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(p=>p.callback(f,n)):(a=this.bindings[o])===null||a===void 0||a.filter(p=>{var b,x,w,g,m,v;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const y=p.id,j=(b=p.filter)===null||b===void 0?void 0:b.event;return y&&((x=r.ids)===null||x===void 0?void 0:x.includes(y))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const y=(m=(g=p==null?void 0:p.filter)===null||g===void 0?void 0:g.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return y==="*"||y===((v=r==null?void 0:r.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof f=="object"&&"ids"in f){const b=f.data,{schema:x,table:w,commit_timestamp:g,type:m,errors:v}=b;f=Object.assign(Object.assign({},{schema:x,table:w,commit_timestamp:g,eventType:m,new:{},old:{},errors:v}),this._getPayloadRecords(b))}p.callback(f,n)})}_isClosed(){return this.state===ze.closed}_isJoined(){return this.state===ze.joined}_isJoining(){return this.state===ze.joining}_isLeaving(){return this.state===ze.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),a={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(a):this.bindings[s]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var a;return!(((a=s.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&ms.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Gt.close,{},t)}_onError(t){this._on(Gt.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ze.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Xh(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Xh(t.columns,t.old_record)),r}}const ic=()=>{},$a={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},L1=[1e3,2e3,5e3,1e4],M1=1e4,$1=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class D1{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ou,this.transport=null,this.heartbeatIntervalMs=$a.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ic,this.ref=0,this.reconnectTimer=null,this.vsn=Qh,this.logger=ic,this.conn=null,this.sendBuffer=[],this.serializer=new T1,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...a)=>s(...a):(...a)=>fetch(...a),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Cu.websocket}`,this.httpEndpoint=Qv(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=j1.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case zr.connecting:return Sn.Connecting;case zr.open:return Sn.Open;case zr.closing:return Sn.Closing;default:return Sn.Closed}}isConnected(){return this.connectionState()===Sn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(a=>a.topic===n);if(s)return s;{const a=new ms(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:s,ref:a}=t,o=()=>{this.encode(t,c=>{var l;(l=this.conn)===null||l===void 0||l.send(c)})};this.log("push",`${r} ${n} (${a})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(k1,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},$a.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:a,ref:o}=r,c=o?`(${o})`:"",l=a.status||"";this.log("receive",`${l} ${n} ${s} ${c}`.trim(),a),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,a,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===zr.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===zr.open||this.conn.readyState===zr.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Gt.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([$1],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const a={access_token:r,version:N1};r&&s.updateJoinPayload(a),s.joinedOnce&&s._isJoined()&&s._push(Gt.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Yv(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},$a.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,a,o,c,l,u,h,d,f,p;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Ou,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:$a.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(c=t==null?void 0:t.heartbeatCallback)!==null&&c!==void 0?c:ic,this.vsn=(l=t==null?void 0:t.vsn)!==null&&l!==void 0?l:Qh,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:b=>L1[b-1]||M1,this.vsn){case Kv:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:(b,x)=>x(JSON.stringify(b)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:(b,x)=>x(JSON.parse(b));break;case S1:this.encode=(f=t==null?void 0:t.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var Yi=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function F1(e,t,r){const n=new URL(t,e);if(r)for(const[s,a]of Object.entries(r))a!==void 0&&n.searchParams.set(s,a);return n.toString()}async function q1(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function B1(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:a,headers:o}){const c=F1(e.baseUrl,n,s),l=await q1(e.auth),u=await t(c,{method:r,headers:{...a?{"Content-Type":"application/json"}:{},...l,...o},body:a?JSON.stringify(a):void 0}),h=await u.text(),d=(u.headers.get("content-type")||"").includes("application/json"),f=d&&h?JSON.parse(h):h;if(!u.ok){const p=d?f:void 0,b=p==null?void 0:p.error;throw new Yi((b==null?void 0:b.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:b==null?void 0:b.type,icebergCode:b==null?void 0:b.code,details:p})}return{status:u.status,headers:u.headers,data:f}}}}function Da(e){return e.join("")}var U1=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Da(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Da(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Da(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Da(e.namespace)}`}),!0}catch(t){if(t instanceof Yi&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof Yi&&r.status===409)return;throw r}}};function Kn(e){return e.join("")}var z1=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Kn(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Kn(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Kn(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Kn(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Kn(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Kn(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof Yi&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof Yi&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},H1=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=B1({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new U1(this.client,t),this.tableOps=new z1(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},ll=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function Oe(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var V1=class extends ll{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Au=class extends ll{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const cf=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),W1=()=>Response,Iu=e=>{if(Array.isArray(e))return e.map(r=>Iu(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[s]=Iu(n)}),t},G1=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},K1=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Ji(e){"@babel/helpers - typeof";return Ji=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ji(e)}function Y1(e,t){if(Ji(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ji(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function J1(e){var t=Y1(e,"string");return Ji(t)=="symbol"?t:t+""}function Q1(e,t,r){return(t=J1(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function fe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tp(Object(r),!0).forEach(function(n){Q1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tp(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const ac=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},X1=async(e,t,r)=>{e instanceof await W1()&&!(r!=null&&r.noResolveJson)?e.json().then(n=>{const s=e.status||500,a=(n==null?void 0:n.statusCode)||s+"";t(new V1(ac(n),s,a))}).catch(n=>{t(new Au(ac(n),n))}):t(new Au(ac(e),e))},Z1=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(G1(n)?(s.headers=fe({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),fe(fe({},s),r))};async function ha(e,t,r,n,s,a){return new Promise((o,c)=>{e(r,Z1(t,n,s,a)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>X1(l,c,n))})}async function Qi(e,t,r,n){return ha(e,"GET",t,r,n)}async function Vt(e,t,r,n,s){return ha(e,"POST",t,n,s,r)}async function Ru(e,t,r,n,s){return ha(e,"PUT",t,n,s,r)}async function ej(e,t,r,n){return ha(e,"HEAD",t,fe(fe({},r),{},{noResolveJson:!0}),n)}async function uf(e,t,r,n,s){return ha(e,"DELETE",t,n,s,r)}var tj=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Oe(t))return{data:null,error:t};throw t}}};let Xv;Xv=Symbol.toStringTag;var rj=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[Xv]="BlobDownloadBuilder",this.promise=null}asStream(){return new tj(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Oe(t))return{data:null,error:t};throw t}}};const nj={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},rp={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var sj=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=cf(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,r,n){var s=this;try{let a;const o=fe(fe({},rp),n);let c=fe(fe({},s.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),l&&a.append("metadata",s.encodeMetadata(l)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.has("cacheControl")||a.append("cacheControl",o.cacheControl),l&&!a.has("metadata")&&a.append("metadata",s.encodeMetadata(l))):(a=r,c["cache-control"]=`max-age=${o.cacheControl}`,c["content-type"]=o.contentType,l&&(c["x-metadata"]=s.toBase64(s.encodeMetadata(l))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!o.duplex&&(o.duplex="half")),n!=null&&n.headers&&(c=fe(fe({},c),n.headers));const u=s._removeEmptyFolders(t),h=s._getFinalPath(u),d=await(e=="PUT"?Ru:Vt)(s.fetch,`${s.url}/object/${h}`,a,fe({headers:c},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:d.Id,fullPath:d.Key},error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(Oe(a))return{data:null,error:a};throw a}}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var s=this;const a=s._removeEmptyFolders(e),o=s._getFinalPath(a),c=new URL(s.url+`/object/upload/sign/${o}`);c.searchParams.set("token",t);try{let l;const u=fe({upsert:rp.upsert},n),h=fe(fe({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType),{data:{path:a,fullPath:(await Ru(s.fetch,c.toString(),l,{headers:h})).Key},error:null}}catch(l){if(s.shouldThrowOnError)throw l;if(Oe(l))return{data:null,error:l};throw l}}async createSignedUploadUrl(e,t){var r=this;try{let n=r._getFinalPath(e);const s=fe({},r.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const a=await Vt(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(r.url+a.url),c=o.searchParams.get("token");if(!c)throw new ll("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:c},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Oe(n))return{data:null,error:n};throw n}}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;try{return{data:await Vt(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Oe(s))return{data:null,error:s};throw s}}async copy(e,t,r){var n=this;try{return{data:{path:(await Vt(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Oe(s))return{data:null,error:s};throw s}}async createSignedUrl(e,t,r){var n=this;try{let s=n._getFinalPath(e),a=await Vt(n.fetch,`${n.url}/object/sign/${s}`,fe({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${n.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Oe(s))return{data:null,error:s};throw s}}async createSignedUrls(e,t,r){var n=this;try{const s=await Vt(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>fe(fe({},o),{},{signedUrl:o.signedURL?encodeURI(`${n.url}${o.signedURL}${a}`):null})),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Oe(s))return{data:null,error:s};throw s}}download(e,t){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=n?`?${n}`:"",a=this._getFinalPath(e),o=()=>Qi(this.fetch,`${this.url}/${r}/${a}${s}`,{headers:this.headers,noResolveJson:!0});return new rj(o,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);try{return{data:Iu(await Qi(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Oe(n))return{data:null,error:n};throw n}}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await ej(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Oe(n)&&n instanceof Au){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&n.push(s);const a=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});o!==""&&n.push(o);let c=n.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}async remove(e){var t=this;try{return{data:await uf(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Oe(r))return{data:null,error:r};throw r}}async list(e,t,r){var n=this;try{const s=fe(fe(fe({},nj),t),{},{prefix:e||""});return{data:await Vt(n.fetch,`${n.url}/object/list/${n.bucketId}`,s,{headers:n.headers},r),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Oe(s))return{data:null,error:s};throw s}}async listV2(e,t){var r=this;try{const n=fe({},e);return{data:await Vt(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Oe(n))return{data:null,error:n};throw n}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const Zv="2.89.0",ey={"X-Client-Info":`storage-js/${Zv}`};var ij=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1;const s=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=fe(fe({},ey),t),this.fetch=cf(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const r=t.listBucketOptionsToQueryString(e);return{data:await Qi(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Oe(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await Qi(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Oe(r))return{data:null,error:r};throw r}}async createBucket(e,t={public:!1}){var r=this;try{return{data:await Vt(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Oe(n))return{data:null,error:n};throw n}}async updateBucket(e,t){var r=this;try{return{data:await Ru(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Oe(n))return{data:null,error:n};throw n}}async emptyBucket(e){var t=this;try{return{data:await Vt(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Oe(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await uf(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Oe(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},aj=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=fe(fe({},ey),t),this.fetch=cf(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Vt(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Oe(r))return{data:null,error:r};throw r}}async listBuckets(e){var t=this;try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),s=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return{data:await Qi(t.fetch,s,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Oe(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await uf(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Oe(r))return{data:null,error:r};throw r}}from(e){var t=this;if(!K1(e))throw new ll("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new H1({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(s,a){const o=s[a];return typeof o!="function"?o:async(...c)=>{try{return{data:await o.apply(s,c),error:null}}catch(l){if(n)throw l;return{data:null,error:l}}}}})}};const df={"X-Client-Info":`storage-js/${Zv}`,"Content-Type":"application/json"};var ty=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function jt(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var oc=class extends ty{constructor(e,t,r){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},oj=class extends ty{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const ff=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),lj=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},np=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),cj=async(e,t,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const n=e.status||500,s=e;if(typeof s.json=="function")s.json().then(a=>{const o=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||n+"";t(new oc(np(a),n,o))}).catch(()=>{const a=n+"";t(new oc(s.statusText||`HTTP ${n} error`,n,a))});else{const a=n+"";t(new oc(s.statusText||`HTTP ${n} error`,n,a))}}else t(new oj(np(e),e))},uj=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(lj(n)?(s.headers=fe({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,fe(fe({},s),r)):s};async function dj(e,t,r,n,s,a){return new Promise((o,c)=>{e(r,uj(t,n,s,a)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>cj(l,c,n))})}async function _t(e,t,r,n,s){return dj(e,"POST",t,n,s,r)}var fj=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=fe(fe({},df),t),this.fetch=ff(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await _t(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(jt(r))return{data:null,error:r};throw r}}async getIndex(e,t){var r=this;try{return{data:await _t(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(jt(n))return{data:null,error:n};throw n}}async listIndexes(e){var t=this;try{return{data:await _t(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(jt(r))return{data:null,error:r};throw r}}async deleteIndex(e,t){var r=this;try{return{data:await _t(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(jt(n))return{data:null,error:n};throw n}}},hj=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=fe(fe({},df),t),this.fetch=ff(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await _t(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(jt(r))return{data:null,error:r};throw r}}async getVectors(e){var t=this;try{return{data:await _t(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(jt(r))return{data:null,error:r};throw r}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await _t(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(jt(r))return{data:null,error:r};throw r}}async queryVectors(e){var t=this;try{return{data:await _t(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(jt(r))return{data:null,error:r};throw r}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await _t(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(jt(r))return{data:null,error:r};throw r}}},pj=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=fe(fe({},df),t),this.fetch=ff(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await _t(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(jt(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await _t(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(jt(r))return{data:null,error:r};throw r}}async listBuckets(e={}){var t=this;try{return{data:await _t(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(jt(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await _t(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(jt(r))return{data:null,error:r};throw r}}},mj=class extends pj{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new gj(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},gj=class extends fj{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,fe(fe({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,fe(fe({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new vj(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},vj=class extends hj{constructor(e,t,r,n,s){super(e,t,s),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,fe(fe({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,fe(fe({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,fe(fe({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,fe(fe({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,fe(fe({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},yj=class extends ij{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new sj(this.url,this.headers,e,this.fetch)}get vectors(){return new mj(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new aj(this.url+"/iceberg",this.headers,this.fetch)}};const ry="2.89.0",ts=30*1e3,Lu=3,lc=Lu*ts,xj="http://localhost:9999",bj="supabase.auth.token",wj={"X-Client-Info":`gotrue-js/${ry}`},Mu="X-Supabase-Api-Version",ny={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},jj=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,_j=10*60*1e3;class Xi extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function ce(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Nj extends Xi{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Sj(e){return ce(e)&&e.name==="AuthApiError"}class kn extends Xi{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Lr extends Xi{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class xt extends Lr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function kj(e){return ce(e)&&e.name==="AuthSessionMissingError"}class Yn extends Lr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Fa extends Lr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class qa extends Lr{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Ej(e){return ce(e)&&e.name==="AuthImplicitGrantRedirectError"}class sp extends Lr{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Tj extends Lr{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class $u extends Lr{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function cc(e){return ce(e)&&e.name==="AuthRetryableFetchError"}class ip extends Lr{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Du extends Lr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Po="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ap=` 	
\r=`.split(""),Oj=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<ap.length;t+=1)e[ap[t].charCodeAt(0)]=-2;for(let t=0;t<Po.length;t+=1)e[Po[t].charCodeAt(0)]=t;return e})();function op(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Po[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Po[n]),t.queuedBits-=6}}function sy(e,t,r){const n=Oj[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function lp(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},a=o=>{Aj(o,n,r)};for(let o=0;o<e.length;o+=1)sy(e.charCodeAt(o),s,a);return t.join("")}function Cj(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Pj(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}Cj(n,t)}}function Aj(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function _s(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)sy(e.charCodeAt(s),r,n);return new Uint8Array(t)}function Ij(e){const t=[];return Pj(e,r=>t.push(r)),new Uint8Array(t)}function Pn(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>op(s,r,n)),op(null,r,n),t.join("")}function Rj(e){return Math.round(Date.now()/1e3)+e}function Lj(){return Symbol("auth-callback")}const Ye=()=>typeof window<"u"&&typeof document<"u",yn={tested:!1,writable:!1},iy=()=>{if(!Ye())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(yn.tested)return yn.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),yn.tested=!0,yn.writable=!0}catch{yn.tested=!0,yn.writable=!1}return yn.writable};function Mj(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,a)=>{t[a]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const ay=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),$j=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",rs=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},xn=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ke=async(e,t)=>{await e.removeItem(t)};class cl{constructor(){this.promise=new cl.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}cl.promiseConstructor=Promise;function uc(e){const t=e.split(".");if(t.length!==3)throw new Du("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!jj.test(t[n]))throw new Du("JWT not in base64url format");return{header:JSON.parse(lp(t[0])),payload:JSON.parse(lp(t[1])),signature:_s(t[2]),raw:{header:t[0],payload:t[1]}}}async function Dj(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Fj(e,t){return new Promise((n,s)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){n(o);return}}catch(o){if(!t(a,o)){s(o);return}}})()})}function qj(e){return("0"+e.toString(16)).substr(-2)}function Bj(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let a=0;a<56;a++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,qj).join("")}async function Uj(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(a=>String.fromCharCode(a)).join("")}async function zj(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await Uj(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Jn(e,t,r=!1){const n=Bj();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await rs(e,`${t}-code-verifier`,s);const a=await zj(n);return[a,n===a?"plain":"s256"]}const Hj=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Vj(e){const t=e.headers.get(Mu);if(!t||!t.match(Hj))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Wj(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Gj(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Kj=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Qn(e){if(!Kj.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function dc(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Yj(e,t){return new Proxy(e,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,s)}})}function cp(e){return JSON.parse(JSON.stringify(e))}const jn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Jj=[502,503,504];async function up(e){var t;if(!$j(e))throw new $u(jn(e),0);if(Jj.includes(e.status))throw new $u(jn(e),e.status);let r;try{r=await e.json()}catch(a){throw new kn(jn(a),a)}let n;const s=Vj(e);if(s&&s.getTime()>=ny["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new ip(jn(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new xt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new ip(jn(r),e.status,r.weak_password.reasons);throw new Nj(jn(r),e.status||500,n)}const Qj=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function de(e,t,r,n){var s;const a=Object.assign({},n==null?void 0:n.headers);a[Mu]||(a[Mu]=ny["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const c=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Xj(e,t,r+c,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function Xj(e,t,r,n,s,a){const o=Qj(t,n,s,a);let c;try{c=await e(r,Object.assign({},o))}catch(l){throw console.error(l),new $u(jn(l),0)}if(c.ok||await up(c),n!=null&&n.noResolveJson)return c;try{return await c.json()}catch(l){await up(l)}}function zt(e){var t;let r=null;t2(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Rj(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function dp(e){const t=zt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Wr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Zj(e){return{data:e,error:null}}function e2(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a}=e,o=ol(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a},l=Object.assign({},o);return{data:{properties:c,user:l},error:null}}function fp(e){return e}function t2(e){return e.access_token&&e.refresh_token&&e.expires_in}const fc=["global","local","others"];class r2{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=ay(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=fc[0]){if(fc.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${fc.join(", ")}`);try{return await de(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ce(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await de(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Wr})}catch(n){if(ce(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=ol(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await de(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:e2,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ce(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await de(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Wr})}catch(r){if(ce(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,a,o,c,l;try{const u={nextPage:null,lastPage:0,total:0},h=await de(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:fp});if(h.error)throw h.error;const d=await h.json(),f=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(c=h.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(b=>{const x=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(b.split(";")[1].split("=")[1]);u[`${w}Page`]=x}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(ce(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Qn(t);try{return await de(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Wr})}catch(r){if(ce(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Qn(t);try{return await de(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Wr})}catch(n){if(ce(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Qn(t);try{return await de(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Wr})}catch(n){if(ce(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Qn(t.userId);try{const{data:r,error:n}=await de(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(ce(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Qn(t.userId),Qn(t.id);try{return{data:await de(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(ce(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,s,a,o,c,l;try{const u={nextPage:null,lastPage:0,total:0},h=await de(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:fp});if(h.error)throw h.error;const d=await h.json(),f=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(c=h.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(b=>{const x=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(b.split(";")[1].split("=")[1]);u[`${w}Page`]=x}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(ce(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await de(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ce(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await de(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ce(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await de(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ce(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await de(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ce(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await de(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ce(r))return{data:null,error:r};throw r}}}function hp(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Xn={debug:!!(globalThis&&iy()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class oy extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class n2 extends oy{}async function s2(e,t,r){Xn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Xn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Xn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Xn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Xn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new n2(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Xn.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function i2(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function ly(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function a2(e){return parseInt(e,16)}function o2(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function l2(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:a=new Date,nonce:o,notBefore:c,requestId:l,resources:u,scheme:h,uri:d,version:f}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=ly(e.address),b=h?`${h}://${n}`:n,x=e.statement?`${e.statement}
`:"",w=`${b} wants you to sign in with your Ethereum account:
${p}

${x}`;let g=`URI: ${d}
Version: ${f}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${a.toISOString()}`;if(s&&(g+=`
Expiration Time: ${s.toISOString()}`),c&&(g+=`
Not Before: ${c.toISOString()}`),l&&(g+=`
Request ID: ${l}`),u){let m=`
Resources:`;for(const v of u){if(!v||typeof v!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${v}`);m+=`
- ${v}`}g+=m}return`${w}
${g}`}class qe extends Error{constructor({message:t,code:r,cause:n,name:s}){var a;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(a=s??(n instanceof Error?n.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=r}}class Ao extends qe{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function c2({error:e,options:t}){var r,n,s;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new qe({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=a.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new qe({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=a.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new qe({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=a.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new qe({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new qe({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new qe({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(c=>c.type==="public-key").length===0?new qe({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new qe({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(cy(o)){if(a.rp.id!==o)return new qe({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new qe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new qe({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new qe({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new qe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function u2({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new qe({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new qe({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(cy(n)){if(r.rpId!==n)return new qe({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new qe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new qe({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new qe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class d2{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const f2=new d2;function h2(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,s=ol(e,["challenge","user","excludeCredentials"]),a=_s(t).buffer,o=Object.assign(Object.assign({},r),{id:_s(r.id).buffer}),c=Object.assign(Object.assign({},s),{challenge:a,user:o});if(n&&n.length>0){c.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];c.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:_s(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return c}function p2(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=ol(e,["challenge","allowCredentials"]),s=_s(t).buffer,a=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){a.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const c=r[o];a.allowCredentials[o]=Object.assign(Object.assign({},c),{id:_s(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function m2(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Pn(new Uint8Array(e.response.attestationObject)),clientDataJSON:Pn(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function g2(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Pn(new Uint8Array(s.authenticatorData)),clientDataJSON:Pn(new Uint8Array(s.clientDataJSON)),signature:Pn(new Uint8Array(s.signature)),userHandle:s.userHandle?Pn(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function cy(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function pp(){var e,t;return!!(Ye()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function v2(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Ao("Browser returned unexpected credential type",t)}:{data:null,error:new Ao("Empty credential response",t)}}catch(t){return{data:null,error:c2({error:t,options:e})}}}async function y2(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Ao("Browser returned unexpected credential type",t)}:{data:null,error:new Ao("Empty credential response",t)}}catch(t){return{data:null,error:u2({error:t,options:e})}}}const x2={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},b2={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Io(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const a in s){const o=s[a];if(o!==void 0)if(Array.isArray(o))n[a]=o;else if(r(o))n[a]=o;else if(t(o)){const c=n[a];t(c)?n[a]=Io(c,o):n[a]=Io(o)}else n[a]=o}return n}function w2(e,t){return Io(x2,e,t||{})}function j2(e,t){return Io(b2,e,t||{})}class _2{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:s},a){try{const{data:o,error:c}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:c};const l=s??f2.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=w2(o.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:h,error:d}=await v2({publicKey:u,signal:l});return h?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:h}},error:null}:{data:null,error:d}}case"request":{const u=j2(o.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:h,error:d}=await y2(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:l}));return h?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:h}},error:null}:{data:null,error:d}}}}catch(o){return ce(o)?{data:null,error:o}:{data:null,error:new kn("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},a){if(!r)return{data:null,error:new Xi("rpId is required for WebAuthn authentication")};try{if(!pp())return{data:null,error:new kn("Browser does not support WebAuthn",null)};const{data:o,error:c}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:a});if(!o)return{data:null,error:c};const{webauthn:l}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(o){return ce(o)?{data:null,error:o}:{data:null,error:new kn("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},a){if(!r)return{data:null,error:new Xi("rpId is required for WebAuthn registration")};try{if(!pp())return{data:null,error:new kn("Browser does not support WebAuthn",null)};const{data:o,error:c}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(h=>{var d;return(d=h.data)===null||d===void 0?void 0:d.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===t&&f.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h==null?void 0:h.id}):void 0),{data:null,error:c};const{data:l,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:a});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(o){return ce(o)?{data:null,error:o}:{data:null,error:new kn("Unexpected error in register",o)}}}}i2();const N2={url:xj,storageKey:bj,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:wj,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function mp(e,t,r){return await r()}const Zn={};class Zi{get jwks(){var t,r;return(r=(t=Zn[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Zn[this.storageKey]=Object.assign(Object.assign({},Zn[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Zn[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Zn[this.storageKey]=Object.assign(Object.assign({},Zn[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},N2),t);if(this.storageKey=a.storageKey,this.instanceID=(r=Zi.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Zi.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&Ye()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new r2({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=ay(a.fetch),this.lock=a.lock||mp,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:this.persistSession&&Ye()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=s2:this.lock=mp,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new _2(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:iy()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=hp(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=hp(this.memoryStorage)),Ye()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${ry}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(Ye()&&(r=Mj(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Ye()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),Ej(a)){const l=(t=a.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:c}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",c),await this._saveSession(o),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ce(r)?this._returnResult({error:r}):this._returnResult({error:new kn("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const a=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:zt}),{data:o,error:c}=a;if(c||!o)return this._returnResult({data:{user:null,session:null},error:c});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(a){if(ce(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var r,n,s;try{let a;if("email"in t){const{email:h,password:d,options:f}=t;let p=null,b=null;this.flowType==="pkce"&&([p,b]=await Jn(this.storage,this.storageKey)),a=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:h,password:d,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:b},xform:zt})}else if("phone"in t){const{phone:h,password:d,options:f}=t;a=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:d,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:zt})}else throw new Fa("You must provide either an email or phone number and a password");const{data:o,error:c}=a;if(c||!o)return await Ke(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:c});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(a){if(await Ke(this.storage,`${this.storageKey}-code-verifier`),ce(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:o,options:c}=t;r=await de(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:dp})}else if("phone"in t){const{phone:a,password:o,options:c}=t;r=await de(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:dp})}else throw new Fa("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const a=new Yn;return this._returnResult({data:{user:null,session:null},error:a})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(ce(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,s,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,a,o,c,l,u,h,d,f;let p,b;if("message"in t)p=t.message,b=t.signature;else{const{chain:x,wallet:w,statement:g,options:m}=t;let v;if(Ye())if(typeof w=="object")v=w;else{const C=window;if("ethereum"in C&&typeof C.ethereum=="object"&&"request"in C.ethereum&&typeof C.ethereum.request=="function")v=C.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=w}const y=new URL((r=m==null?void 0:m.url)!==null&&r!==void 0?r:window.location.href),j=await v.request({method:"eth_requestAccounts"}).then(C=>C).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!j||j.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const S=ly(j[0]);let N=(n=m==null?void 0:m.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!N){const C=await v.request({method:"eth_chainId"});N=a2(C)}const _={domain:y.host,address:S,statement:g,uri:y.href,version:"1",chainId:N,nonce:(s=m==null?void 0:m.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(a=m==null?void 0:m.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(c=m==null?void 0:m.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(l=m==null?void 0:m.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=m==null?void 0:m.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(h=m==null?void 0:m.signInWithEthereum)===null||h===void 0?void 0:h.resources};p=l2(_),b=await v.request({method:"personal_sign",params:[o2(p),S]})}try{const{data:x,error:w}=await de(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:b},!((d=t.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:zt});if(w)throw w;if(!x||!x.session||!x.user){const g=new Yn;return this._returnResult({data:{user:null,session:null},error:g})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:w})}catch(x){if(ce(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async signInWithSolana(t){var r,n,s,a,o,c,l,u,h,d,f,p;let b,x;if("message"in t)b=t.message,x=t.signature;else{const{chain:w,wallet:g,statement:m,options:v}=t;let y;if(Ye())if(typeof g=="object")y=g;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))y=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=g}const j=new URL((r=v==null?void 0:v.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in y&&y.signIn){const S=await y.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},v==null?void 0:v.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),m?{statement:m}:null));let N;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")N=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)N=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)b=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),x=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in y)||typeof y.signMessage!="function"||!("publicKey"in y)||typeof y!="object"||!y.publicKey||!("toBase58"in y.publicKey)||typeof y.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${j.host} wants you to sign in with your Solana account:`,y.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(s=(n=v==null?void 0:v.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((a=v==null?void 0:v.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${v.signInWithSolana.notBefore}`]:[],...!((o=v==null?void 0:v.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${v.signInWithSolana.expirationTime}`]:[],...!((c=v==null?void 0:v.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${v.signInWithSolana.chainId}`]:[],...!((l=v==null?void 0:v.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${v.signInWithSolana.nonce}`]:[],...!((u=v==null?void 0:v.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${v.signInWithSolana.requestId}`]:[],...!((d=(h=v==null?void 0:v.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||d===void 0)&&d.length?["Resources",...v.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const S=await y.signMessage(new TextEncoder().encode(b),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=S}}try{const{data:w,error:g}=await de(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:Pn(x)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:zt});if(g)throw g;if(!w||!w.session||!w.user){const m=new Yn;return this._returnResult({data:{user:null,session:null},error:m})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:g})}catch(w){if(ce(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async _exchangeCodeForSession(t){const r=await xn(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new Tj;const{data:a,error:o}=await de(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:zt});if(await Ke(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!a||!a.session||!a.user){const c=new Yn;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:s??null}),error:o})}catch(a){if(await Ke(this.storage,`${this.storageKey}-code-verifier`),ce(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:a,nonce:o}=t,c=await de(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:zt}),{data:l,error:u}=c;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const h=new Yn;return this._returnResult({data:{user:null,session:null},error:h})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(r){if(ce(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,s,a,o;try{if("email"in t){const{email:c,options:l}=t;let u=null,h=null;this.flowType==="pkce"&&([u,h]=await Jn(this.storage,this.storageKey));const{error:d}=await de(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:h},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}if("phone"in t){const{phone:c,options:l}=t,{data:u,error:h}=await de(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(a=l==null?void 0:l.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:h})}throw new Fa("You must provide either an email or phone number.")}catch(c){if(await Ke(this.storage,`${this.storageKey}-code-verifier`),ce(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async verifyOtp(t){var r,n;try{let s,a;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:c}=await de(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:zt});if(c)throw c;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(ce(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var r,n,s,a,o;try{let c=null,l=null;this.flowType==="pkce"&&([c,l]=await Jn(this.storage,this.storageKey));const u=await de(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:l}),headers:this.headers,xform:Zj});return!((a=u.data)===null||a===void 0)&&a.url&&Ye()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(c){if(await Ke(this.storage,`${this.storageKey}-code-verifier`),ce(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new xt;const{error:s}=await de(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(ce(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:a}=t,{error:o}=await de(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:n,type:s,options:a}=t,{data:o,error:c}=await de(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:c})}throw new Fa("You must provide either an email or phone number and a type")}catch(r){if(ce(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await xn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<lc:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await xn(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=dc()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=Yj(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await de(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Wr}):await this._useSession(async r=>{var n,s,a;const{data:o,error:c}=r;if(c)throw c;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new xt}:await de(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0,xform:Wr})})}catch(r){if(ce(r))return kj(r)&&(await this._removeSession(),await Ke(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:a}=n;if(a)throw a;if(!s.session)throw new xt;const o=s.session;let c=null,l=null;this.flowType==="pkce"&&t.email!=null&&([c,l]=await Jn(this.storage,this.storageKey));const{data:u,error:h}=await de(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:c,code_challenge_method:l}),jwt:o.access_token,xform:Wr});if(h)throw h;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await Ke(this.storage,`${this.storageKey}-code-verifier`),ce(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new xt;const r=Date.now()/1e3;let n=r,s=!0,a=null;const{payload:o}=uc(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{data:c,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!c)return{data:{user:null,session:null},error:null};a=c}else{const{data:c,error:l}=await this._getUser(t.access_token);if(l)throw l;a={access_token:t.access_token,refresh_token:t.refresh_token,user:c.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(r){if(ce(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:c}=r;if(c)throw c;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new xt;const{data:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(ce(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!Ye())throw new qa("No browser detected.");if(t.error||t.error_description||t.error_code)throw new qa(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new sp("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new qa("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new sp("No code detected.");const{data:m,error:v}=await this._exchangeCodeForSession(t.code);if(v)throw v;const y=new URL(window.location.href);return y.searchParams.delete("code"),window.history.replaceState(window.history.state,"",y.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:a,refresh_token:o,expires_in:c,expires_at:l,token_type:u}=t;if(!a||!c||!o||!u)throw new qa("No session defined in URL");const h=Math.round(Date.now()/1e3),d=parseInt(c);let f=h+d;l&&(f=parseInt(l));const p=f-h;p*1e3<=ts&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${d}s`);const b=f-d;h-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,f,h):h-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,f,h);const{data:x,error:w}=await this._getUser(a);if(w)throw w;const g={provider_token:n,provider_refresh_token:s,access_token:a,expires_in:d,expires_at:f,refresh_token:o,token_type:u,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:g,redirectType:t.type},error:null})}catch(n){if(ce(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await xn(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return this._returnResult({error:a});const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:c}=await this.admin.signOut(o,t);if(c&&!(Sj(c)&&(c.status===404||c.status===401||c.status===403)))return this._returnResult({error:c})}return t!=="others"&&(await this._removeSession(),await Ke(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=Lj(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:a},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Jn(this.storage,this.storageKey,!0));try{return await de(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(await Ke(this.storage,`${this.storageKey}-code-verifier`),ce(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(ce(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:s}=await this._useSession(async a=>{var o,c,l,u,h;const{data:d,error:f}=a;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(c=t.options)===null||c===void 0?void 0:c.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await de(this.fetch,"GET",p,{headers:this.headers,jwt:(h=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&h!==void 0?h:void 0})});if(s)throw s;return Ye()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(ce(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:a}}=r;if(s)throw s;const{options:o,provider:c,token:l,access_token:u,nonce:h}=t,d=await de(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=a==null?void 0:a.access_token)!==null&&n!==void 0?n:void 0,body:{provider:c,id_token:l,access_token:u,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:zt}),{data:f,error:p}=d;return p?this._returnResult({data:{user:null,session:null},error:p}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new Yn}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:p}))}catch(s){if(await Ke(this.storage,`${this.storageKey}-code-verifier`),ce(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:a,error:o}=r;if(o)throw o;return await de(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(ce(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Fj(async s=>(s>0&&await Dj(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await de(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:zt})),(s,a)=>{const o=200*Math.pow(2,s);return a&&cc(a)&&Date.now()+o-n<ts})}catch(n){if(this._debug(r,"error",n),ce(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Ye()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await xn(this.storage,this.storageKey);if(s&&this.userStorage){let o=await xn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await rs(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:dc()}else if(s&&!s.user&&!s.user){const o=await xn(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Ke(this.storage,this.storageKey+"-user"),await rs(this.storage,this.storageKey,s)):s.user=dc()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const a=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<lc;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${lc}s`),a){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),cc(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:c}=await this._getUser(s.access_token);!c&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new xt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new cl;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new xt;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const c={data:a.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(a){if(this._debug(s,"error",a),ce(a)){const o={data:null,error:a};return cc(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(t,r)}catch(l){a.push(l)}});if(await Promise.all(o),a.length>0){for(let c=0;c<a.length;c+=1)console.error(a[c]);throw a[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Ke(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await rs(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const a=cp(s);await rs(this.storage,this.storageKey,a)}else{const s=cp(r);await rs(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Ke(this.storage,this.storageKey),await Ke(this.storage,this.storageKey+"-code-verifier"),await Ke(this.storage,this.storageKey+"-user"),this.userStorage&&await Ke(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ye()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ts);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/ts);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${ts}ms, refresh threshold is ${Lu} ticks`),s<=Lu&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof oy)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ye()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,o]=await Jn(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(c.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);s.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;return a?this._returnResult({data:null,error:a}):await de(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ce(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:a,error:o}=r;if(o)return this._returnResult({data:null,error:o});const c=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:u}=await de(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(ce(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?m2(t.webauthn.credential_response):g2(t.webauthn.credential_response)})}:{code:t.code}),{data:c,error:l}=await de(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:l}))})}catch(r){if(ce(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=await de(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:c}=o;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:h2(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:p2(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(ce(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(a),a.status==="verified"&&s[a.factor_type].push(a);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=uc(n.access_token);let o=null;a.aal&&(o=a.aal);let c=o;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const u=a.amr||[];return{data:{currentLevel:o,nextLevel:c,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await de(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new xt})})}catch(r){if(ce(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!s)return this._returnResult({data:null,error:new xt});const o=await de(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return o.data&&o.data.redirect_url&&Ye()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(ce(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!s)return this._returnResult({data:null,error:new xt});const o=await de(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return o.data&&o.data.redirect_url&&Ye()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(ce(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await de(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new xt})})}catch(t){if(ce(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await de(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new xt})})}catch(r){if(ce(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(c=>c.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(c=>c.kid===t),n&&this.jwks_cached_at+_j>s)return n;const{data:a,error:o}=await de(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=s,n=a.keys.find(c=>c.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:b}=await this.getSession();if(b||!p.session)return this._returnResult({data:null,error:b});n=p.session.access_token}const{header:s,payload:a,signature:o,raw:{header:c,payload:l}}=uc(n);r!=null&&r.allowExpired||Wj(a.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:a,header:s,signature:o},error:null}}const h=Gj(s.alg),d=await crypto.subtle.importKey("jwk",u,h,!0,["verify"]);if(!await crypto.subtle.verify(h,d,o,Ij(`${c}.${l}`)))throw new Du("Invalid JWT signature");return{data:{claims:a,header:s,signature:o},error:null}}catch(n){if(ce(n))return this._returnResult({data:null,error:n});throw n}}}Zi.nextInstanceID={};const S2=Zi,k2="2.89.0";let ui="";typeof Deno<"u"?ui="deno":typeof document<"u"?ui="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ui="react-native":ui="node";const E2={"X-Client-Info":`supabase-js-${ui}/${k2}`},T2={headers:E2},O2={schema:"public"},C2={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},P2={};function ea(e){"@babel/helpers - typeof";return ea=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ea(e)}function A2(e,t){if(ea(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ea(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function I2(e){var t=A2(e,"string");return ea(t)=="symbol"?t:t+""}function R2(e,t,r){return(t=I2(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Re(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gp(Object(r),!0).forEach(function(n){R2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gp(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const L2=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),M2=()=>Headers,$2=(e,t,r)=>{const n=L2(r),s=M2();return async(a,o)=>{var c;const l=(c=await t())!==null&&c!==void 0?c:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(a,Re(Re({},o),{},{headers:u}))}};function D2(e){return e.endsWith("/")?e:e+"/"}function F2(e,t){var r,n;const{db:s,auth:a,realtime:o,global:c}=e,{db:l,auth:u,realtime:h,global:d}=t,f={db:Re(Re({},l),s),auth:Re(Re({},u),a),realtime:Re(Re({},h),o),storage:{},global:Re(Re(Re({},d),c),{},{headers:Re(Re({},(r=d==null?void 0:d.headers)!==null&&r!==void 0?r:{}),(n=c==null?void 0:c.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}function q2(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(D2(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var B2=class extends S2{constructor(e){super(e)}},U2=class{constructor(e,t,r){var n,s;this.supabaseUrl=e,this.supabaseKey=t;const a=q2(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const o=`sb-${a.hostname.split(".")[0]}-auth-token`,c={db:O2,realtime:P2,auth:Re(Re({},C2),{},{storageKey:o}),global:T2},l=F2(r??{},c);if(this.storageKey=(n=l.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(s=l.global.headers)!==null&&s!==void 0?s:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(h,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=l.auth)!==null&&u!==void 0?u:{},this.headers,l.global.fetch)}this.fetch=$2(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(Re({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&this.accessToken().then(h=>this.realtime.setAuth(h)).catch(h=>console.warn("Failed to set initial Realtime auth token:",h)),this.rest=new w1(new URL("rest/v1",a).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new yj(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new g1(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,storageKey:a,flowType:o,lock:c,debug:l,throwOnError:u},h,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new B2({url:this.authUrl.href,headers:Re(Re({},f),h),storageKey:a,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,flowType:o,lock:c,debug:l,throwOnError:u,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new D1(this.realtimeUrl.href,Re(Re({},e),{},{params:Re(Re({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const z2=(e,t,r)=>new U2(e,t,r);function H2(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}H2()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const V2="https://uiugcaaffkaaqmydvjuj.supabase.co",W2="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVpdWdjYWFmZmthYXFteWR2anVqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njc2MzI3ODgsImV4cCI6MjA4MzIwODc4OH0.b8zapu6FDQUILxgBLSjQB443vzdeVl-hIEdkZXmTa9I",Q=z2(V2,W2),uy=O.createContext({}),fr=()=>{const e=O.useContext(uy);if(!e)throw new Error("useAuth must be used within AuthProvider");return e},G2=({children:e})=>{const[t,r]=O.useState(null),[n,s]=O.useState(!0);O.useEffect(()=>{(async()=>{try{const d=new Promise((b,x)=>setTimeout(()=>x(new Error("Auth timeout")),5e3)),f=Q.auth.getSession(),{data:{session:p}}=await Promise.race([f,d]);r((p==null?void 0:p.user)??null)}catch(d){console.error("Auth initialization error:",d),r(null)}finally{s(!1)}})();const{data:{subscription:h}}=Q.auth.onAuthStateChange((d,f)=>{(async()=>r((f==null?void 0:f.user)??null))()});return()=>h.unsubscribe()},[]);const l={user:t,loading:n,signUp:async(u,h,d={},f=null)=>{const{data:p,error:b}=await Q.auth.signUp({email:u,password:h,options:{data:d}});if(b)throw b;if(p.user&&f)try{await Q.from("user_website_registrations").insert([{user_id:p.user.id,website_id:f}])}catch(x){throw console.error("Error tracking user registration:",x),new Error(`User created, but failed to associate with website. DB Error: ${x.message}`)}return p},signIn:async(u,h)=>{const{data:d,error:f}=await Q.auth.signInWithPassword({email:u,password:h});if(f)throw f;return d},signOut:async()=>{const{error:u}=await Q.auth.signOut();if(u)throw u}};return i.jsx(uy.Provider,{value:l,children:e})},dy=O.createContext({}),ul=()=>{const e=O.useContext(dy);if(!e)throw new Error("useAdminAuth must be used within AdminAuthProvider");return e},K2=({children:e})=>{const[t,r]=O.useState(null),[n,s]=O.useState(!0);O.useEffect(()=>{a()},[]);const a=()=>{try{const d=localStorage.getItem("admin_session");if(d){const f=JSON.parse(d);new Date(f.expiresAt)>new Date?r(f):localStorage.removeItem("admin_session")}}catch(d){console.error("Error checking admin session:",d),localStorage.removeItem("admin_session")}finally{s(!1)}},h={admin:t,loading:n,login:async(d,f)=>{try{const{data:p,error:b}=await Q.rpc("verify_admin_password",{admin_email:d,admin_password:f});if(b)throw b;if(!p||p.length===0)throw new Error("Invalid email or password");const x=p[0];await Q.rpc("update_admin_last_login",{admin_id:x.id});const w=new Date;w.setHours(w.getHours()+8);const g={id:x.id,email:x.email,name:x.name,expiresAt:w.toISOString()};return localStorage.setItem("admin_session",JSON.stringify(g)),r(g),{success:!0}}catch(p){return console.error("Login error:",p),{success:!1,error:p.message}}},logout:()=>{localStorage.removeItem("admin_session"),r(null)},updateAdminEmail:async d=>{try{const{error:f}=await Q.from("admins").update({email:d,updated_at:new Date().toISOString()}).eq("id",t.id);if(f)throw f;const p={...t,email:d};return localStorage.setItem("admin_session",JSON.stringify(p)),r(p),{success:!0}}catch(f){return console.error("Update email error:",f),{success:!1,error:f.message}}},updateAdminPassword:async d=>{try{const{data:f,error:p}=await Q.rpc("update_admin_password",{admin_id:t.id,new_password:d});if(p)throw p;return{success:!0}}catch(f){return console.error("Update password error:",f),{success:!1,error:f.message}}},isAuthenticated:!!t};return i.jsx(dy.Provider,{value:h,children:e})},fy=O.createContext({}),Vn=()=>{const e=O.useContext(fy);if(!e)throw new Error("useCart must be used within CartProvider");return e},Y2=()=>{let e=localStorage.getItem("guest_session_id");return e||(e=`guest_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,localStorage.setItem("guest_session_id",e)),e},J2=({children:e})=>{const{user:t}=fr(),[r,n]=O.useState([]),[s,a]=O.useState(!1),[o]=O.useState(Y2());O.useEffect(()=>{t?c():l()},[t]);const c=async()=>{try{await Q.rpc("merge_guest_cart_to_user",{p_session_id:o,p_user_id:t.id}),await h()}catch(m){console.error("Error merging guest cart:",m),await h()}},l=async(m=!1)=>{m||a(!0);try{const{data:v,error:y}=await Q.from("cart_items").select(`
          *,
          products (*)
        `).eq("session_id",o);if(y)throw y;n(v||[])}catch(v){console.error("Error fetching guest cart:",v),u()}finally{m||a(!1)}},u=()=>{try{const m=localStorage.getItem("cart");m&&n(JSON.parse(m))}catch(m){console.error("Error loading local cart:",m)}},h=async(m=!1)=>{if(t){m||a(!0);try{const{data:v,error:y}=await Q.from("cart_items").select(`
          *,
          products (*)
        `).eq("user_id",t.id);if(y)throw y;n(v||[])}catch(v){console.error("Error fetching cart:",v)}finally{m||a(!1)}}},d=async(m,v=1)=>{try{if(!t){const j=r.find(S=>S.product_id===m);if(j){const{error:S}=await Q.from("cart_items").update({quantity:j.quantity+v,updated_at:new Date().toISOString()}).eq("id",j.id);if(S)throw S}else{const{error:S}=await Q.from("cart_items").insert([{session_id:o,product_id:m,quantity:v}]);if(S)throw S}await l(!0);return}const y=r.find(j=>j.product_id===m);if(y){const{error:j}=await Q.from("cart_items").update({quantity:y.quantity+v,updated_at:new Date().toISOString()}).eq("id",y.id);if(j)throw j}else{const{error:j}=await Q.from("cart_items").insert([{user_id:t.id,product_id:m,quantity:v}]);if(j)throw j}await h(!0)}catch(y){throw console.error("Error adding to cart:",y),y}},f=async(m,v)=>{if(v<=0){await p(m);return}n(y=>y.map(j=>j.id===m?{...j,quantity:v}:j));try{const{error:y}=await Q.from("cart_items").update({quantity:v,updated_at:new Date().toISOString()}).eq("id",m);if(y)throw y;t?await h(!0):await l(!0)}catch(y){throw console.error("Error updating quantity:",y),t?await h(!0):await l(!0),y}},p=async m=>{n(v=>v.filter(y=>y.id!==m));try{const{error:v}=await Q.from("cart_items").delete().eq("id",m);if(v)throw v;t?await h(!0):await l(!0)}catch(v){throw console.error("Error removing from cart:",v),t?await h(!0):await l(!0),v}},g={cartItems:r,loading:s,addToCart:d,updateQuantity:f,removeFromCart:p,clearCart:async()=>{try{if(!t){const{error:v}=await Q.from("cart_items").delete().eq("session_id",o);if(v)throw v;n([]);return}const{error:m}=await Q.from("cart_items").delete().eq("user_id",t.id);if(m)throw m;n([])}catch(m){throw console.error("Error clearing cart:",m),m}},getCartTotal:()=>r.reduce((m,v)=>!v.products||typeof v.products.price!="number"?m:m+v.products.price*v.quantity,0),getCartCount:()=>r.reduce((m,v)=>m+v.quantity,0),fetchCart:h,sessionId:o};return i.jsx(fy.Provider,{value:g,children:e})},hy=O.createContext();function Q2({children:e}){const[t,r]=O.useState(null),[n,s]=O.useState([]),[a,o]=O.useState(!0);O.useEffect(()=>{c()},[]);const c=async()=>{try{const{data:h,error:d}=await Q.from("websites").select("*").eq("is_active",!0);if(d)throw d;s(h||[]);const f="c9613c5e-36d2-49ef-8b44-e5bdd6974b7f";let p=h==null?void 0:h.find(b=>b.id===f);!p&&(h==null?void 0:h.length)>0&&(console.warn(`Website with ID ${f} not found. Falling back to the first available website.`),p=h[0]),r(p)}catch(h){console.error("Error initializing website:",h),r({id:"00000000-0000-0000-0000-000000000001",name:"Main Store",domain:"mainstore.com",is_active:!0,config:{}})}finally{o(!1)}},u={currentWebsite:t,websites:n,loading:a,switchWebsite:h=>{const d=n.find(f=>f.id===h);d&&(r(d),localStorage.setItem("selected_website_id",h))},websiteId:(t==null?void 0:t.id)||"00000000-0000-0000-0000-000000000001"};return a?i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):i.jsx(hy.Provider,{value:u,children:e})}function Ue(){const e=O.useContext(hy);if(!e)throw new Error("useWebsite must be used within WebsiteProvider");return e}const py=O.createContext({}),pa=()=>{const e=O.useContext(py);if(!e)throw new Error("useWishlist must be used within WishlistProvider");return e},X2=({children:e})=>{const{user:t}=fr(),{websiteId:r}=Ue(),[n,s]=O.useState([]),[a,o]=O.useState(!1);O.useEffect(()=>{t?u():l()},[t,r]);const c=async()=>{if(t){o(!0);try{const{data:b,error:x}=await Q.from("wishlists").select("*, products(*)").eq("user_id",t.id).eq("website_id",r);if(x)throw x;s(b||[])}catch(b){console.error("Error fetching wishlist:",b)}finally{o(!1)}}},l=async()=>{const b=localStorage.getItem("guest_wishlist");if(b){const x=JSON.parse(b);if(x.length>0){o(!0);try{const{data:w,error:g}=await Q.from("products").select("*").in("id",x);if(g)throw g;const m=w.map(v=>({product_id:v.id,products:v}));s(m)}catch(w){console.error(w)}finally{o(!1)}}else s([])}else s([])},u=async()=>{const b=localStorage.getItem("guest_wishlist");if(b&&t){const x=JSON.parse(b);for(const w of x)await Q.from("wishlists").insert([{user_id:t.id,product_id:w,website_id:r}]).select();localStorage.removeItem("guest_wishlist")}await c()},p={wishlistItems:n,loading:a,addToWishlist:async b=>{if(!t){const x=localStorage.getItem("guest_wishlist"),w=x?JSON.parse(x):[];if(!w.includes(b)){const g=[...w,b];localStorage.setItem("guest_wishlist",JSON.stringify(g)),await l()}return}try{const{error:x}=await Q.from("wishlists").insert([{user_id:t.id,product_id:b,website_id:r}]);if(x){if(x.code==="23505")return;throw x}await c()}catch(x){console.error("Error adding to wishlist:",x)}},removeFromWishlist:async b=>{if(!t){const x=localStorage.getItem("guest_wishlist");if(x){const g=JSON.parse(x).filter(m=>m!==b);localStorage.setItem("guest_wishlist",JSON.stringify(g)),await l()}return}try{await Q.from("wishlists").delete().eq("user_id",t.id).eq("product_id",b),await c()}catch(x){console.error("Error removing from wishlist:",x)}},isInWishlist:b=>n.some(x=>x.product_id===b)};return i.jsx(py.Provider,{value:p,children:e})},my=O.createContext();function Z2({children:e}){const[t,r]=O.useState({brand_name:"Printer Pro",brand_logo:"",contact_email:"info@printerpro.com",contact_phone:"+1-234-567-8900",address:""}),[n,s]=O.useState(!0),{websiteId:a}=Ue();O.useEffect(()=>{a&&o()},[a]),O.useEffect(()=>{t&&t.brand_name&&(document.title=`${t.brand_name} | Premium Printers, Ink & Office Printing Solutions`)},[t]);const o=async()=>{try{const l=new Promise((f,p)=>setTimeout(()=>p(new Error("Timeout")),5e3)),u=Q.from("site_settings").select("*").eq("website_id",a).maybeSingle(),{data:h,error:d}=await Promise.race([u,l]);if(d)throw d;h&&r(h)}catch(l){console.error("Error fetching site settings:",l)}finally{s(!1)}},c=()=>{o()};return i.jsx(my.Provider,{value:{settings:t,loading:n,refreshSettings:c},children:e})}function zs(){const e=O.useContext(my);if(!e)throw new Error("useSiteSettings must be used within SiteSettingsProvider");return e}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var e_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t_=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),te=(e,t)=>{const r=O.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:a=2,absoluteStrokeWidth:o,className:c="",children:l,...u},h)=>O.createElement("svg",{ref:h,...e_,width:s,height:s,stroke:n,strokeWidth:o?Number(a)*24/Number(s):a,className:["lucide",`lucide-${t_(e)}`,c].join(" "),...u},[...t.map(([d,f])=>O.createElement(d,f)),...Array.isArray(l)?l:[l]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qn=te("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=te("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r_=te("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fu=te("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gy=te("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qu=te("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hf=te("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n_=te("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=te("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=te("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=te("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Si=te("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hc=te("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=te("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s_=te("Coffee",[["path",{d:"M17 8h1a4 4 0 1 1 0 8h-1",key:"jx4kbh"}],["path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z",key:"1bxrl0"}],["line",{x1:"6",x2:"6",y1:"2",y2:"4",key:"1cr9l3"}],["line",{x1:"10",x2:"10",y1:"2",y2:"4",key:"170wym"}],["line",{x1:"14",x2:"14",y1:"2",y2:"4",key:"1c5f70"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i_=te("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ma=te("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a_=te("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o_=te("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pf=te("Droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vp=te("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ra=te("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rs=te("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mf=te("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vy=te("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l_=te("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c_=te("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u_=te("HeartHandshake",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M12 5 9.04 7.96a2.17 2.17 0 0 0 0 3.08v0c.82.82 2.13.85 3 .07l2.07-1.9a2.82 2.82 0 0 1 3.79 0l2.96 2.66",key:"12sd6o"}],["path",{d:"m18 15-2-2",key:"60u0ii"}],["path",{d:"m15 18-2-2",key:"6p76be"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const or=te("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yy=te("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d_=te("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f_=te("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yp=te("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h_=te("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p_=te("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m_=te("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ur=te("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xy=te("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mr=te("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bu=te("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const by=te("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g_=te("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dl=te("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gf=te("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v_=te("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y_=te("PackageSearch",[["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}],["circle",{cx:"18.5",cy:"15.5",r:"2.5",key:"b5zd12"}],["path",{d:"M20.27 17.27 22 19",key:"1l4muz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=te("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x_=te("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wy=te("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fl=te("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b_=te("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hn=te("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vf=te("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w_=te("Quote",[["path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z",key:"4rm80e"}],["path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z",key:"10za9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j_=te("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const na=te("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dr=te("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jy=te("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _y=te("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nr=te("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yf=te("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=te("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sr=te("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __=te("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N_=te("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S_=te("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ny=te("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=te("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k_=te("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E_=te("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T_=te("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O_=te("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=te("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C_=te("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hl=te("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sy=te("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ms=te("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uu=te("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ky=te("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $s=te("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=te("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zu=te("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Ey=O.createContext();function P_({children:e}){const[t,r]=O.useState([]),n=O.useCallback((c,l="success",u={})=>{const{duration:h=3e3,position:d="bottom-right"}=u,f=Math.random().toString(36).substr(2,9);r(p=>[...p,{id:f,message:c,type:l,position:d}]),h!==0&&h!==1/0&&setTimeout(()=>{r(p=>p.filter(b=>b.id!==f))},h)},[]),s=O.useCallback(c=>{r(l=>l.filter(u=>u.id!==c))},[]),a=c=>{switch(c){case"center":return"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 flex flex-col gap-4";case"top-center":return"fixed top-10 left-1/2 -translate-x-1/2 flex flex-col gap-4";default:return"fixed bottom-6 right-6 flex flex-col gap-3"}},o=t.reduce((c,l)=>{const u=l.position||"bottom-right";return c[u]||(c[u]=[]),c[u].push(l),c},{});return i.jsxs(Ey.Provider,{value:{addToast:n},children:[e,Object.entries(o).map(([c,l])=>i.jsx("div",{className:`${a(c)} z-[9999]`,children:l.map(u=>i.jsxs("div",{className:`flex items-center gap-4 px-8 py-6 rounded-[2rem] shadow-2xl transition-all duration-500 scale-100 animate-in fade-in zoom-in-95 ${u.type==="success"?"bg-black text-white":"bg-red-600 text-white"} ${c==="center"?"min-w-[320px] border-2 border-brand-orange/50":""}`,children:[u.type==="success"?i.jsx(Et,{className:`w-6 h-6 text-green-400 ${c==="center"?"w-8 h-8":""}`}):i.jsx($s,{className:`w-6 h-6 text-red-200 ${c==="center"?"w-8 h-8":""}`}),i.jsx("div",{className:"flex-1",children:i.jsx("p",{className:`${c==="center"?"text-lg":"text-sm"} font-bold tracking-wide`,children:u.message})}),i.jsx("button",{onClick:()=>s(u.id),className:"p-2 hover:bg-white/10 rounded-full transition-colors",children:i.jsx(gt,{className:"w-5 h-5"})})]},u.id))},c))]})}const pl=()=>{const e=O.useContext(Ey);if(!e)throw new Error("useToast must be used within a ToastProvider");return e};function er({children:e}){const{admin:t,loading:r}=ul();return r?i.jsx("div",{className:"flex items-center justify-center min-h-screen",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-sky-600"})}):t?e:i.jsx(e1,{to:"/admin/login",replace:!0})}function A_(){const[e,t]=O.useState(!0),[r,n]=O.useState(null),[s,a]=O.useState(!0),{websiteId:o}=Ue();O.useEffect(()=>{c()},[o]);const c=async()=>{try{if(!o)return;const{data:l,error:u}=await Q.from("site_settings").select("announcement_text, announcement_enabled").eq("website_id",o).maybeSingle();if(u)throw u;l&&l.announcement_enabled&&l.announcement_text&&n(l.announcement_text)}catch(l){console.error("Error fetching announcement:",l)}finally{a(!1)}};return s||!e||!r?null:i.jsx("div",{className:"bg-brand-orange text-white py-2.5 relative z-50 animate-in fade-in slide-in-from-top-1 duration-500",children:i.jsxs("div",{className:"w-full mx-auto px-4 sm:px-6 lg:px-8 flex items-center justify-center text-center",children:[i.jsx("p",{className:"text-xs font-bold tracking-widest uppercase",children:r}),i.jsx("button",{onClick:()=>t(!1),className:"absolute right-4 top-1/2 -translate-y-1/2 text-white/80 hover:text-white transition-colors","aria-label":"Close announcement",children:i.jsx(gt,{className:"w-4 h-4"})})]})})}const I_=()=>{const{user:e}=fr(),[t,r]=O.useState(!1),[n,s]=O.useState(!0);O.useEffect(()=>{e?a():(r(!1),s(!1))},[e]);const a=async()=>{try{const{data:o,error:c}=await Q.from("user_roles").select("role").eq("user_id",e.id).maybeSingle();if(c)throw c;r((o==null?void 0:o.role)==="admin")}catch(o){console.error("Error checking admin status:",o),r(!1)}finally{s(!1)}};return{isAdmin:t,loading:n}};function xp(e){return e!==null&&typeof e=="object"&&"constructor"in e&&e.constructor===Object}function xf(e={},t={}){const r=["__proto__","constructor","prototype"];Object.keys(t).filter(n=>r.indexOf(n)<0).forEach(n=>{typeof e[n]>"u"?e[n]=t[n]:xp(t[n])&&xp(e[n])&&Object.keys(t[n]).length>0&&xf(e[n],t[n])})}const Ty={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function lr(){const e=typeof document<"u"?document:{};return xf(e,Ty),e}const R_={document:Ty,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(e){return typeof setTimeout>"u"?(e(),null):setTimeout(e,0)},cancelAnimationFrame(e){typeof setTimeout>"u"||clearTimeout(e)}};function st(){const e=typeof window<"u"?window:{};return xf(e,R_),e}function L_(e=""){return e.trim().split(" ").filter(t=>!!t.trim())}function M_(e){const t=e;Object.keys(t).forEach(r=>{try{t[r]=null}catch{}try{delete t[r]}catch{}})}function Ro(e,t=0){return setTimeout(e,t)}function Mt(){return Date.now()}function $_(e){const t=st();let r;return t.getComputedStyle&&(r=t.getComputedStyle(e,null)),!r&&e.currentStyle&&(r=e.currentStyle),r||(r=e.style),r}function D_(e,t="x"){const r=st();let n,s,a;const o=$_(e);return r.WebKitCSSMatrix?(s=o.transform||o.webkitTransform,s.split(",").length>6&&(s=s.split(", ").map(c=>c.replace(",",".")).join(", ")),a=new r.WebKitCSSMatrix(s==="none"?"":s)):(a=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),n=a.toString().split(",")),t==="x"&&(r.WebKitCSSMatrix?s=a.m41:n.length===16?s=parseFloat(n[12]):s=parseFloat(n[4])),t==="y"&&(r.WebKitCSSMatrix?s=a.m42:n.length===16?s=parseFloat(n[13]):s=parseFloat(n[5])),s||0}function Ba(e){return typeof e=="object"&&e!==null&&e.constructor&&Object.prototype.toString.call(e).slice(8,-1)==="Object"}function F_(e){return typeof window<"u"&&typeof window.HTMLElement<"u"?e instanceof HTMLElement:e&&(e.nodeType===1||e.nodeType===11)}function wt(...e){const t=Object(e[0]),r=["__proto__","constructor","prototype"];for(let n=1;n<e.length;n+=1){const s=e[n];if(s!=null&&!F_(s)){const a=Object.keys(Object(s)).filter(o=>r.indexOf(o)<0);for(let o=0,c=a.length;o<c;o+=1){const l=a[o],u=Object.getOwnPropertyDescriptor(s,l);u!==void 0&&u.enumerable&&(Ba(t[l])&&Ba(s[l])?s[l].__swiper__?t[l]=s[l]:wt(t[l],s[l]):!Ba(t[l])&&Ba(s[l])?(t[l]={},s[l].__swiper__?t[l]=s[l]:wt(t[l],s[l])):t[l]=s[l])}}}return t}function Ua(e,t,r){e.style.setProperty(t,r)}function Oy({swiper:e,targetPosition:t,side:r}){const n=st(),s=-e.translate;let a=null,o;const c=e.params.speed;e.wrapperEl.style.scrollSnapType="none",n.cancelAnimationFrame(e.cssModeFrameID);const l=t>s?"next":"prev",u=(d,f)=>l==="next"&&d>=f||l==="prev"&&d<=f,h=()=>{o=new Date().getTime(),a===null&&(a=o);const d=Math.max(Math.min((o-a)/c,1),0),f=.5-Math.cos(d*Math.PI)/2;let p=s+f*(t-s);if(u(p,t)&&(p=t),e.wrapperEl.scrollTo({[r]:p}),u(p,t)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[r]:p})}),n.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=n.requestAnimationFrame(h)};h()}function jr(e,t=""){const r=st(),n=[...e.children];return r.HTMLSlotElement&&e instanceof HTMLSlotElement&&n.push(...e.assignedElements()),t?n.filter(s=>s.matches(t)):n}function q_(e,t){const r=[t];for(;r.length>0;){const n=r.shift();if(e===n)return!0;r.push(...n.children,...n.shadowRoot?n.shadowRoot.children:[],...n.assignedElements?n.assignedElements():[])}}function B_(e,t){const r=st();let n=t.contains(e);return!n&&r.HTMLSlotElement&&t instanceof HTMLSlotElement&&(n=[...t.assignedElements()].includes(e),n||(n=q_(e,t))),n}function Lo(e){try{console.warn(e);return}catch{}}function Hu(e,t=[]){const r=document.createElement(e);return r.classList.add(...Array.isArray(t)?t:L_(t)),r}function U_(e,t){const r=[];for(;e.previousElementSibling;){const n=e.previousElementSibling;t?n.matches(t)&&r.push(n):r.push(n),e=n}return r}function z_(e,t){const r=[];for(;e.nextElementSibling;){const n=e.nextElementSibling;t?n.matches(t)&&r.push(n):r.push(n),e=n}return r}function Qr(e,t){return st().getComputedStyle(e,null).getPropertyValue(t)}function bp(e){let t=e,r;if(t){for(r=0;(t=t.previousSibling)!==null;)t.nodeType===1&&(r+=1);return r}}function H_(e,t){const r=[];let n=e.parentElement;for(;n;)r.push(n),n=n.parentElement;return r}function pc(e,t){function r(n){n.target===e&&(t.call(e,n),e.removeEventListener("transitionend",r))}t&&e.addEventListener("transitionend",r)}function wp(e,t,r){const n=st();return e[t==="width"?"offsetWidth":"offsetHeight"]+parseFloat(n.getComputedStyle(e,null).getPropertyValue(t==="width"?"margin-right":"margin-top"))+parseFloat(n.getComputedStyle(e,null).getPropertyValue(t==="width"?"margin-left":"margin-bottom"))}function jp(e,t=""){typeof trustedTypes<"u"?e.innerHTML=trustedTypes.createPolicy("html",{createHTML:r=>r}).createHTML(t):e.innerHTML=t}let mc;function V_(){const e=st(),t=lr();return{smoothScroll:t.documentElement&&t.documentElement.style&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch)}}function Cy(){return mc||(mc=V_()),mc}let gc;function W_({userAgent:e}={}){const t=Cy(),r=st(),n=r.navigator.platform,s=e||r.navigator.userAgent,a={ios:!1,android:!1},o=r.screen.width,c=r.screen.height,l=s.match(/(Android);?[\s\/]+([\d.]+)?/);let u=s.match(/(iPad)(?!\1).*OS\s([\d_]+)/);const h=s.match(/(iPod)(.*OS\s([\d_]+))?/),d=!u&&s.match(/(iPhone\sOS|iOS)\s([\d_]+)/),f=n==="Win32";let p=n==="MacIntel";const b=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!u&&p&&t.touch&&b.indexOf(`${o}x${c}`)>=0&&(u=s.match(/(Version)\/([\d.]+)/),u||(u=[0,1,"13_0_0"]),p=!1),l&&!f&&(a.os="android",a.android=!0),(u||d||h)&&(a.os="ios",a.ios=!0),a}function Py(e={}){return gc||(gc=W_(e)),gc}let vc;function G_(){const e=st(),t=Py();let r=!1;function n(){const c=e.navigator.userAgent.toLowerCase();return c.indexOf("safari")>=0&&c.indexOf("chrome")<0&&c.indexOf("android")<0}if(n()){const c=String(e.navigator.userAgent);if(c.includes("Version/")){const[l,u]=c.split("Version/")[1].split(" ")[0].split(".").map(h=>Number(h));r=l<16||l===16&&u<2}}const s=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent),a=n(),o=a||s&&t.ios;return{isSafari:r||a,needPerspectiveFix:r,need3dFix:o,isWebView:s}}function Ay(){return vc||(vc=G_()),vc}function K_({swiper:e,on:t,emit:r}){const n=st();let s=null,a=null;const o=()=>{!e||e.destroyed||!e.initialized||(r("beforeResize"),r("resize"))},c=()=>{!e||e.destroyed||!e.initialized||(s=new ResizeObserver(h=>{a=n.requestAnimationFrame(()=>{const{width:d,height:f}=e;let p=d,b=f;h.forEach(({contentBoxSize:x,contentRect:w,target:g})=>{g&&g!==e.el||(p=w?w.width:(x[0]||x).inlineSize,b=w?w.height:(x[0]||x).blockSize)}),(p!==d||b!==f)&&o()})}),s.observe(e.el))},l=()=>{a&&n.cancelAnimationFrame(a),s&&s.unobserve&&e.el&&(s.unobserve(e.el),s=null)},u=()=>{!e||e.destroyed||!e.initialized||r("orientationchange")};t("init",()=>{if(e.params.resizeObserver&&typeof n.ResizeObserver<"u"){c();return}n.addEventListener("resize",o),n.addEventListener("orientationchange",u)}),t("destroy",()=>{l(),n.removeEventListener("resize",o),n.removeEventListener("orientationchange",u)})}function Y_({swiper:e,extendParams:t,on:r,emit:n}){const s=[],a=st(),o=(u,h={})=>{const d=a.MutationObserver||a.WebkitMutationObserver,f=new d(p=>{if(e.__preventObserver__)return;if(p.length===1){n("observerUpdate",p[0]);return}const b=function(){n("observerUpdate",p[0])};a.requestAnimationFrame?a.requestAnimationFrame(b):a.setTimeout(b,0)});f.observe(u,{attributes:typeof h.attributes>"u"?!0:h.attributes,childList:e.isElement||(typeof h.childList>"u"?!0:h).childList,characterData:typeof h.characterData>"u"?!0:h.characterData}),s.push(f)},c=()=>{if(e.params.observer){if(e.params.observeParents){const u=H_(e.hostEl);for(let h=0;h<u.length;h+=1)o(u[h])}o(e.hostEl,{childList:e.params.observeSlideChildren}),o(e.wrapperEl,{attributes:!1})}},l=()=>{s.forEach(u=>{u.disconnect()}),s.splice(0,s.length)};t({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",c),r("destroy",l)}var J_={on(e,t,r){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const s=r?"unshift":"push";return e.split(" ").forEach(a=>{n.eventsListeners[a]||(n.eventsListeners[a]=[]),n.eventsListeners[a][s](t)}),n},once(e,t,r){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;function s(...a){n.off(e,s),s.__emitterProxy&&delete s.__emitterProxy,t.apply(n,a)}return s.__emitterProxy=t,n.on(e,s,r)},onAny(e,t){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const n=t?"unshift":"push";return r.eventsAnyListeners.indexOf(e)<0&&r.eventsAnyListeners[n](e),r},offAny(e){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsAnyListeners)return t;const r=t.eventsAnyListeners.indexOf(e);return r>=0&&t.eventsAnyListeners.splice(r,1),t},off(e,t){const r=this;return!r.eventsListeners||r.destroyed||!r.eventsListeners||e.split(" ").forEach(n=>{typeof t>"u"?r.eventsListeners[n]=[]:r.eventsListeners[n]&&r.eventsListeners[n].forEach((s,a)=>{(s===t||s.__emitterProxy&&s.__emitterProxy===t)&&r.eventsListeners[n].splice(a,1)})}),r},emit(...e){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let r,n,s;return typeof e[0]=="string"||Array.isArray(e[0])?(r=e[0],n=e.slice(1,e.length),s=t):(r=e[0].events,n=e[0].data,s=e[0].context||t),n.unshift(s),(Array.isArray(r)?r:r.split(" ")).forEach(o=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(c=>{c.apply(s,[o,...n])}),t.eventsListeners&&t.eventsListeners[o]&&t.eventsListeners[o].forEach(c=>{c.apply(s,n)})}),t}};function Q_(){const e=this;let t,r;const n=e.el;typeof e.params.width<"u"&&e.params.width!==null?t=e.params.width:t=n.clientWidth,typeof e.params.height<"u"&&e.params.height!==null?r=e.params.height:r=n.clientHeight,!(t===0&&e.isHorizontal()||r===0&&e.isVertical())&&(t=t-parseInt(Qr(n,"padding-left")||0,10)-parseInt(Qr(n,"padding-right")||0,10),r=r-parseInt(Qr(n,"padding-top")||0,10)-parseInt(Qr(n,"padding-bottom")||0,10),Number.isNaN(t)&&(t=0),Number.isNaN(r)&&(r=0),Object.assign(e,{width:t,height:r,size:e.isHorizontal()?t:r}))}function X_(){const e=this;function t(k,E){return parseFloat(k.getPropertyValue(e.getDirectionLabel(E))||0)}const r=e.params,{wrapperEl:n,slidesEl:s,rtlTranslate:a,wrongRTL:o}=e,c=e.virtual&&r.virtual.enabled,l=c?e.virtual.slides.length:e.slides.length,u=jr(s,`.${e.params.slideClass}, swiper-slide`),h=c?e.virtual.slides.length:u.length;let d=[];const f=[],p=[];let b=r.slidesOffsetBefore;typeof b=="function"&&(b=r.slidesOffsetBefore.call(e));let x=r.slidesOffsetAfter;typeof x=="function"&&(x=r.slidesOffsetAfter.call(e));const w=e.snapGrid.length,g=e.slidesGrid.length,m=e.size-b-x;let v=r.spaceBetween,y=-b,j=0,S=0;if(typeof m>"u")return;typeof v=="string"&&v.indexOf("%")>=0?v=parseFloat(v.replace("%",""))/100*m:typeof v=="string"&&(v=parseFloat(v)),e.virtualSize=-v-b-x,u.forEach(k=>{a?k.style.marginLeft="":k.style.marginRight="",k.style.marginBottom="",k.style.marginTop=""}),r.centeredSlides&&r.cssMode&&(Ua(n,"--swiper-centered-offset-before",""),Ua(n,"--swiper-centered-offset-after",""));const N=r.grid&&r.grid.rows>1&&e.grid;N?e.grid.initSlides(u):e.grid&&e.grid.unsetSlides();let _;const C=r.slidesPerView==="auto"&&r.breakpoints&&Object.keys(r.breakpoints).filter(k=>typeof r.breakpoints[k].slidesPerView<"u").length>0;for(let k=0;k<h;k+=1){_=0;const E=u[k];if(!(E&&(N&&e.grid.updateSlide(k,E,u),Qr(E,"display")==="none"))){if(c&&r.slidesPerView==="auto")r.virtual.slidesPerViewAutoSlideSize&&(_=r.virtual.slidesPerViewAutoSlideSize),_&&E&&(r.roundLengths&&(_=Math.floor(_)),E.style[e.getDirectionLabel("width")]=`${_}px`);else if(r.slidesPerView==="auto"){C&&(E.style[e.getDirectionLabel("width")]="");const T=getComputedStyle(E),A=E.style.transform,L=E.style.webkitTransform;if(A&&(E.style.transform="none"),L&&(E.style.webkitTransform="none"),r.roundLengths)_=e.isHorizontal()?wp(E,"width"):wp(E,"height");else{const F=t(T,"width"),U=t(T,"padding-left"),B=t(T,"padding-right"),q=t(T,"margin-left"),D=t(T,"margin-right"),I=T.getPropertyValue("box-sizing");if(I&&I==="border-box")_=F+q+D;else{const{clientWidth:P,offsetWidth:M}=E;_=F+U+B+q+D+(M-P)}}A&&(E.style.transform=A),L&&(E.style.webkitTransform=L),r.roundLengths&&(_=Math.floor(_))}else _=(m-(r.slidesPerView-1)*v)/r.slidesPerView,r.roundLengths&&(_=Math.floor(_)),E&&(E.style[e.getDirectionLabel("width")]=`${_}px`);E&&(E.swiperSlideSize=_),p.push(_),r.centeredSlides?(y=y+_/2+j/2+v,j===0&&k!==0&&(y=y-m/2-v),k===0&&(y=y-m/2-v),Math.abs(y)<1/1e3&&(y=0),r.roundLengths&&(y=Math.floor(y)),S%r.slidesPerGroup===0&&d.push(y),f.push(y)):(r.roundLengths&&(y=Math.floor(y)),(S-Math.min(e.params.slidesPerGroupSkip,S))%e.params.slidesPerGroup===0&&d.push(y),f.push(y),y=y+_+v),e.virtualSize+=_+v,j=_,S+=1}}if(e.virtualSize=Math.max(e.virtualSize,m)+x,a&&o&&(r.effect==="slide"||r.effect==="coverflow")&&(n.style.width=`${e.virtualSize+v}px`),r.setWrapperSize&&(n.style[e.getDirectionLabel("width")]=`${e.virtualSize+v}px`),N&&e.grid.updateWrapperSize(_,d),!r.centeredSlides){const k=[];for(let E=0;E<d.length;E+=1){let T=d[E];r.roundLengths&&(T=Math.floor(T)),d[E]<=e.virtualSize-m&&k.push(T)}d=k,Math.floor(e.virtualSize-m)-Math.floor(d[d.length-1])>1&&d.push(e.virtualSize-m)}if(c&&r.loop){const k=p[0]+v;if(r.slidesPerGroup>1){const E=Math.ceil((e.virtual.slidesBefore+e.virtual.slidesAfter)/r.slidesPerGroup),T=k*r.slidesPerGroup;for(let A=0;A<E;A+=1)d.push(d[d.length-1]+T)}for(let E=0;E<e.virtual.slidesBefore+e.virtual.slidesAfter;E+=1)r.slidesPerGroup===1&&d.push(d[d.length-1]+k),f.push(f[f.length-1]+k),e.virtualSize+=k}if(d.length===0&&(d=[0]),v!==0){const k=e.isHorizontal()&&a?"marginLeft":e.getDirectionLabel("marginRight");u.filter((E,T)=>!r.cssMode||r.loop?!0:T!==u.length-1).forEach(E=>{E.style[k]=`${v}px`})}if(r.centeredSlides&&r.centeredSlidesBounds){let k=0;p.forEach(T=>{k+=T+(v||0)}),k-=v;const E=k>m?k-m:0;d=d.map(T=>T<=0?-b:T>E?E+x:T)}if(r.centerInsufficientSlides){let k=0;p.forEach(T=>{k+=T+(v||0)}),k-=v;const E=(b||0)+(x||0);if(k+E<m){const T=(m-k-E)/2;d.forEach((A,L)=>{d[L]=A-T}),f.forEach((A,L)=>{f[L]=A+T})}}if(Object.assign(e,{slides:u,snapGrid:d,slidesGrid:f,slidesSizesGrid:p}),r.centeredSlides&&r.cssMode&&!r.centeredSlidesBounds){Ua(n,"--swiper-centered-offset-before",`${-d[0]}px`),Ua(n,"--swiper-centered-offset-after",`${e.size/2-p[p.length-1]/2}px`);const k=-e.snapGrid[0],E=-e.slidesGrid[0];e.snapGrid=e.snapGrid.map(T=>T+k),e.slidesGrid=e.slidesGrid.map(T=>T+E)}if(h!==l&&e.emit("slidesLengthChange"),d.length!==w&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),f.length!==g&&e.emit("slidesGridLengthChange"),r.watchSlidesProgress&&e.updateSlidesOffset(),e.emit("slidesUpdated"),!c&&!r.cssMode&&(r.effect==="slide"||r.effect==="fade")){const k=`${r.containerModifierClass}backface-hidden`,E=e.el.classList.contains(k);h<=r.maxBackfaceHiddenSlides?E||e.el.classList.add(k):E&&e.el.classList.remove(k)}}function Z_(e){const t=this,r=[],n=t.virtual&&t.params.virtual.enabled;let s=0,a;typeof e=="number"?t.setTransition(e):e===!0&&t.setTransition(t.params.speed);const o=c=>n?t.slides[t.getSlideIndexByData(c)]:t.slides[c];if(t.params.slidesPerView!=="auto"&&t.params.slidesPerView>1)if(t.params.centeredSlides)(t.visibleSlides||[]).forEach(c=>{r.push(c)});else for(a=0;a<Math.ceil(t.params.slidesPerView);a+=1){const c=t.activeIndex+a;if(c>t.slides.length&&!n)break;r.push(o(c))}else r.push(o(t.activeIndex));for(a=0;a<r.length;a+=1)if(typeof r[a]<"u"){const c=r[a].offsetHeight;s=c>s?c:s}(s||s===0)&&(t.wrapperEl.style.height=`${s}px`)}function eN(){const e=this,t=e.slides,r=e.isElement?e.isHorizontal()?e.wrapperEl.offsetLeft:e.wrapperEl.offsetTop:0;for(let n=0;n<t.length;n+=1)t[n].swiperSlideOffset=(e.isHorizontal()?t[n].offsetLeft:t[n].offsetTop)-r-e.cssOverflowAdjustment()}const _p=(e,t,r)=>{t&&!e.classList.contains(r)?e.classList.add(r):!t&&e.classList.contains(r)&&e.classList.remove(r)};function tN(e=this&&this.translate||0){const t=this,r=t.params,{slides:n,rtlTranslate:s,snapGrid:a}=t;if(n.length===0)return;typeof n[0].swiperSlideOffset>"u"&&t.updateSlidesOffset();let o=-e;s&&(o=e),t.visibleSlidesIndexes=[],t.visibleSlides=[];let c=r.spaceBetween;typeof c=="string"&&c.indexOf("%")>=0?c=parseFloat(c.replace("%",""))/100*t.size:typeof c=="string"&&(c=parseFloat(c));for(let l=0;l<n.length;l+=1){const u=n[l];let h=u.swiperSlideOffset;r.cssMode&&r.centeredSlides&&(h-=n[0].swiperSlideOffset);const d=(o+(r.centeredSlides?t.minTranslate():0)-h)/(u.swiperSlideSize+c),f=(o-a[0]+(r.centeredSlides?t.minTranslate():0)-h)/(u.swiperSlideSize+c),p=-(o-h),b=p+t.slidesSizesGrid[l],x=p>=0&&p<=t.size-t.slidesSizesGrid[l],w=p>=0&&p<t.size-1||b>1&&b<=t.size||p<=0&&b>=t.size;w&&(t.visibleSlides.push(u),t.visibleSlidesIndexes.push(l)),_p(u,w,r.slideVisibleClass),_p(u,x,r.slideFullyVisibleClass),u.progress=s?-d:d,u.originalProgress=s?-f:f}}function rN(e){const t=this;if(typeof e>"u"){const h=t.rtlTranslate?-1:1;e=t&&t.translate&&t.translate*h||0}const r=t.params,n=t.maxTranslate()-t.minTranslate();let{progress:s,isBeginning:a,isEnd:o,progressLoop:c}=t;const l=a,u=o;if(n===0)s=0,a=!0,o=!0;else{s=(e-t.minTranslate())/n;const h=Math.abs(e-t.minTranslate())<1,d=Math.abs(e-t.maxTranslate())<1;a=h||s<=0,o=d||s>=1,h&&(s=0),d&&(s=1)}if(r.loop){const h=t.getSlideIndexByData(0),d=t.getSlideIndexByData(t.slides.length-1),f=t.slidesGrid[h],p=t.slidesGrid[d],b=t.slidesGrid[t.slidesGrid.length-1],x=Math.abs(e);x>=f?c=(x-f)/b:c=(x+b-p)/b,c>1&&(c-=1)}Object.assign(t,{progress:s,progressLoop:c,isBeginning:a,isEnd:o}),(r.watchSlidesProgress||r.centeredSlides&&r.autoHeight)&&t.updateSlidesProgress(e),a&&!l&&t.emit("reachBeginning toEdge"),o&&!u&&t.emit("reachEnd toEdge"),(l&&!a||u&&!o)&&t.emit("fromEdge"),t.emit("progress",s)}const yc=(e,t,r)=>{t&&!e.classList.contains(r)?e.classList.add(r):!t&&e.classList.contains(r)&&e.classList.remove(r)};function nN(){const e=this,{slides:t,params:r,slidesEl:n,activeIndex:s}=e,a=e.virtual&&r.virtual.enabled,o=e.grid&&r.grid&&r.grid.rows>1,c=d=>jr(n,`.${r.slideClass}${d}, swiper-slide${d}`)[0];let l,u,h;if(a)if(r.loop){let d=s-e.virtual.slidesBefore;d<0&&(d=e.virtual.slides.length+d),d>=e.virtual.slides.length&&(d-=e.virtual.slides.length),l=c(`[data-swiper-slide-index="${d}"]`)}else l=c(`[data-swiper-slide-index="${s}"]`);else o?(l=t.find(d=>d.column===s),h=t.find(d=>d.column===s+1),u=t.find(d=>d.column===s-1)):l=t[s];l&&(o||(h=z_(l,`.${r.slideClass}, swiper-slide`)[0],r.loop&&!h&&(h=t[0]),u=U_(l,`.${r.slideClass}, swiper-slide`)[0],r.loop&&!u===0&&(u=t[t.length-1]))),t.forEach(d=>{yc(d,d===l,r.slideActiveClass),yc(d,d===h,r.slideNextClass),yc(d,d===u,r.slidePrevClass)}),e.emitSlidesClasses()}const so=(e,t)=>{if(!e||e.destroyed||!e.params)return;const r=()=>e.isElement?"swiper-slide":`.${e.params.slideClass}`,n=t.closest(r());if(n){let s=n.querySelector(`.${e.params.lazyPreloaderClass}`);!s&&e.isElement&&(n.shadowRoot?s=n.shadowRoot.querySelector(`.${e.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{n.shadowRoot&&(s=n.shadowRoot.querySelector(`.${e.params.lazyPreloaderClass}`),s&&s.remove())})),s&&s.remove()}},xc=(e,t)=>{if(!e.slides[t])return;const r=e.slides[t].querySelector('[loading="lazy"]');r&&r.removeAttribute("loading")},Vu=e=>{if(!e||e.destroyed||!e.params)return;let t=e.params.lazyPreloadPrevNext;const r=e.slides.length;if(!r||!t||t<0)return;t=Math.min(t,r);const n=e.params.slidesPerView==="auto"?e.slidesPerViewDynamic():Math.ceil(e.params.slidesPerView),s=e.activeIndex;if(e.params.grid&&e.params.grid.rows>1){const o=s,c=[o-t];c.push(...Array.from({length:t}).map((l,u)=>o+n+u)),e.slides.forEach((l,u)=>{c.includes(l.column)&&xc(e,u)});return}const a=s+n-1;if(e.params.rewind||e.params.loop)for(let o=s-t;o<=a+t;o+=1){const c=(o%r+r)%r;(c<s||c>a)&&xc(e,c)}else for(let o=Math.max(s-t,0);o<=Math.min(a+t,r-1);o+=1)o!==s&&(o>a||o<s)&&xc(e,o)};function sN(e){const{slidesGrid:t,params:r}=e,n=e.rtlTranslate?e.translate:-e.translate;let s;for(let a=0;a<t.length;a+=1)typeof t[a+1]<"u"?n>=t[a]&&n<t[a+1]-(t[a+1]-t[a])/2?s=a:n>=t[a]&&n<t[a+1]&&(s=a+1):n>=t[a]&&(s=a);return r.normalizeSlideIndex&&(s<0||typeof s>"u")&&(s=0),s}function iN(e){const t=this,r=t.rtlTranslate?t.translate:-t.translate,{snapGrid:n,params:s,activeIndex:a,realIndex:o,snapIndex:c}=t;let l=e,u;const h=p=>{let b=p-t.virtual.slidesBefore;return b<0&&(b=t.virtual.slides.length+b),b>=t.virtual.slides.length&&(b-=t.virtual.slides.length),b};if(typeof l>"u"&&(l=sN(t)),n.indexOf(r)>=0)u=n.indexOf(r);else{const p=Math.min(s.slidesPerGroupSkip,l);u=p+Math.floor((l-p)/s.slidesPerGroup)}if(u>=n.length&&(u=n.length-1),l===a&&!t.params.loop){u!==c&&(t.snapIndex=u,t.emit("snapIndexChange"));return}if(l===a&&t.params.loop&&t.virtual&&t.params.virtual.enabled){t.realIndex=h(l);return}const d=t.grid&&s.grid&&s.grid.rows>1;let f;if(t.virtual&&s.virtual.enabled&&s.loop)f=h(l);else if(d){const p=t.slides.find(x=>x.column===l);let b=parseInt(p.getAttribute("data-swiper-slide-index"),10);Number.isNaN(b)&&(b=Math.max(t.slides.indexOf(p),0)),f=Math.floor(b/s.grid.rows)}else if(t.slides[l]){const p=t.slides[l].getAttribute("data-swiper-slide-index");p?f=parseInt(p,10):f=l}else f=l;Object.assign(t,{previousSnapIndex:c,snapIndex:u,previousRealIndex:o,realIndex:f,previousIndex:a,activeIndex:l}),t.initialized&&Vu(t),t.emit("activeIndexChange"),t.emit("snapIndexChange"),(t.initialized||t.params.runCallbacksOnInit)&&(o!==f&&t.emit("realIndexChange"),t.emit("slideChange"))}function aN(e,t){const r=this,n=r.params;let s=e.closest(`.${n.slideClass}, swiper-slide`);!s&&r.isElement&&t&&t.length>1&&t.includes(e)&&[...t.slice(t.indexOf(e)+1,t.length)].forEach(c=>{!s&&c.matches&&c.matches(`.${n.slideClass}, swiper-slide`)&&(s=c)});let a=!1,o;if(s){for(let c=0;c<r.slides.length;c+=1)if(r.slides[c]===s){a=!0,o=c;break}}if(s&&a)r.clickedSlide=s,r.virtual&&r.params.virtual.enabled?r.clickedIndex=parseInt(s.getAttribute("data-swiper-slide-index"),10):r.clickedIndex=o;else{r.clickedSlide=void 0,r.clickedIndex=void 0;return}n.slideToClickedSlide&&r.clickedIndex!==void 0&&r.clickedIndex!==r.activeIndex&&r.slideToClickedSlide()}var oN={updateSize:Q_,updateSlides:X_,updateAutoHeight:Z_,updateSlidesOffset:eN,updateSlidesProgress:tN,updateProgress:rN,updateSlidesClasses:nN,updateActiveIndex:iN,updateClickedSlide:aN};function lN(e=this.isHorizontal()?"x":"y"){const t=this,{params:r,rtlTranslate:n,translate:s,wrapperEl:a}=t;if(r.virtualTranslate)return n?-s:s;if(r.cssMode)return s;let o=D_(a,e);return o+=t.cssOverflowAdjustment(),n&&(o=-o),o||0}function cN(e,t){const r=this,{rtlTranslate:n,params:s,wrapperEl:a,progress:o}=r;let c=0,l=0;const u=0;r.isHorizontal()?c=n?-e:e:l=e,s.roundLengths&&(c=Math.floor(c),l=Math.floor(l)),r.previousTranslate=r.translate,r.translate=r.isHorizontal()?c:l,s.cssMode?a[r.isHorizontal()?"scrollLeft":"scrollTop"]=r.isHorizontal()?-c:-l:s.virtualTranslate||(r.isHorizontal()?c-=r.cssOverflowAdjustment():l-=r.cssOverflowAdjustment(),a.style.transform=`translate3d(${c}px, ${l}px, ${u}px)`);let h;const d=r.maxTranslate()-r.minTranslate();d===0?h=0:h=(e-r.minTranslate())/d,h!==o&&r.updateProgress(e),r.emit("setTranslate",r.translate,t)}function uN(){return-this.snapGrid[0]}function dN(){return-this.snapGrid[this.snapGrid.length-1]}function fN(e=0,t=this.params.speed,r=!0,n=!0,s){const a=this,{params:o,wrapperEl:c}=a;if(a.animating&&o.preventInteractionOnTransition)return!1;const l=a.minTranslate(),u=a.maxTranslate();let h;if(n&&e>l?h=l:n&&e<u?h=u:h=e,a.updateProgress(h),o.cssMode){const d=a.isHorizontal();if(t===0)c[d?"scrollLeft":"scrollTop"]=-h;else{if(!a.support.smoothScroll)return Oy({swiper:a,targetPosition:-h,side:d?"left":"top"}),!0;c.scrollTo({[d?"left":"top"]:-h,behavior:"smooth"})}return!0}return t===0?(a.setTransition(0),a.setTranslate(h),r&&(a.emit("beforeTransitionStart",t,s),a.emit("transitionEnd"))):(a.setTransition(t),a.setTranslate(h),r&&(a.emit("beforeTransitionStart",t,s),a.emit("transitionStart")),a.animating||(a.animating=!0,a.onTranslateToWrapperTransitionEnd||(a.onTranslateToWrapperTransitionEnd=function(f){!a||a.destroyed||f.target===this&&(a.wrapperEl.removeEventListener("transitionend",a.onTranslateToWrapperTransitionEnd),a.onTranslateToWrapperTransitionEnd=null,delete a.onTranslateToWrapperTransitionEnd,a.animating=!1,r&&a.emit("transitionEnd"))}),a.wrapperEl.addEventListener("transitionend",a.onTranslateToWrapperTransitionEnd))),!0}var hN={getTranslate:lN,setTranslate:cN,minTranslate:uN,maxTranslate:dN,translateTo:fN};function pN(e,t){const r=this;r.params.cssMode||(r.wrapperEl.style.transitionDuration=`${e}ms`,r.wrapperEl.style.transitionDelay=e===0?"0ms":""),r.emit("setTransition",e,t)}function Iy({swiper:e,runCallbacks:t,direction:r,step:n}){const{activeIndex:s,previousIndex:a}=e;let o=r;o||(s>a?o="next":s<a?o="prev":o="reset"),e.emit(`transition${n}`),t&&o==="reset"?e.emit(`slideResetTransition${n}`):t&&s!==a&&(e.emit(`slideChangeTransition${n}`),o==="next"?e.emit(`slideNextTransition${n}`):e.emit(`slidePrevTransition${n}`))}function mN(e=!0,t){const r=this,{params:n}=r;n.cssMode||(n.autoHeight&&r.updateAutoHeight(),Iy({swiper:r,runCallbacks:e,direction:t,step:"Start"}))}function gN(e=!0,t){const r=this,{params:n}=r;r.animating=!1,!n.cssMode&&(r.setTransition(0),Iy({swiper:r,runCallbacks:e,direction:t,step:"End"}))}var vN={setTransition:pN,transitionStart:mN,transitionEnd:gN};function yN(e=0,t,r=!0,n,s){typeof e=="string"&&(e=parseInt(e,10));const a=this;let o=e;o<0&&(o=0);const{params:c,snapGrid:l,slidesGrid:u,previousIndex:h,activeIndex:d,rtlTranslate:f,wrapperEl:p,enabled:b}=a;if(!b&&!n&&!s||a.destroyed||a.animating&&c.preventInteractionOnTransition)return!1;typeof t>"u"&&(t=a.params.speed);const x=Math.min(a.params.slidesPerGroupSkip,o);let w=x+Math.floor((o-x)/a.params.slidesPerGroup);w>=l.length&&(w=l.length-1);const g=-l[w];if(c.normalizeSlideIndex)for(let N=0;N<u.length;N+=1){const _=-Math.floor(g*100),C=Math.floor(u[N]*100),k=Math.floor(u[N+1]*100);typeof u[N+1]<"u"?_>=C&&_<k-(k-C)/2?o=N:_>=C&&_<k&&(o=N+1):_>=C&&(o=N)}if(a.initialized&&o!==d&&(!a.allowSlideNext&&(f?g>a.translate&&g>a.minTranslate():g<a.translate&&g<a.minTranslate())||!a.allowSlidePrev&&g>a.translate&&g>a.maxTranslate()&&(d||0)!==o))return!1;o!==(h||0)&&r&&a.emit("beforeSlideChangeStart"),a.updateProgress(g);let m;o>d?m="next":o<d?m="prev":m="reset";const v=a.virtual&&a.params.virtual.enabled;if(!(v&&s)&&(f&&-g===a.translate||!f&&g===a.translate))return a.updateActiveIndex(o),c.autoHeight&&a.updateAutoHeight(),a.updateSlidesClasses(),c.effect!=="slide"&&a.setTranslate(g),m!=="reset"&&(a.transitionStart(r,m),a.transitionEnd(r,m)),!1;if(c.cssMode){const N=a.isHorizontal(),_=f?g:-g;if(t===0)v&&(a.wrapperEl.style.scrollSnapType="none",a._immediateVirtual=!0),v&&!a._cssModeVirtualInitialSet&&a.params.initialSlide>0?(a._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{p[N?"scrollLeft":"scrollTop"]=_})):p[N?"scrollLeft":"scrollTop"]=_,v&&requestAnimationFrame(()=>{a.wrapperEl.style.scrollSnapType="",a._immediateVirtual=!1});else{if(!a.support.smoothScroll)return Oy({swiper:a,targetPosition:_,side:N?"left":"top"}),!0;p.scrollTo({[N?"left":"top"]:_,behavior:"smooth"})}return!0}const S=Ay().isSafari;return v&&!s&&S&&a.isElement&&a.virtual.update(!1,!1,o),a.setTransition(t),a.setTranslate(g),a.updateActiveIndex(o),a.updateSlidesClasses(),a.emit("beforeTransitionStart",t,n),a.transitionStart(r,m),t===0?a.transitionEnd(r,m):a.animating||(a.animating=!0,a.onSlideToWrapperTransitionEnd||(a.onSlideToWrapperTransitionEnd=function(_){!a||a.destroyed||_.target===this&&(a.wrapperEl.removeEventListener("transitionend",a.onSlideToWrapperTransitionEnd),a.onSlideToWrapperTransitionEnd=null,delete a.onSlideToWrapperTransitionEnd,a.transitionEnd(r,m))}),a.wrapperEl.addEventListener("transitionend",a.onSlideToWrapperTransitionEnd)),!0}function xN(e=0,t,r=!0,n){typeof e=="string"&&(e=parseInt(e,10));const s=this;if(s.destroyed)return;typeof t>"u"&&(t=s.params.speed);const a=s.grid&&s.params.grid&&s.params.grid.rows>1;let o=e;if(s.params.loop)if(s.virtual&&s.params.virtual.enabled)o=o+s.virtual.slidesBefore;else{let c;if(a){const x=o*s.params.grid.rows;c=s.slides.find(w=>w.getAttribute("data-swiper-slide-index")*1===x).column}else c=s.getSlideIndexByData(o);const l=a?Math.ceil(s.slides.length/s.params.grid.rows):s.slides.length,{centeredSlides:u,slidesOffsetBefore:h,slidesOffsetAfter:d}=s.params,f=u||!!h||!!d;let p=s.params.slidesPerView;p==="auto"?p=s.slidesPerViewDynamic():(p=Math.ceil(parseFloat(s.params.slidesPerView,10)),f&&p%2===0&&(p=p+1));let b=l-c<p;if(f&&(b=b||c<Math.ceil(p/2)),n&&f&&s.params.slidesPerView!=="auto"&&!a&&(b=!1),b){const x=f?c<s.activeIndex?"prev":"next":c-s.activeIndex-1<s.params.slidesPerView?"next":"prev";s.loopFix({direction:x,slideTo:!0,activeSlideIndex:x==="next"?c+1:c-l+1,slideRealIndex:x==="next"?s.realIndex:void 0})}if(a){const x=o*s.params.grid.rows;o=s.slides.find(w=>w.getAttribute("data-swiper-slide-index")*1===x).column}else o=s.getSlideIndexByData(o)}return requestAnimationFrame(()=>{s.slideTo(o,t,r,n)}),s}function bN(e,t=!0,r){const n=this,{enabled:s,params:a,animating:o}=n;if(!s||n.destroyed)return n;typeof e>"u"&&(e=n.params.speed);let c=a.slidesPerGroup;a.slidesPerView==="auto"&&a.slidesPerGroup===1&&a.slidesPerGroupAuto&&(c=Math.max(n.slidesPerViewDynamic("current",!0),1));const l=n.activeIndex<a.slidesPerGroupSkip?1:c,u=n.virtual&&a.virtual.enabled;if(a.loop){if(o&&!u&&a.loopPreventsSliding)return!1;if(n.loopFix({direction:"next"}),n._clientLeft=n.wrapperEl.clientLeft,n.activeIndex===n.slides.length-1&&a.cssMode)return requestAnimationFrame(()=>{n.slideTo(n.activeIndex+l,e,t,r)}),!0}return a.rewind&&n.isEnd?n.slideTo(0,e,t,r):n.slideTo(n.activeIndex+l,e,t,r)}function wN(e,t=!0,r){const n=this,{params:s,snapGrid:a,slidesGrid:o,rtlTranslate:c,enabled:l,animating:u}=n;if(!l||n.destroyed)return n;typeof e>"u"&&(e=n.params.speed);const h=n.virtual&&s.virtual.enabled;if(s.loop){if(u&&!h&&s.loopPreventsSliding)return!1;n.loopFix({direction:"prev"}),n._clientLeft=n.wrapperEl.clientLeft}const d=c?n.translate:-n.translate;function f(m){return m<0?-Math.floor(Math.abs(m)):Math.floor(m)}const p=f(d),b=a.map(m=>f(m)),x=s.freeMode&&s.freeMode.enabled;let w=a[b.indexOf(p)-1];if(typeof w>"u"&&(s.cssMode||x)){let m;a.forEach((v,y)=>{p>=v&&(m=y)}),typeof m<"u"&&(w=x?a[m]:a[m>0?m-1:m])}let g=0;if(typeof w<"u"&&(g=o.indexOf(w),g<0&&(g=n.activeIndex-1),s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(g=g-n.slidesPerViewDynamic("previous",!0)+1,g=Math.max(g,0))),s.rewind&&n.isBeginning){const m=n.params.virtual&&n.params.virtual.enabled&&n.virtual?n.virtual.slides.length-1:n.slides.length-1;return n.slideTo(m,e,t,r)}else if(s.loop&&n.activeIndex===0&&s.cssMode)return requestAnimationFrame(()=>{n.slideTo(g,e,t,r)}),!0;return n.slideTo(g,e,t,r)}function jN(e,t=!0,r){const n=this;if(!n.destroyed)return typeof e>"u"&&(e=n.params.speed),n.slideTo(n.activeIndex,e,t,r)}function _N(e,t=!0,r,n=.5){const s=this;if(s.destroyed)return;typeof e>"u"&&(e=s.params.speed);let a=s.activeIndex;const o=Math.min(s.params.slidesPerGroupSkip,a),c=o+Math.floor((a-o)/s.params.slidesPerGroup),l=s.rtlTranslate?s.translate:-s.translate;if(l>=s.snapGrid[c]){const u=s.snapGrid[c],h=s.snapGrid[c+1];l-u>(h-u)*n&&(a+=s.params.slidesPerGroup)}else{const u=s.snapGrid[c-1],h=s.snapGrid[c];l-u<=(h-u)*n&&(a-=s.params.slidesPerGroup)}return a=Math.max(a,0),a=Math.min(a,s.slidesGrid.length-1),s.slideTo(a,e,t,r)}function NN(){const e=this;if(e.destroyed)return;const{params:t,slidesEl:r}=e,n=t.slidesPerView==="auto"?e.slidesPerViewDynamic():t.slidesPerView;let s=e.getSlideIndexWhenGrid(e.clickedIndex),a;const o=e.isElement?"swiper-slide":`.${t.slideClass}`,c=e.grid&&e.params.grid&&e.params.grid.rows>1;if(t.loop){if(e.animating)return;a=parseInt(e.clickedSlide.getAttribute("data-swiper-slide-index"),10),t.centeredSlides?e.slideToLoop(a):s>(c?(e.slides.length-n)/2-(e.params.grid.rows-1):e.slides.length-n)?(e.loopFix(),s=e.getSlideIndex(jr(r,`${o}[data-swiper-slide-index="${a}"]`)[0]),Ro(()=>{e.slideTo(s)})):e.slideTo(s)}else e.slideTo(s)}var SN={slideTo:yN,slideToLoop:xN,slideNext:bN,slidePrev:wN,slideReset:jN,slideToClosest:_N,slideToClickedSlide:NN};function kN(e,t){const r=this,{params:n,slidesEl:s}=r;if(!n.loop||r.virtual&&r.params.virtual.enabled)return;const a=()=>{jr(s,`.${n.slideClass}, swiper-slide`).forEach((b,x)=>{b.setAttribute("data-swiper-slide-index",x)})},o=()=>{const p=jr(s,`.${n.slideBlankClass}`);p.forEach(b=>{b.remove()}),p.length>0&&(r.recalcSlides(),r.updateSlides())},c=r.grid&&n.grid&&n.grid.rows>1;n.loopAddBlankSlides&&(n.slidesPerGroup>1||c)&&o();const l=n.slidesPerGroup*(c?n.grid.rows:1),u=r.slides.length%l!==0,h=c&&r.slides.length%n.grid.rows!==0,d=p=>{for(let b=0;b<p;b+=1){const x=r.isElement?Hu("swiper-slide",[n.slideBlankClass]):Hu("div",[n.slideClass,n.slideBlankClass]);r.slidesEl.append(x)}};if(u){if(n.loopAddBlankSlides){const p=l-r.slides.length%l;d(p),r.recalcSlides(),r.updateSlides()}else Lo("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");a()}else if(h){if(n.loopAddBlankSlides){const p=n.grid.rows-r.slides.length%n.grid.rows;d(p),r.recalcSlides(),r.updateSlides()}else Lo("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");a()}else a();const f=n.centeredSlides||!!n.slidesOffsetBefore||!!n.slidesOffsetAfter;r.loopFix({slideRealIndex:e,direction:f?void 0:"next",initial:t})}function EN({slideRealIndex:e,slideTo:t=!0,direction:r,setTranslate:n,activeSlideIndex:s,initial:a,byController:o,byMousewheel:c}={}){const l=this;if(!l.params.loop)return;l.emit("beforeLoopFix");const{slides:u,allowSlidePrev:h,allowSlideNext:d,slidesEl:f,params:p}=l,{centeredSlides:b,slidesOffsetBefore:x,slidesOffsetAfter:w,initialSlide:g}=p,m=b||!!x||!!w;if(l.allowSlidePrev=!0,l.allowSlideNext=!0,l.virtual&&p.virtual.enabled){t&&(!m&&l.snapIndex===0?l.slideTo(l.virtual.slides.length,0,!1,!0):m&&l.snapIndex<p.slidesPerView?l.slideTo(l.virtual.slides.length+l.snapIndex,0,!1,!0):l.snapIndex===l.snapGrid.length-1&&l.slideTo(l.virtual.slidesBefore,0,!1,!0)),l.allowSlidePrev=h,l.allowSlideNext=d,l.emit("loopFix");return}let v=p.slidesPerView;v==="auto"?v=l.slidesPerViewDynamic():(v=Math.ceil(parseFloat(p.slidesPerView,10)),m&&v%2===0&&(v=v+1));const y=p.slidesPerGroupAuto?v:p.slidesPerGroup;let j=m?Math.max(y,Math.ceil(v/2)):y;j%y!==0&&(j+=y-j%y),j+=p.loopAdditionalSlides,l.loopedSlides=j;const S=l.grid&&p.grid&&p.grid.rows>1;u.length<v+j||l.params.effect==="cards"&&u.length<v+j*2?Lo("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):S&&p.grid.fill==="row"&&Lo("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const N=[],_=[],C=S?Math.ceil(u.length/p.grid.rows):u.length,k=a&&C-g<v&&!m;let E=k?g:l.activeIndex;typeof s>"u"?s=l.getSlideIndex(u.find(q=>q.classList.contains(p.slideActiveClass))):E=s;const T=r==="next"||!r,A=r==="prev"||!r;let L=0,F=0;const B=(S?u[s].column:s)+(m&&typeof n>"u"?-v/2+.5:0);if(B<j){L=Math.max(j-B,y);for(let q=0;q<j-B;q+=1){const D=q-Math.floor(q/C)*C;if(S){const I=C-D-1;for(let P=u.length-1;P>=0;P-=1)u[P].column===I&&N.push(P)}else N.push(C-D-1)}}else if(B+v>C-j){F=Math.max(B-(C-j*2),y),k&&(F=Math.max(F,v-C+g+1));for(let q=0;q<F;q+=1){const D=q-Math.floor(q/C)*C;S?u.forEach((I,P)=>{I.column===D&&_.push(P)}):_.push(D)}}if(l.__preventObserver__=!0,requestAnimationFrame(()=>{l.__preventObserver__=!1}),l.params.effect==="cards"&&u.length<v+j*2&&(_.includes(s)&&_.splice(_.indexOf(s),1),N.includes(s)&&N.splice(N.indexOf(s),1)),A&&N.forEach(q=>{u[q].swiperLoopMoveDOM=!0,f.prepend(u[q]),u[q].swiperLoopMoveDOM=!1}),T&&_.forEach(q=>{u[q].swiperLoopMoveDOM=!0,f.append(u[q]),u[q].swiperLoopMoveDOM=!1}),l.recalcSlides(),p.slidesPerView==="auto"?l.updateSlides():S&&(N.length>0&&A||_.length>0&&T)&&l.slides.forEach((q,D)=>{l.grid.updateSlide(D,q,l.slides)}),p.watchSlidesProgress&&l.updateSlidesOffset(),t){if(N.length>0&&A){if(typeof e>"u"){const q=l.slidesGrid[E],I=l.slidesGrid[E+L]-q;c?l.setTranslate(l.translate-I):(l.slideTo(E+Math.ceil(L),0,!1,!0),n&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-I,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-I))}else if(n){const q=S?N.length/p.grid.rows:N.length;l.slideTo(l.activeIndex+q,0,!1,!0),l.touchEventsData.currentTranslate=l.translate}}else if(_.length>0&&T)if(typeof e>"u"){const q=l.slidesGrid[E],I=l.slidesGrid[E-F]-q;c?l.setTranslate(l.translate-I):(l.slideTo(E-F,0,!1,!0),n&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-I,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-I))}else{const q=S?_.length/p.grid.rows:_.length;l.slideTo(l.activeIndex-q,0,!1,!0)}}if(l.allowSlidePrev=h,l.allowSlideNext=d,l.controller&&l.controller.control&&!o){const q={slideRealIndex:e,direction:r,setTranslate:n,activeSlideIndex:s,byController:!0};Array.isArray(l.controller.control)?l.controller.control.forEach(D=>{!D.destroyed&&D.params.loop&&D.loopFix({...q,slideTo:D.params.slidesPerView===p.slidesPerView?t:!1})}):l.controller.control instanceof l.constructor&&l.controller.control.params.loop&&l.controller.control.loopFix({...q,slideTo:l.controller.control.params.slidesPerView===p.slidesPerView?t:!1})}l.emit("loopFix")}function TN(){const e=this,{params:t,slidesEl:r}=e;if(!t.loop||!r||e.virtual&&e.params.virtual.enabled)return;e.recalcSlides();const n=[];e.slides.forEach(s=>{const a=typeof s.swiperSlideIndex>"u"?s.getAttribute("data-swiper-slide-index")*1:s.swiperSlideIndex;n[a]=s}),e.slides.forEach(s=>{s.removeAttribute("data-swiper-slide-index")}),n.forEach(s=>{r.append(s)}),e.recalcSlides(),e.slideTo(e.realIndex,0)}var ON={loopCreate:kN,loopFix:EN,loopDestroy:TN};function CN(e){const t=this;if(!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)return;const r=t.params.touchEventsTarget==="container"?t.el:t.wrapperEl;t.isElement&&(t.__preventObserver__=!0),r.style.cursor="move",r.style.cursor=e?"grabbing":"grab",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1})}function PN(){const e=this;e.params.watchOverflow&&e.isLocked||e.params.cssMode||(e.isElement&&(e.__preventObserver__=!0),e[e.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1}))}var AN={setGrabCursor:CN,unsetGrabCursor:PN};function IN(e,t=this){function r(n){if(!n||n===lr()||n===st())return null;n.assignedSlot&&(n=n.assignedSlot);const s=n.closest(e);return!s&&!n.getRootNode?null:s||r(n.getRootNode().host)}return r(t)}function Np(e,t,r){const n=st(),{params:s}=e,a=s.edgeSwipeDetection,o=s.edgeSwipeThreshold;return a&&(r<=o||r>=n.innerWidth-o)?a==="prevent"?(t.preventDefault(),!0):!1:!0}function RN(e){const t=this,r=lr();let n=e;n.originalEvent&&(n=n.originalEvent);const s=t.touchEventsData;if(n.type==="pointerdown"){if(s.pointerId!==null&&s.pointerId!==n.pointerId)return;s.pointerId=n.pointerId}else n.type==="touchstart"&&n.targetTouches.length===1&&(s.touchId=n.targetTouches[0].identifier);if(n.type==="touchstart"){Np(t,n,n.targetTouches[0].pageX);return}const{params:a,touches:o,enabled:c}=t;if(!c||!a.simulateTouch&&n.pointerType==="mouse"||t.animating&&a.preventInteractionOnTransition)return;!t.animating&&a.cssMode&&a.loop&&t.loopFix();let l=n.target;if(a.touchEventsTarget==="wrapper"&&!B_(l,t.wrapperEl)||"which"in n&&n.which===3||"button"in n&&n.button>0||s.isTouched&&s.isMoved)return;const u=!!a.noSwipingClass&&a.noSwipingClass!=="",h=n.composedPath?n.composedPath():n.path;u&&n.target&&n.target.shadowRoot&&h&&(l=h[0]);const d=a.noSwipingSelector?a.noSwipingSelector:`.${a.noSwipingClass}`,f=!!(n.target&&n.target.shadowRoot);if(a.noSwiping&&(f?IN(d,l):l.closest(d))){t.allowClick=!0;return}if(a.swipeHandler&&!l.closest(a.swipeHandler))return;o.currentX=n.pageX,o.currentY=n.pageY;const p=o.currentX,b=o.currentY;if(!Np(t,n,p))return;Object.assign(s,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=p,o.startY=b,s.touchStartTime=Mt(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,a.threshold>0&&(s.allowThresholdMove=!1);let x=!0;l.matches(s.focusableElements)&&(x=!1,l.nodeName==="SELECT"&&(s.isTouched=!1)),r.activeElement&&r.activeElement.matches(s.focusableElements)&&r.activeElement!==l&&(n.pointerType==="mouse"||n.pointerType!=="mouse"&&!l.matches(s.focusableElements))&&r.activeElement.blur();const w=x&&t.allowTouchMove&&a.touchStartPreventDefault;(a.touchStartForcePreventDefault||w)&&!l.isContentEditable&&n.preventDefault(),a.freeMode&&a.freeMode.enabled&&t.freeMode&&t.animating&&!a.cssMode&&t.freeMode.onTouchStart(),t.emit("touchStart",n)}function LN(e){const t=lr(),r=this,n=r.touchEventsData,{params:s,touches:a,rtlTranslate:o,enabled:c}=r;if(!c||!s.simulateTouch&&e.pointerType==="mouse")return;let l=e;if(l.originalEvent&&(l=l.originalEvent),l.type==="pointermove"&&(n.touchId!==null||l.pointerId!==n.pointerId))return;let u;if(l.type==="touchmove"){if(u=[...l.changedTouches].find(j=>j.identifier===n.touchId),!u||u.identifier!==n.touchId)return}else u=l;if(!n.isTouched){n.startMoving&&n.isScrolling&&r.emit("touchMoveOpposite",l);return}const h=u.pageX,d=u.pageY;if(l.preventedByNestedSwiper){a.startX=h,a.startY=d;return}if(!r.allowTouchMove){l.target.matches(n.focusableElements)||(r.allowClick=!1),n.isTouched&&(Object.assign(a,{startX:h,startY:d,currentX:h,currentY:d}),n.touchStartTime=Mt());return}if(s.touchReleaseOnEdges&&!s.loop)if(r.isVertical()){if(d<a.startY&&r.translate<=r.maxTranslate()||d>a.startY&&r.translate>=r.minTranslate()){n.isTouched=!1,n.isMoved=!1;return}}else{if(o&&(h>a.startX&&-r.translate<=r.maxTranslate()||h<a.startX&&-r.translate>=r.minTranslate()))return;if(!o&&(h<a.startX&&r.translate<=r.maxTranslate()||h>a.startX&&r.translate>=r.minTranslate()))return}if(t.activeElement&&t.activeElement.matches(n.focusableElements)&&t.activeElement!==l.target&&l.pointerType!=="mouse"&&t.activeElement.blur(),t.activeElement&&l.target===t.activeElement&&l.target.matches(n.focusableElements)){n.isMoved=!0,r.allowClick=!1;return}n.allowTouchCallbacks&&r.emit("touchMove",l),a.previousX=a.currentX,a.previousY=a.currentY,a.currentX=h,a.currentY=d;const f=a.currentX-a.startX,p=a.currentY-a.startY;if(r.params.threshold&&Math.sqrt(f**2+p**2)<r.params.threshold)return;if(typeof n.isScrolling>"u"){let j;r.isHorizontal()&&a.currentY===a.startY||r.isVertical()&&a.currentX===a.startX?n.isScrolling=!1:f*f+p*p>=25&&(j=Math.atan2(Math.abs(p),Math.abs(f))*180/Math.PI,n.isScrolling=r.isHorizontal()?j>s.touchAngle:90-j>s.touchAngle)}if(n.isScrolling&&r.emit("touchMoveOpposite",l),typeof n.startMoving>"u"&&(a.currentX!==a.startX||a.currentY!==a.startY)&&(n.startMoving=!0),n.isScrolling||l.type==="touchmove"&&n.preventTouchMoveFromPointerMove){n.isTouched=!1;return}if(!n.startMoving)return;r.allowClick=!1,!s.cssMode&&l.cancelable&&l.preventDefault(),s.touchMoveStopPropagation&&!s.nested&&l.stopPropagation();let b=r.isHorizontal()?f:p,x=r.isHorizontal()?a.currentX-a.previousX:a.currentY-a.previousY;s.oneWayMovement&&(b=Math.abs(b)*(o?1:-1),x=Math.abs(x)*(o?1:-1)),a.diff=b,b*=s.touchRatio,o&&(b=-b,x=-x);const w=r.touchesDirection;r.swipeDirection=b>0?"prev":"next",r.touchesDirection=x>0?"prev":"next";const g=r.params.loop&&!s.cssMode,m=r.touchesDirection==="next"&&r.allowSlideNext||r.touchesDirection==="prev"&&r.allowSlidePrev;if(!n.isMoved){if(g&&m&&r.loopFix({direction:r.swipeDirection}),n.startTranslate=r.getTranslate(),r.setTransition(0),r.animating){const j=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});r.wrapperEl.dispatchEvent(j)}n.allowMomentumBounce=!1,s.grabCursor&&(r.allowSlideNext===!0||r.allowSlidePrev===!0)&&r.setGrabCursor(!0),r.emit("sliderFirstMove",l)}if(new Date().getTime(),s._loopSwapReset!==!1&&n.isMoved&&n.allowThresholdMove&&w!==r.touchesDirection&&g&&m&&Math.abs(b)>=1){Object.assign(a,{startX:h,startY:d,currentX:h,currentY:d,startTranslate:n.currentTranslate}),n.loopSwapReset=!0,n.startTranslate=n.currentTranslate;return}r.emit("sliderMove",l),n.isMoved=!0,n.currentTranslate=b+n.startTranslate;let v=!0,y=s.resistanceRatio;if(s.touchReleaseOnEdges&&(y=0),b>0?(g&&m&&n.allowThresholdMove&&n.currentTranslate>(s.centeredSlides?r.minTranslate()-r.slidesSizesGrid[r.activeIndex+1]-(s.slidesPerView!=="auto"&&r.slides.length-s.slidesPerView>=2?r.slidesSizesGrid[r.activeIndex+1]+r.params.spaceBetween:0)-r.params.spaceBetween:r.minTranslate())&&r.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),n.currentTranslate>r.minTranslate()&&(v=!1,s.resistance&&(n.currentTranslate=r.minTranslate()-1+(-r.minTranslate()+n.startTranslate+b)**y))):b<0&&(g&&m&&n.allowThresholdMove&&n.currentTranslate<(s.centeredSlides?r.maxTranslate()+r.slidesSizesGrid[r.slidesSizesGrid.length-1]+r.params.spaceBetween+(s.slidesPerView!=="auto"&&r.slides.length-s.slidesPerView>=2?r.slidesSizesGrid[r.slidesSizesGrid.length-1]+r.params.spaceBetween:0):r.maxTranslate())&&r.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:r.slides.length-(s.slidesPerView==="auto"?r.slidesPerViewDynamic():Math.ceil(parseFloat(s.slidesPerView,10)))}),n.currentTranslate<r.maxTranslate()&&(v=!1,s.resistance&&(n.currentTranslate=r.maxTranslate()+1-(r.maxTranslate()-n.startTranslate-b)**y))),v&&(l.preventedByNestedSwiper=!0),!r.allowSlideNext&&r.swipeDirection==="next"&&n.currentTranslate<n.startTranslate&&(n.currentTranslate=n.startTranslate),!r.allowSlidePrev&&r.swipeDirection==="prev"&&n.currentTranslate>n.startTranslate&&(n.currentTranslate=n.startTranslate),!r.allowSlidePrev&&!r.allowSlideNext&&(n.currentTranslate=n.startTranslate),s.threshold>0)if(Math.abs(b)>s.threshold||n.allowThresholdMove){if(!n.allowThresholdMove){n.allowThresholdMove=!0,a.startX=a.currentX,a.startY=a.currentY,n.currentTranslate=n.startTranslate,a.diff=r.isHorizontal()?a.currentX-a.startX:a.currentY-a.startY;return}}else{n.currentTranslate=n.startTranslate;return}!s.followFinger||s.cssMode||((s.freeMode&&s.freeMode.enabled&&r.freeMode||s.watchSlidesProgress)&&(r.updateActiveIndex(),r.updateSlidesClasses()),s.freeMode&&s.freeMode.enabled&&r.freeMode&&r.freeMode.onTouchMove(),r.updateProgress(n.currentTranslate),r.setTranslate(n.currentTranslate))}function MN(e){const t=this,r=t.touchEventsData;let n=e;n.originalEvent&&(n=n.originalEvent);let s;if(n.type==="touchend"||n.type==="touchcancel"){if(s=[...n.changedTouches].find(j=>j.identifier===r.touchId),!s||s.identifier!==r.touchId)return}else{if(r.touchId!==null||n.pointerId!==r.pointerId)return;s=n}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(n.type)&&!(["pointercancel","contextmenu"].includes(n.type)&&(t.browser.isSafari||t.browser.isWebView)))return;r.pointerId=null,r.touchId=null;const{params:o,touches:c,rtlTranslate:l,slidesGrid:u,enabled:h}=t;if(!h||!o.simulateTouch&&n.pointerType==="mouse")return;if(r.allowTouchCallbacks&&t.emit("touchEnd",n),r.allowTouchCallbacks=!1,!r.isTouched){r.isMoved&&o.grabCursor&&t.setGrabCursor(!1),r.isMoved=!1,r.startMoving=!1;return}o.grabCursor&&r.isMoved&&r.isTouched&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!1);const d=Mt(),f=d-r.touchStartTime;if(t.allowClick){const j=n.path||n.composedPath&&n.composedPath();t.updateClickedSlide(j&&j[0]||n.target,j),t.emit("tap click",n),f<300&&d-r.lastClickTime<300&&t.emit("doubleTap doubleClick",n)}if(r.lastClickTime=Mt(),Ro(()=>{t.destroyed||(t.allowClick=!0)}),!r.isTouched||!r.isMoved||!t.swipeDirection||c.diff===0&&!r.loopSwapReset||r.currentTranslate===r.startTranslate&&!r.loopSwapReset){r.isTouched=!1,r.isMoved=!1,r.startMoving=!1;return}r.isTouched=!1,r.isMoved=!1,r.startMoving=!1;let p;if(o.followFinger?p=l?t.translate:-t.translate:p=-r.currentTranslate,o.cssMode)return;if(o.freeMode&&o.freeMode.enabled){t.freeMode.onTouchEnd({currentPos:p});return}const b=p>=-t.maxTranslate()&&!t.params.loop;let x=0,w=t.slidesSizesGrid[0];for(let j=0;j<u.length;j+=j<o.slidesPerGroupSkip?1:o.slidesPerGroup){const S=j<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;typeof u[j+S]<"u"?(b||p>=u[j]&&p<u[j+S])&&(x=j,w=u[j+S]-u[j]):(b||p>=u[j])&&(x=j,w=u[u.length-1]-u[u.length-2])}let g=null,m=null;o.rewind&&(t.isBeginning?m=o.virtual&&o.virtual.enabled&&t.virtual?t.virtual.slides.length-1:t.slides.length-1:t.isEnd&&(g=0));const v=(p-u[x])/w,y=x<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;if(f>o.longSwipesMs){if(!o.longSwipes){t.slideTo(t.activeIndex);return}t.swipeDirection==="next"&&(v>=o.longSwipesRatio?t.slideTo(o.rewind&&t.isEnd?g:x+y):t.slideTo(x)),t.swipeDirection==="prev"&&(v>1-o.longSwipesRatio?t.slideTo(x+y):m!==null&&v<0&&Math.abs(v)>o.longSwipesRatio?t.slideTo(m):t.slideTo(x))}else{if(!o.shortSwipes){t.slideTo(t.activeIndex);return}t.navigation&&(n.target===t.navigation.nextEl||n.target===t.navigation.prevEl)?n.target===t.navigation.nextEl?t.slideTo(x+y):t.slideTo(x):(t.swipeDirection==="next"&&t.slideTo(g!==null?g:x+y),t.swipeDirection==="prev"&&t.slideTo(m!==null?m:x))}}function Sp(){const e=this,{params:t,el:r}=e;if(r&&r.offsetWidth===0)return;t.breakpoints&&e.setBreakpoint();const{allowSlideNext:n,allowSlidePrev:s,snapGrid:a}=e,o=e.virtual&&e.params.virtual.enabled;e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),e.updateSlidesClasses();const c=o&&t.loop;(t.slidesPerView==="auto"||t.slidesPerView>1)&&e.isEnd&&!e.isBeginning&&!e.params.centeredSlides&&!c?e.slideTo(e.slides.length-1,0,!1,!0):e.params.loop&&!o?e.slideToLoop(e.realIndex,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0),e.autoplay&&e.autoplay.running&&e.autoplay.paused&&(clearTimeout(e.autoplay.resizeTimeout),e.autoplay.resizeTimeout=setTimeout(()=>{e.autoplay&&e.autoplay.running&&e.autoplay.paused&&e.autoplay.resume()},500)),e.allowSlidePrev=s,e.allowSlideNext=n,e.params.watchOverflow&&a!==e.snapGrid&&e.checkOverflow()}function $N(e){const t=this;t.enabled&&(t.allowClick||(t.params.preventClicks&&e.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(e.stopPropagation(),e.stopImmediatePropagation())))}function DN(){const e=this,{wrapperEl:t,rtlTranslate:r,enabled:n}=e;if(!n)return;e.previousTranslate=e.translate,e.isHorizontal()?e.translate=-t.scrollLeft:e.translate=-t.scrollTop,e.translate===0&&(e.translate=0),e.updateActiveIndex(),e.updateSlidesClasses();let s;const a=e.maxTranslate()-e.minTranslate();a===0?s=0:s=(e.translate-e.minTranslate())/a,s!==e.progress&&e.updateProgress(r?-e.translate:e.translate),e.emit("setTranslate",e.translate,!1)}function FN(e){const t=this;so(t,e.target),!(t.params.cssMode||t.params.slidesPerView!=="auto"&&!t.params.autoHeight)&&t.update()}function qN(){const e=this;e.documentTouchHandlerProceeded||(e.documentTouchHandlerProceeded=!0,e.params.touchReleaseOnEdges&&(e.el.style.touchAction="auto"))}const Ry=(e,t)=>{const r=lr(),{params:n,el:s,wrapperEl:a,device:o}=e,c=!!n.nested,l=t==="on"?"addEventListener":"removeEventListener",u=t;!s||typeof s=="string"||(r[l]("touchstart",e.onDocumentTouchStart,{passive:!1,capture:c}),s[l]("touchstart",e.onTouchStart,{passive:!1}),s[l]("pointerdown",e.onTouchStart,{passive:!1}),r[l]("touchmove",e.onTouchMove,{passive:!1,capture:c}),r[l]("pointermove",e.onTouchMove,{passive:!1,capture:c}),r[l]("touchend",e.onTouchEnd,{passive:!0}),r[l]("pointerup",e.onTouchEnd,{passive:!0}),r[l]("pointercancel",e.onTouchEnd,{passive:!0}),r[l]("touchcancel",e.onTouchEnd,{passive:!0}),r[l]("pointerout",e.onTouchEnd,{passive:!0}),r[l]("pointerleave",e.onTouchEnd,{passive:!0}),r[l]("contextmenu",e.onTouchEnd,{passive:!0}),(n.preventClicks||n.preventClicksPropagation)&&s[l]("click",e.onClick,!0),n.cssMode&&a[l]("scroll",e.onScroll),n.updateOnWindowResize?e[u](o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",Sp,!0):e[u]("observerUpdate",Sp,!0),s[l]("load",e.onLoad,{capture:!0}))};function BN(){const e=this,{params:t}=e;e.onTouchStart=RN.bind(e),e.onTouchMove=LN.bind(e),e.onTouchEnd=MN.bind(e),e.onDocumentTouchStart=qN.bind(e),t.cssMode&&(e.onScroll=DN.bind(e)),e.onClick=$N.bind(e),e.onLoad=FN.bind(e),Ry(e,"on")}function UN(){Ry(this,"off")}var zN={attachEvents:BN,detachEvents:UN};const kp=(e,t)=>e.grid&&t.grid&&t.grid.rows>1;function HN(){const e=this,{realIndex:t,initialized:r,params:n,el:s}=e,a=n.breakpoints;if(!a||a&&Object.keys(a).length===0)return;const o=lr(),c=n.breakpointsBase==="window"||!n.breakpointsBase?n.breakpointsBase:"container",l=["window","container"].includes(n.breakpointsBase)||!n.breakpointsBase?e.el:o.querySelector(n.breakpointsBase),u=e.getBreakpoint(a,c,l);if(!u||e.currentBreakpoint===u)return;const d=(u in a?a[u]:void 0)||e.originalParams,f=kp(e,n),p=kp(e,d),b=e.params.grabCursor,x=d.grabCursor,w=n.enabled;f&&!p?(s.classList.remove(`${n.containerModifierClass}grid`,`${n.containerModifierClass}grid-column`),e.emitContainerClasses()):!f&&p&&(s.classList.add(`${n.containerModifierClass}grid`),(d.grid.fill&&d.grid.fill==="column"||!d.grid.fill&&n.grid.fill==="column")&&s.classList.add(`${n.containerModifierClass}grid-column`),e.emitContainerClasses()),b&&!x?e.unsetGrabCursor():!b&&x&&e.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(S=>{if(typeof d[S]>"u")return;const N=n[S]&&n[S].enabled,_=d[S]&&d[S].enabled;N&&!_&&e[S].disable(),!N&&_&&e[S].enable()});const g=d.direction&&d.direction!==n.direction,m=n.loop&&(d.slidesPerView!==n.slidesPerView||g),v=n.loop;g&&r&&e.changeDirection(),wt(e.params,d);const y=e.params.enabled,j=e.params.loop;Object.assign(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),w&&!y?e.disable():!w&&y&&e.enable(),e.currentBreakpoint=u,e.emit("_beforeBreakpoint",d),r&&(m?(e.loopDestroy(),e.loopCreate(t),e.updateSlides()):!v&&j?(e.loopCreate(t),e.updateSlides()):v&&!j&&e.loopDestroy()),e.emit("breakpoint",d)}function VN(e,t="window",r){if(!e||t==="container"&&!r)return;let n=!1;const s=st(),a=t==="window"?s.innerHeight:r.clientHeight,o=Object.keys(e).map(c=>{if(typeof c=="string"&&c.indexOf("@")===0){const l=parseFloat(c.substr(1));return{value:a*l,point:c}}return{value:c,point:c}});o.sort((c,l)=>parseInt(c.value,10)-parseInt(l.value,10));for(let c=0;c<o.length;c+=1){const{point:l,value:u}=o[c];t==="window"?s.matchMedia(`(min-width: ${u}px)`).matches&&(n=l):u<=r.clientWidth&&(n=l)}return n||"max"}var WN={setBreakpoint:HN,getBreakpoint:VN};function GN(e,t){const r=[];return e.forEach(n=>{typeof n=="object"?Object.keys(n).forEach(s=>{n[s]&&r.push(t+s)}):typeof n=="string"&&r.push(t+n)}),r}function KN(){const e=this,{classNames:t,params:r,rtl:n,el:s,device:a}=e,o=GN(["initialized",r.direction,{"free-mode":e.params.freeMode&&r.freeMode.enabled},{autoheight:r.autoHeight},{rtl:n},{grid:r.grid&&r.grid.rows>1},{"grid-column":r.grid&&r.grid.rows>1&&r.grid.fill==="column"},{android:a.android},{ios:a.ios},{"css-mode":r.cssMode},{centered:r.cssMode&&r.centeredSlides},{"watch-progress":r.watchSlidesProgress}],r.containerModifierClass);t.push(...o),s.classList.add(...t),e.emitContainerClasses()}function YN(){const e=this,{el:t,classNames:r}=e;!t||typeof t=="string"||(t.classList.remove(...r),e.emitContainerClasses())}var JN={addClasses:KN,removeClasses:YN};function QN(){const e=this,{isLocked:t,params:r}=e,{slidesOffsetBefore:n}=r;if(n){const s=e.slides.length-1,a=e.slidesGrid[s]+e.slidesSizesGrid[s]+n*2;e.isLocked=e.size>a}else e.isLocked=e.snapGrid.length===1;r.allowSlideNext===!0&&(e.allowSlideNext=!e.isLocked),r.allowSlidePrev===!0&&(e.allowSlidePrev=!e.isLocked),t&&t!==e.isLocked&&(e.isEnd=!1),t!==e.isLocked&&e.emit(e.isLocked?"lock":"unlock")}var XN={checkOverflow:QN},Wu={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function ZN(e,t){return function(n={}){const s=Object.keys(n)[0],a=n[s];if(typeof a!="object"||a===null){wt(t,n);return}if(e[s]===!0&&(e[s]={enabled:!0}),s==="navigation"&&e[s]&&e[s].enabled&&!e[s].prevEl&&!e[s].nextEl&&(e[s].auto=!0),["pagination","scrollbar"].indexOf(s)>=0&&e[s]&&e[s].enabled&&!e[s].el&&(e[s].auto=!0),!(s in e&&"enabled"in a)){wt(t,n);return}typeof e[s]=="object"&&!("enabled"in e[s])&&(e[s].enabled=!0),e[s]||(e[s]={enabled:!1}),wt(t,n)}}const bc={eventsEmitter:J_,update:oN,translate:hN,transition:vN,slide:SN,loop:ON,grabCursor:AN,events:zN,breakpoints:WN,checkOverflow:XN,classes:JN},wc={};let bf=class mr{constructor(...t){let r,n;t.length===1&&t[0].constructor&&Object.prototype.toString.call(t[0]).slice(8,-1)==="Object"?n=t[0]:[r,n]=t,n||(n={}),n=wt({},n),r&&!n.el&&(n.el=r);const s=lr();if(n.el&&typeof n.el=="string"&&s.querySelectorAll(n.el).length>1){const l=[];return s.querySelectorAll(n.el).forEach(u=>{const h=wt({},n,{el:u});l.push(new mr(h))}),l}const a=this;a.__swiper__=!0,a.support=Cy(),a.device=Py({userAgent:n.userAgent}),a.browser=Ay(),a.eventsListeners={},a.eventsAnyListeners=[],a.modules=[...a.__modules__],n.modules&&Array.isArray(n.modules)&&a.modules.push(...n.modules);const o={};a.modules.forEach(l=>{l({params:n,swiper:a,extendParams:ZN(n,o),on:a.on.bind(a),once:a.once.bind(a),off:a.off.bind(a),emit:a.emit.bind(a)})});const c=wt({},Wu,o);return a.params=wt({},c,wc,n),a.originalParams=wt({},a.params),a.passedParams=wt({},n),a.params&&a.params.on&&Object.keys(a.params.on).forEach(l=>{a.on(l,a.params.on[l])}),a.params&&a.params.onAny&&a.onAny(a.params.onAny),Object.assign(a,{enabled:a.params.enabled,el:r,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return a.params.direction==="horizontal"},isVertical(){return a.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:a.params.allowSlideNext,allowSlidePrev:a.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:a.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:a.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),a.emit("_swiper"),a.params.init&&a.init(),a}getDirectionLabel(t){return this.isHorizontal()?t:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[t]}getSlideIndex(t){const{slidesEl:r,params:n}=this,s=jr(r,`.${n.slideClass}, swiper-slide`),a=bp(s[0]);return bp(t)-a}getSlideIndexByData(t){return this.getSlideIndex(this.slides.find(r=>r.getAttribute("data-swiper-slide-index")*1===t))}getSlideIndexWhenGrid(t){return this.grid&&this.params.grid&&this.params.grid.rows>1&&(this.params.grid.fill==="column"?t=Math.floor(t/this.params.grid.rows):this.params.grid.fill==="row"&&(t=t%Math.ceil(this.slides.length/this.params.grid.rows))),t}recalcSlides(){const t=this,{slidesEl:r,params:n}=t;t.slides=jr(r,`.${n.slideClass}, swiper-slide`)}enable(){const t=this;t.enabled||(t.enabled=!0,t.params.grabCursor&&t.setGrabCursor(),t.emit("enable"))}disable(){const t=this;t.enabled&&(t.enabled=!1,t.params.grabCursor&&t.unsetGrabCursor(),t.emit("disable"))}setProgress(t,r){const n=this;t=Math.min(Math.max(t,0),1);const s=n.minTranslate(),o=(n.maxTranslate()-s)*t+s;n.translateTo(o,typeof r>"u"?0:r),n.updateActiveIndex(),n.updateSlidesClasses()}emitContainerClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const r=t.el.className.split(" ").filter(n=>n.indexOf("swiper")===0||n.indexOf(t.params.containerModifierClass)===0);t.emit("_containerClasses",r.join(" "))}getSlideClasses(t){const r=this;return r.destroyed?"":t.className.split(" ").filter(n=>n.indexOf("swiper-slide")===0||n.indexOf(r.params.slideClass)===0).join(" ")}emitSlidesClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const r=[];t.slides.forEach(n=>{const s=t.getSlideClasses(n);r.push({slideEl:n,classNames:s}),t.emit("_slideClass",n,s)}),t.emit("_slideClasses",r)}slidesPerViewDynamic(t="current",r=!1){const n=this,{params:s,slides:a,slidesGrid:o,slidesSizesGrid:c,size:l,activeIndex:u}=n;let h=1;if(typeof s.slidesPerView=="number")return s.slidesPerView;if(s.centeredSlides){let d=a[u]?Math.ceil(a[u].swiperSlideSize):0,f;for(let p=u+1;p<a.length;p+=1)a[p]&&!f&&(d+=Math.ceil(a[p].swiperSlideSize),h+=1,d>l&&(f=!0));for(let p=u-1;p>=0;p-=1)a[p]&&!f&&(d+=a[p].swiperSlideSize,h+=1,d>l&&(f=!0))}else if(t==="current")for(let d=u+1;d<a.length;d+=1)(r?o[d]+c[d]-o[u]<l:o[d]-o[u]<l)&&(h+=1);else for(let d=u-1;d>=0;d-=1)o[u]-o[d]<l&&(h+=1);return h}update(){const t=this;if(!t||t.destroyed)return;const{snapGrid:r,params:n}=t;n.breakpoints&&t.setBreakpoint(),[...t.el.querySelectorAll('[loading="lazy"]')].forEach(o=>{o.complete&&so(t,o)}),t.updateSize(),t.updateSlides(),t.updateProgress(),t.updateSlidesClasses();function s(){const o=t.rtlTranslate?t.translate*-1:t.translate,c=Math.min(Math.max(o,t.maxTranslate()),t.minTranslate());t.setTranslate(c),t.updateActiveIndex(),t.updateSlidesClasses()}let a;if(n.freeMode&&n.freeMode.enabled&&!n.cssMode)s(),n.autoHeight&&t.updateAutoHeight();else{if((n.slidesPerView==="auto"||n.slidesPerView>1)&&t.isEnd&&!n.centeredSlides){const o=t.virtual&&n.virtual.enabled?t.virtual.slides:t.slides;a=t.slideTo(o.length-1,0,!1,!0)}else a=t.slideTo(t.activeIndex,0,!1,!0);a||s()}n.watchOverflow&&r!==t.snapGrid&&t.checkOverflow(),t.emit("update")}changeDirection(t,r=!0){const n=this,s=n.params.direction;return t||(t=s==="horizontal"?"vertical":"horizontal"),t===s||t!=="horizontal"&&t!=="vertical"||(n.el.classList.remove(`${n.params.containerModifierClass}${s}`),n.el.classList.add(`${n.params.containerModifierClass}${t}`),n.emitContainerClasses(),n.params.direction=t,n.slides.forEach(a=>{t==="vertical"?a.style.width="":a.style.height=""}),n.emit("changeDirection"),r&&n.update()),n}changeLanguageDirection(t){const r=this;r.rtl&&t==="rtl"||!r.rtl&&t==="ltr"||(r.rtl=t==="rtl",r.rtlTranslate=r.params.direction==="horizontal"&&r.rtl,r.rtl?(r.el.classList.add(`${r.params.containerModifierClass}rtl`),r.el.dir="rtl"):(r.el.classList.remove(`${r.params.containerModifierClass}rtl`),r.el.dir="ltr"),r.update())}mount(t){const r=this;if(r.mounted)return!0;let n=t||r.params.el;if(typeof n=="string"&&(n=document.querySelector(n)),!n)return!1;n.swiper=r,n.parentNode&&n.parentNode.host&&n.parentNode.host.nodeName===r.params.swiperElementNodeName.toUpperCase()&&(r.isElement=!0);const s=()=>`.${(r.params.wrapperClass||"").trim().split(" ").join(".")}`;let o=n&&n.shadowRoot&&n.shadowRoot.querySelector?n.shadowRoot.querySelector(s()):jr(n,s())[0];return!o&&r.params.createElements&&(o=Hu("div",r.params.wrapperClass),n.append(o),jr(n,`.${r.params.slideClass}`).forEach(c=>{o.append(c)})),Object.assign(r,{el:n,wrapperEl:o,slidesEl:r.isElement&&!n.parentNode.host.slideSlots?n.parentNode.host:o,hostEl:r.isElement?n.parentNode.host:n,mounted:!0,rtl:n.dir.toLowerCase()==="rtl"||Qr(n,"direction")==="rtl",rtlTranslate:r.params.direction==="horizontal"&&(n.dir.toLowerCase()==="rtl"||Qr(n,"direction")==="rtl"),wrongRTL:Qr(o,"display")==="-webkit-box"}),!0}init(t){const r=this;if(r.initialized||r.mount(t)===!1)return r;r.emit("beforeInit"),r.params.breakpoints&&r.setBreakpoint(),r.addClasses(),r.updateSize(),r.updateSlides(),r.params.watchOverflow&&r.checkOverflow(),r.params.grabCursor&&r.enabled&&r.setGrabCursor(),r.params.loop&&r.virtual&&r.params.virtual.enabled?r.slideTo(r.params.initialSlide+r.virtual.slidesBefore,0,r.params.runCallbacksOnInit,!1,!0):r.slideTo(r.params.initialSlide,0,r.params.runCallbacksOnInit,!1,!0),r.params.loop&&r.loopCreate(void 0,!0),r.attachEvents();const s=[...r.el.querySelectorAll('[loading="lazy"]')];return r.isElement&&s.push(...r.hostEl.querySelectorAll('[loading="lazy"]')),s.forEach(a=>{a.complete?so(r,a):a.addEventListener("load",o=>{so(r,o.target)})}),Vu(r),r.initialized=!0,Vu(r),r.emit("init"),r.emit("afterInit"),r}destroy(t=!0,r=!0){const n=this,{params:s,el:a,wrapperEl:o,slides:c}=n;return typeof n.params>"u"||n.destroyed||(n.emit("beforeDestroy"),n.initialized=!1,n.detachEvents(),s.loop&&n.loopDestroy(),r&&(n.removeClasses(),a&&typeof a!="string"&&a.removeAttribute("style"),o&&o.removeAttribute("style"),c&&c.length&&c.forEach(l=>{l.classList.remove(s.slideVisibleClass,s.slideFullyVisibleClass,s.slideActiveClass,s.slideNextClass,s.slidePrevClass),l.removeAttribute("style"),l.removeAttribute("data-swiper-slide-index")})),n.emit("destroy"),Object.keys(n.eventsListeners).forEach(l=>{n.off(l)}),t!==!1&&(n.el&&typeof n.el!="string"&&(n.el.swiper=null),M_(n)),n.destroyed=!0),null}static extendDefaults(t){wt(wc,t)}static get extendedDefaults(){return wc}static get defaults(){return Wu}static installModule(t){mr.prototype.__modules__||(mr.prototype.__modules__=[]);const r=mr.prototype.__modules__;typeof t=="function"&&r.indexOf(t)<0&&r.push(t)}static use(t){return Array.isArray(t)?(t.forEach(r=>mr.installModule(r)),mr):(mr.installModule(t),mr)}};Object.keys(bc).forEach(e=>{Object.keys(bc[e]).forEach(t=>{bf.prototype[t]=bc[e][t]})});bf.use([K_,Y_]);const Ly=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Bn(e){return typeof e=="object"&&e!==null&&e.constructor&&Object.prototype.toString.call(e).slice(8,-1)==="Object"&&!e.__swiper__}function Ss(e,t){const r=["__proto__","constructor","prototype"];Object.keys(t).filter(n=>r.indexOf(n)<0).forEach(n=>{typeof e[n]>"u"?e[n]=t[n]:Bn(t[n])&&Bn(e[n])&&Object.keys(t[n]).length>0?t[n].__swiper__?e[n]=t[n]:Ss(e[n],t[n]):e[n]=t[n]})}function My(e={}){return e.navigation&&typeof e.navigation.nextEl>"u"&&typeof e.navigation.prevEl>"u"}function $y(e={}){return e.pagination&&typeof e.pagination.el>"u"}function Dy(e={}){return e.scrollbar&&typeof e.scrollbar.el>"u"}function Fy(e=""){const t=e.split(" ").map(n=>n.trim()).filter(n=>!!n),r=[];return t.forEach(n=>{r.indexOf(n)<0&&r.push(n)}),r.join(" ")}function eS(e=""){return e?e.includes("swiper-wrapper")?e:`swiper-wrapper ${e}`:"swiper-wrapper"}function tS({swiper:e,slides:t,passedParams:r,changedParams:n,nextEl:s,prevEl:a,scrollbarEl:o,paginationEl:c}){const l=n.filter(_=>_!=="children"&&_!=="direction"&&_!=="wrapperClass"),{params:u,pagination:h,navigation:d,scrollbar:f,virtual:p,thumbs:b}=e;let x,w,g,m,v,y,j,S;n.includes("thumbs")&&r.thumbs&&r.thumbs.swiper&&!r.thumbs.swiper.destroyed&&u.thumbs&&(!u.thumbs.swiper||u.thumbs.swiper.destroyed)&&(x=!0),n.includes("controller")&&r.controller&&r.controller.control&&u.controller&&!u.controller.control&&(w=!0),n.includes("pagination")&&r.pagination&&(r.pagination.el||c)&&(u.pagination||u.pagination===!1)&&h&&!h.el&&(g=!0),n.includes("scrollbar")&&r.scrollbar&&(r.scrollbar.el||o)&&(u.scrollbar||u.scrollbar===!1)&&f&&!f.el&&(m=!0),n.includes("navigation")&&r.navigation&&(r.navigation.prevEl||a)&&(r.navigation.nextEl||s)&&(u.navigation||u.navigation===!1)&&d&&!d.prevEl&&!d.nextEl&&(v=!0);const N=_=>{e[_]&&(e[_].destroy(),_==="navigation"?(e.isElement&&(e[_].prevEl.remove(),e[_].nextEl.remove()),u[_].prevEl=void 0,u[_].nextEl=void 0,e[_].prevEl=void 0,e[_].nextEl=void 0):(e.isElement&&e[_].el.remove(),u[_].el=void 0,e[_].el=void 0))};n.includes("loop")&&e.isElement&&(u.loop&&!r.loop?y=!0:!u.loop&&r.loop?j=!0:S=!0),l.forEach(_=>{if(Bn(u[_])&&Bn(r[_]))Object.assign(u[_],r[_]),(_==="navigation"||_==="pagination"||_==="scrollbar")&&"enabled"in r[_]&&!r[_].enabled&&N(_);else{const C=r[_];(C===!0||C===!1)&&(_==="navigation"||_==="pagination"||_==="scrollbar")?C===!1&&N(_):u[_]=r[_]}}),l.includes("controller")&&!w&&e.controller&&e.controller.control&&u.controller&&u.controller.control&&(e.controller.control=u.controller.control),n.includes("children")&&t&&p&&u.virtual.enabled?(p.slides=t,p.update(!0)):n.includes("virtual")&&p&&u.virtual.enabled&&(t&&(p.slides=t),p.update(!0)),n.includes("children")&&t&&u.loop&&(S=!0),x&&b.init()&&b.update(!0),w&&(e.controller.control=u.controller.control),g&&(e.isElement&&(!c||typeof c=="string")&&(c=document.createElement("div"),c.classList.add("swiper-pagination"),c.part.add("pagination"),e.el.appendChild(c)),c&&(u.pagination.el=c),h.init(),h.render(),h.update()),m&&(e.isElement&&(!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-scrollbar"),o.part.add("scrollbar"),e.el.appendChild(o)),o&&(u.scrollbar.el=o),f.init(),f.updateSize(),f.setTranslate()),v&&(e.isElement&&((!s||typeof s=="string")&&(s=document.createElement("div"),s.classList.add("swiper-button-next"),jp(s,e.navigation.arrowSvg),s.part.add("button-next"),e.el.appendChild(s)),(!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-button-prev"),jp(a,e.navigation.arrowSvg),a.part.add("button-prev"),e.el.appendChild(a))),s&&(u.navigation.nextEl=s),a&&(u.navigation.prevEl=a),d.init(),d.update()),n.includes("allowSlideNext")&&(e.allowSlideNext=r.allowSlideNext),n.includes("allowSlidePrev")&&(e.allowSlidePrev=r.allowSlidePrev),n.includes("direction")&&e.changeDirection(r.direction,!1),(y||S)&&e.loopDestroy(),(j||S)&&e.loopCreate(),e.update()}function rS(e={},t=!0){const r={on:{}},n={},s={};Ss(r,Wu),r._emitClasses=!0,r.init=!1;const a={},o=Ly.map(l=>l.replace(/_/,"")),c=Object.assign({},e);return Object.keys(c).forEach(l=>{typeof e[l]>"u"||(o.indexOf(l)>=0?Bn(e[l])?(r[l]={},s[l]={},Ss(r[l],e[l]),Ss(s[l],e[l])):(r[l]=e[l],s[l]=e[l]):l.search(/on[A-Z]/)===0&&typeof e[l]=="function"?t?n[`${l[2].toLowerCase()}${l.substr(3)}`]=e[l]:r.on[`${l[2].toLowerCase()}${l.substr(3)}`]=e[l]:a[l]=e[l])}),["navigation","pagination","scrollbar"].forEach(l=>{r[l]===!0&&(r[l]={}),r[l]===!1&&delete r[l]}),{params:r,passedParams:s,rest:a,events:n}}function nS({el:e,nextEl:t,prevEl:r,paginationEl:n,scrollbarEl:s,swiper:a},o){My(o)&&t&&r&&(a.params.navigation.nextEl=t,a.originalParams.navigation.nextEl=t,a.params.navigation.prevEl=r,a.originalParams.navigation.prevEl=r),$y(o)&&n&&(a.params.pagination.el=n,a.originalParams.pagination.el=n),Dy(o)&&s&&(a.params.scrollbar.el=s,a.originalParams.scrollbar.el=s),a.init(e)}function sS(e,t,r,n,s){const a=[];if(!t)return a;const o=l=>{a.indexOf(l)<0&&a.push(l)};if(r&&n){const l=n.map(s),u=r.map(s);l.join("")!==u.join("")&&o("children"),n.length!==r.length&&o("children")}return Ly.filter(l=>l[0]==="_").map(l=>l.replace(/_/,"")).forEach(l=>{if(l in e&&l in t)if(Bn(e[l])&&Bn(t[l])){const u=Object.keys(e[l]),h=Object.keys(t[l]);u.length!==h.length?o(l):(u.forEach(d=>{e[l][d]!==t[l][d]&&o(l)}),h.forEach(d=>{e[l][d]!==t[l][d]&&o(l)}))}else e[l]!==t[l]&&o(l)}),a}const iS=e=>{!e||e.destroyed||!e.params.virtual||e.params.virtual&&!e.params.virtual.enabled||(e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.emit("_virtualUpdated"),e.parallax&&e.params.parallax&&e.params.parallax.enabled&&e.parallax.setTranslate())};function Mo(){return Mo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mo.apply(this,arguments)}function qy(e){return e.type&&e.type.displayName&&e.type.displayName.includes("SwiperSlide")}function By(e){const t=[];return oe.Children.toArray(e).forEach(r=>{qy(r)?t.push(r):r.props&&r.props.children&&By(r.props.children).forEach(n=>t.push(n))}),t}function aS(e){const t=[],r={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return oe.Children.toArray(e).forEach(n=>{if(qy(n))t.push(n);else if(n.props&&n.props.slot&&r[n.props.slot])r[n.props.slot].push(n);else if(n.props&&n.props.children){const s=By(n.props.children);s.length>0?s.forEach(a=>t.push(a)):r["container-end"].push(n)}else r["container-end"].push(n)}),{slides:t,slots:r}}function oS(e,t,r){if(!r)return null;const n=h=>{let d=h;return h<0?d=t.length+h:d>=t.length&&(d=d-t.length),d},s=e.isHorizontal()?{[e.rtlTranslate?"right":"left"]:`${r.offset}px`}:{top:`${r.offset}px`},{from:a,to:o}=r,c=e.params.loop?-t.length:0,l=e.params.loop?t.length*2:t.length,u=[];for(let h=c;h<l;h+=1)h>=a&&h<=o&&u.push(t[n(h)]);return u.map((h,d)=>oe.cloneElement(h,{swiper:e,style:s,key:h.props.virtualIndex||h.key||`slide-${d}`}))}function ki(e,t){return typeof window>"u"?O.useEffect(e,t):O.useLayoutEffect(e,t)}const Ep=O.createContext(null),lS=O.createContext(null),ia=O.forwardRef(({className:e,tag:t="div",wrapperTag:r="div",children:n,onSwiper:s,...a}={},o)=>{let c=!1;const[l,u]=O.useState("swiper"),[h,d]=O.useState(null),[f,p]=O.useState(!1),b=O.useRef(!1),x=O.useRef(null),w=O.useRef(null),g=O.useRef(null),m=O.useRef(null),v=O.useRef(null),y=O.useRef(null),j=O.useRef(null),S=O.useRef(null),{params:N,passedParams:_,rest:C,events:k}=rS(a),{slides:E,slots:T}=aS(n),A=()=>{p(!f)};Object.assign(N.on,{_containerClasses(q,D){u(D)}});const L=()=>{Object.assign(N.on,k),c=!0;const q={...N};if(delete q.wrapperClass,w.current=new bf(q),w.current.virtual&&w.current.params.virtual.enabled){w.current.virtual.slides=E;const D={cache:!1,slides:E,renderExternal:d,renderExternalUpdate:!1};Ss(w.current.params.virtual,D),Ss(w.current.originalParams.virtual,D)}};x.current||L(),w.current&&w.current.on("_beforeBreakpoint",A);const F=()=>{c||!k||!w.current||Object.keys(k).forEach(q=>{w.current.on(q,k[q])})},U=()=>{!k||!w.current||Object.keys(k).forEach(q=>{w.current.off(q,k[q])})};O.useEffect(()=>()=>{w.current&&w.current.off("_beforeBreakpoint",A)}),O.useEffect(()=>{!b.current&&w.current&&(w.current.emitSlidesClasses(),b.current=!0)}),ki(()=>{if(o&&(o.current=x.current),!!x.current)return w.current.destroyed&&L(),nS({el:x.current,nextEl:v.current,prevEl:y.current,paginationEl:j.current,scrollbarEl:S.current,swiper:w.current},N),s&&!w.current.destroyed&&s(w.current),()=>{w.current&&!w.current.destroyed&&w.current.destroy(!0,!1)}},[]),ki(()=>{F();const q=sS(_,g.current,E,m.current,D=>D.key);return g.current=_,m.current=E,q.length&&w.current&&!w.current.destroyed&&tS({swiper:w.current,slides:E,passedParams:_,changedParams:q,nextEl:v.current,prevEl:y.current,scrollbarEl:S.current,paginationEl:j.current}),()=>{U()}}),ki(()=>{iS(w.current)},[h]);function B(){return N.virtual?oS(w.current,E,h):E.map((q,D)=>oe.cloneElement(q,{swiper:w.current,swiperSlideIndex:D}))}return oe.createElement(t,Mo({ref:x,className:Fy(`${l}${e?` ${e}`:""}`)},C),oe.createElement(lS.Provider,{value:w.current},T["container-start"],oe.createElement(r,{className:eS(N.wrapperClass)},T["wrapper-start"],B(),T["wrapper-end"]),My(N)&&oe.createElement(oe.Fragment,null,oe.createElement("div",{ref:y,className:"swiper-button-prev"}),oe.createElement("div",{ref:v,className:"swiper-button-next"})),Dy(N)&&oe.createElement("div",{ref:S,className:"swiper-scrollbar"}),$y(N)&&oe.createElement("div",{ref:j,className:"swiper-pagination"}),T["container-end"]))});ia.displayName="Swiper";const aa=O.forwardRef(({tag:e="div",children:t,className:r="",swiper:n,zoom:s,lazy:a,virtualIndex:o,swiperSlideIndex:c,...l}={},u)=>{const h=O.useRef(null),[d,f]=O.useState("swiper-slide"),[p,b]=O.useState(!1);function x(v,y,j){y===h.current&&f(j)}ki(()=>{if(typeof c<"u"&&(h.current.swiperSlideIndex=c),u&&(u.current=h.current),!(!h.current||!n)){if(n.destroyed){d!=="swiper-slide"&&f("swiper-slide");return}return n.on("_slideClass",x),()=>{n&&n.off("_slideClass",x)}}}),ki(()=>{n&&h.current&&!n.destroyed&&f(n.getSlideClasses(h.current))},[n]);const w={isActive:d.indexOf("swiper-slide-active")>=0,isVisible:d.indexOf("swiper-slide-visible")>=0,isPrev:d.indexOf("swiper-slide-prev")>=0,isNext:d.indexOf("swiper-slide-next")>=0},g=()=>typeof t=="function"?t(w):t,m=()=>{b(!0)};return oe.createElement(e,Mo({ref:h,className:Fy(`${d}${r?` ${r}`:""}`),"data-swiper-slide-index":o,onLoad:m},l),s&&oe.createElement(Ep.Provider,{value:w},oe.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof s=="number"?s:void 0},g(),a&&!p&&oe.createElement("div",{className:"swiper-lazy-preloader"}))),!s&&oe.createElement(Ep.Provider,{value:w},g(),a&&!p&&oe.createElement("div",{className:"swiper-lazy-preloader"})))});aa.displayName="SwiperSlide";function cS({swiper:e,extendParams:t,on:r,emit:n}){const s=st();t({mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarget:"container",thresholdDelta:null,thresholdTime:null,noMousewheelClass:"swiper-no-mousewheel"}}),e.mousewheel={enabled:!1};let a,o=Mt(),c;const l=[];function u(m){let S=0,N=0,_=0,C=0;return"detail"in m&&(N=m.detail),"wheelDelta"in m&&(N=-m.wheelDelta/120),"wheelDeltaY"in m&&(N=-m.wheelDeltaY/120),"wheelDeltaX"in m&&(S=-m.wheelDeltaX/120),"axis"in m&&m.axis===m.HORIZONTAL_AXIS&&(S=N,N=0),_=S*10,C=N*10,"deltaY"in m&&(C=m.deltaY),"deltaX"in m&&(_=m.deltaX),m.shiftKey&&!_&&(_=C,C=0),(_||C)&&m.deltaMode&&(m.deltaMode===1?(_*=40,C*=40):(_*=800,C*=800)),_&&!S&&(S=_<1?-1:1),C&&!N&&(N=C<1?-1:1),{spinX:S,spinY:N,pixelX:_,pixelY:C}}function h(){e.enabled&&(e.mouseEntered=!0)}function d(){e.enabled&&(e.mouseEntered=!1)}function f(m){return e.params.mousewheel.thresholdDelta&&m.delta<e.params.mousewheel.thresholdDelta||e.params.mousewheel.thresholdTime&&Mt()-o<e.params.mousewheel.thresholdTime?!1:m.delta>=6&&Mt()-o<60?!0:(m.direction<0?(!e.isEnd||e.params.loop)&&!e.animating&&(e.slideNext(),n("scroll",m.raw)):(!e.isBeginning||e.params.loop)&&!e.animating&&(e.slidePrev(),n("scroll",m.raw)),o=new s.Date().getTime(),!1)}function p(m){const v=e.params.mousewheel;if(m.direction<0){if(e.isEnd&&!e.params.loop&&v.releaseOnEdges)return!0}else if(e.isBeginning&&!e.params.loop&&v.releaseOnEdges)return!0;return!1}function b(m){let v=m,y=!0;if(!e.enabled||m.target.closest(`.${e.params.mousewheel.noMousewheelClass}`))return;const j=e.params.mousewheel;e.params.cssMode&&v.preventDefault();let S=e.el;e.params.mousewheel.eventsTarget!=="container"&&(S=document.querySelector(e.params.mousewheel.eventsTarget));const N=S&&S.contains(v.target);if(!e.mouseEntered&&!N&&!j.releaseOnEdges)return!0;v.originalEvent&&(v=v.originalEvent);let _=0;const C=e.rtlTranslate?-1:1,k=u(v);if(j.forceToAxis)if(e.isHorizontal())if(Math.abs(k.pixelX)>Math.abs(k.pixelY))_=-k.pixelX*C;else return!0;else if(Math.abs(k.pixelY)>Math.abs(k.pixelX))_=-k.pixelY;else return!0;else _=Math.abs(k.pixelX)>Math.abs(k.pixelY)?-k.pixelX*C:-k.pixelY;if(_===0)return!0;j.invert&&(_=-_);let E=e.getTranslate()+_*j.sensitivity;if(E>=e.minTranslate()&&(E=e.minTranslate()),E<=e.maxTranslate()&&(E=e.maxTranslate()),y=e.params.loop?!0:!(E===e.minTranslate()||E===e.maxTranslate()),y&&e.params.nested&&v.stopPropagation(),!e.params.freeMode||!e.params.freeMode.enabled){const T={time:Mt(),delta:Math.abs(_),direction:Math.sign(_),raw:m};l.length>=2&&l.shift();const A=l.length?l[l.length-1]:void 0;if(l.push(T),A?(T.direction!==A.direction||T.delta>A.delta||T.time>A.time+150)&&f(T):f(T),p(T))return!0}else{const T={time:Mt(),delta:Math.abs(_),direction:Math.sign(_)},A=c&&T.time<c.time+500&&T.delta<=c.delta&&T.direction===c.direction;if(!A){c=void 0;let L=e.getTranslate()+_*j.sensitivity;const F=e.isBeginning,U=e.isEnd;if(L>=e.minTranslate()&&(L=e.minTranslate()),L<=e.maxTranslate()&&(L=e.maxTranslate()),e.setTransition(0),e.setTranslate(L),e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses(),(!F&&e.isBeginning||!U&&e.isEnd)&&e.updateSlidesClasses(),e.params.loop&&e.loopFix({direction:T.direction<0?"next":"prev",byMousewheel:!0}),e.params.freeMode.sticky){clearTimeout(a),a=void 0,l.length>=15&&l.shift();const B=l.length?l[l.length-1]:void 0,q=l[0];if(l.push(T),B&&(T.delta>B.delta||T.direction!==B.direction))l.splice(0);else if(l.length>=15&&T.time-q.time<500&&q.delta-T.delta>=1&&T.delta<=6){const D=_>0?.8:.2;c=T,l.splice(0),a=Ro(()=>{e.destroyed||!e.params||e.slideToClosest(e.params.speed,!0,void 0,D)},0)}a||(a=Ro(()=>{if(e.destroyed||!e.params)return;const D=.5;c=T,l.splice(0),e.slideToClosest(e.params.speed,!0,void 0,D)},500))}if(A||n("scroll",v),e.params.autoplay&&e.params.autoplay.disableOnInteraction&&e.autoplay.stop(),j.releaseOnEdges&&(L===e.minTranslate()||L===e.maxTranslate()))return!0}}return v.preventDefault?v.preventDefault():v.returnValue=!1,!1}function x(m){let v=e.el;e.params.mousewheel.eventsTarget!=="container"&&(v=document.querySelector(e.params.mousewheel.eventsTarget)),v[m]("mouseenter",h),v[m]("mouseleave",d),v[m]("wheel",b)}function w(){return e.params.cssMode?(e.wrapperEl.removeEventListener("wheel",b),!0):e.mousewheel.enabled?!1:(x("addEventListener"),e.mousewheel.enabled=!0,!0)}function g(){return e.params.cssMode?(e.wrapperEl.addEventListener(event,b),!0):e.mousewheel.enabled?(x("removeEventListener"),e.mousewheel.enabled=!1,!0):!1}r("init",()=>{!e.params.mousewheel.enabled&&e.params.cssMode&&g(),e.params.mousewheel.enabled&&w()}),r("destroy",()=>{e.params.cssMode&&w(),e.mousewheel.enabled&&g()}),Object.assign(e.mousewheel,{enable:w,disable:g})}function Gu({swiper:e,extendParams:t,on:r,emit:n,params:s}){e.autoplay={running:!1,paused:!1,timeLeft:0},t({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let a,o,c=s&&s.autoplay?s.autoplay.delay:3e3,l=s&&s.autoplay?s.autoplay.delay:3e3,u,h=new Date().getTime(),d,f,p,b,x,w,g;function m(B){!e||e.destroyed||!e.wrapperEl||B.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",m),!(g||B.detail&&B.detail.bySwiperTouchMove)&&C())}const v=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?d=!0:d&&(l=u,d=!1);const B=e.autoplay.paused?u:h+l-new Date().getTime();e.autoplay.timeLeft=B,n("autoplayTimeLeft",B,B/c),o=requestAnimationFrame(()=>{v()})},y=()=>{let B;return e.virtual&&e.params.virtual.enabled?B=e.slides.find(D=>D.classList.contains("swiper-slide-active")):B=e.slides[e.activeIndex],B?parseInt(B.getAttribute("data-swiper-autoplay"),10):void 0},j=B=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(o),v();let q=typeof B>"u"?e.params.autoplay.delay:B;c=e.params.autoplay.delay,l=e.params.autoplay.delay;const D=y();!Number.isNaN(D)&&D>0&&typeof B>"u"&&(q=D,c=D,l=D),u=q;const I=e.params.speed,P=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(I,!0,!0),n("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,I,!0,!0),n("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(I,!0,!0),n("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,I,!0,!0),n("autoplay")),e.params.cssMode&&(h=new Date().getTime(),requestAnimationFrame(()=>{j()})))};return q>0?(clearTimeout(a),a=setTimeout(()=>{P()},q)):requestAnimationFrame(()=>{P()}),q},S=()=>{h=new Date().getTime(),e.autoplay.running=!0,j(),n("autoplayStart")},N=()=>{e.autoplay.running=!1,clearTimeout(a),cancelAnimationFrame(o),n("autoplayStop")},_=(B,q)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(a),B||(w=!0);const D=()=>{n("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",m):C()};if(e.autoplay.paused=!0,q){x&&(u=e.params.autoplay.delay),x=!1,D();return}u=(u||e.params.autoplay.delay)-(new Date().getTime()-h),!(e.isEnd&&u<0&&!e.params.loop)&&(u<0&&(u=0),D())},C=()=>{e.isEnd&&u<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(h=new Date().getTime(),w?(w=!1,j(u)):j(),e.autoplay.paused=!1,n("autoplayResume"))},k=()=>{if(e.destroyed||!e.autoplay.running)return;const B=lr();B.visibilityState==="hidden"&&(w=!0,_(!0)),B.visibilityState==="visible"&&C()},E=B=>{B.pointerType==="mouse"&&(w=!0,g=!0,!(e.animating||e.autoplay.paused)&&_(!0))},T=B=>{B.pointerType==="mouse"&&(g=!1,e.autoplay.paused&&C())},A=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",E),e.el.addEventListener("pointerleave",T))},L=()=>{e.el&&typeof e.el!="string"&&(e.el.removeEventListener("pointerenter",E),e.el.removeEventListener("pointerleave",T))},F=()=>{lr().addEventListener("visibilitychange",k)},U=()=>{lr().removeEventListener("visibilitychange",k)};r("init",()=>{e.params.autoplay.enabled&&(A(),F(),S())}),r("destroy",()=>{L(),U(),e.autoplay.running&&N()}),r("_freeModeStaticRelease",()=>{(p||w)&&C()}),r("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?N():_(!0,!0)}),r("beforeTransitionStart",(B,q,D)=>{e.destroyed||!e.autoplay.running||(D||!e.params.autoplay.disableOnInteraction?_(!0,!0):N())}),r("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){N();return}f=!0,p=!1,w=!1,b=setTimeout(()=>{w=!0,p=!0,_(!0)},200)}}),r("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!f)){if(clearTimeout(b),clearTimeout(a),e.params.autoplay.disableOnInteraction){p=!1,f=!1;return}p&&e.params.cssMode&&C(),p=!1,f=!1}}),r("slideChange",()=>{e.destroyed||!e.autoplay.running||(x=!0)}),Object.assign(e.autoplay,{start:S,stop:N,pause:_,resume:C})}function uS({swiper:e,extendParams:t,emit:r,once:n}){t({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}});function s(){if(e.params.cssMode)return;const c=e.getTranslate();e.setTranslate(c),e.setTransition(0),e.touchEventsData.velocities.length=0,e.freeMode.onTouchEnd({currentPos:e.rtl?e.translate:-e.translate})}function a(){if(e.params.cssMode)return;const{touchEventsData:c,touches:l}=e;c.velocities.length===0&&c.velocities.push({position:l[e.isHorizontal()?"startX":"startY"],time:c.touchStartTime}),c.velocities.push({position:l[e.isHorizontal()?"currentX":"currentY"],time:Mt()})}function o({currentPos:c}){if(e.params.cssMode)return;const{params:l,wrapperEl:u,rtlTranslate:h,snapGrid:d,touchEventsData:f}=e,b=Mt()-f.touchStartTime;if(c<-e.minTranslate()){e.slideTo(e.activeIndex);return}if(c>-e.maxTranslate()){e.slides.length<d.length?e.slideTo(d.length-1):e.slideTo(e.slides.length-1);return}if(l.freeMode.momentum){if(f.velocities.length>1){const S=f.velocities.pop(),N=f.velocities.pop(),_=S.position-N.position,C=S.time-N.time;e.velocity=_/C,e.velocity/=2,Math.abs(e.velocity)<l.freeMode.minimumVelocity&&(e.velocity=0),(C>150||Mt()-S.time>300)&&(e.velocity=0)}else e.velocity=0;e.velocity*=l.freeMode.momentumVelocityRatio,f.velocities.length=0;let x=1e3*l.freeMode.momentumRatio;const w=e.velocity*x;let g=e.translate+w;h&&(g=-g);let m=!1,v;const y=Math.abs(e.velocity)*20*l.freeMode.momentumBounceRatio;let j;if(g<e.maxTranslate())l.freeMode.momentumBounce?(g+e.maxTranslate()<-y&&(g=e.maxTranslate()-y),v=e.maxTranslate(),m=!0,f.allowMomentumBounce=!0):g=e.maxTranslate(),l.loop&&l.centeredSlides&&(j=!0);else if(g>e.minTranslate())l.freeMode.momentumBounce?(g-e.minTranslate()>y&&(g=e.minTranslate()+y),v=e.minTranslate(),m=!0,f.allowMomentumBounce=!0):g=e.minTranslate(),l.loop&&l.centeredSlides&&(j=!0);else if(l.freeMode.sticky){let S;for(let N=0;N<d.length;N+=1)if(d[N]>-g){S=N;break}Math.abs(d[S]-g)<Math.abs(d[S-1]-g)||e.swipeDirection==="next"?g=d[S]:g=d[S-1],g=-g}if(j&&n("transitionEnd",()=>{e.loopFix()}),e.velocity!==0){if(h?x=Math.abs((-g-e.translate)/e.velocity):x=Math.abs((g-e.translate)/e.velocity),l.freeMode.sticky){const S=Math.abs((h?-g:g)-e.translate),N=e.slidesSizesGrid[e.activeIndex];S<N?x=l.speed:S<2*N?x=l.speed*1.5:x=l.speed*2.5}}else if(l.freeMode.sticky){e.slideToClosest();return}l.freeMode.momentumBounce&&m?(e.updateProgress(v),e.setTransition(x),e.setTranslate(g),e.transitionStart(!0,e.swipeDirection),e.animating=!0,pc(u,()=>{!e||e.destroyed||!f.allowMomentumBounce||(r("momentumBounce"),e.setTransition(l.speed),setTimeout(()=>{e.setTranslate(v),pc(u,()=>{!e||e.destroyed||e.transitionEnd()})},0))})):e.velocity?(r("_freeModeNoMomentumRelease"),e.updateProgress(g),e.setTransition(x),e.setTranslate(g),e.transitionStart(!0,e.swipeDirection),e.animating||(e.animating=!0,pc(u,()=>{!e||e.destroyed||e.transitionEnd()}))):e.updateProgress(g),e.updateActiveIndex(),e.updateSlidesClasses()}else if(l.freeMode.sticky){e.slideToClosest();return}else l.freeMode&&r("_freeModeNoMomentumRelease");(!l.freeMode.momentum||b>=l.longSwipesMs)&&(r("_freeModeStaticRelease"),e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses())}Object.assign(e,{freeMode:{onTouchStart:s,onTouchMove:a,onTouchEnd:o}})}function dS({swiper:e,extendParams:t,on:r}){t({grid:{rows:1,fill:"column"}});let n,s,a,o;const c=()=>{let b=e.params.spaceBetween;return typeof b=="string"&&b.indexOf("%")>=0?b=parseFloat(b.replace("%",""))/100*e.size:typeof b=="string"&&(b=parseFloat(b)),b},l=b=>{const{slidesPerView:x}=e.params,{rows:w,fill:g}=e.params.grid,m=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:b.length;a=Math.floor(m/w),Math.floor(m/w)===m/w?n=m:n=Math.ceil(m/w)*w,x!=="auto"&&g==="row"&&(n=Math.max(n,x*w)),s=n/w},u=()=>{e.slides&&e.slides.forEach(b=>{b.swiperSlideGridSet&&(b.style.height="",b.style[e.getDirectionLabel("margin-top")]="")})},h=(b,x,w)=>{const{slidesPerGroup:g}=e.params,m=c(),{rows:v,fill:y}=e.params.grid,j=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:w.length;let S,N,_;if(y==="row"&&g>1){const C=Math.floor(b/(g*v)),k=b-v*g*C,E=C===0?g:Math.min(Math.ceil((j-C*v*g)/v),g);_=Math.floor(k/E),N=k-_*E+C*g,S=N+_*n/v,x.style.order=S}else y==="column"?(N=Math.floor(b/v),_=b-N*v,(N>a||N===a&&_===v-1)&&(_+=1,_>=v&&(_=0,N+=1))):(_=Math.floor(b/s),N=b-_*s);x.row=_,x.column=N,x.style.height=`calc((100% - ${(v-1)*m}px) / ${v})`,x.style[e.getDirectionLabel("margin-top")]=_!==0?m&&`${m}px`:"",x.swiperSlideGridSet=!0},d=(b,x)=>{const{centeredSlides:w,roundLengths:g}=e.params,m=c(),{rows:v}=e.params.grid;if(e.virtualSize=(b+m)*n,e.virtualSize=Math.ceil(e.virtualSize/v)-m,e.params.cssMode||(e.wrapperEl.style[e.getDirectionLabel("width")]=`${e.virtualSize+m}px`),w){const y=[];for(let j=0;j<x.length;j+=1){let S=x[j];g&&(S=Math.floor(S)),x[j]<e.virtualSize+x[0]&&y.push(S)}x.splice(0,x.length),x.push(...y)}},f=()=>{o=e.params.grid&&e.params.grid.rows>1},p=()=>{const{params:b,el:x}=e,w=b.grid&&b.grid.rows>1;o&&!w?(x.classList.remove(`${b.containerModifierClass}grid`,`${b.containerModifierClass}grid-column`),a=1,e.emitContainerClasses()):!o&&w&&(x.classList.add(`${b.containerModifierClass}grid`),b.grid.fill==="column"&&x.classList.add(`${b.containerModifierClass}grid-column`),e.emitContainerClasses()),o=w};r("init",f),r("update",p),e.grid={initSlides:l,unsetSlides:u,updateSlide:h,updateWrapperSize:d}}function Tp({placeholder:e="Search...",className:t=""}){const[r,n]=O.useState(!1),[s,a]=O.useState(""),[o,c]=O.useState([]),[l,u]=O.useState(!1),[h,d]=O.useState(!1),f=O.useRef(null),p=vt();O.useEffect(()=>{const g=()=>n(!0);return window.addEventListener("openSearch",g),r&&f.current?(f.current.focus(),document.body.style.overflow="hidden"):document.body.style.overflow="unset",()=>{window.removeEventListener("openSearch",g),document.body.style.overflow="unset"}},[r]),O.useEffect(()=>{const g=setTimeout(()=>{s.length>=1?b():(c([]),d(!1))},400);return()=>clearTimeout(g)},[s]);const b=async()=>{u(!0);try{const{data:g,error:m}=await Q.from("products").select("id, name, price, image_url, category_id").or(`name.ilike.%${s}%,description.ilike.%${s}%`);if(m)throw m;c(g||[]),d(!0)}catch(g){console.error("Search error:",g)}finally{u(!1)}},x=()=>{n(!1),a(""),c([]),d(!1)},w=g=>{g.key==="Enter"&&s.length>=1&&(p(`/shop?search=${encodeURIComponent(s)}`),x())};return i.jsxs(i.Fragment,{children:[i.jsx("div",{onClick:()=>n(!0),className:`relative cursor-pointer group ${t}`,children:i.jsxs("div",{className:"flex items-center w-full h-12 px-6 bg-[#F9FAFB] rounded-full border border-gray-200 hover:border-brand-orange/50 hover:bg-white transition-all duration-300 group-hover:shadow-sm",children:[i.jsx(dr,{className:"w-5 h-5 text-gray-400 group-hover:text-brand-orange transition-colors mr-3"}),i.jsx("span",{className:"text-sm text-gray-500 font-medium truncate select-none group-hover:text-gray-900",children:e})]})}),r&&i.jsxs("div",{className:"fixed inset-0 z-[100] bg-black/85 backdrop-blur-2xl animate-in fade-in duration-300 flex flex-col pt-12",children:[i.jsx("button",{onClick:x,className:"absolute top-8 right-8 p-3 bg-white/10 hover:bg-white/20 rounded-full text-white transition-all z-50 hover:rotate-90 duration-300",children:i.jsx(gt,{className:"w-8 h-8"})}),i.jsx("div",{className:"w-full max-w-5xl mx-auto mb-16 px-6 text-center",children:i.jsxs("div",{className:"relative border-b-2 border-white/10 focus-within:border-brand-orange transition-colors duration-500 pb-4",children:[i.jsx(dr,{className:"absolute left-0 top-1/2 -translate-y-1/2 w-8 h-8 text-white/30"}),i.jsx("input",{ref:f,type:"text",value:s,onChange:g=>a(g.target.value),onKeyDown:w,placeholder:"What are you looking for?",className:"w-full pl-14 pr-4 py-2 bg-transparent text-4xl md:text-6xl font-black text-white placeholder-white/10 outline-none tracking-tighter text-left"})]})}),i.jsx("div",{className:"flex-1 w-full max-w-[1800px] mx-auto overflow-hidden flex flex-col px-6",children:l?i.jsxs("div",{className:"flex flex-col items-center justify-center h-full opacity-50",children:[i.jsx(m_,{className:"w-12 h-12 animate-spin text-brand-orange mb-4"}),i.jsx("p",{className:"text-white font-bold uppercase tracking-widest text-xs",children:"Accessing Database..."})]}):h&&o.length>0?i.jsxs("div",{className:"flex-1 flex flex-col min-h-0 animate-in slide-in-from-bottom-8 duration-700",children:[i.jsxs("div",{className:"flex items-center justify-between mb-8",children:[i.jsxs("h3",{className:"text-sm font-black uppercase tracking-[0.2em] text-white/40",children:["Matches Found (",o.length,")"]}),i.jsxs("button",{onClick:()=>{p(`/shop?search=${encodeURIComponent(s)}`),x()},className:"group text-sm font-black text-brand-orange hover:text-white transition-colors flex items-center gap-2",children:["EXPLORE ALL ",i.jsx(ot,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})]}),i.jsx("div",{className:"flex-1 min-h-0 -mx-4 px-4 overflow-visible",children:i.jsx(ia,{modules:[uS,dS,cS],slidesPerView:1.5,grid:{rows:o.length>4?2:1,fill:"row"},spaceBetween:20,freeMode:!0,mousewheel:{forceToAxis:!0},breakpoints:{640:{slidesPerView:2.5},1024:{slidesPerView:4.5},1440:{slidesPerView:5.5}},className:"h-full w-full search-results-swiper",children:o.map(g=>i.jsx(aa,{className:"h-auto",children:i.jsxs(ae,{to:`/shop/${g.id}`,onClick:x,className:"group bg-white rounded-[2rem] p-4 hover:bg-brand-orange transition-all duration-500 shadow-2xl h-full flex flex-col",children:[i.jsx("div",{className:"aspect-square bg-gray-50 rounded-3xl mb-4 p-4 overflow-hidden relative flex items-center justify-center",children:i.jsx("img",{src:g.image_url,alt:g.name,className:"w-full h-full object-contain mix-blend-multiply transition-transform duration-700 group-hover:scale-110"})}),i.jsxs("div",{className:"mt-auto",children:[i.jsx("h4",{className:"font-bold text-gray-900 group-hover:text-white text-sm line-clamp-1 mb-1 transition-colors",children:g.name}),i.jsxs("p",{className:"font-black text-brand-orange group-hover:text-white text-lg transition-colors",children:["$",parseFloat(g.price).toFixed(0)]})]})]})},g.id))})})]}):h&&o.length===0?i.jsxs("div",{className:"text-center mt-20 bg-white/5 py-20 rounded-[3rem] border border-white/5 max-w-2xl mx-auto",children:[i.jsx(y_,{className:"w-16 h-16 text-white/20 mx-auto mb-6"}),i.jsx("h3",{className:"text-2xl font-black text-white mb-2",children:"No Matches Found"}),i.jsx("p",{className:"text-white/40 font-medium",children:'Try searching for something else like "Ink" or "Laser Printer"'})]}):i.jsx("div",{className:"flex-1 flex items-center justify-center opacity-10",children:i.jsx("span",{className:"text-[15vw] font-black text-white tracking-tighter select-none pointer-events-none",children:"EXPLORE"})})})]}),i.jsx("style",{jsx:!0,global:!0,children:`
        .search-results-swiper {
          padding-bottom: 40px !important;
        }
        .search-results-swiper .swiper-wrapper {
          flex-direction: row !important;
        }
        .search-results-swiper .swiper-slide {
          height: calc((100% - 20px) / 2) !important;
          margin-top: 0 !important;
        }
        @media (max-width: 640px) {
          .search-results-swiper .swiper-slide {
            height: auto !important;
          }
        }
      `})]})}const Op=e=>e?e.toLowerCase().replace(/[^a-z0-9\s-]/g,"").trim().replace(/\s+/g,"-"):"";function fS(){const{user:e,signOut:t}=fr(),{getCartCount:r}=Vn(),{wishlistItems:n}=pa(),{settings:s}=zs(),{isAdmin:a}=I_(),[o,c]=O.useState(!1),[l,u]=O.useState(!1),[h,d]=O.useState([]),f=O.useRef(null),p=Rr(),b=r(),x=[{path:"/",label:"Home"},{path:"/shop",label:"Shop"},{path:"/about",label:"About"},{path:"/Faq",label:"faq"},{path:"/contact",label:"Contact"}],w=[{name:"Printers",icon:vf,slug:"printers"},{name:"Ink Cartridges",icon:pf,slug:"ink-cartridges"},{name:"Toner",icon:yp,slug:"toner"},{name:"Paper",icon:Rs,slug:"paper"},{name:"Parts",icon:_y,slug:"parts"},{name:"Services",icon:ky,slug:"services"}],g=y=>y==="/"?p.pathname==="/":p.pathname.startsWith(y);O.useEffect(()=>{const y=j=>{f.current&&!f.current.contains(j.target)&&u(!1)};return document.addEventListener("mousedown",y),()=>document.removeEventListener("mousedown",y)},[]),O.useEffect(()=>{m()},[]);const m=async()=>{try{const{data:y,error:j}=await Q.from("categories").select("name, slug").limit(6);if(j)console.error("Error fetching categories:",j);else if(y&&y.length>0){const S=y.map((N,_)=>({...N,icon:w[_%w.length].icon}));d(S)}else d(w)}catch{d(w)}},v=h.length>0?h:w;return i.jsxs(i.Fragment,{children:[i.jsx(A_,{}),i.jsxs("header",{className:"sticky top-0 z-50 bg-white border-b border-gray-200  font-sans",children:[i.jsx("div",{className:"w-full max-w-[1800px] mx-auto px-4 sm:px-6 lg:px-12",children:i.jsxs("div",{className:"flex items-center h-20 gap-6",children:[i.jsx(ae,{to:"/",className:"flex-shrink-0 group",children:s.brand_logo?i.jsx("img",{src:s.brand_logo,alt:s.brand_name||"Brand",className:"h-10 w-auto object-contain"}):i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-12 h-12 bg-black text-white flex items-center justify-center font-black text-xl tracking-tighter rounded-sm group-hover:bg-brand-orange transition-colors",children:"P"}),i.jsxs("span",{className:"text-2xl font-black tracking-tighter uppercase text-black",children:[s.brand_name||"PRINTER",i.jsx("span",{className:"text-brand-orange",children:"."})]})]})}),i.jsx("div",{className:"hidden md:block flex-1 max-w-xl",children:i.jsx(Tp,{placeholder:"Search products...",className:"shadow-none"})}),i.jsx("div",{className:"hidden lg:block w-8 xl:w-16"}),i.jsx("nav",{className:"hidden lg:flex items-center gap-6 xl:gap-8",children:x.map(y=>i.jsxs(ae,{to:y.path,className:`
                    text-sm font-bold uppercase tracking-wider py-1 px-3 rounded-md relative group overflow-hidden whitespace-nowrap
                    ${g(y.path)?"text-white bg-orange-500":"text-black hover:text-brand-orange"}
                    transition-colors duration-300
                  `,children:[y.label,i.jsx("span",{className:`
                    absolute bottom-0 left-0 w-full h-0.5 bg-brand-orange transform origin-left transition-transform duration-300
                    ${g(y.path)?"scale-x-100":"scale-x-0 group-hover:scale-x-100"}
                  `})]},y.path))}),i.jsxs("div",{className:"flex items-center gap-3 ml-auto flex-shrink-0",children:[i.jsxs(ae,{to:"/wishlist",className:"hidden sm:flex p-2 text-black hover:text-brand-orange transition-colors relative group",title:"Wishlist",children:[i.jsx(or,{className:"w-6 h-6",strokeWidth:1.5}),n.length>0&&i.jsx("span",{className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center bg-brand-orange text-white text-[10px] font-bold rounded-full border border-white",children:n.length})]}),i.jsxs(ae,{to:"/cart",className:"relative group p-2 text-black hover:text-brand-orange transition-colors",title:"Cart",children:[i.jsx(Sr,{className:"w-6 h-6",strokeWidth:1.5}),b>0&&i.jsx("span",{className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center bg-brand-orange text-white text-[10px] font-bold rounded-full border border-white",children:b})]}),i.jsxs("div",{className:"relative",ref:f,children:[i.jsx("button",{onClick:()=>u(!l),className:"flex items-center gap-2 p-1 hover:text-brand-orange transition-colors",children:i.jsx("div",{className:"w-9 h-9 bg-gray-50 rounded-full flex items-center justify-center border border-gray-200 group-hover:border-brand-orange transition-colors",children:i.jsx(Ms,{className:"w-5 h-5 text-black"})})}),l&&i.jsx("div",{className:"absolute right-0 top-full mt-4 w-64 bg-white text-black rounded-sm shadow-2xl border-t-4 border-brand-orange z-50 animate-in fade-in slide-in-from-top-2",children:e?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"px-6 py-4 border-b border-gray-100",children:[i.jsx("p",{className:"text-sm font-bold text-gray-900 truncate",children:e.email}),i.jsx("p",{className:"text-xs text-gray-500 uppercase mt-1",children:"Logged In"})]}),i.jsxs("div",{className:"py-2",children:[a&&i.jsx(ae,{to:"/admin/dashboard",onClick:()=>u(!1),className:"block px-6 py-2 hover:bg-gray-50 text-sm font-medium",children:"Admin Dashboard"}),i.jsx(ae,{to:"/profile",onClick:()=>u(!1),className:"block px-6 py-2 hover:bg-gray-50 text-sm font-medium",children:"My Profile"}),i.jsx(ae,{to:"/orders",onClick:()=>u(!1),className:"block px-6 py-2 hover:bg-gray-50 text-sm font-medium",children:"Orders"}),i.jsx("button",{onClick:()=>{t(),u(!1)},className:"w-full text-left px-6 py-2 hover:bg-gray-50 text-sm font-medium text-red-600",children:"Sign Out"})]})]}):i.jsxs("div",{className:"p-4 space-y-2",children:[i.jsx(ae,{to:"/login",onClick:()=>u(!1),className:"block w-full text-center py-2 bg-black text-white text-sm font-bold uppercase hover:bg-brand-orange",children:"Sign In"}),i.jsx(ae,{to:"/signup",onClick:()=>u(!1),className:"block w-full text-center py-2 border border-black text-black text-sm font-bold uppercase hover:bg-black hover:text-white",children:"Sign Up"})]})})]}),i.jsx("button",{onClick:()=>c(!o),className:"lg:hidden p-2 text-black hover:text-brand-orange transition-colors",children:o?i.jsx(gt,{className:"h-6 w-6"}):i.jsx(by,{className:"h-6 w-6"})})]})]})}),o&&i.jsx("div",{className:"lg:hidden bg-white border-t border-gray-100 absolute w-full left-0 top-full h-[calc(100vh-140px)] overflow-y-auto z-40 animate-in fade-in slide-in-from-top-5 duration-200",children:i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsx("div",{className:"bg-gray-50 p-1 rounded-full",children:i.jsx(Tp,{placeholder:"Search...",className:"w-full shadow-none"})}),i.jsxs("nav",{className:"flex flex-col space-y-1",children:[x.map(y=>i.jsx(ae,{to:y.path,onClick:()=>c(!1),className:`
                      px-4 py-3 text-lg font-bold uppercase tracking-wider border-l-2 transition-all
                      ${g(y.path)?"border-brand-orange text-brand-orange bg-gray-50":"border-transparent text-black hover:text-brand-orange hover:bg-gray-50"}
                    `,children:y.label},y.path)),i.jsxs(ae,{to:"/wishlist",onClick:()=>c(!1),className:"px-4 py-3 text-lg font-bold uppercase tracking-wider border-l-2 border-transparent text-black hover:text-brand-orange hover:bg-gray-50 flex items-center gap-2",children:["Wishlist",i.jsx(or,{className:"w-4 h-4"})]})]}),i.jsxs("div",{className:"pt-6 border-t border-gray-100",children:[i.jsx("div",{className:"grid grid-cols-2 gap-3 mb-6",children:v.slice(0,6).map((y,j)=>i.jsx(ae,{to:`/shop/category/${y.slug||Op(y.name)}`,onClick:()=>c(!1),className:"text-sm font-medium text-gray-600 bg-gray-50 px-3 py-2 rounded-md hover:bg-brand-orange hover:text-white transition-colors text-center truncate",children:y.name},j))}),e?i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{className:"px-4 text-gray-400 text-xs uppercase font-bold tracking-widest mb-2",children:"Account"}),i.jsx(ae,{to:"/profile",onClick:()=>c(!1),className:"block px-4 py-2 text-black hover:text-brand-orange font-medium",children:"Profile"}),i.jsx("button",{onClick:()=>{t(),c(!1)},className:"block w-full text-left px-4 py-2 text-red-500 font-medium",children:"Sign Out"})]}):i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(ae,{to:"/login",onClick:()=>c(!1),className:"py-3 text-center bg-black text-white font-bold uppercase hover:bg-brand-orange",children:"Sign In"}),i.jsx(ae,{to:"/signup",onClick:()=>c(!1),className:"py-3 text-center border border-black text-black font-bold uppercase hover:bg-black hover:text-white",children:"Sign Up"})]})]})]})})]}),i.jsx("div",{className:"border-t pt-2 border-gray-100 bg-gray-50/50 hidden md:block",children:i.jsx("div",{className:"w-full max-w-[1800px] mx-auto px-4 sm:px-6 lg:px-12",children:i.jsxs("div",{className:"flex items-center justify-between h-16 text-sm",children:[i.jsx("div",{className:"flex items-center gap-6 overflow-x-auto no-scrollbar",children:v.map((y,j)=>{const S=y.icon||yp;return i.jsxs(ae,{to:`/shop/category/${y.slug||Op(y.name)}`,className:"flex items-center gap-2 text-gray-600 hover:text-brand-orange font-medium whitespace-nowrap transition-colors group",children:[i.jsx(S,{className:"w-4 h-4 text-gray-400 group-hover:text-brand-orange transition-colors"}),i.jsx("span",{children:y.name})]},j)})}),i.jsxs("div",{className:"flex items-center gap-6 pl-4 ml-4 flex-shrink-0",children:[s.address&&i.jsxs("div",{className:"flex items-center gap-3 text-gray-700 font-medium max-w-[260px]",children:[i.jsx("div",{className:"w-12 h-12 flex items-center justify-center border border-gray-300 rounded-full",children:i.jsx(Bu,{className:"w-5 h-5 text-brand-orange"})}),i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{children:"Address:"}),i.jsx("span",{className:"truncate",title:s.address,children:s.address})]})]}),s.contact_phone&&i.jsxs("a",{href:`tel:${s.contact_phone}`,className:"flex items-center gap-3 text-gray-700 border-l pl-3 border-gray-200 hover:text-black transition font-medium",children:[i.jsx("div",{className:"w-12 h-12 flex items-center justify-center border border-gray-300 rounded-full",children:i.jsx(fl,{className:"w-5 h-5 text-brand-orange"})}),i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{children:"Phone:"}),i.jsx("span",{children:s.contact_phone})]})]})]})]})})})]})}function hS(){const{settings:e}=zs(),t=new Date().getFullYear(),r=[{to:"/shop",label:"All Products"},{to:"/shop/category/home-printers",label:"Home Printers"},{to:"/shop/category/office-printers",label:"Office Printers"},{to:"/shop/category/inkjet-printers",label:"Inkjet Printers"},{to:"/shop/category/laser-printers",label:"Laser Printers"}],n=[{to:"/about",label:"Our Story"},{to:"/faq",label:"Help Center"},{to:"/contact",label:"Contact Us"},{to:"/categories",label:"Departments"}],s=[{to:"/policy/privacy-policy",label:"Privacy Policy"},{to:"/policy/terms-conditions",label:"Terms & Conditions"},{to:"/policy/refund-policy",label:"Returns & Refund"},{to:"/policy/shipping-cancellation",label:"Shipping Info"}],a=()=>{window.scrollTo({top:0,behavior:"smooth"})};return i.jsxs("footer",{className:"bg-black text-white pt-24 pb-12 font-sans overflow-hidden relative",children:[i.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-brand-orange/5 rounded-full blur-[120px] -translate-y-1/2 translate-x-1/2"}),i.jsxs("div",{className:"w-full max-w-[1800px] mx-auto px-4 sm:px-6 lg:px-12 relative z-10",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-12 gap-12 lg:gap-8 pb-20 border-b border-white/10",children:[i.jsxs("div",{className:"lg:col-span-4 space-y-8",children:[i.jsx(ae,{to:"/",className:"inline-block group",children:e.brand_logo?i.jsx("img",{src:e.brand_logo,alt:"Logo",className:"h-12 w-auto brightness-0 invert"}):i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-10 h-10 bg-white text-black flex items-center justify-center font-black text-xl rounded-sm group-hover:bg-brand-orange transition-colors",children:"P"}),i.jsxs("span",{className:"text-2xl font-black tracking-tighter uppercase",children:[e.brand_name||"PRINTER",i.jsx("span",{className:"text-brand-orange",children:"."})]})]})}),i.jsx("p",{className:"text-gray-400 text-lg leading-relaxed max-w-sm font-medium",children:"Empowering businesses with high-performance printing solutions and premium supplies since 2008. Our commitment to excellence ensures that every document you print reflects professional quality and precision."})]}),i.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[i.jsx("h4",{className:"text-sm font-bold uppercase tracking-[0.2em] text-gray-500",children:"Shop"}),i.jsx("ul",{className:"space-y-4",children:r.map(o=>i.jsx("li",{children:i.jsx(ae,{to:o.to,className:"text-gray-300 hover:text-brand-orange transition-colors font-medium",children:o.label})},o.label))})]}),i.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[i.jsx("h4",{className:"text-sm font-bold uppercase tracking-[0.2em] text-gray-500",children:"Company"}),i.jsx("ul",{className:"space-y-4",children:n.map(o=>i.jsx("li",{children:i.jsx(ae,{to:o.to,className:"text-gray-300 hover:text-brand-orange transition-colors font-medium",children:o.label})},o.label))})]}),i.jsxs("div",{className:"lg:col-span-4 space-y-8",children:[i.jsx("h4",{className:"text-sm font-bold uppercase tracking-[0.2em] text-gray-500",children:"Newsletter"}),i.jsx("p",{className:"text-gray-400 font-medium",children:"Get exclusive offers and printing tips delivered to your inbox."}),i.jsxs("form",{className:"relative group",onSubmit:o=>o.preventDefault(),children:[i.jsx("input",{type:"email",placeholder:"Your email address",className:"w-full bg-white/5 border border-white/10 rounded-2xl px-6 py-4 outline-none focus:border-brand-orange transition-all font-medium pr-16"}),i.jsx("button",{className:"absolute right-2 top-1/2 -translate-y-1/2 w-12 h-12 bg-white text-black rounded-xl flex items-center justify-center hover:bg-brand-orange hover:text-white transition-all",children:i.jsx(jy,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"pt-4 space-y-4",children:[e.contact_phone&&i.jsxs("a",{href:`tel:${e.contact_phone}`,className:"flex items-center gap-3 text-gray-300 hover:text-brand-orange transition-colors group",children:[i.jsx("div",{className:"w-8 h-8 rounded-lg bg-white/5 flex items-center justify-center group-hover:bg-brand-orange/20 transition-colors",children:i.jsx(fl,{className:"w-4 h-4"})}),i.jsx("span",{className:"font-bold",children:e.contact_phone})]}),e.contact_email&&i.jsxs("a",{href:`mailto:${e.contact_email}`,className:"flex items-center gap-3 text-gray-300 hover:text-brand-orange transition-colors group",children:[i.jsx("div",{className:"w-8 h-8 rounded-lg bg-white/5 flex items-center justify-center group-hover:bg-brand-orange/20 transition-colors",children:i.jsx(Mr,{className:"w-4 h-4"})}),i.jsx("span",{className:"font-bold",children:e.contact_email})]})]})]})]}),i.jsxs("div",{className:"py-12 flex flex-col md:flex-row items-center justify-between gap-8",children:[i.jsx("div",{className:"flex flex-wrap items-center justify-center gap-x-8 gap-y-4",children:s.map(o=>i.jsx(ae,{to:o.to,className:"text-xs font-bold uppercase tracking-widest text-gray-500 hover:text-white transition-colors",children:o.label},o.label))}),i.jsxs("div",{className:"flex items-center gap-8",children:[i.jsxs("p",{className:"text-xs font-bold text-gray-600 uppercase tracking-widest",children:[" ",t," ",e.brand_name||"Printer Pro",". ALL RIGHTS RESERVED."]}),i.jsx("button",{onClick:a,className:"w-10 h-10 rounded-full border border-white/10 flex items-center justify-center hover:bg-white hover:text-black transition-all",title:"Back to Top",children:i.jsx(r_,{className:"w-4 h-4"})})]})]})]})]})}function pS(){const{pathname:e}=Rr();return O.useEffect(()=>{window.scrollTo(0,0)},[e]),null}const mS=()=>i.jsx("section",{className:"py-24 bg-gray-50",children:i.jsx("div",{className:"w-full  mx-auto px-4 sm:px-6 lg:px-32",children:i.jsxs("div",{className:"flex flex-col lg:flex-row items-stretch gap-8 lg:gap-12",children:[i.jsx("div",{className:"w-full lg:w-1/2 relative min-h-[400px] lg:min-h-[600px]",children:i.jsx("img",{src:"assets/who.jpg",alt:"Premium Printing Technology",className:"absolute inset-0 w-full h-full object-cover rounded-3xl shadow-sm"})}),i.jsxs("div",{className:"w-full lg:w-1/2 bg-white rounded-3xl p-8 md:p-12 lg:p-20 shadow-sm flex flex-col justify-center items-start",children:[i.jsx("span",{className:"text-brand-orange font-bold text-sm tracking-widest uppercase mb-6",children:" Who We Are"}),i.jsxs("h2",{className:"text-4xl md:text-5xl lg:text-6xl font-black text-gray-900 leading-[1.1] mb-8",children:["Advanced Printing ",i.jsx("br",{})," Solutions for Business"]}),i.jsx("p",{className:"text-lg text-gray-500 leading-relaxed mb-10 max-w-xl font-medium",children:"We specialize in high-performance printing ecosystems tailored for modern enterprises. From industrial-grade hardware to eco-friendly ink supplies, our comprehensive range ensures your business never stops moving. Experience reliability, speed, and exceptional quality with every print."}),i.jsxs(ae,{to:"/about",className:"group flex items-center gap-3 bg-brand-orange hover:bg-orange-600 text-white px-8 py-4 rounded-full font-bold text-sm tracking-wider transition-all duration-300 shadow-md hover:shadow-lg transform hover:-translate-y-1",children:["LEARN MORE",i.jsx("div",{className:"bg-white/20 rounded-full p-1 group-hover:bg-white/30 transition-colors",children:i.jsx(ot,{className:"w-4 h-4 text-white"})})]})]})]})})}),gS=[{quote:"The quality of the products exceeded my expectations. The customer service was also top-notch!",author:"Sarah Johnson",title:"Marketing Manager",avatar:"https://randomuser.me/api/portraits/women/44.jpg"},{quote:"An absolutely seamless shopping experience. The website is easy to navigate, and my order arrived fast.",author:"Michael Chen",title:"Lead Developer",avatar:"https://randomuser.me/api/portraits/men/32.jpg"},{quote:"Found exactly what I needed at a great price. The quality is fantastic!",author:"Jessica Williams",title:"Freelance Designer",avatar:"https://randomuser.me/api/portraits/women/65.jpg"},{quote:"Fast shipping and excellent packaging. Will definitely order again.",author:"David Miller",title:"Small Business Owner",avatar:"https://randomuser.me/api/portraits/men/45.jpg"},{quote:"The best customer support I've ever experienced. They truly care.",author:"Emma Wilson",title:"Teacher",avatar:"https://randomuser.me/api/portraits/women/22.jpg"}];function vS(){const e=O.useRef(null),[t,r]=O.useState(!1);return O.useEffect(()=>{e.current&&(Array.from(e.current.children).forEach(s=>{const a=s.cloneNode(!0);e.current&&e.current.appendChild(a)}),r(!0))},[]),i.jsxs("section",{className:"bg-white py-24 overflow-hidden relative",children:[i.jsx("div",{className:"absolute top-0 left-0 w-full h-24 bg-gradient-to-b from-white to-transparent z-10 pointer-events-none"}),i.jsx("div",{className:"absolute bottom-0 left-0 w-full h-24 bg-gradient-to-t from-white to-transparent z-10 pointer-events-none"}),i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mb-12 text-center relative z-20",children:[i.jsx("span",{className:"text-brand-orange font-bold text-xs uppercase tracking-[0.2em] mb-3 block",children:"Community Love"}),i.jsx("h2",{className:"text-4xl font-black text-gray-900 tracking-tight",children:"Trusted by Professionals"})]}),i.jsx("div",{ref:e,className:`flex gap-6 w-max ${t?"animate-scroll":""} hover:pause`,children:gS.map((n,s)=>i.jsxs("div",{className:"w-[350px] md:w-[450px] flex-shrink-0 bg-[#F9FAFB] rounded-[2rem] p-8 md:p-10 relative group border border-gray-100 hover:border-brand-orange/20 transition-colors duration-300",children:[i.jsx(w_,{className:"absolute top-8 right-8 w-10 h-10 text-gray-200 group-hover:text-brand-orange/20 transition-colors duration-300"}),i.jsx("div",{className:"flex gap-1 mb-6",children:[...Array(5)].map((a,o)=>i.jsx(Ns,{className:"w-4 h-4 text-brand-orange fill-brand-orange"},o))}),i.jsxs("p",{className:"text-lg text-gray-700 font-medium leading-relaxed mb-8 relative z-10",children:['"',n.quote,'"']}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden border-2 border-white shadow-sm",children:i.jsx("img",{src:n.avatar,alt:n.author,className:"w-full h-full object-cover"})}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-bold text-gray-900 text-sm",children:n.author}),i.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide font-medium",children:n.title})]})]})]},s))}),i.jsx("style",{jsx:!0,children:`
        .animate-scroll {
          animation: scroll 40s linear infinite;
        }
        .hover:pause:hover {
          animation-play-state: paused;
        }
        @keyframes scroll {
          to {
            transform: translate(calc(-50% - 12px));
          }
        }
      `})]})}const yS=()=>{const{settings:e}=zs(),[t,r]=O.useState([]),[n,s]=O.useState([]),[a,o]=O.useState(!0);O.useEffect(()=>{c()},[]);const c=async()=>{try{const{data:u,error:h}=await Q.from("products").select("*").order("created_at",{ascending:!1}).limit(8),{data:d,error:f}=await Q.from("products").select("*").order("price",{ascending:!1}).limit(8);if(h)throw h;if(f)throw f;r(u||[]),s(d||[])}catch(u){console.error("Error fetching hero products:",u)}finally{o(!1)}},l=()=>{window.dispatchEvent(new Event("openSearch"))};return i.jsx("section",{className:"w-full max-w-[1800px] mx-auto px-4 sm:px-6 lg:px-12 my-5 bg-gray-50/50",children:i.jsx("div",{className:"bg-[#F2F7F6] rounded-[2rem] p-6 md:p-10 lg:p-12 w-full shadow-sm border border-[#e8f1f0]",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[i.jsxs("div",{className:"lg:col-span-6 flex flex-col justify-center space-y-8 lg:pr-12",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-orange-200  backdrop-blur-sm mb-6",children:[i.jsx(Nr,{className:"w-5 h-5 sm:w-6 sm:h-6 text-brand-orange"}),i.jsx("span",{className:"text-[10px] sm:text-sm font-bold text-brand-orange uppercase tracking-[0.2em]",children:"Official Distributor"})]}),i.jsxs("h1",{className:"text-3xl md:text-5xl lg:text-7xl font-black text-gray-900 !leading-[1.1] tracking-tight",children:["Premium Printing ",i.jsx("br",{}),i.jsx("span",{className:"text-brand-orange",children:"For Your Business"})]}),i.jsxs("p",{className:"mt-8 text-xl text-gray-500 leading-relaxed max-w-lg font-medium",children:["Experience the best in print technology with ",i.jsx("strong",{children:e.brand_name||"Printer Pro"}),". Reliable printers, quality ink, and expert support."]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-5 items-start sm:items-center",children:[i.jsx(ae,{to:"/shop",className:"bg-brand-orange hover:bg-[#093642] text-white px-10 py-5 rounded-full font-bold transition-all duration-300 shadow-xl shadow-teal-900/20 transform hover:-translate-y-1 text-center whitespace-nowrap text-lg",children:"Shop Now"}),i.jsxs("button",{onClick:l,className:"flex items-center gap-3 bg-white hover:bg-gray-50 text-gray-900 border border-gray-200 px-10 py-5 rounded-full font-bold transition-all duration-300 shadow-sm hover:shadow-md transform hover:-translate-y-1 group whitespace-nowrap text-lg",children:[i.jsx(dr,{className:"w-6 h-6 text-gray-400 group-hover:text-brand-orange transition-colors"}),i.jsx("span",{children:"Search Products"})]})]}),i.jsxs("div",{className:"flex items-center gap-4 bg-white/80 backdrop-blur-md p-2 pr-6 rounded-full w-fit mt-4 border border-white shadow-sm",children:[i.jsx("div",{className:"flex -space-x-3",children:[1,2,3].map(u=>i.jsx("div",{className:"w-10 h-10 rounded-full border-2 border-white bg-gray-200 overflow-hidden relative",children:i.jsx("img",{src:`https://i.pravatar.cc/100?img=${u+15}`,alt:"Expert",className:"w-full h-full object-contain"})},u))}),i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"text-sm font-bold text-gray-900",children:"Talk to an expert"}),i.jsx("span",{className:"text-xs text-gray-500 font-medium",children:"Available 24/7"})]})]})]}),i.jsx("div",{className:"lg:col-span-3 relative group hidden md:block",children:i.jsx("div",{className:"h-[320px] lg:h-[610px] w-full bg-white rounded-4xl overflow-hidden relative shadow-md transition-all duration-700 border border-gray-100",children:a?i.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:i.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-4 border-gray-100 border-t-brand-orange"})}):i.jsx(ia,{modules:[Gu],spaceBetween:0,slidesPerView:1,speed:1200,autoplay:{delay:4500,disableOnInteraction:!1,pauseOnMouseEnter:!1},loop:n.length>1,className:"h-full w-full",children:n.map(u=>i.jsx(aa,{className:"h-full w-full bg-white",children:i.jsxs(ae,{to:`/shop/${u.id}`,className:"relative block w-full h-full",children:[i.jsx("div",{className:"absolute inset-0 bg-gray-50 flex items-center justify-center overflow-hidden",children:i.jsx("img",{src:u.image_url,alt:u.name,className:"w-full h-full object-contain transition-transform duration-[2000ms] hover:scale-110"})}),i.jsx("div",{className:"absolute top-5 left-5 right-5 z-10",children:i.jsxs("div",{className:"bg-white/95 backdrop-blur-md px-4 py-3 rounded-2xl shadow-xl border border-gray-100",children:[i.jsx("p",{className:"text-[9px] text-brand-orange font-black uppercase tracking-widest mb-1",children:"Premium Choice"}),i.jsx("p",{className:"text-sm font-black text-gray-900 truncate",children:u.name}),i.jsxs("p",{className:"text-xs font-bold text-gray-500",children:["$",parseFloat(u.price).toFixed(0)]})]})}),i.jsx("div",{className:"absolute bottom-6 left-1/2 -translate-x-1/2 w-12 h-12 bg-white rounded-full flex items-center justify-center shadow-2xl text-gray-900 transition-all duration-500 hover:bg-brand-orange hover:text-white group-hover:scale-110",children:i.jsx(ot,{className:"w-6 h-6"})})]})},u.id))})})}),i.jsxs("div",{className:"lg:col-span-3 flex flex-col gap-5 ",children:[i.jsx("div",{className:" min-h-[180px] bg-white rounded-4xl relative overflow-hidden group shadow-md border border-gray-100",children:a?i.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:i.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-4 border-gray-100 border-t-brand-orange"})}):i.jsx(ia,{modules:[Gu],spaceBetween:0,slidesPerView:1,speed:1e3,autoplay:{delay:2800,disableOnInteraction:!1,pauseOnMouseEnter:!1},loop:t.length>1,className:"h-full w-full",children:t.map(u=>i.jsx(aa,{className:"h-full w-full bg-white",children:i.jsxs(ae,{to:`/shop/${u.id}`,className:"relative block w-full h-full",children:[i.jsx("div",{className:"w-full h-full overflow-hidden pt-6",children:i.jsx("img",{src:u.image_url,alt:u.name,className:"w-full h-full object-contain transition-transform duration-[2000ms] ease-out hover:scale-110"})}),i.jsx("div",{className:"absolute top-3 left-5 right-5 z-10",children:i.jsxs("div",{className:"bg-white/95 backdrop-blur-md px-4 py-3 rounded-2xl shadow-xl border border-gray-100 transition-transform duration-500 hover:-translate-y-1",children:[i.jsx("p",{className:"text-[9px] uppercase font-black tracking-[0.2em] text-brand-orange mb-1",children:"New Arrival"}),i.jsx("p",{className:"text-sm font-black text-gray-900 truncate",children:u.name}),i.jsxs("p",{className:"text-brand-orange absolute right-4 top-2 font-black text-sm",children:["$",parseFloat(u.price).toFixed(0)]})]})}),i.jsx("div",{className:"absolute bottom-8 right-5 w-9 h-9 bg-white rounded-full flex items-center justify-center shadow-xl text-brand-orange transition-all duration-500 hover:bg-brand-orange hover:text-white group-hover:-translate-x-2",children:i.jsx(ot,{className:"w-4 h-4"})})]})},u.id))})}),i.jsxs("div",{className:" h-[200px] bg-brand-orange rounded-4xl p-6 flex flex-col justify-between relative overflow-hidden group shadow-md",children:[i.jsx("div",{className:"absolute top-0 right-0 w-28 h-28 bg-white/5 rounded-bl-[80px] transition-all duration-700 group-hover:w-36 group-hover:h-36 group-hover:bg-white/10"}),i.jsxs("div",{children:[i.jsx("div",{className:"inline-block px-4 py-1 bg-white/10 text-white text-[10px] font-black tracking-widest rounded-full mb-3 uppercase",children:"Seasonal Deal"}),i.jsx("h3",{className:"text-2xl font-black text-white mb-1 italic",children:"25% OFF"}),i.jsx("p",{className:"text-teal-100 text-xs max-w-[200px]",children:"Upgrade your lifestyle with our most popular picks."})]}),i.jsxs(ae,{to:"/shop",className:"flex items-center gap-3 text-white font-black text-sm uppercase tracking-wider group-hover:gap-5 transition-all duration-500",children:["Explore Now ",i.jsx(ot,{className:"w-5 h-5"})]})]})]})]})})})},xS=e=>e?e.toLowerCase().replace(/[^a-z0-9\s-]/g,"").trim().replace(/\s+/g,"-"):"";function bS(){const[e,t]=O.useState([]),[r,n]=O.useState([]),[s,a]=O.useState([]),[o,c]=O.useState([]),[l,u]=O.useState(!0),[h,d]=O.useState(new Set),{addToCart:f}=Vn(),{addToWishlist:p,removeFromWishlist:b,isInWishlist:x}=pa(),{addToast:w}=pl();O.useEffect(()=>{document.title="Home - Premium Printing Solutions",g()},[]);const g=async()=>{try{const{data:y}=await Q.from("products").select("*, categories (name)").order("created_at",{ascending:!1}).limit(8),{data:j}=await Q.from("products").select("*, categories (name)").order("created_at",{ascending:!1}).range(8,16),{data:S}=await Q.from("products").select("*, categories (name)").order("price",{ascending:!1}).limit(4),{data:N,error:_}=await Q.from("categories").select("id, name, description, slug, products(id)").order("name");if(_)throw _;const C=(N||[]).map(k=>{var E;return{...k,productCount:((E=k.products)==null?void 0:E.length)||0}}).filter(k=>k.productCount>0);t(y||[]),n(j||[]),a(S||[]),c(C)}catch(y){console.error("Error fetching data:",y)}finally{u(!1)}},m=async(y,j)=>{j==null||j.preventDefault(),j==null||j.stopPropagation();try{await f(y.id,1),w(`${y.name} added to cart!`,"success"),d(S=>new Set(S).add(y.id)),setTimeout(()=>{d(S=>{const N=new Set(S);return N.delete(y.id),N})},2e3)}catch(S){console.error("Error adding to cart:",S)}},v=y=>{const j=y.toLowerCase();return j.includes("ink")?pf:j.includes("printer")?vf:j.includes("paper")?Tt:j.includes("toner")?v_:j.includes("part")||j.includes("service")?ky:Tt};return i.jsxs("div",{className:"bg-white font-sans text-gray-900 overflow-x-hidden",children:[i.jsx(yS,{}),i.jsx("section",{className:"w-full max-w-[1800px] mx-auto px-4 sm:px-6 lg:px-12 mt-10 mb-10 relative z-10",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-8 flex flex-wrap justify-between items-center gap-6",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-12 h-12 rounded-full bg-orange-50 flex items-center justify-center text-brand-orange transition-transform hover:scale-110",children:i.jsx(hl,{className:"w-6 h-6"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-sm uppercase tracking-wide text-gray-900",children:"Free Shipping"}),i.jsx("p",{className:"text-xs text-gray-500",children:"On all orders over $99"})]})]}),i.jsx("div",{className:"w-px h-10 bg-gray-100 hidden md:block"}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-50 flex items-center justify-center text-blue-600 transition-transform hover:scale-110",children:i.jsx(yf,{className:"w-6 h-6"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-sm uppercase tracking-wide text-gray-900",children:"Secure Payment"}),i.jsx("p",{className:"text-xs text-gray-500",children:"100% protected transactions"})]})]}),i.jsx("div",{className:"w-px h-10 bg-gray-100 hidden md:block"}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-12 h-12 rounded-full bg-green-50 flex items-center justify-center text-green-600 transition-transform hover:scale-110",children:i.jsx(c_,{className:"w-6 h-6"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-sm uppercase tracking-wide text-gray-900",children:"24/7 Support"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Dedicated expert team"})]})]}),i.jsx("div",{className:"w-px h-10 bg-gray-100 hidden md:block"}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-12 h-12 rounded-full bg-purple-50 flex items-center justify-center text-purple-600 transition-transform hover:scale-110",children:i.jsx(Fu,{className:"w-6 h-6"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-sm uppercase tracking-wide text-gray-900",children:"Quality Guarantee"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Certified authentic products"})]})]})]})}),i.jsx("section",{className:"py-12 mb-12",children:i.jsxs("div",{className:"w-full max-w-[1800px] mx-auto px-4 sm:px-6 lg:px-12",children:[i.jsxs("div",{className:"flex items-end justify-between mb-10",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-brand-orange font-bold text-xs uppercase tracking-[0.2em] mb-2 block",children:"Departments"}),i.jsx("h2",{className:"text-3xl md:text-4xl font-black text-gray-900 tracking-tight",children:"Browse Categories"})]}),i.jsxs(ae,{to:"/categories",className:"text-sm font-bold text-brand-orange hover:text-orange-700 flex items-center gap-2 transition-all",children:["VIEW ALL ",i.jsx(ot,{className:"w-4 h-4"})]})]}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 md:gap-6",children:o.map((y,j)=>{const S=v(y.name);return i.jsxs(ae,{to:`/shop/category/${y.slug||xS(y.name)}`,className:"group flex items-center gap-4 pl-4 pr-6 py-4 rounded-full bg-gray-50 border border-transparent hover:border-gray-200 hover:bg-white hover:shadow-md transition-all duration-500",children:[i.jsx("div",{className:"w-12 h-12 rounded-full bg-white shadow-sm flex items-center justify-center text-gray-400 group-hover:bg-brand-orange group-hover:text-white transition-all duration-300 transform group-hover:rotate-12 flex-shrink-0",children:i.jsx(S,{className:"w-5 h-5",strokeWidth:2.5})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-bold text-sm text-gray-900 group-hover:text-brand-orange transition-colors truncate",children:y.name}),i.jsxs("p",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest leading-none mt-0.5",children:[y.productCount," Items"]})]}),i.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-all duration-300 -translate-x-2 group-hover:translate-x-0",children:i.jsx(Si,{className:"w-4 h-4 text-brand-orange"})})]},y.id||j)})})]})}),i.jsx("section",{className:"py-24 bg-[#fafafa]",children:i.jsxs("div",{className:"w-full max-w-[1800px] mx-auto px-4 sm:px-6 lg:px-12",children:[i.jsxs("div",{className:"text-center max-w-2xl mx-auto mb-16",children:[i.jsx("span",{className:"text-brand-orange font-bold text-xs uppercase tracking-[0.2em] mb-3 block",children:"Selected For You"}),i.jsx("h2",{className:"text-3xl md:text-5xl font-black text-gray-900 mb-4 tracking-tight",children:"Trending Now"}),i.jsx("p",{className:"text-gray-500 text-lg",children:"Discover our most popular products, curated just for you based on quality and performance."})]}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:e.map(y=>{var j;return i.jsxs(ae,{to:`/shop/${y.id}`,className:"group bg-white rounded-[2rem] p-4 transition-all duration-500 hover:shadow-lg hover:-translate-y-2 relative border border-transparent hover:border-gray-100",children:[i.jsxs("div",{className:"relative aspect-square rounded-[1.5rem] bg-gray-50 overflow-hidden mb-5",children:[i.jsx("img",{src:y.image_url,alt:y.name,className:"w-full h-full object-cover mix-blend-multiply opacity-90 transition-transform duration-700 group-hover:scale-110"}),i.jsx("div",{className:"absolute top-3 right-3 flex flex-col gap-2 opacity-0 group-hover:opacity-100 transition-all duration-300 translate-x-2 group-hover:translate-x-0",children:i.jsx("button",{onClick:S=>{S.preventDefault(),S.stopPropagation(),x(y.id)?(b(y.id),w("Removed from wishlist","success")):(p(y.id),w("Added to wishlist","success"))},className:`w-9 h-9 rounded-full bg-white shadow-sm flex items-center justify-center transition-all ${x(y.id)?"text-red-500":"text-gray-400 hover:text-red-500 hover:bg-red-50"}`,children:i.jsx(or,{className:`w-4 h-4 ${x(y.id)?"fill-current":""}`})})}),i.jsxs("button",{onClick:S=>m(y,S),className:`absolute bottom-3 left-1/2 -translate-x-1/2 w-[90%] py-3 rounded-xl text-xs font-bold uppercase tracking-wider shadow-sm flex items-center justify-center gap-2 transition-all duration-300 translate-y-12 opacity-0 group-hover:translate-y-0 group-hover:opacity-100 ${h.has(y.id)?"bg-green-600 text-white":"bg-black text-white hover:bg-brand-orange"}`,children:[h.has(y.id)?i.jsx(Et,{className:"w-3 h-3"}):i.jsx(Sr,{className:"w-3 h-3"}),h.has(y.id)?"Added":"Add to Cart"]})]}),i.jsxs("div",{className:"px-2 pb-2",children:[i.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest mb-2",children:((j=y.categories)==null?void 0:j.name)||"Accessory"}),i.jsx("h3",{className:"font-bold text-gray-900 text-base mb-2 line-clamp-2 min-h-[50px] leading-snug group-hover:text-brand-orange transition-colors",children:y.name}),i.jsxs("div",{className:"flex items-end justify-between pt-2 border-t border-gray-50",children:[i.jsxs("span",{className:"text-xl font-black text-gray-900",children:["$",parseFloat(y.price).toFixed(2)]}),i.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[i.jsx(Ns,{className:"w-3 h-3 text-yellow-400 fill-yellow-400"}),i.jsx("span",{className:"text-xs font-bold text-gray-400",children:"4.8"})]})]})]})]},y.id)})}),i.jsx("div",{className:"text-center mt-20",children:i.jsx(ae,{to:"/shop",className:"inline-block px-10 py-4 rounded-full border-2 border-gray-900 text-gray-900 font-bold text-sm uppercase tracking-wider hover:bg-gray-900 hover:text-white transition-all duration-300 transform hover:-translate-y-1 shadow-sm",children:"View Full Collection"})})]})}),i.jsxs("section",{className:"py-24 bg-[#0e4b5b] relative overflow-hidden",children:[i.jsx("div",{className:"absolute top-0 right-0 w-1/2 h-full bg-white/5 skew-x-12 transform origin-top pointer-events-none"}),i.jsx("div",{className:"absolute bottom-0 left-0 w-64 h-64 bg-brand-orange/20 rounded-full blur-[100px] pointer-events-none"}),i.jsx("div",{className:"w-full max-w-[1800px] mx-auto px-4 sm:px-6 lg:px-12 relative z-10",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-16",children:[i.jsxs("div",{className:"lg:col-span-1 flex flex-col justify-center text-white",children:[i.jsx("span",{className:"text-brand-orange font-bold text-xs uppercase tracking-[0.2em] mb-4",children:"The Gold Standard"}),i.jsxs("h2",{className:"text-4xl md:text-5xl font-black mb-6 leading-tight",children:["Premium ",i.jsx("br",{})," Collection"]}),i.jsx("p",{className:"text-teal-100 text-lg mb-8 leading-relaxed",children:"Elevate your office with our top-tier selection. Engineered for heavy-duty performance and professional-grade results."}),i.jsxs(ae,{to:"/shop",className:"inline-flex items-center gap-3 text-white font-bold uppercase tracking-wider hover:gap-5 transition-all",children:["Shop Premium ",i.jsx(ot,{className:"w-5 h-5"})]})]}),i.jsx("div",{className:"lg:col-span-2 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 gap-6",children:s.map(y=>i.jsx(ae,{to:`/shop/${y.id}`,className:"bg-white/10 backdrop-blur-md rounded-3xl p-4 border border-white/10 hover:bg-white hover:scale-[1.02] group transition-all duration-500 shadow-none hover:shadow-lg",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-24 h-24 rounded-2xl bg-white flex-shrink-0 overflow-hidden p-2",children:i.jsx("img",{src:y.image_url,alt:y.name,className:"w-full h-full object-contain"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-bold text-white text-sm mb-1 line-clamp-1 group-hover:text-gray-900 transition-colors",children:y.name}),i.jsx("p",{className:"text-teal-200 text-xs mb-3 group-hover:text-gray-500",children:"Professional Series"}),i.jsxs("span",{className:"bg-brand-orange text-white text-xs font-bold px-3 py-1 rounded-full",children:["$",parseFloat(y.price).toFixed(0)]})]}),i.jsx("button",{onClick:j=>{j.preventDefault(),j.stopPropagation(),x(y.id)?(b(y.id),w("Removed from wishlist","success")):(p(y.id),w("Added to wishlist","success"))},className:`flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center transition-all ${x(y.id)?"bg-white text-red-500 shadow-md":"text-teal-200 hover:bg-white/20"}`,children:i.jsx(or,{className:`w-4 h-4 ${x(y.id)?"fill-current":""}`})})]})},y.id))})]})})]}),i.jsx(mS,{}),i.jsx("section",{className:"py-24 bg-white overflow-hidden",children:i.jsxs("div",{className:"w-full max-w-[1800px] mx-auto px-4 sm:px-6 lg:px-12",children:[i.jsxs("div",{className:"flex items-end justify-between mb-12",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-brand-orange font-bold text-xs uppercase tracking-[0.2em] mb-2 block",children:"Just In"}),i.jsx("h2",{className:"text-3xl md:text-4xl font-black text-gray-900 tracking-tight",children:"Fresh Arrivals"})]}),i.jsxs("div",{className:"hidden md:flex gap-2",children:[i.jsx("div",{className:"h-1 w-12 bg-gray-100 rounded-full"}),i.jsx("div",{className:"h-1 w-4 bg-brand-orange rounded-full"})]})]}),i.jsx(ia,{modules:[Gu],spaceBetween:30,slidesPerView:1.2,loop:!0,speed:1e3,autoplay:{delay:3500,disableOnInteraction:!1,pauseOnMouseEnter:!0},breakpoints:{640:{slidesPerView:2.2},1024:{slidesPerView:3.2},1440:{slidesPerView:4.2}},className:"overflow-visible",children:r.map(y=>i.jsx(aa,{children:i.jsxs(ae,{to:`/shop/${y.id}`,className:"group block bg-white rounded-[2.5rem] border border-gray-100 p-6 hover:shadow-lg hover:border-brand-orange/20 transition-all duration-500 h-full",children:[i.jsxs("div",{className:"relative aspect-[4/3] rounded-[2rem] bg-gray-50 overflow-hidden mb-6",children:[i.jsx("img",{src:y.image_url,alt:y.name,className:"w-full h-full object-cover mix-blend-multiply opacity-90 transition-transform duration-700 group-hover:scale-110"}),i.jsx("div",{className:"absolute top-4 left-4 bg-black text-white text-[10px] font-bold px-3 py-1 rounded-full uppercase tracking-widest",children:"New"}),i.jsx("button",{onClick:j=>{j.preventDefault(),j.stopPropagation(),x(y.id)?(b(y.id),w("Removed from wishlist","success")):(p(y.id),w("Added to wishlist","success"))},className:`absolute top-4 right-4 w-9 h-9 rounded-full flex items-center justify-center shadow-md transition-all z-10 ${x(y.id)?"bg-red-500 text-white":"bg-white text-gray-400 hover:text-red-500"}`,children:i.jsx(or,{className:`w-4 h-4 ${x(y.id)?"fill-current":""}`})})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-lg text-gray-900 mb-2 truncate group-hover:text-brand-orange transition-colors",children:y.name}),i.jsx("p",{className:"text-sm text-gray-500 line-clamp-2 mb-4 h-[40px]",children:y.description}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("span",{className:"text-xl font-black text-brand-orange",children:["$",parseFloat(y.price).toFixed(2)]}),i.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center group-hover:bg-black group-hover:text-white transition-colors",children:i.jsx(ot,{className:"w-5 h-5"})})]})]})]})},y.id))})]})}),i.jsx("section",{className:"py-24 bg-white overflow-hidden",children:i.jsx("div",{className:"w-full max-w-[1800px] mx-auto px-4 sm:px-6 lg:px-12",children:i.jsxs("div",{className:"bg-[#F2F7F6] rounded-[3rem] p-8 md:p-16 relative overflow-hidden",children:[i.jsx("div",{className:"absolute top-0 right-0 w-[400px] h-[400px] bg-white/40 rounded-full blur-3xl -translate-y-1/2 translate-x-1/3 pointer-events-none"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-16 items-center relative z-10",children:[i.jsxs("div",{className:"order-2 md:order-1",children:[i.jsx("span",{className:"inline-block px-4 py-1.5 rounded-full bg-white text-brand-orange text-xs font-bold uppercase tracking-widest mb-6 shadow-sm",children:"Our Promise"}),i.jsxs("h2",{className:"text-3xl md:text-5xl font-black text-gray-900 mb-6 leading-[1.1]",children:["Quality you can trust, ",i.jsx("br",{})," Service you deserve."]}),i.jsx("p",{className:"text-lg text-gray-500 mb-10 leading-relaxed font-medium",children:"We don't just sell printers; we provide complete printing ecosystems designed for efficiency. From high-capacity ink to industrial-grade hardware, every product is vetted for performance."}),i.jsxs("div",{className:"space-y-5 mb-10",children:[i.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-2xl bg-white/50 border border-white hover:bg-white transition-colors shadow-sm hover:shadow-md",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-brand-orange/10 flex items-center justify-center flex-shrink-0",children:i.jsx(Et,{className:"w-5 h-5 text-brand-orange"})}),i.jsx("span",{className:"text-gray-900 font-bold",children:"Authentic Manufacturer Warranty"})]}),i.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-2xl bg-white/50 border border-white hover:bg-white transition-colors shadow-sm hover:shadow-md",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-brand-orange/10 flex items-center justify-center flex-shrink-0",children:i.jsx(Et,{className:"w-5 h-5 text-brand-orange"})}),i.jsx("span",{className:"text-gray-900 font-bold",children:"Lifetime Technical Support"})]})]}),i.jsx(ae,{to:"/about",className:"text-brand-orange font-black text-sm uppercase tracking-wider border-b-2 border-brand-orange pb-1 hover:text-orange-700 hover:border-orange-700 transition-all",children:"Read Our Full Story"})]}),i.jsxs("div",{className:"relative order-1 md:order-2",children:[i.jsx("div",{className:" rounded-[2rem] overflow-hidden shadow-lg transform transition-transform hover:rotate-0 duration-700",children:i.jsx("img",{src:"assets/promise.jpg",alt:"Workspace",className:"w-full h-full object-cover"})}),i.jsxs("div",{className:"absolute -bottom-8 -left-8 bg-white p-8 rounded-[2rem] shadow-xl max-w-[240px] animate-bounce-slow",children:[i.jsx("p",{className:"text-4xl font-black text-gray-900 mb-2",children:"15k+"}),i.jsx("p",{className:"text-sm text-gray-500 leading-snug font-medium",children:"Happy customers trusting our printing solutions worldwide."})]})]})]})]})})}),i.jsx(vS,{}),i.jsx("section",{className:"py-24 bg-white border-t border-gray-100",children:i.jsxs("div",{className:"max-w-4xl mx-auto px-4 text-center",children:[i.jsx("h2",{className:"text-3xl font-black text-gray-900 mb-4 tracking-tight",children:"Stay in the loop"}),i.jsx("p",{className:"text-gray-500 mb-10 max-w-lg mx-auto font-medium",children:"Subscribe to our newsletter for exclusive offers, new product announcements, and expert printing tips."}),i.jsxs("form",{className:"flex flex-col sm:flex-row gap-4 max-w-lg mx-auto relative",children:[i.jsx("input",{type:"email",placeholder:"Enter your email address",className:"flex-1 bg-gray-50 border-2 border-gray-100 text-gray-900 text-sm rounded-full px-8 py-4 focus:outline-none focus:border-brand-orange focus:ring-0 transition-all font-medium placeholder:text-gray-400"}),i.jsx("button",{className:"bg-black text-white px-10 py-4 rounded-full font-bold text-sm uppercase tracking-wider hover:bg-brand-orange transition-colors shadow-md hover:shadow-lg transform hover:-translate-y-1",children:"Subscribe"})]}),i.jsx("p",{className:"text-xs text-gray-400 mt-6 font-medium",children:"We respect your privacy. Unsubscribe at any time."})]})}),i.jsx("style",{jsx:!0,global:!0,children:`
        @keyframes bounce-slow {
          0%, 100% { transform: translateY(0); }
          50% { transform: translateY(-10px); }
        }
        .animate-bounce-slow {
          animation: bounce-slow 4s infinite ease-in-out;
        }
      `})]})}function wS(){var P,M;const{id:e}=of(),t=vt(),{addToCart:r}=Vn(),{addToWishlist:n,removeFromWishlist:s,isInWishlist:a}=pa(),{addToast:o}=pl(),[c,l]=O.useState(null),[u,h]=O.useState([]),[d,f]=O.useState(1),[p,b]=O.useState(!0),[x,w]=O.useState(!1),[g,m]=O.useState(!1),[v,y]=O.useState(0),[j,S]=O.useState("description"),[N,_]=O.useState(5),[C,k]=O.useState(""),[E,T]=O.useState(!1);O.useEffect(()=>{l(null),h([]),b(!0),y(0),f(1),window.scrollTo(0,0),A()},[e]);const A=async()=>{try{const{data:R,error:V}=await Q.from("products").select("*, categories(*)").eq("id",e).maybeSingle();if(V)throw V;if(!R){t("/shop");return}l(R),L(R.category_id,R.id),document.title=`${R.name} - Premium Printers`}catch(R){console.error("Error fetching product:",R),t("/shop")}finally{b(!1)}},L=async(R,V)=>{try{const{data:W}=await Q.from("products").select("*, categories(*)").eq("category_id",R).neq("id",V).limit(4);h(W||[])}catch(W){console.error("Error fetching related products:",W)}},F=async()=>{w(!0);try{await r(c.id,d),o(`${c.name} added to cart!`,"success"),m(!0),setTimeout(()=>m(!1),3e3)}catch(R){console.error("Error adding to cart:",R)}finally{w(!1)}},U=async R=>{if(R.preventDefault(),!C.trim()){o("Please enter a comment","error");return}T(!0),setTimeout(()=>{o("Review submitted successfully! It will appear after moderation.","success"),k(""),_(5),T(!1)},1e3)};if(p)return i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-gray-100 border-t-brand-orange"})});if(!c)return null;const B=Array.isArray(c.images)&&c.images.length>0?c.images:[c.image_url||"/placeholder-printer.jpg"],q=c.discount_price&&parseFloat(c.discount_price)<parseFloat(c.price),D=q?c.discount_price:c.price,I=typeof c.specifications=="object"?c.specifications:{};return i.jsx("div",{className:"bg-white min-h-screen font-sans text-gray-900",children:i.jsxs("div",{className:"w-full max-w-[1800px] mx-auto px-4 sm:px-6 lg:px-12 py-12",children:[i.jsxs("nav",{className:"flex items-center gap-2 text-sm text-gray-500 mb-12 font-medium",children:[i.jsxs(ae,{to:"/",className:"hover:text-brand-orange flex items-center gap-1 transition-colors",children:[i.jsx(f_,{className:"w-4 h-4"})," Home"]}),i.jsx(Si,{className:"w-4 h-4 text-gray-300"}),i.jsx(ae,{to:"/shop",className:"hover:text-brand-orange transition-colors",children:"Shop"}),c.categories&&i.jsxs(i.Fragment,{children:[i.jsx(Si,{className:"w-4 h-4 text-gray-300"}),i.jsx(ae,{to:`/shop?category=${c.categories.name}`,className:"hover:text-brand-orange transition-colors",children:c.categories.name})]}),i.jsx(Si,{className:"w-4 h-4 text-gray-300"}),i.jsx("span",{className:"text-gray-900 truncate max-w-xs",children:c.name})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16 xl:gap-24",children:[i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{className:"aspect-square bg-[#F9FAFB] rounded-[3rem] p-8 relative group overflow-hidden border border-gray-100",children:[i.jsx("img",{src:B[v],alt:c.name,className:"w-full h-full object-contain mix-blend-multiply transition-transform duration-500 group-hover:scale-105"}),i.jsx("button",{onClick:()=>{a(c.id)?(s(c.id),o("Removed from wishlist","success")):(n(c.id),o("Added to wishlist","success"))},className:`absolute top-6 right-6 w-12 h-12 rounded-full flex items-center justify-center shadow-lg transition-colors z-10 ${a(c.id)?"bg-brand-orange text-white":"bg-white text-gray-400 hover:text-red-500"}`,children:i.jsx(or,{className:`w-6 h-6 ${a(c.id)?"fill-current":""}`})})]}),B.length>1&&i.jsx("div",{className:"flex gap-4 overflow-x-auto pb-4 no-scrollbar",children:B.map((R,V)=>i.jsx("button",{onClick:()=>y(V),className:`flex-shrink-0 w-24 h-24 rounded-2xl p-2 border-2 transition-all ${v===V?"border-brand-orange bg-brand-orange/5":"border-transparent bg-[#F9FAFB] hover:border-gray-200"}`,children:i.jsx("img",{src:R,alt:`Thumb ${V}`,className:"w-full h-full object-contain mix-blend-multiply"})},V))})]}),i.jsxs("div",{className:"flex flex-col",children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("span",{className:"text-brand-orange font-bold text-xs uppercase tracking-[0.2em] mb-3 block",children:((P=c.categories)==null?void 0:P.name)||"Printer"}),i.jsx("h1",{className:"text-4xl md:text-5xl font-black text-gray-900 leading-tight mb-4",children:c.name}),i.jsxs("div",{className:"flex items-center gap-4 text-sm font-medium",children:[i.jsx("div",{className:"flex text-yellow-400",children:[...Array(5)].map((R,V)=>i.jsx(Ns,{className:"w-4 h-4 fill-current"},V))}),i.jsx("span",{className:"text-gray-500",children:"(128 Reviews)"}),i.jsx("span",{className:"w-1 h-1 rounded-full bg-gray-300"}),i.jsxs("span",{className:"text-green-600 flex items-center gap-1",children:[i.jsx(Is,{className:"w-4 h-4"})," In Stock"]})]})]}),i.jsxs("div",{className:"mb-10 pb-10 border-b border-gray-100",children:[i.jsxs("div",{className:"flex items-end gap-4 mb-6",children:[i.jsxs("span",{className:"text-5xl font-black text-gray-900",children:["$",parseFloat(D).toFixed(2)]}),q&&i.jsx("div",{className:"mb-2",children:i.jsxs("span",{className:"text-xl text-gray-400 line-through block",children:["$",parseFloat(c.price).toFixed(2)]})})]}),i.jsxs("p",{className:"text-lg text-gray-500 leading-relaxed",children:[(M=c.description)==null?void 0:M.substring(0,150),"..."]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 mb-10",children:[i.jsxs("div",{className:"flex items-center border-2 border-gray-100 rounded-2xl h-16 w-full sm:w-40",children:[i.jsx("button",{onClick:()=>f(Math.max(1,d-1)),className:"w-12 h-full flex items-center justify-center hover:bg-gray-50 text-gray-500 rounded-l-2xl transition-colors",children:i.jsx(gf,{className:"w-5 h-5"})}),i.jsx("span",{className:"flex-1 text-center font-bold text-lg",children:d}),i.jsx("button",{onClick:()=>f(d+1),className:"w-12 h-full flex items-center justify-center hover:bg-gray-50 text-gray-500 rounded-r-2xl transition-colors",children:i.jsx(hn,{className:"w-5 h-5"})})]}),i.jsx("button",{onClick:F,disabled:x,className:"flex-1 h-16 bg-black text-white font-bold rounded-2xl hover:bg-brand-orange transition-all duration-300 flex items-center justify-center gap-3 shadow-lg hover:shadow-xl transform hover:-translate-y-1",children:g?i.jsxs(i.Fragment,{children:[i.jsx(Is,{className:"w-6 h-6"})," Added!"]}):i.jsxs(i.Fragment,{children:[i.jsx(Sr,{className:"w-6 h-6"})," Add to Cart"]})})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-12",children:[i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-50 flex items-center justify-center text-blue-600 flex-shrink-0",children:i.jsx(hl,{className:"w-5 h-5"})}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-bold text-gray-900 text-sm",children:"Free Delivery"}),i.jsx("p",{className:"text-xs text-gray-500"})]})]}),i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-purple-50 flex items-center justify-center text-purple-600 flex-shrink-0",children:i.jsx(yf,{className:"w-5 h-5"})}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-bold text-gray-900 text-sm",children:"Official Warranty"}),i.jsx("p",{className:"text-xs text-gray-500",children:"1 Year coverage"})]})]}),i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-green-50 flex items-center justify-center text-green-600 flex-shrink-0",children:i.jsx(j_,{className:"w-5 h-5"})}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-bold text-gray-900 text-sm",children:"30 Days Return"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Hassle-free policy"})]})]}),i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-orange-50 flex items-center justify-center text-brand-orange flex-shrink-0",children:i.jsx(ur,{className:"w-5 h-5"})}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-bold text-gray-900 text-sm",children:"Secure Payment"}),i.jsx("p",{className:"text-xs text-gray-500",children:"100% Protected"})]})]})]})]})]}),i.jsx("div",{className:"space-y-4 w-full pt-5",children:i.jsxs("div",{className:"border border-gray-100 rounded-3xl p-8 bg-[#F9FAFB]",children:[i.jsx("div",{className:"flex gap-8 border-b border-gray-200/60 mb-6 pb-4 overflow-x-auto no-scrollbar",children:["Description","Specifications","Reviews"].map(R=>i.jsx("button",{onClick:()=>S(R.toLowerCase()),className:`text-sm font-bold uppercase tracking-wider whitespace-nowrap transition-colors ${j===R.toLowerCase()?"text-brand-orange":"text-gray-400 hover:text-gray-600"}`,children:R},R))}),i.jsxs("div",{className:"text-gray-600 leading-relaxed min-h-[200px]",children:[j==="description"&&i.jsx("div",{className:"prose prose-sm max-w-none text-gray-500",children:c.description}),j==="specifications"&&i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-200/50",children:[i.jsx("span",{className:"font-medium text-gray-900 capitalize",children:"Status"}),i.jsx("span",{className:`font-bold ${c.stock>0?"text-green-600":"text-red-600"}`,children:c.stock>0?"In Stock":"Out of Stock"})]}),Object.entries(I).map(([R,V])=>i.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-200/50",children:[i.jsx("span",{className:"font-medium text-gray-900 capitalize",children:R.replace(/_/g," ")}),i.jsx("span",{className:"text-gray-500",children:V})]},R)),Object.entries(I).length===0&&!c.stock&&i.jsx("p",{children:"No specific specifications available."})]}),j==="reviews"&&i.jsxs("div",{className:"space-y-12",children:[i.jsxs("div",{className:"text-center py-8 bg-white rounded-2xl border border-gray-100 shadow-sm",children:[i.jsx("div",{className:"text-5xl font-black text-gray-900 mb-2",children:"4.8"}),i.jsx("div",{className:"flex justify-center text-yellow-400 mb-4",children:[...Array(5)].map((R,V)=>i.jsx(Ns,{className:"w-5 h-5 fill-current"},V))}),i.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Based on 128 verified reviews"})]}),i.jsxs("div",{className:"bg-white rounded-3xl p-8 border border-gray-100 shadow-sm",children:[i.jsx("h3",{className:"text-xl font-bold mb-6",children:"Write a Review"}),i.jsxs("form",{onSubmit:U,className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Rating"}),i.jsx("div",{className:"flex gap-2",children:[1,2,3,4,5].map(R=>i.jsx("button",{type:"button",onClick:()=>_(R),className:`p-1 transition-colors ${N>=R?"text-yellow-400":"text-gray-200"}`,children:i.jsx(Ns,{className:`w-8 h-8 ${N>=R?"fill-current":""}`})},R))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Your Review"}),i.jsx("textarea",{value:C,onChange:R=>k(R.target.value),placeholder:"Share your thoughts about this product...",className:"w-full h-32 px-6 py-4 rounded-2xl bg-gray-50 border-2 border-transparent focus:border-brand-orange focus:bg-white outline-none transition-all resize-none font-medium"})]}),i.jsx("button",{type:"submit",disabled:E,className:"w-full sm:w-auto px-10 h-14 bg-black text-white font-bold rounded-xl hover:bg-brand-orange transition-all disabled:bg-gray-400",children:E?"Submitting...":"Submit Review"})]})]})]})]})]})}),u.length>0&&i.jsxs("section",{className:"mt-32",children:[i.jsx("h2",{className:"text-3xl font-black text-gray-900 mb-12",children:"You Might Also Like"}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:u.map(R=>i.jsxs(ae,{to:`/shop/${R.id}`,className:"group bg-white rounded-[2.5rem] p-6 border border-gray-100 hover:shadow-xl hover:border-brand-orange/20 transition-all duration-500",children:[i.jsxs("div",{className:"aspect-square bg-[#F9FAFB] rounded-[2rem] mb-6 p-6 relative group overflow-hidden",children:[i.jsx("img",{src:R.image_url||"/placeholder-printer.jpg",alt:R.name,className:"w-full h-full object-contain mix-blend-multiply transition-transform duration-500 group-hover:scale-110"}),i.jsx("button",{onClick:V=>{V.preventDefault(),V.stopPropagation(),a(R.id)?(s(R.id),o("Removed from wishlist","success")):(n(R.id),o("Added to wishlist","success"))},className:`absolute top-4 right-4 w-9 h-9 rounded-full flex items-center justify-center shadow-md transition-all z-10 ${a(R.id)?"bg-red-500 text-white":"bg-white text-gray-400 hover:text-red-500"}`,children:i.jsx(or,{className:`w-4 h-4 ${a(R.id)?"fill-current":""}`})})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-gray-900 text-lg mb-2 truncate group-hover:text-brand-orange transition-colors",children:R.name}),i.jsxs("p",{className:"text-brand-orange font-black text-xl",children:["$",parseFloat(R.price).toFixed(2)]})]})]},R.id))})]})]})})}function jS(){const[e,t]=O.useState([]),[r,n]=O.useState(null),[s,a]=O.useState(!0),{websiteId:o}=Ue();O.useEffect(()=>{document.title="FAQ - Frequently Asked Questions",o&&c()},[o]);const c=async()=>{try{const{data:u,error:h}=await Q.from("faqs").select("*").eq("is_active",!0).eq("website_id",o).order("display_order");if(h)throw h;t(u||[])}catch(u){console.error("Error fetching FAQs:",u)}finally{a(!1)}},l=u=>{n(r===u?null:u)};return s?i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-gray-100 border-t-brand-orange mx-auto"})}):i.jsxs("div",{className:"bg-white font-sans text-gray-900 overflow-x-hidden",children:[i.jsxs("section",{className:"relative pt-24 pb-20 lg:pt-32 lg:pb-28 bg-[#F2F7F6]",children:[i.jsxs("div",{className:"w-full max-w-[1800px] mx-auto px-4 sm:px-6 lg:px-12 text-center relative z-10",children:[i.jsx("span",{className:"text-brand-orange font-bold text-xs uppercase tracking-[0.2em] mb-4 block animate-fade-in",children:"Support Center"}),i.jsxs("h1",{className:"text-5xl md:text-7xl font-black text-gray-900 mb-6 tracking-tight",children:["How can we ",i.jsx("span",{className:"text-brand-orange",children:"help you?"})]}),i.jsx("p",{className:"text-xl text-gray-500 max-w-2xl mx-auto leading-relaxed font-medium",children:"Browse our most frequently asked questions to find quick answers about your orders, shipping, and product details."})]}),i.jsx("div",{className:"absolute top-0 left-0 w-64 h-64 bg-white/40 rounded-full blur-3xl -translate-x-1/2 -translate-y-1/2"}),i.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-brand-orange/5 rounded-full blur-3xl translate-x-1/3 translate-y-1/3"})]}),i.jsx("section",{className:"py-24",children:i.jsx("div",{className:"w-full max-w-[1800px] mx-auto px-4 sm:px-6 lg:px-12",children:e.length===0?i.jsxs("div",{className:"text-center py-20 bg-gray-50 rounded-[2.5rem] max-w-4xl mx-auto",children:[i.jsx(yy,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),i.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No FAQs Available"}),i.jsx("p",{className:"text-gray-500",children:"Please check back later or contact our support."})]}):i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 items-start",children:e.map((u,h)=>i.jsxs("div",{className:`group rounded-[2rem] transition-all duration-300 border border-transparent h-fit ${r===h?"bg-white shadow-xl ring-1 ring-gray-100":"bg-[#F9FAFB] hover:bg-white hover:shadow-md"}`,children:[i.jsxs("button",{onClick:()=>l(h),className:"w-full px-8 py-6 flex items-center justify-between text-left focus:outline-none",children:[i.jsx("h3",{className:`text-lg md:text-xl font-bold transition-colors ${r===h?"text-brand-orange":"text-gray-900"}`,children:u.question}),i.jsx("div",{className:`flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center transition-all duration-300 ${r===h?"bg-brand-orange text-white rotate-180":"bg-white text-gray-400 group-hover:bg-gray-100"}`,children:r===h?i.jsx(gf,{className:"w-5 h-5"}):i.jsx(hn,{className:"w-5 h-5"})})]}),i.jsx("div",{className:`overflow-hidden transition-all duration-300 ease-in-out ${r===h?"max-h-96 opacity-100":"max-h-0 opacity-0"}`,children:i.jsx("div",{className:"px-8 pb-8 text-gray-500 leading-relaxed text-lg border-t border-gray-100/50 pt-4",children:u.answer})})]},u.id))})})}),i.jsx("section",{className:"py-24 bg-white border-t border-gray-100",children:i.jsx("div",{className:"w-full max-w-[1800px] mx-auto px-4 sm:px-6 lg:px-12",children:i.jsxs("div",{className:"bg-[#0e4b5b] rounded-[3rem] p-12 md:p-20 text-center relative overflow-hidden",children:[i.jsx("div",{className:"absolute top-0 right-0 w-[500px] h-[500px] bg-white/5 rounded-full blur-3xl translate-x-1/3 -translate-y-1/3"}),i.jsxs("div",{className:"relative z-10 max-w-3xl mx-auto",children:[i.jsx("h2",{className:"text-3xl md:text-5xl font-black text-white mb-6",children:"Still have questions?"}),i.jsx("p",{className:"text-teal-100 text-lg mb-10 leading-relaxed",children:"Can't find the answer you're looking for? Our friendly team is here to chat and help you with any questions you have."}),i.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[i.jsxs(ae,{to:"/contact",className:"inline-flex items-center gap-3 px-8 py-4 bg-white text-[#0e4b5b] rounded-full font-bold text-sm uppercase tracking-wider hover:bg-brand-orange hover:text-white transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-1",children:[i.jsx(g_,{className:"w-5 h-5"}),"Contact Support"]}),i.jsxs("a",{href:"mailto:support@printerpro.com",className:"inline-flex items-center gap-3 px-8 py-4 bg-[#093642] text-white rounded-full font-bold text-sm uppercase tracking-wider hover:bg-[#072a33] transition-all duration-300 border border-white/10",children:[i.jsx(Mr,{className:"w-5 h-5"}),"Email Us"]})]})]})]})})})]})}function _S(){const{slug:e}=of(),{websiteId:t}=Ue(),r=vt(),[n,s]=O.useState(null),[a,o]=O.useState(!0);O.useEffect(()=>{t&&c()},[e,t]),O.useEffect(()=>{if(n){document.title=`${n.title} - Store Policy`;const l=(u,h)=>{let d=document.querySelector(`meta[name="${u}"]`);d||(d=document.createElement("meta"),d.setAttribute("name",u),document.head.appendChild(d)),d.setAttribute("content",h)};l("description",n.title),l("keywords",`${n.title}, store policy, terms, printer store policy`)}},[n]);const c=async()=>{try{const{data:l,error:u}=await Q.from("policies").select("*").eq("slug",e).eq("is_active",!0).eq("website_id",t).maybeSingle();if(u)throw u;if(!l){r("/");return}s(l)}catch(l){console.error("Error fetching policy:",l),r("/")}finally{o(!1)}};return a?i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-2-b-2 border-2-primary-600 mx-auto"}),i.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}):n?i.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:i.jsx("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl border-2-2 border-2-gray-100 p-8 md:p-12",children:[i.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:n.title}),i.jsxs("div",{className:"text-sm text-gray-500 mb-8",children:["Last updated: ",new Date(n.updated_at).toLocaleDateString()]}),i.jsx("div",{className:`prose prose-slate prose-lg max-w-none
                       prose-headings:font-bold prose-headings:text-gray-900
                       prose-h1:text-3xl prose-h2:text-2xl prose-h3:text-xl
                       prose-p:text-gray-700 prose-p:leading-relaxed
                       prose-a:text-primary-600 prose-a:no-underline hover:prose-a:underline
                       prose-strong:text-gray-900 prose-strong:font-semibold
                       prose-ul:list-disc prose-ul:pl-6 prose-ul:space-y-2
                       prose-ol:list-decimal prose-ol:pl-6 prose-ol:space-y-2
                       prose-li:text-gray-700
                       prose-blockquote:border-l-4 prose-blockquote:border-2-primary-500 prose-blockquote:pl-4 prose-blockquote:italic`,dangerouslySetInnerHTML:{__html:n.content}})]})})}):null}const Cp=e=>e?e.toLowerCase().replace(/[^a-z0-9\s-]/g,"").trim().replace(/\s+/g,"-"):"";function Pp(){const{categorySlug:e}=of(),[t]=Wv(),r=vt(),[n,s]=O.useState([]),[a,o]=O.useState([]),[c,l]=O.useState("all"),[u,h]=O.useState("all"),[d,f]=O.useState("featured"),[p,b]=O.useState(""),[x,w]=O.useState([0,2e3]),[g,m]=O.useState(2e3),[v,y]=O.useState("grid"),[j,S]=O.useState(!0),[N,_]=O.useState(!1),[C,k]=O.useState(!1),[E,T]=O.useState(new Set),[A,L]=O.useState({category:!0,price:!1,availability:!1}),{addToCart:F}=Vn(),{addToWishlist:U,removeFromWishlist:B,isInWishlist:q}=pa(),{addToast:D}=pl(),{websiteId:I}=Ue();O.useEffect(()=>{document.title="Shop - Premium Printers & Accessories";const z=t.get("search");z&&b(z)},[t]),O.useEffect(()=>{(async()=>{if(!I)return;const[Z,re]=await Promise.all([P(),M()]);if(m(re),w([0,re]),e&&Z.length>0){const le=Z.find(ue=>Cp(ue.name)===e);l(le?le.id:"all")}else l("all");k(!0)})()},[I,e]),O.useEffect(()=>{if(I&&C){const z=setTimeout(()=>{R()},300);return()=>clearTimeout(z)}},[c,x,u,d,p,I,C]);const P=async()=>{try{const{data:z,error:Z}=await Q.from("categories").select("id, name, description, slug, products(id)").order("name");if(Z)throw Z;const re=(z||[]).map(le=>{var ue;return{...le,productCount:((ue=le.products)==null?void 0:ue.length)||0}}).filter(le=>le.productCount>0);return o(re),re}catch(z){return console.error("Error fetching categories:",z),[]}},M=async()=>{try{const{data:z}=await Q.from("products").select("price").order("price",{ascending:!1}).limit(1);return z&&z.length>0?Math.ceil(z[0].price):2e3}catch{return 2e3}},R=async()=>{S(!0);try{let z=Q.from("products").select("*, categories(*)");c!=="all"&&(z=z.eq("category_id",c)),p&&(z=z.or(`name.ilike.%${p}%,description.ilike.%${p}%`)),z=z.gte("price",x[0]).lte("price",x[1]),u==="in-stock"?z=z.gt("stock",0):u==="out-of-stock"&&(z=z.eq("stock",0)),d==="price-low"?z=z.order("price",{ascending:!0}):d==="price-high"?z=z.order("price",{ascending:!1}):d==="newest"?z=z.order("created_at",{ascending:!1}):z=z.order("created_at",{ascending:!1});const{data:Z,error:re}=await z;if(re&&re.code==="42703"){const{data:le}=await Q.from("products").select("*, categories(*)").order("created_at",{ascending:!1});s(le||[])}else s(Z||[])}catch(z){console.error("Error fetching products:",z)}finally{S(!1)}},V=async(z,Z)=>{Z.preventDefault(),Z.stopPropagation();try{await F(z.id,1),D(`${z.name} added to cart!`,"success"),T(re=>new Set(re).add(z.id)),setTimeout(()=>{T(re=>{const le=new Set(re);return le.delete(z.id),le})},2e3)}catch(re){console.error("Error adding to cart:",re)}},W=(z,Z)=>{l(z);const re=new URLSearchParams;t.get("search")&&re.set("search",t.get("search"));const le=re.toString(),ue=le?`?${le}`:"";let ve;z!=="all"&&Z?ve=`/shop/category/${Cp(Z)}${ue}`:ve=`/shop${ue}`,r(ve)},$=z=>{L(Z=>({...Z,[z]:!Z[z]}))},H=z=>{w([0,parseInt(z.target.value)])},K=()=>{l("all"),w([0,g]),h("all"),f("featured"),b(""),r("/shop")},G=c!=="all"||x[1]!==g||u!=="all"||p!=="";return i.jsxs("div",{className:"bg-white min-h-screen font-sans text-gray-900",children:[i.jsxs("section",{className:"bg-[#F2F7F6] pt-32 pb-20 relative overflow-hidden",children:[i.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-white/40 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2"}),i.jsx("div",{className:"w-full max-w-[1800px] mx-auto px-4 sm:px-6 lg:px-12 relative z-10",children:i.jsxs("div",{className:"max-w-3xl",children:[i.jsx("span",{className:"text-brand-orange font-bold text-xs uppercase tracking-[0.2em] mb-4 block animate-fade-in",children:"Catalog"}),i.jsxs("h1",{className:"text-5xl md:text-7xl font-black text-gray-900 mb-6 tracking-tight",children:["Explore Our ",i.jsx("br",{}),i.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-brand-orange to-red-600",children:"Collection"})]}),i.jsxs("div",{className:"mt-8 relative max-w-xl",children:[i.jsx("input",{type:"text",placeholder:"Search products...",className:"w-full pl-14 pr-6 py-5 rounded-full bg-white border-2 border-transparent focus:border-brand-orange focus:ring-0 shadow-lg text-lg outline-none transition-all placeholder:text-gray-400",value:p,onChange:z=>b(z.target.value)}),i.jsx(dr,{className:"absolute left-5 top-1/2 -translate-y-1/2 h-6 w-6 text-gray-400"})]})]})})]}),i.jsx("div",{className:"w-full max-w-[1800px] mx-auto px-4 sm:px-6 lg:px-12 py-16",children:i.jsxs("div",{className:"flex flex-col lg:flex-row gap-12",children:[i.jsx("aside",{className:"hidden lg:block w-72 flex-shrink-0",children:i.jsxs("div",{className:"sticky top-24 space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[i.jsx(__,{className:"w-5 h-5"})," Filters"]}),G&&i.jsx("button",{onClick:K,className:"text-xs font-bold text-red-500 uppercase tracking-wider hover:underline",children:"Reset"})]}),i.jsxs("div",{className:"border-b border-gray-100 py-4",children:[i.jsxs("button",{onClick:()=>$("category"),className:"flex items-center justify-between w-full text-left mb-2 group",children:[i.jsx("h4",{className:"font-bold text-sm uppercase tracking-wider text-gray-500 group-hover:text-gray-900 transition-colors",children:"Categories"}),A.category?i.jsx(hc,{className:"w-4 h-4 text-gray-400"}):i.jsx(gs,{className:"w-4 h-4 text-gray-400"})]}),A.category&&i.jsxs("div",{className:"space-y-3 mt-4 animate-fade-in",children:[i.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[i.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center transition-colors ${c==="all"?"border-brand-orange":"border-gray-300 group-hover:border-gray-400"}`,children:c==="all"&&i.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-brand-orange"})}),i.jsx("input",{type:"radio",name:"category",className:"hidden",checked:c==="all",onChange:()=>W("all",null)}),i.jsx("span",{className:`text-sm font-medium transition-colors ${c==="all"?"text-gray-900":"text-gray-500 group-hover:text-gray-700"}`,children:"All Products"})]}),a.map(z=>i.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[i.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center transition-colors ${c===z.id?"border-brand-orange":"border-gray-300 group-hover:border-gray-400"}`,children:c===z.id&&i.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-brand-orange"})}),i.jsx("input",{type:"radio",name:"category",className:"hidden",checked:c===z.id,onChange:()=>W(z.id,z.name)}),i.jsxs("span",{className:`text-sm font-medium transition-colors ${c===z.id?"text-gray-900":"text-gray-500 group-hover:text-gray-700"}`,children:[z.name," ",i.jsxs("span",{className:"text-xs text-gray-400 ml-1",children:["(",z.productCount,")"]})]})]},z.id))]})]}),i.jsxs("div",{className:"border-b border-gray-100 py-4",children:[i.jsxs("button",{onClick:()=>$("price"),className:"flex items-center justify-between w-full text-left mb-2 group",children:[i.jsx("h4",{className:"font-bold text-sm uppercase tracking-wider text-gray-500 group-hover:text-gray-900 transition-colors",children:"Price Range"}),A.price?i.jsx(hc,{className:"w-4 h-4 text-gray-400"}):i.jsx(gs,{className:"w-4 h-4 text-gray-400"})]}),A.price&&i.jsxs("div",{className:"mt-6 mb-2 animate-fade-in",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("span",{className:"text-sm font-bold text-gray-500",children:"$0"}),i.jsxs("span",{className:"text-sm font-bold text-brand-orange",children:["$",x[1]]})]}),i.jsx("input",{type:"range",min:"0",max:g,step:"10",value:x[1],onChange:H,className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-brand-orange"})]})]}),i.jsxs("div",{className:"border-b border-gray-100 py-4",children:[i.jsxs("button",{onClick:()=>$("availability"),className:"flex items-center justify-between w-full text-left mb-2 group",children:[i.jsx("h4",{className:"font-bold text-sm uppercase tracking-wider text-gray-500 group-hover:text-gray-900 transition-colors",children:"Availability"}),A.availability?i.jsx(hc,{className:"w-4 h-4 text-gray-400"}):i.jsx(gs,{className:"w-4 h-4 text-gray-400"})]}),A.availability&&i.jsx("div",{className:"space-y-3 mt-4 animate-fade-in",children:["all","in-stock","out-of-stock"].map(z=>i.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[i.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center transition-colors ${u===z?"border-brand-orange bg-brand-orange":"border-gray-300 group-hover:border-gray-400"}`,children:u===z&&i.jsx(Is,{className:"w-3 h-3 text-white"})}),i.jsx("input",{type:"radio",name:"availability",className:"hidden",value:z,checked:u===z,onChange:Z=>h(Z.target.value)}),i.jsx("span",{className:`text-sm font-medium capitalize transition-colors ${u===z?"text-gray-900":"text-gray-500 group-hover:text-gray-700"}`,children:z.replace("-"," ")})]},z))})]})]})}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-10 pb-6 border-b border-gray-100",children:[i.jsxs("p",{className:"text-gray-500 font-medium",children:["Showing ",i.jsx("span",{className:"text-gray-900 font-bold",children:n.length})," results"]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"relative group",children:[i.jsxs("select",{value:d,onChange:z=>f(z.target.value),className:"appearance-none pl-4 pr-10 py-2.5 bg-gray-50 rounded-xl text-sm font-bold text-gray-700 border border-transparent focus:bg-white focus:border-gray-200 outline-none cursor-pointer hover:bg-gray-100 transition-colors",children:[i.jsx("option",{value:"featured",children:"Recommended"}),i.jsx("option",{value:"newest",children:"Newest Arrivals"}),i.jsx("option",{value:"price-low",children:"Price: Low to High"}),i.jsx("option",{value:"price-high",children:"Price: High to Low"})]}),i.jsx(gs,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500 pointer-events-none"})]}),i.jsxs("div",{className:"flex bg-gray-50 p-1 rounded-xl",children:[i.jsx("button",{onClick:()=>y("grid"),className:`p-2 rounded-lg transition-all ${v==="grid"?"bg-white shadow-sm text-brand-orange":"text-gray-400 hover:text-gray-600"}`,children:i.jsx(l_,{className:"w-5 h-5"})}),i.jsx("button",{onClick:()=>y("list"),className:`p-2 rounded-lg transition-all ${v==="list"?"bg-white shadow-sm text-brand-orange":"text-gray-400 hover:text-gray-600"}`,children:i.jsx(p_,{className:"w-5 h-5"})})]}),i.jsx("button",{onClick:()=>_(!0),className:"lg:hidden p-2.5 bg-black text-white rounded-xl hover:bg-brand-orange transition-colors",children:i.jsx(mf,{className:"w-5 h-5"})})]})]}),j?i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8",children:[...Array(8)].map((z,Z)=>i.jsx("div",{className:"bg-gray-50 rounded-[2.5rem] h-[400px] animate-pulse"},Z))}):n.length===0?i.jsxs("div",{className:"text-center py-32 bg-[#F9FAFB] rounded-[3rem]",children:[i.jsx(dr,{className:"w-16 h-16 text-gray-300 mx-auto mb-6"}),i.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No products found"}),i.jsx("p",{className:"text-gray-500",children:"Try adjusting your filters or search query."}),i.jsx("button",{onClick:K,className:"mt-6 text-brand-orange font-bold hover:underline",children:"Clear all filters"})]}):i.jsx("div",{className:v==="grid"?"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8":"space-y-6",children:n.map(z=>{var Z;return i.jsxs(ae,{to:`/shop/${z.id}`,className:`group bg-white rounded-[2.5rem] p-4 transition-all duration-500 hover:shadow-xl hover:-translate-y-2 relative border border-gray-100/50 hover:border-gray-100 ${v==="list"?"flex gap-8 items-center":"flex flex-col"}`,children:[i.jsxs("div",{className:`relative bg-gray-50 overflow-hidden ${v==="list"?"w-64 h-64 rounded-[2rem] flex-shrink-0":"aspect-square rounded-[2rem] w-full mb-5"}`,children:[i.jsx("img",{src:z.image_url||"/placeholder.jpg",alt:z.name,className:"w-full h-full object-cover mix-blend-multiply opacity-95 transition-transform duration-700 group-hover:scale-110"}),i.jsx("div",{className:"absolute top-4 right-4 flex flex-col gap-2 opacity-0 group-hover:opacity-100 transition-all duration-300 translate-x-4 group-hover:translate-x-0",children:i.jsx("button",{onClick:re=>{re.preventDefault(),re.stopPropagation(),q(z.id)?(B(z.id),D("Removed from wishlist","success")):(U(z.id),D("Added to wishlist","success"))},className:`w-10 h-10 rounded-full bg-white shadow-md flex items-center justify-center transition-colors ${q(z.id)?"text-brand-orange":"text-gray-400 hover:text-red-500 hover:bg-red-50"}`,children:i.jsx(or,{className:`w-5 h-5 ${q(z.id)?"fill-current":""}`})})}),v==="grid"&&i.jsxs("button",{onClick:re=>V(z,re),className:`absolute bottom-4 left-1/2 -translate-x-1/2 w-[90%] py-3.5 rounded-xl text-xs font-bold uppercase tracking-wider shadow-lg flex items-center justify-center gap-2 transition-all duration-300 translate-y-16 opacity-0 group-hover:translate-y-0 group-hover:opacity-100 ${E.has(z.id)?"bg-green-600 text-white":"bg-black text-white hover:bg-brand-orange"}`,children:[E.has(z.id)?i.jsx(Is,{className:"w-4 h-4"}):i.jsx(Sr,{className:"w-4 h-4"}),E.has(z.id)?"Added":"Add to Cart"]})]}),i.jsxs("div",{className:"px-2 pb-2 flex-1 flex flex-col",children:[i.jsxs("div",{className:"mb-auto",children:[i.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest mb-2",children:((Z=z.categories)==null?void 0:Z.name)||"Item"}),i.jsx("h3",{className:`font-bold text-gray-900 leading-snug group-hover:text-brand-orange transition-colors ${v==="list"?"text-2xl mb-4":"text-lg mb-2 line-clamp-2 min-h-[50px]"}`,children:z.name}),v==="list"&&i.jsx("p",{className:"text-gray-500 mb-6 max-w-xl",children:z.description})]}),i.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-50 mt-2",children:[i.jsxs("div",{className:"flex flex-col",children:[i.jsxs("span",{className:`font-black text-gray-900 ${v==="list"?"text-3xl":"text-xl"}`,children:["$",parseFloat(z.price).toFixed(2)]}),v==="list"&&i.jsx("span",{className:"text-xs text-green-600 font-bold mt-1",children:"In Stock & Ready to Ship"})]}),v==="grid"?i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Ns,{className:"w-4 h-4 text-yellow-400 fill-yellow-400"}),i.jsx("span",{className:"text-xs font-bold text-gray-400",children:"4.8"})]}):i.jsx("button",{onClick:re=>V(z,re),className:`px-8 py-4 rounded-xl text-sm font-bold uppercase tracking-wider transition-all flex items-center gap-3 ${E.has(z.id)?"bg-green-600 text-white":"bg-black text-white hover:bg-brand-orange"}`,children:E.has(z.id)?"In Cart":"Add to Cart"})]})]})]},z.id)})})]})]})}),N&&i.jsxs("div",{className:"fixed inset-0 z-50 lg:hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:()=>_(!1)}),i.jsxs("div",{className:"absolute inset-y-0 right-0 w-full max-w-xs bg-white shadow-2xl p-8 overflow-y-auto animate-slide-in-right",children:[i.jsxs("div",{className:"flex items-center justify-between mb-8",children:[i.jsx("h3",{className:"text-2xl font-black text-gray-900",children:"Filters"}),i.jsx("button",{onClick:()=>_(!1),className:"p-2 bg-gray-100 rounded-full hover:bg-gray-200",children:i.jsx(gt,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-bold text-sm uppercase tracking-wider text-gray-500 mb-4",children:"Categories"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("label",{className:"flex items-center gap-3",children:[i.jsx("input",{type:"radio",name:"mobile-cat",checked:c==="all",onChange:()=>W("all",null),className:"w-5 h-5 text-brand-orange focus:ring-brand-orange"}),i.jsx("span",{children:"All Products"})]}),a.map(z=>i.jsxs("label",{className:"flex items-center gap-3",children:[i.jsx("input",{type:"radio",name:"mobile-cat",checked:c===z.id,onChange:()=>W(z.id,z.name),className:"w-5 h-5 text-brand-orange focus:ring-brand-orange"}),i.jsxs("span",{children:[z.name," (",z.productCount,")"]})]},z.id))]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-bold text-sm uppercase tracking-wider text-gray-500 mb-4",children:"Price Range"}),i.jsxs("div",{className:"mb-2 flex justify-between font-bold text-gray-900",children:[i.jsx("span",{children:"$0"}),i.jsxs("span",{className:"text-brand-orange",children:["$",x[1]]})]}),i.jsx("input",{type:"range",min:"0",max:g,step:"10",value:x[1],onChange:H,className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-brand-orange"})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-bold text-sm uppercase tracking-wider text-gray-500 mb-4",children:"Availability"}),i.jsx("div",{className:"space-y-3",children:["all","in-stock","out-of-stock"].map(z=>i.jsxs("label",{className:"flex items-center gap-3",children:[i.jsx("input",{type:"radio",name:"mobile-stock",checked:u===z,onChange:Z=>h(Z.target.value),value:z,className:"w-5 h-5 text-brand-orange focus:ring-brand-orange"}),i.jsx("span",{className:"capitalize",children:z.replace("-"," ")})]},z))})]}),i.jsx("button",{onClick:()=>_(!1),className:"w-full py-4 bg-brand-orange text-white font-bold rounded-xl shadow-lg mt-8",children:"View Results"})]})]})]})]})}function NS(){const{settings:e}=zs();return O.useEffect(()=>{document.title=`Our Story - ${e.brand_name||"Premium Printers"}`,window.scrollTo(0,0)},[e]),i.jsxs("div",{className:"bg-white font-sans text-gray-900 overflow-x-hidden",children:[i.jsxs("section",{className:"relative pt-32 pb-24 lg:pt-56 lg:pb-40 overflow-hidden bg-[radial-gradient(circle_at_top_right,_var(--tw-gradient-stops))] from-orange-50/50 via-white to-white",children:[i.jsxs("div",{className:"w-full max-w-[1800px] mx-auto px-6 text-center relative z-10",children:[i.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-white shadow-sm border border-orange-100 text-brand-orange text-[10px] font-bold uppercase tracking-[0.2em] mb-10 animate-fade-in",children:[i.jsx(S_,{className:"w-3 h-3"}),"Since 2010"]}),i.jsxs("h1",{className:"text-4xl sm:text-5xl md:text-7xl lg:text-8xl font-bold text-gray-900 mb-8 tracking-tighter leading-[0.95] max-w-5xl mx-auto",children:["Crafting the Future of ",i.jsx("br",{})," ",i.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-brand-orange to-red-600",children:"Printing."})]}),i.jsx("p",{className:"text-xl md:text-2xl text-gray-500 max-w-3xl mx-auto leading-relaxed font-medium mb-12",children:"We don't just sell hardware. We provide the heartbeat of your creative and professional workflow through curated technology."}),i.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[i.jsx(ae,{to:"/shop",className:"px-10 py-4 bg-black text-white font-bold rounded-full hover:bg-brand-orange transition-all shadow-lg hover:shadow-orange-200 transform hover:-translate-y-1",children:"Explore Catalog"}),i.jsxs("div",{className:"flex items-center gap-2 text-gray-400 px-6 py-4 font-bold uppercase text-[10px] tracking-widest",children:[i.jsx(Nr,{className:"w-4 h-4 text-green-500"}),"Verified Partner"]})]})]}),i.jsx("div",{className:"absolute top-0 right-0 w-[1000px] h-[1000px] bg-brand-orange/5 rounded-full blur-[120px] translate-x-1/2 -translate-y-1/2"}),i.jsx("div",{className:"absolute bottom-0 left-0 w-[600px] h-[600px] bg-blue-50/30 rounded-full blur-[100px] -translate-x-1/3 translate-y-1/4"})]}),i.jsx("section",{className:"py-20 bg-white relative z-20 -mt-10",children:i.jsx("div",{className:"w-full max-w-[1800px] mx-auto px-6",children:i.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-8",children:[{label:"Happy Clients",value:"50K+",icon:Uu,color:"text-blue-600"},{label:"Years Active",value:"15+",icon:d_,color:"text-brand-orange"},{label:"Global Brands",value:"100+",icon:vy,color:"text-purple-600"},{label:"Success Rate",value:"99%",icon:Fu,color:"text-green-600"}].map((t,r)=>i.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-gray-100 shadow-sm hover:shadow-xl transition-all duration-500 group",children:[i.jsx("div",{className:`w-12 h-12 rounded-2xl bg-gray-50 flex items-center justify-center mb-6 group-hover:scale-110 transition-transform ${t.color}`,children:i.jsx(t.icon,{className:"w-6 h-6"})}),i.jsx("div",{className:"text-4xl font-bold text-gray-900 mb-1 tracking-tight",children:t.value}),i.jsx("div",{className:"text-[10px] text-gray-400 font-black uppercase tracking-[0.2em]",children:t.label})]},r))})})}),i.jsx("section",{className:"py-32",children:i.jsx("div",{className:"w-full max-w-[1800px] mx-auto px-6",children:i.jsxs("div",{className:"grid lg:grid-cols-2 gap-24 items-center",children:[i.jsxs("div",{className:" gap-6 relative",children:[i.jsx("img",{src:"assets/about/aboutside.png",width:"100%",alt:""}),i.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-32 h-32 bg-brand-orange rounded-full flex items-center justify-center text-white shadow-2xl animate-spin-slow",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"font-black text-2xl tracking-tighter leading-none",children:"PRO"}),i.jsx("div",{className:"text-[8px] font-bold uppercase tracking-widest",children:"Standard"})]})})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"inline-flex items-center gap-2 text-brand-orange font-bold text-xs uppercase tracking-widest mb-6",children:[i.jsx(E_,{className:"w-4 h-4"})," OUR PHILOSOPHY"]}),i.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-8 tracking-tight leading-tight",children:["Simplicity is the ",i.jsx("br",{}),"ultimate sophistication."]}),i.jsx("div",{className:"space-y-8",children:[{icon:zu,title:"Efficiency First",desc:"We optimize every product for speed and reliability, ensuring zero downtime for your projects."},{icon:Nr,title:"Unwavering Quality",desc:"Every unit undergoes a rigorous 24-hour stress test before it leaves our facility."},{icon:u_,title:"Human Support",desc:"No bots. Talk to real printing experts who understand your unique challenges."}].map((t,r)=>i.jsxs("div",{className:"flex gap-6 group",children:[i.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gray-50 flex items-center justify-center flex-shrink-0 group-hover:bg-brand-orange group-hover:text-white transition-all duration-300",children:i.jsx(t.icon,{className:"w-6 h-6"})}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-bold text-gray-900 text-lg mb-1",children:t.title}),i.jsx("p",{className:"text-gray-500 font-medium leading-relaxed",children:t.desc})]})]},r))})]})]})})}),i.jsx("section",{className:"py-32 bg-gray-50/50 overflow-hidden",children:i.jsxs("div",{className:"w-full max-w-[1800px] mx-auto px-6",children:[i.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-20",children:[i.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-6 tracking-tight",children:"Our Evolution"}),i.jsx("p",{className:"text-gray-500 font-medium text-lg",children:"From a small workshop to a global printing authority."})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 relative",children:[{year:"2010",title:"The Genesis",desc:"Started in a small garage with a focus on specialized ink supplies."},{year:"2014",title:"Expansion",desc:"Opened our first physical showroom and expanded into high-end hardware."},{year:"2018",title:"Going Global",desc:"Launched our international logistics hub serving over 50 countries."},{year:"2025",title:"The Future",desc:"Pioneering AI-integrated printing ecosystems for the modern office."}].map((t,r)=>i.jsxs("div",{className:"relative p-10 bg-white rounded-[2.5rem] border border-gray-100 hover:border-brand-orange/20 transition-all group",children:[i.jsx("div",{className:"text-5xl font-black text-gray-100 absolute top-6 right-6 group-hover:text-brand-orange/10 transition-colors",children:t.year}),i.jsxs("div",{className:"relative z-10 pt-12",children:[i.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:t.title}),i.jsx("p",{className:"text-sm text-gray-500 font-medium leading-relaxed",children:t.desc})]})]},r))})]})}),i.jsx("section",{className:"py-32 bg-white",children:i.jsx("div",{className:"w-full max-w-[1800px] mx-auto px-6",children:i.jsxs("div",{className:"flex flex-col lg:flex-row gap-20",children:[i.jsx("div",{className:"lg:w-1/3",children:i.jsxs("div",{className:"sticky top-32",children:[i.jsx("div",{className:"w-16 h-1 w-16 bg-brand-orange mb-8 rounded-full"}),i.jsxs("h2",{className:"text-5xl font-bold text-gray-900 mb-8 tracking-tight leading-none",children:["What We ",i.jsx("br",{}),"Stand For."]}),i.jsx("p",{className:"text-gray-500 font-medium leading-relaxed text-lg mb-10",children:"Integrity isn't just a word for us; it's the foundation of every interaction we have with our clients and partners."}),i.jsxs("div",{className:"flex items-center gap-4 p-6 rounded-3xl bg-gray-50 border border-gray-100",children:[i.jsx(s_,{className:"w-8 h-8 text-brand-orange"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-bold text-gray-900",children:"Always On"}),i.jsx("div",{className:"text-xs text-gray-500 font-medium",children:"Global support team available 24/7"})]})]})]})}),i.jsx("div",{className:"lg:w-2/3 grid sm:grid-cols-2 gap-8",children:[{title:"Innovation",icon:zu,color:"text-orange-500",bg:"bg-orange-50"},{title:"Quality",icon:Fu,color:"text-blue-500",bg:"bg-blue-50"},{title:"Support",icon:N_,color:"text-green-500",bg:"bg-green-50"},{title:"Integrity",icon:Nr,color:"text-purple-500",bg:"bg-purple-50"},{title:"Eco-Minded",icon:or,color:"text-red-500",bg:"bg-red-50"},{title:"Unity",icon:Uu,color:"text-cyan-500",bg:"bg-cyan-50"}].map((t,r)=>i.jsxs("div",{className:"p-10 rounded-[2.5rem] border border-gray-50 bg-[#F9FAFB] hover:bg-white hover:shadow-xl hover:border-transparent transition-all duration-500 group",children:[i.jsx("div",{className:`w-14 h-14 rounded-2xl ${t.bg} ${t.color} flex items-center justify-center mb-8 group-hover:scale-110 transition-transform`,children:i.jsx(t.icon,{className:"w-6 h-6"})}),i.jsx("h4",{className:"text-xl font-bold text-gray-900 mb-4",children:t.title}),i.jsx("p",{className:"text-gray-500 text-sm font-medium leading-relaxed",children:"Excellence in every detail, ensuring our clients receive nothing but the absolute best in printing technology."})]},r))})]})})}),i.jsx("section",{className:"py-24",children:i.jsx("div",{className:"w-full max-w-[1800px] mx-auto px-6",children:i.jsxs("div",{className:"relative bg-black rounded-[4rem] p-12 md:p-24 overflow-hidden text-center",children:[i.jsx("div",{className:"absolute inset-0 opacity-20 bg-[radial-gradient(#fff_1px,transparent_1px)] [background-size:20px_20px]"}),i.jsx("div",{className:"absolute top-0 right-0 w-[500px] h-[500px] bg-brand-orange/20 rounded-full blur-[120px]"}),i.jsxs("div",{className:"relative z-10 max-w-3xl mx-auto",children:[i.jsxs("h2",{className:"text-4xl md:text-6xl font-bold text-white mb-8 tracking-tighter",children:["Ready to elevate your ",i.jsx("br",{}),i.jsx("span",{className:"text-brand-orange",children:"printing game?"})]}),i.jsx("p",{className:"text-gray-400 text-xl font-medium mb-12",children:"Join 50,000+ satisfied clients who trust us for their professional and creative needs."}),i.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-6",children:[i.jsx(ae,{to:"/shop",className:"px-12 py-5 bg-brand-orange text-white font-black rounded-full hover:bg-white hover:text-black transition-all transform hover:scale-105 shadow-2xl",children:"SHOP THE COLLECTION"}),i.jsxs(ae,{to:"/contact",className:"px-12 py-5 bg-white/10 backdrop-blur-md text-white font-black rounded-full hover:bg-white/20 transition-all flex items-center justify-center gap-3",children:["CONTACT US ",i.jsx(ot,{className:"w-5 h-5"})]})]})]})]})})}),i.jsx("style",{jsx:!0,global:!0,children:`
        @keyframes spin-slow {
          from { transform: translate(-50%, -50%) rotate(0deg); }
          to { transform: translate(-50%, -50%) rotate(360deg); }
        }
        .animate-spin-slow {
          animation: spin-slow 20s linear infinite;
        }
      `})]})}function SS(){const e=vt(),{cartItems:t,updateQuantity:r,removeFromCart:n,getCartTotal:s,loading:a}=Vn();if(O.useEffect(()=>{document.title="Shopping Cart - Premium Printers"},[]),a)return i.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:i.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-2 border-gray-100 border-t-brand-orange"})});if(t.length===0)return i.jsx("div",{className:"min-h-screen bg-white flex flex-col items-center justify-center px-6 relative overflow-hidden",children:i.jsxs("div",{className:"text-center max-w-lg relative z-10",children:[i.jsx("div",{className:"w-32 h-32 bg-gray-50 rounded-full mx-auto mb-8 flex items-center justify-center",children:i.jsx(sa,{className:"w-12 h-12 text-gray-300"})}),i.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4 tracking-tight",children:"Your Cart is Empty"}),i.jsx("p",{className:"text-gray-500 mb-10 font-medium",children:"It looks like you haven't added any items yet."}),i.jsxs(ae,{to:"/shop",className:"inline-flex items-center gap-2 px-8 py-3 bg-black text-white font-bold rounded-full hover:bg-brand-orange transition-all duration-300 shadow-sm hover:shadow-md",children:["Start Shopping ",i.jsx(ot,{className:"w-4 h-4"})]})]})});const o=s(),l=o+0;return i.jsxs("div",{className:"min-h-screen bg-white font-sans text-gray-900",children:[i.jsx("div",{className:"py-16 border-b border-gray-50",children:i.jsx("div",{className:"w-full max-w-[1400px] mx-auto px-6",children:i.jsxs("h1",{className:"text-4xl font-bold text-gray-900 tracking-tight",children:["Your Cart ",i.jsxs("span",{className:"text-gray-400 font-normal text-2xl ml-2",children:["(",t.length,")"]})]})})}),i.jsx("div",{className:"w-full max-w-[1400px] mx-auto px-6 py-12",children:i.jsxs("div",{className:"flex flex-col lg:flex-row gap-12",children:[i.jsx("div",{className:"flex-1 space-y-6",children:t.map(u=>i.jsxs("div",{className:"group flex flex-col md:flex-row items-center gap-6 p-4 rounded-[2rem] bg-white border border-gray-100 hover:border-gray-200 transition-all duration-300",children:[i.jsx(ae,{to:`/shop/${u.products.id}`,className:"flex-shrink-0",children:i.jsx("div",{className:"w-32 h-32 bg-gray-50 rounded-3xl p-4 overflow-hidden flex items-center justify-center",children:i.jsx("img",{src:u.products.image_url||"/placeholder-printer.jpg",alt:u.products.name,className:"w-full h-full object-contain mix-blend-multiply opacity-90 group-hover:scale-105 transition-transform duration-500"})})}),i.jsxs("div",{className:"flex-1 w-full text-center md:text-left",children:[i.jsxs("div",{className:"mb-3",children:[i.jsx(ae,{to:`/shop/${u.products.id}`,className:"block",children:i.jsx("h3",{className:"text-lg font-bold text-gray-900 hover:text-brand-orange transition-colors line-clamp-1",children:u.products.name})}),i.jsxs("p",{className:"text-sm text-gray-500",children:["Unit: $",parseFloat(u.products.price).toFixed(2)]})]}),i.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6",children:[i.jsxs("div",{className:"flex items-center border border-gray-200 rounded-full h-10 w-28 bg-white",children:[i.jsx("button",{onClick:()=>r(u.id,u.quantity-1),className:"w-9 h-full flex items-center justify-center hover:bg-gray-50 text-gray-400 hover:text-gray-600 rounded-l-full transition-colors",children:i.jsx(gf,{className:"w-3 h-3"})}),i.jsx("span",{className:"flex-1 text-center font-bold text-sm text-gray-900",children:u.quantity}),i.jsx("button",{onClick:()=>r(u.id,u.quantity+1),className:"w-9 h-full flex items-center justify-center hover:bg-gray-50 text-gray-400 hover:text-gray-600 rounded-r-full transition-colors",children:i.jsx(hn,{className:"w-3 h-3"})})]}),i.jsxs("div",{className:"flex items-center gap-6",children:[i.jsxs("span",{className:"text-xl font-bold text-gray-900",children:["$",(u.products.price*u.quantity).toFixed(2)]}),i.jsx("button",{onClick:()=>n(u.id),className:"w-9 h-9 rounded-full bg-gray-50 flex items-center justify-center text-gray-400 hover:bg-red-50 hover:text-red-500 transition-colors",title:"Remove item",children:i.jsx(Ls,{className:"w-4 h-4"})})]})]})]})]},u.id))}),i.jsx("div",{className:"lg:w-[400px] flex-shrink-0",children:i.jsxs("div",{className:"bg-white rounded-[2rem] p-8 border border-gray-100 sticky top-32 shadow-sm",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Summary"}),i.jsxs("div",{className:"space-y-4 mb-8",children:[i.jsxs("div",{className:"flex justify-between items-center text-gray-500 text-sm",children:[i.jsx("span",{children:"Subtotal"}),i.jsxs("span",{className:"text-gray-900 font-medium",children:["$",o.toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between items-center text-gray-500 text-sm",children:[i.jsx("span",{children:"Shipping"}),i.jsx("span",{className:"text-green-600 font-medium flex items-center gap-1",children:"Free"})]}),i.jsx("div",{className:"h-px bg-gray-100 my-4"}),i.jsxs("div",{className:"flex justify-between items-end",children:[i.jsx("span",{className:"text-base font-bold text-gray-900",children:"Total"}),i.jsxs("span",{className:"text-3xl font-black text-gray-900",children:["$",l.toFixed(2)]})]})]}),i.jsxs("button",{onClick:()=>e("/checkout"),className:"w-full py-4 bg-black text-white font-bold rounded-xl hover:bg-brand-orange transition-all duration-300 shadow-sm hover:shadow-md flex items-center justify-center gap-2 text-sm uppercase tracking-wider",children:["Checkout ",i.jsx(ot,{className:"w-4 h-4"})]}),i.jsxs("div",{className:"mt-6 flex items-center justify-center gap-2 text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:[i.jsx(Nr,{className:"w-3 h-3"})," Secure Payment"]})]})})]})})]})}const kS=()=>new Promise(e=>{const t=document.createElement("script");t.src="https://checkout.razorpay.com/v1/checkout.js",t.onload=()=>e(!0),t.onerror=()=>e(!1),document.body.appendChild(t)}),ES=e=>new Promise(t=>{if(window.paypal){t(!0);return}const r=document.createElement("script");r.src=`https://www.paypal.com/sdk/js?client-id=${e}&currency=USD&disable-funding=credit,card&intent=capture`,r.onload=()=>t(!0),r.onerror=()=>t(!1),r.setAttribute("data-sdk-integration-source","button-factory"),document.body.appendChild(r)}),TS=async(e,t,r)=>{try{const{data:{session:n}}=await Q.auth.getSession(),s=(n==null?void 0:n.access_token)||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVpdWdjYWFmZmthYXFteWR2anVqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njc2MzI3ODgsImV4cCI6MjA4MzIwODc4OH0.b8zapu6FDQUILxgBLSjQB443vzdeVl-hIEdkZXmTa9I",a=await fetch("https://uiugcaaffkaaqmydvjuj.supabase.co/functions/v1/process-payment",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify({orderId:e,amount:t,currency:"USD",paymentMethod:r})});if(!a.ok)throw new Error("Payment initiation failed");return await a.json()}catch(n){throw console.error("Payment initiation error:",n),n}},Ap=async(e,t,r,n,s=null)=>{try{const{data:{session:a}}=await Q.auth.getSession(),o=(a==null?void 0:a.access_token)||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVpdWdjYWFmZmthYXFteWR2anVqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njc2MzI3ODgsImV4cCI6MjA4MzIwODc4OH0.b8zapu6FDQUILxgBLSjQB443vzdeVl-hIEdkZXmTa9I",c={orderId:e,paymentId:t,signature:r,gateway:n};s&&(c.gatewayOrderId=s);const l=await fetch("https://uiugcaaffkaaqmydvjuj.supabase.co/functions/v1/verify-payment",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`},body:JSON.stringify(c)});if(!l.ok)throw new Error("Payment verification failed");return await l.json()}catch(a){throw console.error("Payment verification error:",a),a}},OS=async(e,t)=>{if(!await kS())throw new Error("Failed to load Razorpay SDK");return new Promise((n,s)=>{const a={key:e.key,amount:e.amount,currency:e.currency,order_id:e.orderId,name:"LaserProGuide",description:"Product Purchase",prefill:{name:t.fullName,email:t.email,contact:t.phone},theme:{color:"#3b82f6"},handler:async function(c){n({paymentId:c.razorpay_payment_id,orderId:c.razorpay_order_id,signature:c.razorpay_signature})},modal:{ondismiss:function(){s(new Error("Payment cancelled by user"))}}};new window.Razorpay(a).open()})},CS=async(e,t)=>{const{data:r}=await Q.from("payment_settings").select("*").eq("gateway_name","PayPal").eq("is_enabled",!0).maybeSingle();if(!r)throw new Error("PayPal not configured");if(!await ES(r.api_key))throw new Error("Failed to load PayPal SDK");return new Promise((s,a)=>{const o=document.createElement("div");o.style.position="fixed",o.style.top="0",o.style.left="0",o.style.width="100%",o.style.height="100%",o.style.backgroundColor="rgba(0, 0, 0, 0.5)",o.style.zIndex="9999",o.style.display="flex",o.style.alignItems="center",o.style.justifyContent="center";const c=document.createElement("div");c.id="paypal-button-container",c.style.backgroundColor="white",c.style.padding="30px",c.style.borderRadius="12px",c.style.boxShadow="0 10px 40px rgba(0, 0, 0, 0.2)",c.style.maxWidth="400px",c.style.width="90%";const l=document.createElement("h3");l.textContent="Complete Payment with PayPal",l.style.marginBottom="20px",l.style.fontSize="18px",l.style.fontWeight="bold",l.style.textAlign="center",l.style.color="#1f2937";const u=document.createElement("div");u.id="paypal-buttons-wrapper";const h=document.createElement("button");h.textContent="Cancel",h.style.marginTop="15px",h.style.width="100%",h.style.padding="10px",h.style.backgroundColor="#f3f4f6",h.style.border="none",h.style.borderRadius="6px",h.style.fontSize="14px",h.style.fontWeight="500",h.style.color="#374151",h.style.cursor="pointer",h.onclick=()=>{d(),a(new Error("Payment cancelled by user"))},c.appendChild(l),c.appendChild(u),c.appendChild(h),o.appendChild(c),document.body.appendChild(o);const d=()=>{document.body.contains(o)&&document.body.removeChild(o)};window.paypal.Buttons({style:{layout:"vertical",color:"blue",shape:"rect",label:"pay",height:45},createOrder:()=>e.orderId,onApprove:async f=>{try{d(),s({paymentId:f.orderID,orderId:f.orderID})}catch(p){d(),a(p)}},onError:f=>{d(),a(new Error("PayPal payment failed"))},onCancel:()=>{d(),a(new Error("Payment cancelled by user"))}}).render("#paypal-buttons-wrapper")})};function PS(){const{user:e}=fr(),{cartItems:t,getCartTotal:r,clearCart:n}=Vn(),{websiteId:s}=Ue(),a=vt(),[o,c]=O.useState(!1),[l,u]=O.useState([]),[h,d]=O.useState(""),[f,p]=O.useState({fullName:"",email:"",phone:"",address:"",city:"",state:"",zipCode:"",country:"United States"}),b=r(),w=b+0;O.useEffect(()=>{document.title="Checkout - Secure Payment",g(),e!=null&&e.email&&p(j=>({...j,email:e.email}))},[e]);const g=async()=>{try{const{data:j}=await Q.from("payment_methods").select("*").eq("is_enabled",!0).order("display_order");u(j||[]),j&&j.length>0&&d(j[0].method_name)}catch(j){console.error(j)}};if(t.length===0)return a("/cart"),null;const m=j=>{p({...f,[j.target.name]:j.target.value})},v=async j=>{if(j.preventDefault(),!h)return alert("Please select a payment method");c(!0);try{const S=l.find(F=>F.method_name===h),N=(S==null?void 0:S.method_type)==="cod",_={total_amount:w,status:"pending",payment_method:h,payment_status:"pending",shipping_address:f,website_id:s,...e?{user_id:e.id,is_guest:!1}:{is_guest:!0,guest_name:f.fullName,guest_email:f.email,guest_phone:f.phone}},{data:C,error:k}=await Q.from("orders").insert([_]).select().single();if(k)throw k;const E=t.map(F=>({order_id:C.id,product_id:F.product_id,quantity:F.quantity,price:F.products.price})),{error:T}=await Q.from("order_items").insert(E);if(T)throw T;if(N){await n(),a(`/order-success?orderId=${C.id}`);return}const A=await TS(C.id,w,h);let L={verified:!1};if(A.gateway==="razorpay"){const F=await OS(A,f);L=await Ap(C.id,F.paymentId,F.signature,"razorpay",F.orderId)}else if(A.gateway==="paypal"){const F=await CS(A,f);L=await Ap(C.id,F.paymentId,null,"paypal")}else{alert("Payment gateway not configured.");return}if(L.verified)await n(),a(`/order-success?orderId=${C.id}`);else throw new Error("Payment verification failed")}catch(S){console.error(S),alert("Order processing failed. Please try again.")}finally{c(!1)}},y=()=>["fullName","email","phone","address","city","state","zipCode","country"].every(S=>f[S]&&f[S].trim()!=="");return i.jsxs("div",{className:"min-h-screen bg-white font-sans text-gray-900",children:[i.jsx("div",{className:"bg-[#F2F7F6] py-16 border-b border-[#e8f1f0]",children:i.jsxs("div",{className:"w-full max-w-[1800px] mx-auto px-4 sm:px-6 lg:px-12 text-center",children:[i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx(ur,{className:"w-8 h-8 text-brand-orange"})}),i.jsx("h1",{className:"text-4xl md:text-5xl font-black text-gray-900 tracking-tight",children:"Secure Checkout"}),i.jsx("p",{className:"text-gray-500 mt-4 font-medium",children:"Complete your purchase safely and securely."})]})}),i.jsx("div",{className:"w-full max-w-[1800px] mx-auto px-4 sm:px-6 lg:px-12 py-16",children:i.jsxs("div",{className:"grid lg:grid-cols-12 gap-16",children:[i.jsxs("div",{className:"lg:col-span-7 space-y-12",children:[i.jsxs("section",{children:[i.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-black text-white flex items-center justify-center font-bold text-lg",children:"1"}),i.jsx("h2",{className:"text-2xl font-bold",children:"Shipping Information"})]}),i.jsx("div",{className:"bg-white rounded-[2rem] p-8 border border-gray-100 shadow-sm",children:i.jsxs("form",{id:"checkout-form",onSubmit:v,className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-bold text-gray-700 uppercase tracking-wide mb-2",children:"Full Name"}),i.jsx("input",{type:"text",name:"fullName",required:!0,value:f.fullName,onChange:m,className:"w-full px-6 py-4 rounded-xl bg-gray-50 border-2 border-transparent focus:bg-white focus:border-brand-orange focus:ring-0 outline-none transition-all font-medium",placeholder:"John Doe"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-700 uppercase tracking-wide mb-2",children:"Email Address"}),i.jsx("input",{type:"email",name:"email",required:!0,value:f.email,onChange:m,className:"w-full px-6 py-4 rounded-xl bg-gray-50 border-2 border-transparent focus:bg-white focus:border-brand-orange focus:ring-0 outline-none transition-all font-medium",placeholder:"john@example.com"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-700 uppercase tracking-wide mb-2",children:"Phone Number"}),i.jsx("input",{type:"tel",name:"phone",required:!0,value:f.phone,onChange:m,className:"w-full px-6 py-4 rounded-xl bg-gray-50 border-2 border-transparent focus:bg-white focus:border-brand-orange focus:ring-0 outline-none transition-all font-medium",placeholder:"+1 (555) 000-0000"})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-bold text-gray-700 uppercase tracking-wide mb-2",children:"Street Address"}),i.jsx("input",{type:"text",name:"address",required:!0,value:f.address,onChange:m,className:"w-full px-6 py-4 rounded-xl bg-gray-50 border-2 border-transparent focus:bg-white focus:border-brand-orange focus:ring-0 outline-none transition-all font-medium",placeholder:"123 Main St, Apt 4B"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-700 uppercase tracking-wide mb-2",children:"City"}),i.jsx("input",{type:"text",name:"city",required:!0,value:f.city,onChange:m,className:"w-full px-6 py-4 rounded-xl bg-gray-50 border-2 border-transparent focus:bg-white focus:border-brand-orange focus:ring-0 outline-none transition-all font-medium"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-700 uppercase tracking-wide mb-2",children:"State / Province"}),i.jsx("input",{type:"text",name:"state",required:!0,value:f.state,onChange:m,className:"w-full px-6 py-4 rounded-xl bg-gray-50 border-2 border-transparent focus:bg-white focus:border-brand-orange focus:ring-0 outline-none transition-all font-medium"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-700 uppercase tracking-wide mb-2",children:"ZIP / Postal Code"}),i.jsx("input",{type:"text",name:"zipCode",required:!0,value:f.zipCode,onChange:m,className:"w-full px-6 py-4 rounded-xl bg-gray-50 border-2 border-transparent focus:bg-white focus:border-brand-orange focus:ring-0 outline-none transition-all font-medium"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-700 uppercase tracking-wide mb-2",children:"Country"}),i.jsx("input",{type:"text",name:"country",required:!0,value:f.country,onChange:m,className:"w-full px-6 py-4 rounded-xl bg-gray-50 border-2 border-transparent focus:bg-white focus:border-brand-orange focus:ring-0 outline-none transition-all font-medium"})]})]})})]}),i.jsxs("section",{children:[i.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-black text-white flex items-center justify-center font-bold text-lg",children:"2"}),i.jsx("h2",{className:"text-2xl font-bold",children:"Payment Method"})]}),i.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:l.length===0?i.jsx("p",{className:"text-gray-500 py-4",children:"Loading options..."}):l.map(j=>i.jsxs("label",{className:`relative flex items-center gap-4 p-6 rounded-2xl border-2 cursor-pointer transition-all ${h===j.method_name?"border-brand-orange bg-brand-orange/5":"border-gray-100 hover:border-gray-200"}`,children:[i.jsx("input",{type:"radio",name:"payment",value:j.method_name,checked:h===j.method_name,onChange:S=>d(S.target.value),className:"w-5 h-5 text-brand-orange focus:ring-brand-orange"}),i.jsxs("div",{className:"flex items-center gap-3",children:[j.method_type==="cod"?i.jsx(gy,{className:"w-6 h-6 text-gray-600"}):i.jsx(ma,{className:"w-6 h-6 text-gray-600"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-bold text-gray-900",children:j.method_name}),j.method_type==="cod"&&i.jsx("p",{className:"text-xs text-gray-500",children:"Pay on delivery"})]})]})]},j.id))})]})]}),i.jsx("div",{className:"lg:col-span-5",children:i.jsxs("div",{className:"bg-[#F9FAFB] rounded-[2.5rem] p-8 md:p-10 border border-gray-100 sticky top-32",children:[i.jsx("h2",{className:"text-2xl font-black text-gray-900 mb-8",children:"Order Summary"}),i.jsx("div",{className:"space-y-6 mb-8 max-h-[400px] overflow-y-auto pr-2 custom-scrollbar",children:t.map(j=>i.jsxs("div",{className:"flex gap-4 items-center",children:[i.jsx("div",{className:"w-20 h-20 bg-white rounded-xl p-2 border border-gray-100 flex-shrink-0",children:i.jsx("img",{src:j.products.image_url,alt:j.products.name,className:"w-full h-full object-contain"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-bold text-sm text-gray-900 line-clamp-2",children:j.products.name}),i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Qty: ",j.quantity]})]}),i.jsxs("p",{className:"font-bold text-gray-900",children:["$",(j.products.price*j.quantity).toFixed(2)]})]},j.id))}),i.jsx("div",{className:"h-px bg-gray-200 my-6"}),i.jsxs("div",{className:"space-y-3 mb-8",children:[i.jsxs("div",{className:"flex justify-between text-gray-600",children:[i.jsx("span",{children:"Subtotal"}),i.jsxs("span",{className:"font-bold",children:["$",b.toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between text-gray-600",children:[i.jsx("span",{children:"Shipping"}),i.jsxs("span",{className:"font-bold text-green-600 flex items-center gap-1",children:[i.jsx(hl,{className:"w-4 h-4"})," Free"]})]}),i.jsxs("div",{className:"flex justify-between text-xl font-black text-gray-900 mt-4",children:[i.jsx("span",{children:"Total"}),i.jsxs("span",{className:"text-brand-orange",children:["$",w.toFixed(2)]})]})]}),i.jsx("button",{onClick:v,disabled:o||!h||!y(),className:"w-full py-5 bg-black text-white font-bold rounded-2xl hover:bg-brand-orange transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-1 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:o?"Processing...":"Confirm Order"}),i.jsxs("div",{className:"mt-6 flex items-center justify-center gap-2 text-xs font-bold text-gray-400 uppercase tracking-widest",children:[i.jsx(Nr,{className:"w-4 h-4"})," SSL Encrypted Payment"]})]})})]})})]})}function AS(){const{user:e}=fr(),{websiteId:t}=Ue(),[r,n]=O.useState([]),[s,a]=O.useState(!0);O.useEffect(()=>{document.title="My Orders - Order History";const h=(d,f)=>{let p=document.querySelector(`meta[name="${d}"]`);p||(p=document.createElement("meta"),p.setAttribute("name",d),document.head.appendChild(p)),p.setAttribute("content",f)};h("description","View your order history, track shipments, and manage your purchases. Access all your printer orders in one place."),h("keywords","my orders, order history, track order, order status, purchase history, view orders"),e&&t&&o()},[e,t]);const o=async()=>{try{const{data:h,error:d}=await Q.from("orders").select(`
          *,
          order_items (
            *,
            products (*)
          )
        `).eq("user_id",e.id).eq("website_id",t).order("created_at",{ascending:!1});if(d)throw d;n(h||[])}catch(h){console.error("Error fetching orders:",h)}finally{a(!1)}};if(!e)return i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4",children:i.jsxs("div",{className:"text-center",children:[i.jsx(Tt,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),i.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Please Sign In"}),i.jsx("p",{className:"text-gray-600 mb-6",children:"You need to sign in to view your orders"}),i.jsx(ae,{to:"/login",className:"btn-primary",children:"Sign In"})]})});if(s)return i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})});const c=h=>{switch(h){case"completed":return i.jsx(Et,{className:"w-5 h-5 text-green-600"});case"processing":return i.jsx(ta,{className:"w-5 h-5 text-primary-600"});case"cancelled":return i.jsx($s,{className:"w-5 h-5 text-red-600"});default:return i.jsx(ta,{className:"w-5 h-5 text-yellow-600"})}},l=h=>{switch(h){case"completed":return"bg-green-100 text-green-800";case"processing":return"bg-primary-100 text-primary-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-yellow-100 text-yellow-800"}},u=h=>{switch(h){case"completed":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"failed":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return i.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[i.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-8",children:"My Orders"}),r.length===0?i.jsxs("div",{className:"text-center py-12 bg-white rounded-3xl",children:[i.jsx(Tt,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),i.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"No Orders Yet"}),i.jsx("p",{className:"text-gray-600 mb-6",children:"Start shopping to place your first order"}),i.jsx(ae,{to:"/shop",className:"btn-primary",children:"Browse Products"})]}):i.jsx("div",{className:"space-y-6",children:r.map(h=>i.jsxs("div",{className:"bg-white rounded-3xl shadow-xl overflow-hidden",children:[i.jsx("div",{className:"p-6 border-b border-gray-200",children:i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Order ID"}),i.jsx("p",{className:"font-mono text-sm font-bold",children:h.id.slice(0,8)})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Date"}),i.jsx("p",{className:"font-bold",children:new Date(h.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Total"}),i.jsxs("p",{className:"text-xl font-bold text-primary-600",children:["$",parseFloat(h.total_amount).toFixed(2)]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[c(h.status),i.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-bold ${l(h.status)}`,children:h.status.charAt(0).toUpperCase()+h.status.slice(1)})]})]})}),i.jsxs("div",{className:"p-6",children:[i.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Order Items"}),i.jsx("div",{className:"space-y-4",children:h.order_items.map(d=>i.jsxs("div",{className:"flex items-center gap-4",children:[d.products?i.jsxs(i.Fragment,{children:[i.jsx("img",{src:d.products.image_url||"/assets/images/placeholder.png",alt:d.products.name,className:"w-20 h-20 object-cover rounded-2xl",onError:f=>{f.target.src="/assets/images/placeholder.png"}}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-bold text-gray-900",children:d.products.name}),i.jsxs("p",{className:"text-sm text-gray-600",children:["Quantity: ",d.quantity]})]})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-20 h-20 bg-gray-200 rounded-2xl flex items-center justify-center",children:i.jsx(Tt,{className:"w-8 h-8 text-gray-400"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-bold text-gray-900",children:"Product Unavailable"}),i.jsxs("p",{className:"text-sm text-gray-600",children:["Quantity: ",d.quantity]})]})]}),i.jsxs("p",{className:"font-semibold text-gray-900",children:["$",(parseFloat(d.price)*d.quantity).toFixed(2)]})]},d.id))}),i.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200 grid md:grid-cols-2 gap-6",children:[h.shipping_address&&i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Shipping Address"}),i.jsxs("p",{className:"text-gray-600 text-sm",children:[h.shipping_address.fullName,i.jsx("br",{}),h.shipping_address.address,i.jsx("br",{}),h.shipping_address.city,", ",h.shipping_address.state," ",h.shipping_address.zipCode,i.jsx("br",{}),h.shipping_address.country]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Payment Details"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[h.payment_method==="Cash on Delivery"?i.jsx(gy,{className:"w-4 h-4 text-green-600"}):i.jsx(ma,{className:"w-4 h-4 text-primary-600"}),i.jsx("span",{className:"text-gray-600",children:"Method:"}),i.jsx("span",{className:"font-bold",children:h.payment_method||"N/A"})]}),i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[i.jsx("span",{className:"text-gray-600",children:"Status:"}),i.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-bold ${u(h.payment_status)}`,children:h.payment_status?h.payment_status.charAt(0).toUpperCase()+h.payment_status.slice(1):"N/A"})]})]})]})]})]})]},h.id))})]})})}function IS(){const{user:e,signUp:t}=fr(),r=vt(),[n]=Wv(),s=n.get("orderId"),[a,o]=O.useState(null),[c,l]=O.useState(!0),[u,h]=O.useState(!1),[d,f]=O.useState(!1),[p,b]=O.useState({email:"",password:"",confirmPassword:"",name:""});O.useEffect(()=>{document.title="Order Success - Thank You!";const g=(m,v)=>{let y=document.querySelector(`meta[name="${m}"]`);y||(y=document.createElement("meta"),y.setAttribute("name",m),document.head.appendChild(y)),y.setAttribute("content",v)};g("description","Order successfully placed! Thank you for your purchase. Check your email for order confirmation and tracking details."),g("keywords","order success, order confirmation, thank you, purchase complete, order placed"),s&&x()},[s]);const x=async()=>{try{const{data:g,error:m}=await Q.from("orders").select("*").eq("id",s).maybeSingle();if(m)throw m;o(g),g!=null&&g.is_guest&&b(v=>({...v,email:g.guest_email,name:g.guest_name}))}catch(g){console.error("Error fetching order:",g)}finally{l(!1)}},w=async g=>{if(g.preventDefault(),p.password!==p.confirmPassword){alert("Passwords do not match");return}if(p.password.length<6){alert("Password must be at least 6 characters");return}h(!0);try{await t(p.email,p.password),a&&await Q.rpc("convert_guest_order_to_user",{p_order_id:a.id,p_user_id:e.id}),alert("Account created successfully! You can now track your orders."),r("/orders")}catch(m){console.error("Error creating account:",m),alert(m.message||"Failed to create account")}finally{h(!1)}};return c?i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):i.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:i.jsx("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 md:p-12",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx(Et,{className:"w-20 h-20 text-green-500 mx-auto mb-4"}),i.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Order Placed Successfully!"}),i.jsx("p",{className:"text-gray-600",children:"Thank you for your order. We've received your order and will process it shortly."})]}),a&&i.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 mb-8",children:[i.jsx("h2",{className:"font-semibold text-gray-900 mb-3",children:"Order Details"}),i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Order Number:"}),i.jsx("span",{className:"font-bold text-gray-900",children:a.id.slice(0,8).toUpperCase()})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Total Amount:"}),i.jsxs("span",{className:"font-bold text-gray-900",children:["$",parseFloat(a.total_amount).toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Payment Method:"}),i.jsx("span",{className:"font-bold text-gray-900",children:a.payment_method})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Status:"}),i.jsx("span",{className:"font-bold text-green-600 capitalize",children:a.status})]})]})]}),!e&&(a==null?void 0:a.is_guest)&&!d&&i.jsxs("div",{className:"bg-primary-50 border-2-2 border-2-primary-200 rounded-xl p-6 mb-8",children:[i.jsx("h3",{className:"font-semibold text-primary-900 mb-2",children:"Create an Account to Track Your Order"}),i.jsx("p",{className:"text-primary-700 text-sm mb-4",children:"Create an account to easily track your orders, save your addresses, and enjoy a faster checkout experience next time."}),i.jsxs("button",{onClick:()=>f(!0),className:"bg-gradient-to-r from-primary-600 to-primary-500 text-white px-6 py-3 rounded-2xl font-bold hover:from-primary-700 hover:to-primary-600 transition flex items-center gap-2",children:["Create Account",i.jsx(ot,{className:"w-4 h-4"})]})]}),!e&&d&&i.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6 mb-8",children:[i.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Create Your Account"}),i.jsxs("form",{onSubmit:w,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ms,{className:"w-4 h-4"}),"Name"]})}),i.jsx("input",{type:"text",value:p.name,onChange:g=>b({...p,name:g.target.value}),className:"input-field",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Mr,{className:"w-4 h-4"}),"Email"]})}),i.jsx("input",{type:"email",value:p.email,onChange:g=>b({...p,email:g.target.value}),className:"input-field",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ur,{className:"w-4 h-4"}),"Password"]})}),i.jsx("input",{type:"password",value:p.password,onChange:g=>b({...p,password:g.target.value}),className:"input-field",required:!0,minLength:6})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ur,{className:"w-4 h-4"}),"Confirm Password"]})}),i.jsx("input",{type:"password",value:p.confirmPassword,onChange:g=>b({...p,confirmPassword:g.target.value}),className:"input-field",required:!0,minLength:6})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{type:"submit",disabled:u,className:"flex-1 bg-gradient-to-r from-primary-600 to-primary-500 text-white py-3 rounded-2xl font-bold hover:from-primary-700 hover:to-primary-600 transition disabled:opacity-50",children:u?"Creating Account...":"Create Account"}),i.jsx("button",{type:"button",onClick:()=>f(!1),className:"flex-1 bg-gray-200 text-gray-700 py-3 rounded-2xl font-bold hover:bg-gray-300 transition",children:"Skip"})]})]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[i.jsxs(ae,{to:"/shop",className:"flex-1 bg-gradient-to-r from-primary-600 to-primary-500 text-white py-3 px-6 rounded-2xl font-bold hover:from-primary-700 hover:to-primary-600 transition text-center flex items-center justify-center gap-2",children:[i.jsx(sa,{className:"w-5 h-5"}),"Continue Shopping"]}),e&&i.jsx(ae,{to:"/orders",className:"flex-1 bg-gray-200 text-gray-700 py-3 px-6 rounded-2xl font-bold hover:bg-gray-300 transition text-center",children:"View Orders"})]})]})})})}function RS(){const{settings:e}=zs(),{websiteId:t}=Ue(),[r,n]=O.useState({name:"",email:"",phone:"",subject:"",message:""}),[s,a]=O.useState(!1),[o,c]=O.useState(!1),[l,u]=O.useState("");O.useEffect(()=>{document.title="Contact Us - Get In Touch"},[]);const h=f=>{n({...r,[f.target.name]:f.target.value})},d=async f=>{f.preventDefault(),a(!0),u(""),c(!1);try{const{error:p}=await Q.from("contact_submissions").insert([{...r,website_id:t}]);if(p)throw p;c(!0),n({name:"",email:"",phone:"",subject:"",message:""}),setTimeout(()=>c(!1),6e3)}catch(p){u("Unable to send message. Please try again."),console.error(p)}finally{a(!1)}};return i.jsxs("div",{className:"bg-white font-sans text-gray-900 overflow-x-hidden",children:[i.jsxs("section",{className:"relative pt-24 pb-20 lg:pt-32 lg:pb-28 bg-[#F2F7F6]",children:[i.jsxs("div",{className:"w-full max-w-[1800px] mx-auto px-4 sm:px-6 lg:px-12 text-center relative z-10",children:[i.jsx("span",{className:"text-brand-orange font-bold text-xs uppercase tracking-[0.2em] mb-4 block animate-fade-in",children:"Contact Us"}),i.jsxs("h1",{className:"text-5xl md:text-7xl font-black text-gray-900 mb-6 tracking-tight",children:["Let's Start a ",i.jsx("span",{className:"text-brand-orange",children:"Conversation"})]}),i.jsx("p",{className:"text-xl text-gray-500 max-w-2xl mx-auto leading-relaxed font-medium",children:"Have a question about our products or need technical support? We're here to help you every step of the way."})]}),i.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-brand-orange/5 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2"}),i.jsx("div",{className:"absolute bottom-0 left-0 w-64 h-64 bg-white/40 rounded-full blur-3xl translate-y-1/2 -translate-x-1/3"})]}),i.jsx("section",{className:"py-24",children:i.jsx("div",{className:"w-full max-w-[1800px] mx-auto px-4 sm:px-6 lg:px-12",children:i.jsxs("div",{className:"grid lg:grid-cols-12 gap-16",children:[i.jsxs("div",{className:"lg:col-span-5 space-y-8",children:[i.jsxs("div",{className:"bg-[#0e4b5b] rounded-[2.5rem] p-10 text-white shadow-xl relative overflow-hidden",children:[i.jsx("div",{className:"absolute top-0 right-0 w-40 h-40 bg-white/10 rounded-full blur-2xl -translate-y-1/2 translate-x-1/2"}),i.jsx("h3",{className:"text-3xl font-black mb-8 relative z-10",children:"Get in Touch"}),i.jsxs("div",{className:"space-y-8 relative z-10",children:[e.contact_email&&i.jsxs("div",{className:"flex items-start gap-5 group",children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl bg-white/10 flex items-center justify-center flex-shrink-0 group-hover:bg-brand-orange transition-colors duration-300",children:i.jsx(Mr,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-teal-200 text-sm font-bold uppercase tracking-wider mb-1",children:"Email Us"}),i.jsx("a",{href:`mailto:${e.contact_email}`,className:"text-xl font-bold hover:text-teal-200 transition-colors",children:e.contact_email}),i.jsx("p",{className:"text-sm text-teal-100/60 mt-1",children:"We usually reply within 24hrs"})]})]}),e.contact_phone&&i.jsxs("div",{className:"flex items-start gap-5 group",children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl bg-white/10 flex items-center justify-center flex-shrink-0 group-hover:bg-brand-orange transition-colors duration-300",children:i.jsx(fl,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-teal-200 text-sm font-bold uppercase tracking-wider mb-1",children:"Call Us"}),i.jsx("a",{href:`tel:${e.contact_phone}`,className:"text-xl font-bold hover:text-teal-200 transition-colors",children:e.contact_phone}),i.jsx("p",{className:"text-sm text-teal-100/60 mt-1",children:"Mon-Fri, 9am - 6pm EST"})]})]}),e.address&&i.jsxs("div",{className:"flex items-start gap-5 group",children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl bg-white/10 flex items-center justify-center flex-shrink-0 group-hover:bg-brand-orange transition-colors duration-300",children:i.jsx(Bu,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-teal-200 text-sm font-bold uppercase tracking-wider mb-1",children:"Visit HQ"}),i.jsx("p",{className:"text-lg font-medium leading-relaxed",children:e.address})]})]})]})]}),i.jsxs("div",{className:"bg-[#F9FAFB] rounded-[2.5rem] p-10 border border-gray-100",children:[i.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-green-100 flex items-center justify-center text-green-600",children:i.jsx(dl,{className:"w-5 h-5"})}),i.jsx("h4",{className:"text-xl font-bold text-gray-900",children:"Need faster help?"})]}),i.jsx("p",{className:"text-gray-500 mb-6",children:"Check our extensive Knowledge Base for instant answers to common questions."}),i.jsx("a",{href:"/faq",className:"text-brand-orange font-bold text-sm uppercase tracking-wider border-b-2 border-brand-orange pb-1 hover:text-orange-700 hover:border-orange-700 transition-all",children:"Visit FAQ Center"})]})]}),i.jsx("div",{className:"lg:col-span-7",children:i.jsxs("div",{className:"bg-white rounded-[2.5rem] p-8 md:p-12 shadow-xl border border-gray-100",children:[i.jsx("h2",{className:"text-3xl font-black text-gray-900 mb-8",children:"Send a Message"}),o&&i.jsxs("div",{className:"mb-8 p-6 bg-green-50 border border-green-100 rounded-2xl flex items-center gap-4 text-green-800 animate-fade-in",children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-green-200 flex items-center justify-center flex-shrink-0",children:i.jsx(Is,{className:"w-4 h-4 text-green-700"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-bold text-lg",children:"Message Sent!"}),i.jsx("p",{className:"text-sm opacity-90",children:"Thank you. We'll get back to you shortly."})]})]}),l&&i.jsx("div",{className:"mb-8 p-6 bg-red-50 border border-red-100 rounded-2xl text-red-800",children:l}),i.jsxs("form",{onSubmit:d,className:"space-y-6",children:[i.jsxs("div",{className:"grid sm:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-bold text-gray-700 uppercase tracking-wide ml-1",children:"Your Name"}),i.jsx("input",{type:"text",name:"name",required:!0,value:r.name,onChange:h,className:"w-full px-6 py-4 rounded-2xl bg-gray-50 border-2 border-transparent focus:bg-white focus:border-brand-orange focus:ring-0 transition-all font-medium outline-none",placeholder:"John Doe"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-bold text-gray-700 uppercase tracking-wide ml-1",children:"Email Address"}),i.jsx("input",{type:"email",name:"email",required:!0,value:r.email,onChange:h,className:"w-full px-6 py-4 rounded-2xl bg-gray-50 border-2 border-transparent focus:bg-white focus:border-brand-orange focus:ring-0 transition-all font-medium outline-none",placeholder:"john@example.com"})]})]}),i.jsxs("div",{className:"grid sm:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-bold text-gray-700 uppercase tracking-wide ml-1",children:"Phone Number"}),i.jsx("input",{type:"tel",name:"phone",value:r.phone,onChange:h,className:"w-full px-6 py-4 rounded-2xl bg-gray-50 border-2 border-transparent focus:bg-white focus:border-brand-orange focus:ring-0 transition-all font-medium outline-none",placeholder:"+1 (555) 000-0000"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-bold text-gray-700 uppercase tracking-wide ml-1",children:"Subject"}),i.jsx("input",{type:"text",name:"subject",required:!0,value:r.subject,onChange:h,className:"w-full px-6 py-4 rounded-2xl bg-gray-50 border-2 border-transparent focus:bg-white focus:border-brand-orange focus:ring-0 transition-all font-medium outline-none",placeholder:"How can we help?"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-bold text-gray-700 uppercase tracking-wide ml-1",children:"Message"}),i.jsx("textarea",{name:"message",required:!0,rows:"6",value:r.message,onChange:h,className:"w-full px-6 py-4 rounded-2xl bg-gray-50 border-2 border-transparent focus:bg-white focus:border-brand-orange focus:ring-0 transition-all font-medium outline-none resize-y",placeholder:"Tell us more about your inquiry..."})]}),i.jsx("button",{type:"submit",disabled:s,className:"w-full py-5 bg-black text-white font-bold rounded-2xl hover:bg-brand-orange transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-1 flex items-center justify-center gap-3 disabled:opacity-70 disabled:cursor-not-allowed",children:s?i.jsx("span",{className:"flex items-center gap-2",children:"Sending..."}):i.jsxs(i.Fragment,{children:[i.jsx("span",{children:"Send Message"}),i.jsx(jy,{className:"w-5 h-5"})]})})]})]})})]})})}),i.jsx("section",{className:"py-12 pb-24",children:i.jsx("div",{className:"w-full max-w-[1800px] mx-auto px-4 sm:px-6 lg:px-12",children:i.jsxs("div",{className:"bg-[#F2F7F6] rounded-[3rem] h-96 w-full flex items-center justify-center relative overflow-hidden group",children:[i.jsx("img",{src:"https://images.unsplash.com/photo-1524661135-423995f22d0b?auto=format&fit=crop&q=80&w=2000",alt:"Map Background",className:"absolute inset-0 w-full h-full object-cover opacity-50 grayscale group-hover:grayscale-0 transition-all duration-700"}),i.jsxs("div",{className:"relative z-10 bg-white/90 backdrop-blur-md px-10 py-6 rounded-3xl shadow-xl text-center",children:[i.jsx(Bu,{className:"w-10 h-10 text-brand-orange mx-auto mb-3 animate-bounce"}),i.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Headquarters"}),i.jsx("p",{className:"text-gray-500",children:e.address||"123 Printer Street, Tech City"})]})]})})})]})}function LS(){const[e,t]=O.useState(""),[r,n]=O.useState(""),[s,a]=O.useState(""),[o,c]=O.useState(!1),{signIn:l}=fr(),u=vt();O.useEffect(()=>{document.title="Login - Access Your Account"},[]);const h=async d=>{d.preventDefault(),a(""),c(!0);try{await l(e,r),u("/")}catch(f){a(f.message||"Failed to sign in")}finally{c(!1)}};return i.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-[#F2F7F6] p-6 relative overflow-hidden font-sans",children:[i.jsx("div",{className:"absolute top-0 left-0 w-96 h-96 bg-white rounded-full blur-3xl opacity-50 -translate-x-1/2 -translate-y-1/2"}),i.jsx("div",{className:"absolute bottom-0 right-0 w-[500px] h-[500px] bg-brand-orange/5 rounded-full blur-3xl translate-x-1/3 translate-y-1/3"}),i.jsx("div",{className:"relative z-10 w-full max-w-[480px]",children:i.jsxs("div",{className:"bg-white rounded-[2.5rem] p-8 md:p-12 shadow-sm border border-gray-100",children:[i.jsxs("div",{className:"text-center mb-10",children:[i.jsx("div",{className:"w-16 h-16 bg-gray-50 rounded-2xl flex items-center justify-center mx-auto mb-6",children:i.jsx(ur,{className:"w-8 h-8 text-brand-orange",strokeWidth:1.5})}),i.jsx("h2",{className:"text-3xl md:text-4xl font-black text-gray-900 mb-3 tracking-tight",children:"Welcome Back"}),i.jsx("p",{className:"text-gray-500 font-medium italic",children:"Enter your details to access your account"})]}),s&&i.jsxs("div",{className:"mb-8 p-4 bg-red-50 border border-red-100 rounded-2xl text-red-700 text-sm font-medium flex items-center gap-3",children:[i.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-red-500"}),s]}),i.jsxs("form",{onSubmit:h,className:"space-y-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest ml-1",children:"Email Address"}),i.jsxs("div",{className:"relative",children:[i.jsx(Mr,{className:"absolute left-5 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-300"}),i.jsx("input",{type:"email",required:!0,value:e,onChange:d=>t(d.target.value),className:"w-full pl-14 pr-6 py-4 rounded-2xl bg-gray-50 border-2 border-transparent focus:bg-white focus:border-brand-orange focus:ring-0 outline-none transition-all font-medium",placeholder:"name@company.com"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-center ml-1",children:[i.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Password"}),i.jsx(ae,{to:"/forgot-password",size:"sm",className:"text-xs font-bold text-brand-orange hover:text-orange-700 transition-colors",children:"Forgot?"})]}),i.jsxs("div",{className:"relative",children:[i.jsx(ur,{className:"absolute left-5 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-300"}),i.jsx("input",{type:"password",required:!0,value:r,onChange:d=>n(d.target.value),className:"w-full pl-14 pr-6 py-4 rounded-2xl bg-gray-50 border-2 border-transparent focus:bg-white focus:border-brand-orange focus:ring-0 outline-none transition-all font-medium",placeholder:""})]})]}),i.jsxs("div",{className:"flex items-center gap-3 ml-1",children:[i.jsx("input",{id:"remember_me",type:"checkbox",className:"w-5 h-5 border-2 border-gray-200 rounded text-brand-orange focus:ring-brand-orange cursor-pointer"}),i.jsx("label",{htmlFor:"remember_me",className:"text-sm font-bold text-gray-500 cursor-pointer",children:"Keep me signed in"})]}),i.jsx("button",{type:"submit",disabled:o,className:"w-full py-5 bg-black text-white font-bold rounded-2xl hover:bg-brand-orange transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-1 flex items-center justify-center gap-3 disabled:opacity-70 disabled:cursor-not-allowed mt-8",children:o?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),i.jsx("span",{children:"Authenticating..."})]}):i.jsxs(i.Fragment,{children:[i.jsx("span",{children:"Sign In"}),i.jsx(ot,{className:"w-5 h-5"})]})})]}),i.jsx("div",{className:"mt-10 pt-8 border-t border-gray-50 text-center",children:i.jsxs("p",{className:"text-gray-500 font-medium",children:["Don't have an account?"," ",i.jsx(ae,{to:"/signup",className:"text-brand-orange font-bold hover:underline",children:"Create One"})]})}),i.jsxs("div",{className:"mt-8 flex items-center justify-center gap-2 text-[10px] font-bold text-gray-300 uppercase tracking-[0.2em]",children:[i.jsx(Nr,{className:"w-4 h-4"})," Secure Auth Environment"]})]})})]})}function MS(){const[e,t]=O.useState(""),[r,n]=O.useState(""),[s,a]=O.useState(""),[o,c]=O.useState(""),[l,u]=O.useState(""),[h,d]=O.useState(!1),{signUp:f}=fr(),{websiteId:p}=Ue(),b=vt();O.useEffect(()=>{document.title="Sign Up - Create Your Account"},[]);const x=async w=>{if(w.preventDefault(),u(""),!e.trim())return u("Please enter your full name");if(s!==o)return u("Passwords do not match");if(s.length<6)return u("Password must be at least 6 characters");d(!0);try{await f(r,s,{full_name:e},p),b("/")}catch(g){u(g.message||"Failed to create account")}finally{d(!1)}};return i.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-[#F2F7F6] p-6 relative overflow-hidden font-sans",children:[i.jsx("div",{className:"absolute top-0 right-0 w-[500px] h-[500px] bg-white rounded-full blur-3xl opacity-50 translate-x-1/3 -translate-y-1/3"}),i.jsx("div",{className:"absolute bottom-0 left-0 w-96 h-96 bg-brand-orange/5 rounded-full blur-3xl -translate-x-1/2 translate-y-1/2"}),i.jsx("div",{className:"relative z-10 w-full max-w-[540px]",children:i.jsxs("div",{className:"bg-white rounded-[2.5rem] p-8 md:p-12 shadow-sm border border-gray-100",children:[i.jsxs("div",{className:"text-center mb-10",children:[i.jsx("div",{className:"w-16 h-16 bg-gray-50 rounded-2xl flex items-center justify-center mx-auto mb-6",children:i.jsx(n_,{className:"w-8 h-8 text-brand-orange",strokeWidth:1.5})}),i.jsx("h2",{className:"text-3xl md:text-4xl font-black text-gray-900 mb-3 tracking-tight",children:"Create Account"}),i.jsx("p",{className:"text-gray-500 font-medium italic",children:"Join our community of premium print owners"})]}),l&&i.jsxs("div",{className:"mb-8 p-4 bg-red-50 border border-red-100 rounded-2xl text-red-700 text-sm font-medium flex items-center gap-3 animate-shake",children:[i.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-red-500"}),l]}),i.jsxs("form",{onSubmit:x,className:"space-y-5",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest ml-1",children:"Full Name"}),i.jsxs("div",{className:"relative",children:[i.jsx(Ms,{className:"absolute left-5 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-300"}),i.jsx("input",{type:"text",required:!0,value:e,onChange:w=>t(w.target.value),className:"w-full pl-14 pr-6 py-4 rounded-2xl bg-gray-50 border-2 border-transparent focus:bg-white focus:border-brand-orange focus:ring-0 outline-none transition-all font-medium",placeholder:"John Doe"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest ml-1",children:"Email Address"}),i.jsxs("div",{className:"relative",children:[i.jsx(Mr,{className:"absolute left-5 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-300"}),i.jsx("input",{type:"email",required:!0,value:r,onChange:w=>n(w.target.value),className:"w-full pl-14 pr-6 py-4 rounded-2xl bg-gray-50 border-2 border-transparent focus:bg-white focus:border-brand-orange focus:ring-0 outline-none transition-all font-medium",placeholder:"name@company.com"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-5",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest ml-1",children:"Password"}),i.jsxs("div",{className:"relative",children:[i.jsx(ur,{className:"absolute left-5 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-300"}),i.jsx("input",{type:"password",required:!0,value:s,onChange:w=>a(w.target.value),className:"w-full pl-14 pr-6 py-4 rounded-2xl bg-gray-50 border-2 border-transparent focus:bg-white focus:border-brand-orange focus:ring-0 outline-none transition-all font-medium",placeholder:""})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest ml-1",children:"Confirm"}),i.jsxs("div",{className:"relative",children:[i.jsx(ur,{className:"absolute left-5 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-300"}),i.jsx("input",{type:"password",required:!0,value:o,onChange:w=>c(w.target.value),className:"w-full pl-14 pr-6 py-4 rounded-2xl bg-gray-50 border-2 border-transparent focus:bg-white focus:border-brand-orange focus:ring-0 outline-none transition-all font-medium",placeholder:""})]})]})]}),i.jsxs("div",{className:"p-4 bg-[#F9FAFB] rounded-2xl border border-gray-100 flex items-start gap-3 mt-4",children:[i.jsx("input",{id:"terms",type:"checkbox",required:!0,className:"mt-1 w-5 h-5 border-2 border-gray-200 rounded text-brand-orange focus:ring-brand-orange cursor-pointer"}),i.jsxs("label",{htmlFor:"terms",className:"text-xs font-bold text-gray-500 leading-normal cursor-pointer",children:["I agree to the ",i.jsx(ae,{to:"/policy/terms-conditions",className:"text-brand-orange hover:underline",children:"Terms of Service"})," and ",i.jsx(ae,{to:"/policy/privacy-policy",className:"text-brand-orange hover:underline",children:"Privacy Policy"}),"."]})]}),i.jsx("button",{type:"submit",disabled:h,className:"w-full py-5 bg-black text-white font-bold rounded-2xl hover:bg-brand-orange transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-1 flex items-center justify-center gap-3 disabled:opacity-70 disabled:cursor-not-allowed mt-6",children:h?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),i.jsx("span",{children:"Creating..."})]}):i.jsxs(i.Fragment,{children:[i.jsx("span",{children:"Create Account"}),i.jsx(ot,{className:"w-5 h-5"})]})})]}),i.jsx("div",{className:"mt-10 pt-8 border-t border-gray-50 text-center",children:i.jsxs("p",{className:"text-gray-500 font-medium",children:["Already have an account?"," ",i.jsx(ae,{to:"/login",className:"text-brand-orange font-bold hover:underline",children:"Sign In"})]})}),i.jsxs("div",{className:"mt-8 flex items-center justify-center gap-2 text-[10px] font-bold text-gray-300 uppercase tracking-[0.2em]",children:[i.jsx(Nr,{className:"w-4 h-4"})," SSL Encrypted Environment"]})]})})]})}function $S(){var N;const{user:e,signOut:t}=fr(),r=vt(),[n,s]=O.useState(!1),[a,o]=O.useState(""),[c,l]=O.useState(""),[u,h]=O.useState("profile"),[d,f]=O.useState({fullName:"",email:""}),[p,b]=O.useState({newPassword:"",confirmPassword:""}),[x,w]=O.useState([]);O.useEffect(()=>{var _;if(document.title="My Profile - Account Settings",!e){r("/login");return}f({fullName:((_=e.user_metadata)==null?void 0:_.full_name)||"",email:e.email||""}),g()},[e,r]);const g=async()=>{if(e)try{const{data:_,error:C}=await Q.from("orders").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(C)throw C;w(_||[])}catch(_){console.error("Error fetching orders:",_)}},m=async _=>{_.preventDefault(),l(""),o(""),s(!0);try{const{error:C}=await Q.auth.updateUser({email:d.email,data:{full_name:d.fullName}});if(C)throw C;o("Profile updated successfully!"),setTimeout(()=>o(""),3e3)}catch(C){l(C.message||"Failed to update profile")}finally{s(!1)}},v=async _=>{if(_.preventDefault(),l(""),o(""),p.newPassword!==p.confirmPassword)return l("New passwords do not match");if(p.newPassword.length<6)return l("Password must be at least 6 characters");s(!0);try{const{error:C}=await Q.auth.updateUser({password:p.newPassword});if(C)throw C;o("Password updated successfully!"),b({newPassword:"",confirmPassword:""}),setTimeout(()=>o(""),3e3)}catch(C){l(C.message||"Failed to update password")}finally{s(!1)}},y=_=>({pending:"bg-yellow-100 text-yellow-800",processing:"bg-blue-100 text-blue-800",shipped:"bg-cyan-100 text-cyan-800",delivered:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"})[_]||"bg-gray-100 text-gray-800",j=async()=>{await t(),r("/")};if(!e)return null;const S=[{id:"profile",label:"My Details",icon:Ms},{id:"orders",label:"Order History",icon:sa},{id:"security",label:"Login & Security",icon:ur}];return i.jsxs("div",{className:"min-h-screen bg-white font-sans text-gray-900",children:[i.jsx("div",{className:"bg-[#F2F7F6] py-16 border-b border-[#e8f1f0]",children:i.jsxs("div",{className:"w-full max-w-[1800px] mx-auto px-4 sm:px-6 lg:px-12",children:[i.jsx("h1",{className:"text-4xl md:text-5xl font-black text-gray-900 tracking-tight",children:"My Account"}),i.jsx("p",{className:"text-gray-500 mt-4 font-medium text-lg",children:"Manage your profile and view your orders."})]})}),i.jsx("div",{className:"w-full max-w-[1800px] mx-auto px-4 sm:px-6 lg:px-12 py-16",children:i.jsxs("div",{className:"grid lg:grid-cols-12 gap-12",children:[i.jsxs("div",{className:"lg:col-span-3 space-y-8",children:[i.jsxs("div",{className:"bg-white rounded-[2rem] p-8 border border-gray-100 shadow-sm text-center",children:[i.jsx("div",{className:"w-24 h-24 bg-[#F9FAFB] rounded-full flex items-center justify-center text-gray-400 text-3xl font-black mb-6 mx-auto border-4 border-white shadow-lg",children:((N=d.fullName)==null?void 0:N.charAt(0).toUpperCase())||i.jsx(Ms,{})}),i.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-1",children:d.fullName}),i.jsx("p",{className:"text-sm text-gray-500 truncate",children:d.email})]}),i.jsxs("nav",{className:"space-y-2",children:[S.map(_=>i.jsxs("button",{onClick:()=>h(_.id),className:`w-full flex items-center gap-4 px-6 py-4 rounded-2xl text-left text-sm font-bold transition-all ${u===_.id?"bg-black text-white shadow-lg":"bg-white text-gray-500 hover:bg-gray-50 hover:text-gray-900"}`,children:[i.jsx(_.icon,{className:"w-5 h-5"}),i.jsx("span",{className:"flex-grow uppercase tracking-wider",children:_.label}),u===_.id&&i.jsx(Si,{className:"w-4 h-4"})]},_.id)),i.jsxs("button",{onClick:j,className:"w-full flex items-center gap-4 px-6 py-4 rounded-2xl text-left text-sm font-bold transition-all text-red-500 hover:bg-red-50 mt-4",children:[i.jsx(xy,{className:"w-5 h-5"}),i.jsx("span",{className:"uppercase tracking-wider",children:"Sign Out"})]})]})]}),i.jsx("div",{className:"lg:col-span-9",children:i.jsxs("div",{className:"bg-white rounded-[2.5rem] p-8 md:p-12 border border-gray-100 shadow-sm min-h-[600px]",children:[c&&i.jsxs("div",{className:"mb-8 p-4 bg-red-50 border border-red-100 rounded-2xl text-red-700 text-sm font-bold flex items-center gap-3",children:[i.jsx(qn,{className:"w-5 h-5"}),c]}),a&&i.jsxs("div",{className:"mb-8 p-4 bg-green-50 border border-green-100 rounded-2xl text-green-700 text-sm font-bold flex items-center gap-3",children:[i.jsx(Is,{className:"w-5 h-5"}),a]}),u==="profile"&&i.jsxs("div",{className:"max-w-2xl",children:[i.jsx("h2",{className:"text-3xl font-black text-gray-900 mb-8",children:"Personal Information"}),i.jsxs("form",{onSubmit:m,className:"space-y-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{htmlFor:"fullName",className:"text-xs font-bold text-gray-400 uppercase tracking-widest ml-1",children:"Full Name"}),i.jsx("input",{type:"text",id:"fullName",required:!0,value:d.fullName,onChange:_=>f({...d,fullName:_.target.value}),className:"w-full px-6 py-4 rounded-2xl bg-gray-50 border-2 border-transparent focus:bg-white focus:border-brand-orange focus:ring-0 outline-none transition-all font-medium"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{htmlFor:"email",className:"text-xs font-bold text-gray-400 uppercase tracking-widest ml-1",children:"Email Address"}),i.jsx("input",{type:"email",id:"email",required:!0,value:d.email,onChange:_=>f({...d,email:_.target.value}),className:"w-full px-6 py-4 rounded-2xl bg-gray-50 border-2 border-transparent focus:bg-white focus:border-brand-orange focus:ring-0 outline-none transition-all font-medium"})]}),i.jsx("button",{type:"submit",disabled:n,className:"px-10 py-4 bg-brand-orange text-white font-bold rounded-2xl hover:bg-orange-600 transition-all shadow-lg hover:shadow-xl transform hover:-translate-y-1 mt-4 disabled:opacity-50",children:n?"Saving...":"Save Changes"})]})]}),u==="orders"&&i.jsxs("div",{children:[i.jsx("h2",{className:"text-3xl font-black text-gray-900 mb-8",children:"Order History"}),i.jsx("div",{className:"space-y-6",children:x.length>0?x.map(_=>i.jsxs("div",{className:"group p-6 rounded-[2rem] border border-gray-100 hover:border-brand-orange/30 hover:shadow-lg transition-all duration-300 bg-[#F9FAFB] hover:bg-white",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-6",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl bg-white border border-gray-100 flex items-center justify-center text-brand-orange",children:i.jsx(Tt,{className:"w-6 h-6"})}),i.jsxs("div",{children:[i.jsxs("p",{className:"font-bold text-gray-900",children:["Order #",_.id.slice(0,8).toUpperCase()]}),i.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider mt-1 ${y(_.status)}`,children:_.status})]})]}),i.jsx("div",{className:"text-right",children:i.jsxs("p",{className:"text-2xl font-black text-gray-900",children:["$",_.total_amount.toFixed(2)]})})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-6 pt-6 border-t border-gray-200/60",children:[i.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-500",children:[i.jsx(hf,{className:"w-4 h-4"}),new Date(_.created_at).toLocaleDateString()]}),i.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-500",children:[i.jsx(ma,{className:"w-4 h-4"}),_.payment_method||"Payment"]}),i.jsx("div",{className:"col-span-2 md:col-span-1 text-right",children:i.jsx("button",{className:"text-sm font-bold text-brand-orange hover:underline",children:"View Details"})})]})]},_.id)):i.jsxs("div",{className:"text-center py-20 bg-gray-50 rounded-[2rem]",children:[i.jsx(sa,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),i.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"No orders found"}),i.jsx("p",{className:"text-gray-500 mt-2",children:"Looks like you haven't placed any orders yet."})]})})]}),u==="security"&&i.jsxs("div",{className:"max-w-2xl",children:[i.jsx("h2",{className:"text-3xl font-black text-gray-900 mb-8",children:"Login & Security"}),i.jsxs("form",{onSubmit:v,className:"space-y-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{htmlFor:"newPassword",className:"text-xs font-bold text-gray-400 uppercase tracking-widest ml-1",children:"New Password"}),i.jsx("input",{type:"password",id:"newPassword",required:!0,minLength:6,value:p.newPassword,onChange:_=>b({...p,newPassword:_.target.value}),className:"w-full px-6 py-4 rounded-2xl bg-gray-50 border-2 border-transparent focus:bg-white focus:border-brand-orange focus:ring-0 outline-none transition-all font-medium",placeholder:""})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{htmlFor:"confirmPassword",className:"text-xs font-bold text-gray-400 uppercase tracking-widest ml-1",children:"Confirm New Password"}),i.jsx("input",{type:"password",id:"confirmPassword",required:!0,minLength:6,value:p.confirmPassword,onChange:_=>b({...p,confirmPassword:_.target.value}),className:"w-full px-6 py-4 rounded-2xl bg-gray-50 border-2 border-transparent focus:bg-white focus:border-brand-orange focus:ring-0 outline-none transition-all font-medium",placeholder:""})]}),i.jsx("button",{type:"submit",disabled:n,className:"px-10 py-4 bg-brand-orange text-white font-bold rounded-2xl hover:bg-orange-600 transition-all shadow-lg hover:shadow-xl transform hover:-translate-y-1 mt-4 disabled:opacity-50",children:n?"Updating...":"Update Password"})]})]})]})})]})})]})}function DS(){const{wishlistItems:e,removeFromWishlist:t,loading:r}=pa(),{addToCart:n}=Vn();return O.useEffect(()=>{document.title="My Wishlist"},[]),r?i.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:i.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-2 border-gray-100 border-t-brand-orange"})}):e.length===0?i.jsx("div",{className:"min-h-screen bg-white flex flex-col items-center justify-center px-6 relative overflow-hidden",children:i.jsxs("div",{className:"text-center max-w-lg relative z-10",children:[i.jsx("div",{className:"w-32 h-32 bg-gray-50 rounded-full mx-auto mb-8 flex items-center justify-center",children:i.jsx(or,{className:"w-12 h-12 text-gray-300"})}),i.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4 tracking-tight",children:"Your Wishlist is Empty"}),i.jsx("p",{className:"text-gray-500 mb-10 font-medium",children:"Save items you love here to buy them later."}),i.jsxs(ae,{to:"/shop",className:"inline-flex items-center gap-2 px-8 py-3 bg-black text-white font-bold rounded-full hover:bg-brand-orange transition-all duration-300 shadow-sm hover:shadow-md",children:["Start Shopping ",i.jsx(ot,{className:"w-4 h-4"})]})]})}):i.jsxs("div",{className:"min-h-screen bg-white font-sans text-gray-900",children:[i.jsx("div",{className:"py-16 border-b border-gray-50",children:i.jsx("div",{className:"w-full max-w-[1400px] mx-auto px-6",children:i.jsxs("h1",{className:"text-4xl font-bold text-gray-900 tracking-tight",children:["My Wishlist ",i.jsxs("span",{className:"text-gray-400 font-normal text-2xl ml-2",children:["(",e.length,")"]})]})})}),i.jsx("div",{className:"w-full max-w-[1400px] mx-auto px-6 py-12",children:i.jsx("div",{className:"bg-white rounded-[2rem] border border-gray-100 shadow-sm overflow-hidden",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:i.jsxs("tr",{children:[i.jsx("th",{className:"py-6 px-8 text-left text-xs font-bold text-gray-500 uppercase tracking-widest",children:"Product"}),i.jsx("th",{className:"py-6 px-8 text-left text-xs font-bold text-gray-500 uppercase tracking-widest",children:"Price"}),i.jsx("th",{className:"py-6 px-8 text-left text-xs font-bold text-gray-500 uppercase tracking-widest",children:"Stock Status"}),i.jsx("th",{className:"py-6 px-8 text-right text-xs font-bold text-gray-500 uppercase tracking-widest",children:"Actions"})]})}),i.jsx("tbody",{className:"divide-y divide-gray-100",children:e.map(s=>{var a;return i.jsxs("tr",{className:"group hover:bg-[#F9FAFB] transition-colors",children:[i.jsx("td",{className:"py-6 px-8",children:i.jsxs("div",{className:"flex items-center gap-6",children:[i.jsx(ae,{to:`/shop/${s.products.id}`,className:"flex-shrink-0",children:i.jsx("div",{className:"w-24 h-24 bg-white rounded-2xl border border-gray-100 p-2 flex items-center justify-center overflow-hidden",children:i.jsx("img",{src:s.products.image_url||"/placeholder-printer.jpg",alt:s.products.name,className:"w-full h-full object-contain mix-blend-multiply opacity-90 group-hover:scale-105 transition-transform duration-500"})})}),i.jsxs("div",{children:[i.jsx(ae,{to:`/shop/${s.products.id}`,children:i.jsx("h3",{className:"text-lg font-bold text-gray-900 hover:text-brand-orange transition-colors mb-1 line-clamp-1",children:s.products.name})}),i.jsxs("p",{className:"text-sm text-gray-500 line-clamp-1",children:[(a=s.products.description)==null?void 0:a.substring(0,50),"..."]})]})]})}),i.jsx("td",{className:"py-6 px-8",children:i.jsxs("span",{className:"text-xl font-black text-gray-900",children:["$",parseFloat(s.products.price).toFixed(2)]})}),i.jsx("td",{className:"py-6 px-8",children:i.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1 rounded-full bg-green-50 text-green-700 text-xs font-bold uppercase tracking-wide",children:[i.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-green-600"}),"In Stock"]})}),i.jsx("td",{className:"py-6 px-8 text-right",children:i.jsxs("div",{className:"flex items-center justify-end gap-4",children:[i.jsxs("button",{onClick:()=>n(s.products.id),className:"px-6 py-3 bg-black text-white font-bold rounded-xl hover:bg-brand-orange transition-all shadow-sm hover:shadow-md flex items-center gap-2 text-sm uppercase tracking-wider",children:[i.jsx(Sr,{className:"w-4 h-4"})," Add to Cart"]}),i.jsx("button",{onClick:()=>t(s.products.id),className:"p-3 rounded-xl border border-gray-200 text-gray-400 hover:text-red-500 hover:border-red-200 hover:bg-red-50 transition-all",title:"Remove from Wishlist",children:i.jsx(gt,{className:"w-5 h-5"})})]})})]},s.id)})})]})})})})]})}function FS(){const[e,t]=O.useState(""),[r,n]=O.useState(""),[s,a]=O.useState(""),[o,c]=O.useState(!1),l=vt(),{login:u,admin:h}=ul();O.useEffect(()=>{h&&l("/admin/dashboard")},[h,l]);const d=async f=>{f.preventDefault(),a(""),c(!0);const p=await u(e,r);p.success?l("/admin/dashboard"):a(p.error||"Invalid email or password"),c(!1)};return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-primary-50 to-accent-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"max-w-md w-full",children:[i.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-primary-600 to-primary-500 rounded-2xl mb-4",children:i.jsx(Nr,{className:"w-8 h-8 text-white"})}),i.jsx("h2",{className:"text-3xl font-bold text-slate-900",children:"Admin Portal"}),i.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Sign in to access the admin dashboard"})]}),s&&i.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-2xl flex items-start gap-3",children:[i.jsx(qn,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),i.jsx("div",{className:"flex-1",children:i.jsx("p",{className:"text-sm font-bold text-red-800",children:s})})]}),i.jsxs("form",{onSubmit:d,className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"email",className:"block text-sm font-bold text-slate-700 mb-2",children:"Admin Email"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(Mr,{className:"h-5 w-5 text-slate-400"})}),i.jsx("input",{id:"email",type:"email",required:!0,value:e,onChange:f=>t(f.target.value),className:"block w-full pl-10 pr-3 py-3 border border-slate-300 rounded-2xl focus:ring-2 focus:ring-primary-500 focus:border-2-primary-500 text-slate-900 placeholder-slate-400",placeholder:"admin@printerpro.com"})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"password",className:"block text-sm font-bold text-slate-700 mb-2",children:"Password"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(ur,{className:"h-5 w-5 text-slate-400"})}),i.jsx("input",{id:"password",type:"password",required:!0,value:r,onChange:f=>n(f.target.value),className:"block w-full pl-10 pr-3 py-3 border border-slate-300 rounded-2xl focus:ring-2 focus:ring-primary-500 focus:border-2-primary-500 text-slate-900 placeholder-slate-400",placeholder:"Enter your password"})]})]}),i.jsx("button",{type:"submit",disabled:o,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-2xl shadow-sm text-sm font-bold text-white bg-gradient-to-r from-primary-600 to-primary-500 hover:from-sky-700 hover:to-cyan-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:o?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),i.jsx("span",{children:"Signing in..."})]}):"Sign in to Admin Panel"})]}),i.jsx("div",{className:"mt-6 pt-6 border-t border-slate-200",children:i.jsx("p",{className:"text-xs text-center text-slate-500",children:"Authorized personnel only. All activities are logged and monitored."})})]}),i.jsxs("div",{className:"mt-6 text-center",children:[i.jsx("p",{className:"text-sm text-slate-600",children:"Default credentials for testing:"}),i.jsx("p",{className:"text-xs text-slate-500 mt-1 font-mono",children:"admin@printerpro.com / Admin@12345"})]})]})})}function qS(){const{currentWebsite:e,websites:t,switchWebsite:r}=Ue();return t.length<=1?null:i.jsxs("div",{className:"flex items-center gap-3 bg-white rounded-lg border border-gray-200 px-4 py-2 shadow-sm",children:[i.jsx(vy,{className:"w-5 h-5 text-gray-500"}),i.jsx("select",{value:(e==null?void 0:e.id)||"",onChange:n=>r(n.target.value),className:"border-0 bg-transparent focus:ring-0 focus:outline-none text-sm font-medium text-gray-700 cursor-pointer",children:t.map(n=>i.jsx("option",{value:n.id,children:n.name},n.id))})]})}function nt({children:e}){var x;const{admin:t,logout:r}=ul(),{settings:n}=zs(),{websiteId:s}=Ue(),{addToast:a}=pl(),o=Rr(),[c,l]=O.useState(!1),[u,h]=O.useState([]),[d,f]=O.useState(!1);O.useEffect(()=>{if(!s)return;const w=Q.channel("admin-orders").on("postgres_changes",{event:"INSERT",schema:"public",table:"orders",filter:`website_id=eq.${s}`},g=>{const m=g.new;h(v=>[{id:m.id,amount:m.total_amount,time:new Date},...v]),a(`NEW ORDER RECEIVED!
Order ID: #${m.id.slice(0,8)}
Amount: $${m.total_amount}`,"success",{duration:0,position:"center"});try{new Audio("/notification.mp3").play()}catch{}}).subscribe();return()=>{Q.removeChannel(w)}},[s]);const p=w=>o.pathname===w||o.pathname.startsWith(w+"/"),b=[{name:"Dashboard",path:"/admin/dashboard",icon:h_},{name:"Brand Settings",path:"/admin/brand",icon:x_},{name:"Products",path:"/admin/products",icon:Tt},{name:"Categories",path:"/admin/categories",icon:k_},{name:"FAQs",path:"/admin/faqs",icon:yy},{name:"Policies",path:"/admin/policies",icon:Rs},{name:"Orders",path:"/admin/orders",icon:sa},{name:"Inquiries",path:"/admin/inquiries",icon:dl},{name:"Payments",path:"/admin/payments",icon:ma}];return i.jsxs("div",{className:"min-h-screen bg-slate-50 text-slate-900",children:[i.jsx("div",{className:"bg-gradient-to-r from-slate-900 via-slate-800 to-slate-900 text-white shadow-xl",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"flex items-center justify-between h-16",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("button",{onClick:()=>l(!c),className:"lg:hidden p-2 rounded-lg hover:bg-slate-700 transition-colors",children:c?i.jsx(gt,{className:"w-6 h-6"}):i.jsx(by,{className:"w-6 h-6"})}),i.jsxs("h1",{className:"text-xl font-bold",children:[n.brand_name," Admin"]})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(qS,{}),i.jsxs("div",{className:"relative",children:[i.jsxs("button",{onClick:()=>f(!d),className:"p-2 rounded-lg hover:bg-slate-700 transition-colors relative group",children:[i.jsx(qu,{className:"w-6 h-6"}),u.length>0&&i.jsx("span",{className:"absolute top-1 right-1 w-4 h-4 bg-red-500 text-white text-[10px] font-bold rounded-full flex items-center justify-center animate-bounce",children:u.length})]}),d&&i.jsxs("div",{className:"absolute right-0 mt-4 w-80 bg-white rounded-2xl shadow-2xl border border-slate-100 z-[60] overflow-hidden animate-in fade-in slide-in-from-top-4",children:[i.jsxs("div",{className:"px-6 py-4 bg-slate-50 border-b border-slate-100 flex items-center justify-between",children:[i.jsx("h4",{className:"font-bold text-slate-900",children:"Notifications"}),i.jsx("button",{onClick:()=>h([]),className:"text-xs font-bold text-red-500 uppercase hover:underline",children:"Clear All"})]}),i.jsx("div",{className:"max-h-96 overflow-y-auto",children:u.length===0?i.jsxs("div",{className:"px-6 py-10 text-center",children:[i.jsx(qu,{className:"w-10 h-10 text-slate-200 mx-auto mb-3"}),i.jsx("p",{className:"text-slate-400 text-sm font-medium",children:"No new notifications"})]}):u.map(w=>i.jsx(ae,{to:"/admin/orders",onClick:()=>f(!1),className:"block px-6 py-4 hover:bg-slate-50 border-b border-slate-50 transition-colors",children:i.jsxs("div",{className:"flex gap-4",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-green-50 flex items-center justify-center flex-shrink-0",children:i.jsx(Sr,{className:"w-5 h-5 text-green-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-bold text-slate-900",children:"New Order Received"}),i.jsxs("p",{className:"text-xs text-slate-500 mt-0.5",children:["Amount: ",i.jsxs("span",{className:"font-bold text-slate-900",children:["$",w.amount]})]}),i.jsx("p",{className:"text-[10px] text-slate-400 mt-1 uppercase font-bold tracking-wider",children:"Just now"})]})]})},w.id))}),i.jsx(ae,{to:"/admin/orders",onClick:()=>f(!1),className:"block py-3 text-center text-xs font-bold text-slate-500 bg-slate-50 hover:bg-slate-100 transition-colors uppercase tracking-widest",children:"View All Orders"})]})]}),i.jsxs("div",{className:"hidden sm:flex items-center gap-2 px-3 py-1.5 bg-slate-700/50 rounded-lg",children:[i.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-sky-500 to-cyan-600 rounded-full flex items-center justify-center text-sm font-bold",children:((x=t==null?void 0:t.name)==null?void 0:x.charAt(0))||"A"}),i.jsxs("div",{className:"text-sm",children:[i.jsx("div",{className:"font-medium",children:(t==null?void 0:t.name)||"Admin"}),i.jsx("div",{className:"text-slate-400 text-xs",children:t==null?void 0:t.email})]})]}),i.jsxs("button",{onClick:r,className:"flex items-center gap-2 px-4 py-2 bg-red-600 hover:bg-red-700 rounded-lg transition-colors text-sm font-medium",children:[i.jsx(xy,{className:"w-4 h-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Logout"})]})]})]})})}),i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:i.jsxs("div",{className:"grid lg:grid-cols-5 gap-8",children:[i.jsx("aside",{className:`lg:col-span-1 ${c?"block":"hidden lg:block"}`,children:i.jsx("nav",{className:"bg-white rounded-xl shadow-md p-3 space-y-1 sticky top-8",children:b.map(w=>i.jsxs(ae,{to:w.path,onClick:()=>l(!1),className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${p(w.path)?"bg-gradient-to-r from-sky-600 to-cyan-600 text-white shadow-lg":"text-slate-700 hover:bg-slate-100"}`,children:[i.jsx(w.icon,{className:"w-5 h-5"}),i.jsx("span",{className:"font-medium",children:w.name})]},w.path))})}),i.jsx("main",{className:"lg:col-span-4",children:e})]})})]})}function BS(){const{websiteId:e}=Ue(),[t,r]=O.useState({products:0,blogs:0,orders:0,revenue:0,users:0,inquiries:0}),[n,s]=O.useState([]),[a,o]=O.useState(!0);O.useEffect(()=>{e&&c()},[e]);const c=async()=>{var u,h,d,f;try{const[p,b,x,w,g,m]=await Promise.all([Q.from("products").select("*",{count:"exact",head:!0}),Q.from("blogs").select("*",{count:"exact",head:!0}),Q.from("orders").select("total_amount").eq("website_id",e),Q.rpc("admin_get_users_by_website",{target_website_id:e}),Q.rpc("admin_get_contact_submissions",{target_website_id:e}),Q.from("orders").select("id, total_amount, status, created_at").eq("website_id",e).order("created_at",{ascending:!1}).limit(5)]),v=((u=x.data)==null?void 0:u.reduce((y,j)=>y+parseFloat(j.total_amount),0))||0;r({products:p.count||0,blogs:b.count||0,orders:((h=x.data)==null?void 0:h.length)||0,revenue:v,users:((d=w.data)==null?void 0:d.length)||0,inquiries:((f=g.data)==null?void 0:f.length)||0}),s(m.data||[])}catch(p){console.error("Error fetching dashboard data:",p)}finally{o(!1)}},l=u=>({pending:"bg-yellow-100 text-yellow-800",processing:"bg-blue-100 text-blue-800",shipped:"bg-cyan-100 text-cyan-800",delivered:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"})[u]||"bg-slate-100 text-slate-800";return a?i.jsx(nt,{children:i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-2-b-2 border-2-primary-600"})})}):i.jsx(nt,{children:i.jsxs("div",{children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("h2",{className:"text-3xl font-bold text-slate-900",children:"Dashboard Overview"}),i.jsx("p",{className:"text-slate-600 mt-1",children:"Welcome back! Here's what's happening with your store."})]}),i.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[i.jsx("div",{className:"bg-gradient-to-br from-primary-600 to-primary-500 rounded-3xl shadow-lg p-6 text-white",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-primary-100 text-sm font-bold",children:"Total Products"}),i.jsx("p",{className:"text-4xl font-bold mt-2",children:t.products})]}),i.jsx("div",{className:"w-14 h-14 bg-white/20 rounded-3xl flex items-center justify-center",children:i.jsx(Tt,{className:"w-7 h-7"})})]})}),i.jsx("div",{className:"bg-gradient-to-br from-emerald-500 to-emerald-600 rounded-3xl shadow-lg p-6 text-white",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-emerald-100 text-sm font-bold",children:"Total Orders"}),i.jsx("p",{className:"text-4xl font-bold mt-2",children:t.orders})]}),i.jsx("div",{className:"w-14 h-14 bg-white/20 rounded-3xl flex items-center justify-center",children:i.jsx(Sr,{className:"w-7 h-7"})})]})}),i.jsx("div",{className:"bg-gradient-to-br from-amber-500 to-amber-600 rounded-3xl shadow-lg p-6 text-white",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-amber-100 text-sm font-bold",children:"Total Revenue"}),i.jsxs("p",{className:"text-4xl font-bold mt-2",children:["$",t.revenue.toFixed(0)]})]}),i.jsx("div",{className:"w-14 h-14 bg-white/20 rounded-3xl flex items-center justify-center",children:i.jsx(a_,{className:"w-7 h-7"})})]})}),i.jsx("div",{className:"bg-white rounded-3xl shadow-md p-6 border-2 border-slate-100",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-slate-600 text-sm font-bold",children:"Registered Users"}),i.jsx("p",{className:"text-3xl font-bold text-slate-900 mt-2",children:t.users})]}),i.jsx("div",{className:"w-12 h-12 bg-slate-100 rounded-3xl flex items-center justify-center",children:i.jsx(Uu,{className:"w-6 h-6 text-slate-600"})})]})}),i.jsx("div",{className:"bg-white rounded-3xl shadow-md p-6 border-2 border-slate-100",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-slate-600 text-sm font-bold",children:"Customer Inquiries"}),i.jsx("p",{className:"text-3xl font-bold text-slate-900 mt-2",children:t.inquiries})]}),i.jsx("div",{className:"w-12 h-12 bg-slate-100 rounded-3xl flex items-center justify-center",children:i.jsx(dl,{className:"w-6 h-6 text-slate-600"})})]})}),i.jsx("div",{className:"bg-white rounded-3xl shadow-md p-6 border-2 border-slate-100",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-slate-600 text-sm font-bold",children:"Blog Posts"}),i.jsx("p",{className:"text-3xl font-bold text-slate-900 mt-2",children:t.blogs})]}),i.jsx("div",{className:"w-12 h-12 bg-slate-100 rounded-3xl flex items-center justify-center",children:i.jsx(Rs,{className:"w-6 h-6 text-slate-600"})})]})})]}),i.jsxs("div",{className:"grid lg:grid-cols-2 gap-6 mb-8",children:[i.jsxs("div",{className:"bg-white rounded-3xl shadow-md p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h3",{className:"text-xl font-bold text-slate-900",children:"Recent Orders"}),i.jsx(ae,{to:"/admin/orders",className:"text-sm text-primary-600 hover:text-primary-700 font-bold",children:"View All"})]}),n.length===0?i.jsxs("div",{className:"text-center py-8 text-slate-500",children:[i.jsx(Sr,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),i.jsx("p",{children:"No orders yet"})]}):i.jsx("div",{className:"space-y-3",children:n.map(u=>i.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-2xl hover:bg-slate-100 transition-colors",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(ta,{className:"w-4 h-4 text-slate-400"}),i.jsx("span",{className:"text-sm text-slate-600",children:new Date(u.created_at).toLocaleDateString()})]}),i.jsxs("p",{className:"font-mono text-xs text-slate-500 mt-1",children:["#",u.id.slice(0,8)]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"font-bold text-slate-900",children:["$",parseFloat(u.total_amount).toFixed(2)]}),i.jsx("span",{className:`inline-block px-2 py-1 rounded text-xs font-bold mt-1 ${l(u.status)}`,children:u.status})]})]},u.id))})]}),i.jsxs("div",{className:"bg-white rounded-3xl shadow-md p-6",children:[i.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-6",children:"Quick Actions"}),i.jsxs("div",{className:"grid gap-4",children:[i.jsxs(ae,{to:"/admin/products",className:"flex items-center gap-4 p-4 bg-gradient-to-r from-primary-50 to-accent-50 rounded-2xl hover:from-sky-100 hover:to-cyan-100 transition-colors group",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-primary-600 to-primary-500 rounded-2xl flex items-center justify-center group-hover:scale-110 transition-transform",children:i.jsx(Tt,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-bold text-slate-900",children:"Manage Products"}),i.jsx("p",{className:"text-sm text-slate-600",children:"Add, edit, or remove products"})]})]}),i.jsxs(ae,{to:"/admin/orders",className:"flex items-center gap-4 p-4 bg-gradient-to-r from-emerald-50 to-green-50 rounded-2xl hover:from-emerald-100 hover:to-green-100 transition-colors group",children:[i.jsx("div",{className:"w-12 h-12 bg-emerald-600 rounded-2xl flex items-center justify-center group-hover:scale-110 transition-transform",children:i.jsx(Sr,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-bold text-slate-900",children:"Manage Orders"}),i.jsx("p",{className:"text-sm text-slate-600",children:"View and update order status"})]})]}),i.jsxs(ae,{to:"/admin/blogs",className:"flex items-center gap-4 p-4 bg-gradient-to-r from-amber-50 to-orange-50 rounded-2xl hover:from-amber-100 hover:to-orange-100 transition-colors group",children:[i.jsx("div",{className:"w-12 h-12 bg-amber-600 rounded-2xl flex items-center justify-center group-hover:scale-110 transition-transform",children:i.jsx(Rs,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-bold text-slate-900",children:"Manage Blogs"}),i.jsx("p",{className:"text-sm text-slate-600",children:"Create and publish blog posts"})]})]})]})]})]})]})})}const US=async(e,t="assets",r="",n=null)=>{try{const s=n||Q,a=e.name.split(".").pop(),o=`${Math.random().toString(36).substring(2)}-${Date.now()}.${a}`,c=r?`${r}/${o}`:o,{data:l,error:u}=await s.storage.from(t).upload(c,e,{cacheControl:"3600",upsert:!1});if(u)throw u;const{data:{publicUrl:h}}=s.storage.from(t).getPublicUrl(c);return{url:h,path:c,error:null}}catch(s){return console.error("Upload error:",s),{url:null,path:null,error:s.message}}};function Ip({bucket:e="assets",folder:t="",onUploadComplete:r,currentImage:n=null,label:s="Upload Image",client:a=null}){const[o,c]=O.useState(!1),[l,u]=O.useState(n),[h,d]=O.useState(""),f=O.useRef(null),p=async x=>{var y;const w=(y=x.target.files)==null?void 0:y[0];if(!w)return;if(!["image/jpeg","image/jpg","image/png"].includes(w.type)){d("Only JPG and PNG files are allowed");return}if(w.size>5*1024*1024){d("Image size must be less than 5MB");return}d(""),c(!0);const m=new FileReader;m.onloadend=()=>{u(m.result)},m.readAsDataURL(w);const v=await US(w,e,t,a);v.error?(d(v.error),u(n)):r&&r(v.url,v.path),c(!1)},b=()=>{u(null),f.current&&(f.current.value=""),r&&r(null,null)};return i.jsxs("div",{className:"w-full",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:s}),i.jsxs("div",{className:"relative",children:[l?i.jsxs("div",{className:"relative w-full h-48 rounded-lg border-2 border-gray-200 overflow-hidden group",children:[i.jsx("img",{src:l,alt:"Preview",className:"w-full h-full object-cover"}),i.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-40 transition-all flex items-center justify-center",children:i.jsx("button",{type:"button",onClick:b,className:"opacity-0 group-hover:opacity-100 transition-opacity bg-red-500 text-white p-2 rounded-full hover:bg-red-600",children:i.jsx(gt,{className:"w-5 h-5"})})})]}):i.jsx("div",{onClick:()=>{var x;return(x=f.current)==null?void 0:x.click()},className:"w-full h-48 rounded-lg border-2 border-dashed border-gray-300 hover:border-blue-500 transition-colors cursor-pointer flex flex-col items-center justify-center bg-gray-50 hover:bg-gray-100",children:o?i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mb-2"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Uploading..."})]}):i.jsxs(i.Fragment,{children:[i.jsx(Sy,{className:"w-12 h-12 text-gray-400 mb-2"}),i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Click to upload image"}),i.jsx("p",{className:"text-xs text-gray-500",children:"PNG or JPG up to 5MB"})]})}),i.jsx("input",{ref:f,type:"file",accept:"image/png,image/jpeg,image/jpg",onChange:p,className:"hidden"})]}),h&&i.jsx("p",{className:"mt-2 text-sm text-red-600",children:h})]})}function zS(){const[e,t]=O.useState([]),[r,n]=O.useState([]),[s,a]=O.useState(!0),{websiteId:o}=Ue(),[c,l]=O.useState(!1),[u,h]=O.useState(!1),[d,f]=O.useState(null),[p,b]=O.useState(""),[x,w]=O.useState("basic"),[g,m]=O.useState({uploading:!1,success:0,failed:0,errors:[]}),[v,y]=O.useState({name:"",description:"",price:"",category_id:"",brand:"",image_url:"",images:[]});O.useEffect(()=>{o&&(j(),S())},[o]);const j=async()=>{try{const{data:I,error:P}=await Q.from("categories").select("*").order("name");if(P)throw P;n(I||[])}catch(I){console.error("Error fetching categories:",I)}},S=async()=>{a(!0);try{const{data:I,error:P}=await Q.from("products").select("*, categories(*)").order("created_at",{ascending:!1});if(P)throw P;t(I||[])}catch(I){console.error("Error fetching products:",I)}finally{a(!1)}},N=async I=>{I.preventDefault();try{const P={name:v.name,description:v.description,price:parseFloat(v.price)||0,category_id:v.category_id,brand:v.brand,image_url:v.image_url,images:JSON.stringify(v.images),website_id:o};if(d){const{data:M,error:R}=await Q.rpc("admin_manage_product",{operation:"update",product_id:d.id,product_data:P});if(R)throw R;if(!(M!=null&&M.success))throw new Error((M==null?void 0:M.error)||"Failed to update product")}else{const{data:M,error:R}=await Q.rpc("admin_manage_product",{operation:"insert",product_data:P});if(R)throw R;if(!(M!=null&&M.success))throw new Error((M==null?void 0:M.error)||"Failed to create product")}l(!1),f(null),k(),S()}catch(P){console.error("Error saving product:",P),alert("Failed to save product: "+P.message)}},_=async I=>{if(confirm("Are you sure you want to delete this product?"))try{const{data:P,error:M}=await Q.rpc("admin_manage_product",{operation:"delete",product_id:I});if(M)throw M;if(!(P!=null&&P.success))throw new Error((P==null?void 0:P.error)||"Failed to delete product");S()}catch(P){console.error("Error deleting product:",P),alert("Failed to delete product: "+P.message)}},C=(I=null)=>{I?(f(I),y({name:I.name||"",description:I.description||"",price:I.price||"",category_id:I.category_id||"",brand:I.brand||"",image_url:I.image_url||"",images:I.images||[]})):k(),w("basic"),l(!0)},k=()=>{y({name:"",description:"",price:"",category_id:"",brand:"",image_url:"",images:[]})},E=I=>{y({...v,image_url:I})},T=I=>{y({...v,images:[...v.images,I]})},A=I=>{const P=[...v.images];P.splice(I,1),y({...v,images:P})},L=I=>{const P=I.target.type==="checkbox"?I.target.checked:I.target.value;y({...v,[I.target.name]:P})},F=e.filter(I=>I.name.toLowerCase().includes(p.toLowerCase())||I.brand&&I.brand.toLowerCase().includes(p.toLowerCase())||I.description&&I.description.toLowerCase().includes(p.toLowerCase())),U=()=>{const I=`name,description,price,category_id,brand,image_url
HP LaserJet Pro,Professional laser printer,299.99,CATEGORY_ID_HERE,HP,https://example.com/image.jpg
Canon Inkjet,Affordable inkjet printer,149.99,CATEGORY_ID_HERE,Canon,https://example.com/image.jpg`,P=new Blob([I],{type:"text/csv"}),M=window.URL.createObjectURL(P),R=document.createElement("a");R.href=M,R.download="product_upload_template.csv",R.click(),window.URL.revokeObjectURL(M)},B=I=>{const P=[];let M="",R=!1;for(let V=0;V<I.length;V++){const W=I[V];W==='"'?R=!R:W===","&&!R?(P.push(M.trim()),M=""):M+=W}return P.push(M.trim()),P},q=async I=>{var R;const P=(R=I.target.files)==null?void 0:R[0];if(!P)return;m({uploading:!0,success:0,failed:0,errors:[]});const M=new FileReader;M.onload=async V=>{var W;try{const H=((W=V.target)==null?void 0:W.result).split(`
`).filter(re=>re.trim()),K=B(H[0]);let G=0,z=0;const Z=[];for(let re=1;re<H.length;re++)if(H[re].trim())try{const le=B(H[re]),ue={};if(K.forEach((Y,J)=>{ue[Y]=le[J]||""}),!ue.name||!ue.category_id)throw new Error("Missing required fields: name and category_id");if(ue.category_id==="CATEGORY_ID_HERE")throw new Error("Please replace CATEGORY_ID_HERE with an actual category ID");const ve={name:ue.name,description:ue.description||"",price:parseFloat(ue.price)||0,category_id:ue.category_id,brand:ue.brand||"",image_url:ue.image_url||"",images:"[]"},{data:Me,error:Ie}=await Q.rpc("admin_manage_product",{operation:"insert",product_data:ve});if(Ie)throw Ie;if(!(Me!=null&&Me.success))throw new Error((Me==null?void 0:Me.error)||"Failed to insert product");G++}catch(le){z++,Z.push(`Row ${re+1}: ${le.message}`)}m({uploading:!1,success:G,failed:z,errors:Z}),G>0&&S()}catch($){m({uploading:!1,success:0,failed:0,errors:["Failed to parse CSV file: "+$.message]})}},M.readAsText(P),I.target.value=""},D=[{id:"basic",label:"Basic Info"},{id:"pricing",label:"Pricing"},{id:"images",label:"Images"}];return i.jsx(nt,{children:i.jsxs("div",{children:[i.jsxs("div",{className:"mb-8",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h2",{className:"text-3xl font-bold text-slate-900",children:"Product Management"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("button",{onClick:U,className:"flex items-center gap-2 px-4 py-2 bg-slate-600 text-white rounded-2xl hover:bg-slate-700 transition-colors font-bold",children:[i.jsx(o_,{className:"w-5 h-5"}),i.jsx("span",{children:"Download Template"})]}),i.jsxs("label",{className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-2xl hover:bg-green-700 transition-colors font-bold cursor-pointer",children:[i.jsx(Sy,{className:"w-5 h-5"}),i.jsx("span",{children:"Bulk Upload"}),i.jsx("input",{type:"file",accept:".csv",onChange:q,className:"hidden"})]}),i.jsxs("button",{onClick:()=>C(),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-primary-600 to-primary-500 text-white rounded-2xl hover:from-sky-700 hover:to-cyan-700 transition-colors font-bold",children:[i.jsx(hn,{className:"w-5 h-5"}),i.jsx("span",{children:"Add Product"})]})]})]}),i.jsxs("div",{className:"relative",children:[i.jsx(dr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),i.jsx("input",{type:"text",placeholder:"Search products by name or slug...",value:p,onChange:I=>b(I.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-slate-300 rounded-2xl focus:ring-2 focus:ring-primary-500 focus:border-2-primary-500"})]})]}),s?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-sky-600"})}):i.jsx("div",{className:"bg-white rounded-3xl shadow-md overflow-hidden",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-slate-50 border-b-2 border-slate-200",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-700 uppercase tracking-wider",children:"Product"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-700 uppercase tracking-wider",children:"Category"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-700 uppercase tracking-wider",children:"Brand"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-700 uppercase tracking-wider",children:"Price"}),i.jsx("th",{className:"px-6 py-4 text-right text-xs font-bold text-slate-700 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"divide-y divide-slate-200",children:F.map(I=>{var P;return i.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("img",{src:I.image_url,alt:I.name,className:"w-16 h-16 rounded-2xl object-cover shadow-sm"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-bold text-slate-900",children:I.name}),i.jsx("p",{className:"text-sm text-slate-500",children:I.slug}),I.is_featured&&i.jsx("span",{className:"inline-block mt-1 px-2 py-0.5 text-xs font-bold bg-amber-100 text-amber-800 rounded",children:"Featured"})]})]})}),i.jsx("td",{className:"px-6 py-4 text-sm text-slate-700",children:((P=I.categories)==null?void 0:P.name)||"N/A"}),i.jsx("td",{className:"px-6 py-4 text-sm text-slate-700",children:I.brand||"N/A"}),i.jsx("td",{className:"px-6 py-4",children:i.jsxs("span",{className:"font-bold text-slate-900",children:["$",parseFloat(I.price).toFixed(2)]})}),i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{className:"flex items-center justify-end gap-2",children:[i.jsx("button",{onClick:()=>C(I),className:"p-2 text-primary-600 hover:bg-primary-50 rounded-2xl transition-colors",title:"Edit",children:i.jsx(Ny,{className:"w-4 h-4"})}),i.jsx("button",{onClick:()=>_(I.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-2xl transition-colors",title:"Delete",children:i.jsx(Ls,{className:"w-4 h-4"})})]})})]},I.id)})})]})})}),c&&i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50 overflow-y-auto",children:i.jsxs("div",{className:"bg-white rounded-3xl max-w-4xl w-full my-8",children:[i.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-6 py-4 rounded-t-xl z-10",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"text-2xl font-bold text-slate-900",children:d?"Edit Product":"Add New Product"}),i.jsx("button",{onClick:()=>{l(!1),f(null),k()},className:"text-slate-400 hover:text-slate-600 transition-colors",children:i.jsx(gt,{className:"w-6 h-6"})})]}),i.jsx("div",{className:"flex gap-2 mt-4 overflow-x-auto",children:D.map(I=>i.jsx("button",{onClick:()=>w(I.id),className:`px-4 py-2 rounded-2xl font-bold whitespace-nowrap transition-colors ${x===I.id?"bg-gradient-to-r from-primary-600 to-primary-500 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:I.label},I.id))})]}),i.jsxs("form",{onSubmit:N,className:"p-6 space-y-6 max-h-[calc(90vh-200px)] overflow-y-auto",children:[x==="basic"&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Product Name *"}),i.jsx("input",{type:"text",name:"name",required:!0,value:v.name,onChange:L,className:"w-full px-4 py-2.5 border border-slate-300 rounded-2xl focus:ring-2 focus:ring-primary-500 focus:border-2-primary-500",placeholder:"Enter product name"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Brand *"}),i.jsx("input",{type:"text",name:"brand",required:!0,value:v.brand,onChange:L,className:"w-full px-4 py-2.5 border border-slate-300 rounded-2xl focus:ring-2 focus:ring-primary-500 focus:border-2-primary-500",placeholder:"Enter brand name"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Category *"}),i.jsxs("select",{name:"category_id",required:!0,value:v.category_id,onChange:L,className:"w-full px-4 py-2.5 border border-slate-300 rounded-2xl focus:ring-2 focus:ring-primary-500 focus:border-2-primary-500",children:[i.jsx("option",{value:"",children:"Select a category"}),r.map(I=>i.jsx("option",{value:I.id,children:I.name},I.id))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Description *"}),i.jsx("textarea",{name:"description",required:!0,rows:"4",value:v.description,onChange:L,className:"w-full px-4 py-2.5 border border-slate-300 rounded-2xl focus:ring-2 focus:ring-primary-500 focus:border-2-primary-500 resize-none",placeholder:"Enter product description"})]})]}),x==="pricing"&&i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Price *"}),i.jsx("input",{type:"number",name:"price",required:!0,step:"0.01",min:"0",value:v.price,onChange:L,className:"w-full px-4 py-2.5 border border-slate-300 rounded-2xl focus:ring-2 focus:ring-primary-500 focus:border-2-primary-500",placeholder:"0.00"})]})}),x==="images"&&i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{children:i.jsx(Ip,{bucket:"product-images",folder:"products",currentImage:v.image_url,onUploadComplete:E,label:"Main Product Image (PNG or JPG only) *"})}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Product Gallery (Optional)"}),i.jsx("div",{className:"grid grid-cols-3 gap-4 mb-4",children:v.images.map((I,P)=>i.jsxs("div",{className:"relative group",children:[i.jsx("img",{src:I,alt:`Gallery ${P+1}`,className:"w-full h-32 object-cover rounded-2xl border-2 border-slate-200"}),i.jsx("button",{type:"button",onClick:()=>A(P),className:"absolute top-2 right-2 p-1.5 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:i.jsx(C_,{className:"w-4 h-4"})})]},P))}),i.jsx(Ip,{bucket:"product-images",folder:"products",onUploadComplete:T,label:"Add Gallery Image (PNG or JPG only)"})]})]}),i.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200 sticky bottom-0 bg-white",children:[i.jsx("button",{type:"submit",disabled:!v.image_url,className:"flex-1 px-4 py-2.5 bg-gradient-to-r from-primary-600 to-primary-500 text-white rounded-2xl hover:from-sky-700 hover:to-cyan-700 transition-colors font-bold disabled:opacity-50 disabled:cursor-not-allowed",children:d?"Update Product":"Add Product"}),i.jsx("button",{type:"button",onClick:()=>{l(!1),f(null),k()},className:"flex-1 px-4 py-2.5 bg-slate-100 text-slate-700 rounded-2xl hover:bg-slate-200 transition-colors font-bold",children:"Cancel"})]})]})]})}),(g.uploading||g.success>0||g.failed>0)&&i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:i.jsxs("div",{className:"bg-white rounded-3xl max-w-2xl w-full p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-2xl font-bold text-slate-900",children:g.uploading?"Uploading Products...":"Upload Complete"}),!g.uploading&&i.jsx("button",{onClick:()=>m({uploading:!1,success:0,failed:0,errors:[]}),className:"text-slate-400 hover:text-slate-600 transition-colors",children:i.jsx(gt,{className:"w-6 h-6"})})]}),g.uploading?i.jsxs("div",{className:"flex flex-col items-center py-8",children:[i.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-sky-600 mb-4"}),i.jsx("p",{className:"text-slate-600",children:"Processing your CSV file..."})]}):i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"bg-green-50 border-2 border-green-200 rounded-2xl p-4",children:[i.jsx("p",{className:"text-green-600 text-sm font-bold mb-1",children:"Successful"}),i.jsx("p",{className:"text-3xl font-bold text-green-700",children:g.success})]}),i.jsxs("div",{className:"bg-red-50 border-2 border-red-200 rounded-2xl p-4",children:[i.jsx("p",{className:"text-red-600 text-sm font-bold mb-1",children:"Failed"}),i.jsx("p",{className:"text-3xl font-bold text-red-700",children:g.failed})]})]}),g.errors.length>0&&i.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-2xl p-4 max-h-64 overflow-y-auto",children:[i.jsx("p",{className:"text-red-700 font-bold mb-2",children:"Errors:"}),i.jsx("ul",{className:"space-y-1",children:g.errors.map((I,P)=>i.jsx("li",{className:"text-sm text-red-600",children:I},P))})]}),i.jsx("button",{onClick:()=>m({uploading:!1,success:0,failed:0,errors:[]}),className:"w-full px-4 py-2.5 bg-gradient-to-r from-primary-600 to-primary-500 text-white rounded-2xl hover:from-primary-700 hover:to-primary-600 transition-colors font-bold",children:"Close"})]})]})})]})})}function HS(){const[e,t]=O.useState([]),[r,n]=O.useState(!0),[s,a]=O.useState(!1),[o,c]=O.useState(null),[l,u]=O.useState(""),[h,d]=O.useState({name:"",slug:"",description:"",is_active:!0});O.useEffect(()=>{f()},[]);const f=async()=>{n(!0);try{const{data:S,error:N}=await Q.from("categories").select("*").order("created_at",{ascending:!1});if(N)throw N;t(S||[])}catch(S){console.error("Error fetching categories:",S)}finally{n(!1)}},p=async S=>{S.preventDefault();try{if(o){const{data:N,error:_}=await Q.rpc("admin_manage_category",{operation:"update",category_id:o.id,category_data:h});if(_)throw _}else{const{data:N,error:_}=await Q.rpc("admin_manage_category",{operation:"insert",category_data:h});if(_)throw _}a(!1),c(null),g(),f()}catch(N){console.error("Error saving category:",N),alert("Failed to save category: "+N.message)}},b=async S=>{if(confirm("Are you sure you want to delete this category? This may affect products using this category."))try{const{data:N,error:_}=await Q.rpc("admin_manage_category",{operation:"delete",category_id:S});if(_)throw _;f()}catch(N){console.error("Error deleting category:",N),alert("Failed to delete category")}},x=async S=>{try{const{data:N,error:_}=await Q.rpc("admin_manage_category",{operation:"update",category_id:S.id,category_data:{is_active:!S.is_active}});if(_)throw _;f()}catch(N){console.error("Error toggling category status:",N),alert("Failed to toggle category status")}},w=(S=null)=>{S?(c(S),d({name:S.name,slug:S.slug,description:S.description||"",is_active:S.is_active!==void 0?S.is_active:!0})):g(),a(!0)},g=()=>{d({name:"",slug:"",description:"",is_active:!0})},m=S=>{const N=S.target.type==="checkbox"?S.target.checked:S.target.value;d({...h,[S.target.name]:N})},v=S=>S.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),y=e.filter(S=>S.name.toLowerCase().includes(l.toLowerCase())||S.slug.toLowerCase().includes(l.toLowerCase())),j=S=>{navigator.clipboard.writeText(S),alert("Category ID copied to clipboard!")};return i.jsx(nt,{children:i.jsxs("div",{children:[i.jsxs("div",{className:"mb-8",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h2",{className:"text-3xl font-bold text-slate-900",children:"Category Management"}),i.jsxs("button",{onClick:()=>w(),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-primary-600 to-primary-500 text-white rounded-2xl hover:from-sky-700 hover:to-cyan-700 transition-colors font-bold",children:[i.jsx(hn,{className:"w-5 h-5"}),i.jsx("span",{children:"Add Category"})]})]}),i.jsxs("div",{className:"relative",children:[i.jsx(dr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),i.jsx("input",{type:"text",placeholder:"Search categories by name or slug...",value:l,onChange:S=>u(S.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-slate-300 rounded-2xl focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]})]}),r?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-sky-600"})}):i.jsx("div",{className:"bg-white rounded-3xl shadow-md overflow-hidden",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-slate-50 border-b-2 border-slate-200",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-700 uppercase tracking-wider",children:"Category Name"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-700 uppercase tracking-wider",children:"Category ID"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-700 uppercase tracking-wider",children:"Slug"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-700 uppercase tracking-wider",children:"Description"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-700 uppercase tracking-wider",children:"Status"}),i.jsx("th",{className:"px-6 py-4 text-right text-xs font-bold text-slate-700 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"divide-y divide-slate-200",children:y.map(S=>i.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[i.jsx("td",{className:"px-6 py-4",children:i.jsx("p",{className:"font-bold text-slate-900",children:S.name})}),i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("span",{className:"text-xs font-mono text-slate-600 bg-slate-100 px-2 py-1 rounded",children:[S.id.substring(0,8),"..."]}),i.jsx("button",{onClick:()=>j(S.id),className:"p-1.5 text-sky-600 hover:bg-sky-50 rounded transition-colors",title:"Copy full ID",children:i.jsx(i_,{className:"w-4 h-4"})})]})}),i.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:S.slug}),i.jsx("td",{className:"px-6 py-4 text-sm text-slate-700",children:S.description||"No description"}),i.jsx("td",{className:"px-6 py-4",children:i.jsx("button",{onClick:()=>x(S),className:`flex items-center gap-2 px-3 py-1 rounded-2xl text-sm font-bold transition-colors ${S.is_active?"bg-green-100 text-green-800 hover:bg-green-200":"bg-slate-100 text-slate-800 hover:bg-slate-200"}`,children:S.is_active?i.jsxs(i.Fragment,{children:[i.jsx(O_,{className:"w-4 h-4"}),"Active"]}):i.jsxs(i.Fragment,{children:[i.jsx(T_,{className:"w-4 h-4"}),"Inactive"]})})}),i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{className:"flex items-center justify-end gap-2",children:[i.jsx("button",{onClick:()=>w(S),className:"p-2 text-sky-600 hover:bg-sky-50 rounded-2xl transition-colors",title:"Edit",children:i.jsx(Ny,{className:"w-4 h-4"})}),i.jsx("button",{onClick:()=>b(S.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-2xl transition-colors",title:"Delete",children:i.jsx(Ls,{className:"w-4 h-4"})})]})})]},S.id))})]})})}),s&&i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:i.jsxs("div",{className:"bg-white rounded-3xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[i.jsx("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-6 py-4 rounded-t-xl",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"text-2xl font-bold text-slate-900",children:o?"Edit Category":"Add New Category"}),i.jsx("button",{onClick:()=>{a(!1),c(null),g()},className:"text-slate-400 hover:text-slate-600 transition-colors",children:i.jsx(gt,{className:"w-6 h-6"})})]})}),i.jsxs("form",{onSubmit:p,className:"p-6 space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Category Name *"}),i.jsx("input",{type:"text",name:"name",required:!0,value:h.name,onChange:S=>{m(S),o||d(N=>({...N,slug:v(S.target.value)}))},className:"w-full px-4 py-2.5 border border-slate-300 rounded-2xl focus:ring-2 focus:ring-sky-500 focus:border-sky-500",placeholder:"Enter category name"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Slug *"}),i.jsx("input",{type:"text",name:"slug",required:!0,value:h.slug,onChange:m,className:"w-full px-4 py-2.5 border border-slate-300 rounded-2xl focus:ring-2 focus:ring-sky-500 focus:border-sky-500",placeholder:"category-slug"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Description"}),i.jsx("textarea",{name:"description",rows:"3",value:h.description,onChange:m,className:"w-full px-4 py-2.5 border border-slate-300 rounded-2xl focus:ring-2 focus:ring-sky-500 focus:border-sky-500 resize-none",placeholder:"Enter category description"})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",id:"is_active",name:"is_active",checked:h.is_active,onChange:m,className:"w-4 h-4 text-sky-600 border-slate-300 rounded focus:ring-sky-500"}),i.jsx("label",{htmlFor:"is_active",className:"ml-2 text-sm font-bold text-slate-700",children:"Active Status"})]}),i.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200",children:[i.jsx("button",{type:"submit",className:"flex-1 px-4 py-2.5 bg-gradient-to-r from-primary-600 to-primary-500 text-white rounded-2xl hover:from-sky-700 hover:to-cyan-700 transition-colors font-bold",children:o?"Update Category":"Add Category"}),i.jsx("button",{type:"button",onClick:()=>{a(!1),c(null),g()},className:"flex-1 px-4 py-2.5 bg-slate-100 text-slate-700 rounded-2xl hover:bg-slate-200 transition-colors font-bold",children:"Cancel"})]})]})]})})]})})}function VS(){var N,_,C;const{websiteId:e}=Ue(),[t,r]=O.useState([]),[n,s]=O.useState([]),[a,o]=O.useState(!0),[c,l]=O.useState(""),[u,h]=O.useState("all"),[d,f]=O.useState(null),[p,b]=O.useState(!1),[x,w]=O.useState([]);O.useEffect(()=>{e&&g()},[e]),O.useEffect(()=>{m()},[c,u,t]);const g=async()=>{try{const{data:k,error:E}=await Q.from("orders").select("*").eq("website_id",e).order("created_at",{ascending:!1});if(E)throw E;r(k||[])}catch(k){console.error("Error fetching orders:",k)}finally{o(!1)}},m=()=>{let k=t;u!=="all"&&(k=k.filter(E=>E.status===u)),c&&(k=k.filter(E=>E.id.toLowerCase().includes(c.toLowerCase()))),s(k)},v=async(k,E)=>{try{const{error:T}=await Q.from("orders").update({status:E,updated_at:new Date().toISOString()}).eq("id",k);if(T)throw T;r(t.map(A=>A.id===k?{...A,status:E}:A)),(d==null?void 0:d.id)===k&&f({...d,status:E})}catch(T){console.error("Error updating order status:",T),alert("Failed to update order status")}},y=async k=>{f(k),b(!0);try{const{data:E,error:T}=await Q.from("order_items").select(`
          *,
          products (
            name,
            image_url,
            price
          )
        `).eq("order_id",k.id);if(T)throw T;w(E||[])}catch(E){console.error("Error fetching order items:",E)}},j=k=>({pending:i.jsx(ta,{className:"w-5 h-5"}),processing:i.jsx(Tt,{className:"w-5 h-5"}),shipped:i.jsx(hl,{className:"w-5 h-5"}),delivered:i.jsx(Et,{className:"w-5 h-5"}),cancelled:i.jsx($s,{className:"w-5 h-5"})})[k]||i.jsx(ta,{className:"w-5 h-5"}),S=k=>({pending:"bg-yellow-100 text-yellow-800 border-yellow-200",processing:"bg-blue-100 text-blue-800 border-blue-200",shipped:"bg-cyan-100 text-cyan-800 border-cyan-200",delivered:"bg-green-100 text-green-800 border-green-200",cancelled:"bg-red-100 text-red-800 border-red-200"})[k]||"bg-slate-100 text-slate-800 border-slate-200";return a?i.jsx(nt,{children:i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-sky-600"})})}):i.jsx(nt,{children:i.jsxs("div",{children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("h2",{className:"text-3xl font-bold text-slate-900",children:"Order Management"}),i.jsx("p",{className:"text-slate-600 mt-1",children:"View and manage customer orders"})]}),i.jsxs("div",{className:"bg-white rounded-3xl shadow-md p-6 mb-6",children:[i.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx(dr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),i.jsx("input",{type:"text",placeholder:"Search by order ID...",value:c,onChange:k=>l(k.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-slate-300 rounded-2xl focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),i.jsxs("div",{className:"relative",children:[i.jsx(mf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),i.jsxs("select",{value:u,onChange:k=>h(k.target.value),className:"w-full pl-10 pr-10 py-2.5 border border-slate-300 rounded-2xl focus:ring-2 focus:ring-sky-500 focus:border-sky-500 appearance-none",children:[i.jsx("option",{value:"all",children:"All Statuses"}),i.jsx("option",{value:"pending",children:"Pending"}),i.jsx("option",{value:"processing",children:"Processing"}),i.jsx("option",{value:"shipped",children:"Shipped"}),i.jsx("option",{value:"delivered",children:"Delivered"}),i.jsx("option",{value:"cancelled",children:"Cancelled"})]}),i.jsx(gs,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400 pointer-events-none"})]})]}),i.jsxs("div",{className:"mt-4 flex items-center gap-4 text-sm",children:[i.jsx("span",{className:"text-slate-600",children:"Total Orders:"}),i.jsx("span",{className:"font-bold text-slate-900",children:n.length})]})]}),n.length===0?i.jsxs("div",{className:"bg-white rounded-3xl shadow-md p-12 text-center",children:[i.jsx(Tt,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),i.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"No orders found"}),i.jsx("p",{className:"text-slate-600",children:c||u!=="all"?"Try adjusting your filters":"Orders will appear here once customers make purchases"})]}):i.jsx("div",{className:"bg-white rounded-3xl shadow-md overflow-hidden",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-slate-50 border-b-2 border-slate-200",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-700 uppercase tracking-wider",children:"Order ID"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-700 uppercase tracking-wider",children:"Date"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-700 uppercase tracking-wider",children:"Amount"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-700 uppercase tracking-wider",children:"Status"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-700 uppercase tracking-wider",children:"Payment"}),i.jsx("th",{className:"px-6 py-4 text-right text-xs font-bold text-slate-700 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"divide-y divide-slate-200",children:n.map(k=>i.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[i.jsx("td",{className:"px-6 py-4",children:i.jsxs("span",{className:"font-mono text-sm text-slate-600",children:["#",k.id.slice(0,8)]})}),i.jsx("td",{className:"px-6 py-4",children:i.jsx("span",{className:"text-sm text-slate-900",children:new Date(k.created_at).toLocaleDateString()})}),i.jsx("td",{className:"px-6 py-4",children:i.jsxs("span",{className:"text-sm font-bold text-slate-900",children:["$",parseFloat(k.total_amount).toFixed(2)]})}),i.jsx("td",{className:"px-6 py-4",children:i.jsxs("span",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-full text-xs font-bold border ${S(k.status)}`,children:[j(k.status),k.status]})}),i.jsx("td",{className:"px-6 py-4",children:i.jsx("span",{className:"text-sm text-slate-600 capitalize",children:k.payment_status})}),i.jsx("td",{className:"px-6 py-4 text-right",children:i.jsxs("button",{onClick:()=>y(k),className:"inline-flex items-center gap-2 px-4 py-2 bg-sky-600 text-white rounded-2xl hover:bg-sky-700 transition-colors text-sm font-bold",children:[i.jsx(ra,{className:"w-4 h-4"}),"View Details"]})})]},k.id))})]})})}),p&&d&&i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:i.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[i.jsx("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-6 py-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"text-2xl font-bold text-slate-900",children:"Order Details"}),i.jsx("button",{onClick:()=>b(!1),className:"text-slate-400 hover:text-slate-600",children:i.jsx($s,{className:"w-6 h-6"})})]})}),i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-bold text-slate-600",children:"Order ID"}),i.jsxs("p",{className:"font-mono text-slate-900 mt-1",children:["#",d.id]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-bold text-slate-600",children:"Order Date"}),i.jsx("p",{className:"text-slate-900 mt-1",children:new Date(d.created_at).toLocaleString()})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-bold text-slate-600",children:"Total Amount"}),i.jsxs("p",{className:"text-2xl font-bold text-slate-900 mt-1",children:["$",parseFloat(d.total_amount).toFixed(2)]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-bold text-slate-600 block mb-2",children:"Order Status"}),i.jsxs("select",{value:d.status,onChange:k=>v(d.id,k.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-2xl focus:ring-2 focus:ring-sky-500 focus:border-sky-500",children:[i.jsx("option",{value:"pending",children:"Pending"}),i.jsx("option",{value:"processing",children:"Processing"}),i.jsx("option",{value:"shipped",children:"Shipped"}),i.jsx("option",{value:"delivered",children:"Delivered"}),i.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-bold text-slate-600",children:"Payment Status"}),i.jsx("p",{className:"text-slate-900 mt-1 capitalize",children:d.payment_status})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-bold text-slate-600",children:"Payment Method"}),i.jsx("p",{className:"text-slate-900 mt-1 capitalize",children:d.payment_method||"Not specified"})]})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-bold text-slate-900 mb-3",children:"Customer Information"}),i.jsx("div",{className:"bg-slate-50 rounded-2xl p-4 space-y-2",children:d.is_guest?i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-sm font-bold text-slate-600",children:"Name: "}),i.jsx("span",{className:"text-slate-900",children:d.guest_name||"N/A"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-sm font-bold text-slate-600",children:"Email: "}),i.jsx("span",{className:"text-slate-900",children:d.guest_email||"N/A"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-sm font-bold text-slate-600",children:"Phone: "}),i.jsx("span",{className:"text-slate-900",children:d.guest_phone||"N/A"})]})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-sm font-bold text-slate-600",children:"Name: "}),i.jsx("span",{className:"text-slate-900",children:((N=d.shipping_address)==null?void 0:N.fullName)||"N/A"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-sm font-bold text-slate-600",children:"Email: "}),i.jsx("span",{className:"text-slate-900",children:((_=d.shipping_address)==null?void 0:_.email)||"N/A"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-sm font-bold text-slate-600",children:"Phone: "}),i.jsx("span",{className:"text-slate-900",children:((C=d.shipping_address)==null?void 0:C.phone)||"N/A"})]})]})})]}),d.shipping_address&&Object.keys(d.shipping_address).length>0&&i.jsxs("div",{children:[i.jsx("h4",{className:"font-bold text-slate-900 mb-3",children:"Shipping Address"}),i.jsxs("div",{className:"bg-slate-50 rounded-2xl p-4",children:[i.jsx("p",{className:"text-slate-900",children:d.shipping_address.address||"N/A"}),i.jsxs("p",{className:"text-slate-600 mt-1",children:[d.shipping_address.city||"N/A",", ",d.shipping_address.state||"N/A"," ",d.shipping_address.zipCode||""]}),i.jsx("p",{className:"text-slate-600",children:d.shipping_address.country||"N/A"})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-bold text-slate-900 mb-3",children:"Order Items"}),i.jsx("div",{className:"space-y-3",children:x.map(k=>{var E,T,A;return i.jsxs("div",{className:"flex items-center gap-4 p-4 bg-slate-50 rounded-2xl",children:[((E=k.products)==null?void 0:E.image_url)&&i.jsx("img",{src:k.products.image_url,alt:(T=k.products)==null?void 0:T.name,className:"w-16 h-16 object-cover rounded-2xl"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-bold text-slate-900",children:((A=k.products)==null?void 0:A.name)||"Product"}),i.jsxs("p",{className:"text-sm text-slate-600",children:["Quantity: ",k.quantity]})]}),i.jsxs("p",{className:"font-bold text-slate-900",children:["$",(parseFloat(k.price)*k.quantity).toFixed(2)]})]},k.id)})})]})]})]})})]})})}function WS(){const{websiteId:e}=Ue(),[t,r]=O.useState([]),[n,s]=O.useState([]),[a,o]=O.useState(!0),[c,l]=O.useState(""),[u,h]=O.useState(null),[d,f]=O.useState([]),[p,b]=O.useState(!1);O.useEffect(()=>{e&&x()},[e]),O.useEffect(()=>{w()},[c,t]);const x=async()=>{try{const{data:v,error:y}=await Q.rpc("admin_get_users_by_website",{target_website_id:e});if(y)throw y;console.log("Fetched users data:",v),r(v||[])}catch(v){console.error("Error fetching users:",v)}finally{o(!1)}},w=()=>{if(!c){s(t);return}const v=t.filter(y=>y.email.toLowerCase().includes(c.toLowerCase()));s(v)},g=async v=>{h(v),b(!0);try{const{data:y,error:j}=await Q.rpc("admin_get_user_orders",{target_user_id:v.id});if(j)throw j;f(y||[])}catch(y){console.error("Error fetching user orders:",y)}},m=v=>({pending:"bg-yellow-100 text-yellow-800",processing:"bg-blue-100 text-blue-800",shipped:"bg-cyan-100 text-cyan-800",delivered:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"})[v]||"bg-slate-100 text-slate-800";return a?i.jsx(nt,{children:i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-sky-600"})})}):i.jsx(nt,{children:i.jsxs("div",{children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("h2",{className:"text-3xl font-bold text-slate-900",children:"User Management"}),i.jsx("p",{className:"text-slate-600 mt-1",children:"View registered users and their order history"})]}),i.jsxs("div",{className:"bg-white rounded-3xl shadow-md p-6 mb-6",children:[i.jsxs("div",{className:"relative",children:[i.jsx(dr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),i.jsx("input",{type:"text",placeholder:"Search by email...",value:c,onChange:v=>l(v.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-slate-300 rounded-2xl focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),i.jsxs("div",{className:"mt-4 flex items-center gap-4 text-sm",children:[i.jsx("span",{className:"text-slate-600",children:"Total Users:"}),i.jsx("span",{className:"font-bold text-slate-900",children:n.length})]})]}),n.length===0?i.jsxs("div",{className:"bg-white rounded-3xl shadow-md p-12 text-center",children:[i.jsx(Ms,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),i.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"No users found"}),i.jsx("p",{className:"text-slate-600",children:c?"Try adjusting your search":"Registered users will appear here"})]}):i.jsx("div",{className:"bg-white rounded-3xl shadow-md overflow-hidden",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-slate-50 border-b-2 border-slate-200",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-700 uppercase tracking-wider",children:"User"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-700 uppercase tracking-wider",children:"Email"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-700 uppercase tracking-wider",children:"Joined"}),i.jsx("th",{className:"px-6 py-4 text-right text-xs font-bold text-slate-700 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"divide-y divide-slate-200",children:n.map(v=>i.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-sky-500 to-cyan-600 rounded-full flex items-center justify-center text-white font-bold",children:v.email.charAt(0).toUpperCase()}),i.jsxs("div",{children:[i.jsx("p",{className:"font-bold text-slate-900",children:v.email.split("@")[0]}),i.jsx("p",{className:"text-xs text-slate-500 font-mono",children:v.id.slice(0,8)})]})]})}),i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[i.jsx(Mr,{className:"w-4 h-4"}),v.email]})}),i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[i.jsx(hf,{className:"w-4 h-4"}),new Date(v.created_at).toLocaleDateString()]})}),i.jsx("td",{className:"px-6 py-4 text-right",children:i.jsxs("button",{onClick:()=>g(v),className:"inline-flex items-center gap-2 px-4 py-2 bg-sky-600 text-white rounded-2xl hover:bg-sky-700 transition-colors text-sm font-bold",children:[i.jsx(ra,{className:"w-4 h-4"}),"View Details"]})})]},v.id))})]})})}),p&&u&&i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:i.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[i.jsx("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-6 py-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"text-2xl font-bold text-slate-900",children:"User Details"}),i.jsx("button",{onClick:()=>b(!1),className:"text-slate-400 hover:text-slate-600",children:i.jsx($s,{className:"w-6 h-6"})})]})}),i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsxs("div",{className:"bg-slate-50 rounded-2xl p-6",children:[i.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[i.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-sky-500 to-cyan-600 rounded-full flex items-center justify-center text-white text-2xl font-bold",children:u.email.charAt(0).toUpperCase()}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-xl font-bold text-slate-900",children:u.email.split("@")[0]}),i.jsx("p",{className:"text-slate-600",children:u.email})]})]}),i.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-bold text-slate-600",children:"User ID"}),i.jsx("p",{className:"font-mono text-sm text-slate-900 mt-1",children:u.id})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-bold text-slate-600",children:"Joined Date"}),i.jsx("p",{className:"text-slate-900 mt-1",children:new Date(u.created_at).toLocaleDateString()})]})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-lg font-bold text-slate-900 mb-4",children:"Order History"}),d.length===0?i.jsx("div",{className:"text-center py-8 bg-slate-50 rounded-2xl",children:i.jsx("p",{className:"text-slate-600",children:"No orders yet"})}):i.jsx("div",{className:"space-y-3",children:d.map(v=>i.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-2xl hover:bg-slate-100 transition-colors",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("p",{className:"font-mono text-sm text-slate-600",children:["#",v.id.slice(0,8)]}),i.jsx("p",{className:"text-xs text-slate-500 mt-1",children:new Date(v.created_at).toLocaleDateString()})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"font-bold text-slate-900",children:["$",parseFloat(v.total_amount).toFixed(2)]}),i.jsx("span",{className:`inline-block px-2 py-1 rounded text-xs font-bold mt-1 ${m(v.status)}`,children:v.status})]})]},v.id))})]})]})]})})]})})}function GS(){const{websiteId:e}=Ue(),[t,r]=O.useState([]),[n,s]=O.useState([]),[a,o]=O.useState(!0),[c,l]=O.useState(""),[u,h]=O.useState("all"),[d,f]=O.useState(null),[p,b]=O.useState(!1);O.useEffect(()=>{e&&x()},[e]),O.useEffect(()=>{w()},[c,u,t]);const x=async()=>{try{const{data:j,error:S}=await Q.rpc("admin_get_contact_submissions",{target_website_id:e});if(S)throw S;r(j||[])}catch(j){console.error("Error fetching inquiries:",j)}finally{o(!1)}},w=()=>{let j=t;u!=="all"&&(j=j.filter(S=>S.status===u)),c&&(j=j.filter(S=>S.name.toLowerCase().includes(c.toLowerCase())||S.email.toLowerCase().includes(c.toLowerCase())||S.subject.toLowerCase().includes(c.toLowerCase()))),s(j)},g=async(j,S)=>{try{const{data:N,error:_}=await Q.rpc("admin_update_contact_submission",{submission_id:j,new_status:S});if(_)throw _;if(!(N!=null&&N.success))throw new Error((N==null?void 0:N.error)||"Failed to update status");r(t.map(C=>C.id===j?{...C,status:S}:C)),(d==null?void 0:d.id)===j&&f({...d,status:S})}catch(N){console.error("Error updating inquiry status:",N),alert("Failed to update inquiry status")}},m=async j=>{if(confirm("Are you sure you want to delete this inquiry?"))try{const{data:S,error:N}=await Q.rpc("admin_delete_contact_submission",{submission_id:j});if(N)throw N;if(!(S!=null&&S.success))throw new Error((S==null?void 0:S.error)||"Failed to delete inquiry");r(t.filter(_=>_.id!==j)),(d==null?void 0:d.id)===j&&b(!1)}catch(S){console.error("Error deleting inquiry:",S),alert("Failed to delete inquiry")}},v=j=>{f(j),b(!0)},y=j=>({new:"bg-blue-100 text-blue-800 border-blue-200",resolved:"bg-green-100 text-green-800 border-green-200",pending:"bg-yellow-100 text-yellow-800 border-yellow-200"})[j]||"bg-slate-100 text-slate-800 border-slate-200";return a?i.jsx(nt,{children:i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-sky-600"})})}):i.jsx(nt,{children:i.jsxs("div",{children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("h2",{className:"text-3xl font-bold text-slate-900",children:"Customer Inquiries"}),i.jsx("p",{className:"text-slate-600 mt-1",children:"Manage customer contact submissions"})]}),i.jsxs("div",{className:"bg-white rounded-3xl shadow-md p-6 mb-6",children:[i.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx(dr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),i.jsx("input",{type:"text",placeholder:"Search by name, email, or subject...",value:c,onChange:j=>l(j.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-slate-300 rounded-2xl focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),i.jsxs("div",{className:"relative",children:[i.jsx(mf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),i.jsxs("select",{value:u,onChange:j=>h(j.target.value),className:"w-full pl-10 pr-10 py-2.5 border border-slate-300 rounded-2xl focus:ring-2 focus:ring-sky-500 focus:border-sky-500 appearance-none",children:[i.jsx("option",{value:"all",children:"All Statuses"}),i.jsx("option",{value:"new",children:"New"}),i.jsx("option",{value:"pending",children:"Pending"}),i.jsx("option",{value:"resolved",children:"Resolved"})]}),i.jsx(gs,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400 pointer-events-none"})]})]}),i.jsxs("div",{className:"mt-4 flex items-center gap-4 text-sm",children:[i.jsx("span",{className:"text-slate-600",children:"Total Inquiries:"}),i.jsx("span",{className:"font-bold text-slate-900",children:n.length})]})]}),n.length===0?i.jsxs("div",{className:"bg-white rounded-3xl shadow-md p-12 text-center",children:[i.jsx(dl,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),i.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"No inquiries found"}),i.jsx("p",{className:"text-slate-600",children:c||u!=="all"?"Try adjusting your filters":"Customer inquiries will appear here"})]}):i.jsx("div",{className:"bg-white rounded-3xl shadow-md overflow-hidden",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-slate-50 border-b-2 border-slate-200",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-700 uppercase tracking-wider",children:"Customer"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-700 uppercase tracking-wider",children:"Subject"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-700 uppercase tracking-wider",children:"Date"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-700 uppercase tracking-wider",children:"Status"}),i.jsx("th",{className:"px-6 py-4 text-right text-xs font-bold text-slate-700 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"divide-y divide-slate-200",children:n.map(j=>i.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{children:[i.jsx("p",{className:"font-bold text-slate-900",children:j.name}),i.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 mt-1",children:[i.jsx(Mr,{className:"w-3 h-3"}),j.email]}),j.phone&&i.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 mt-1",children:[i.jsx(fl,{className:"w-3 h-3"}),j.phone]})]})}),i.jsx("td",{className:"px-6 py-4",children:i.jsx("p",{className:"text-sm text-slate-900 line-clamp-2",children:j.subject})}),i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[i.jsx(hf,{className:"w-4 h-4"}),new Date(j.created_at).toLocaleDateString()]})}),i.jsx("td",{className:"px-6 py-4",children:i.jsxs("span",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-full text-xs font-bold border ${y(j.status)}`,children:[j.status==="resolved"&&i.jsx(Et,{className:"w-3 h-3"}),j.status]})}),i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{className:"flex items-center justify-end gap-2",children:[i.jsx("button",{onClick:()=>v(j),className:"p-2 text-sky-600 hover:bg-sky-50 rounded-2xl transition-colors",title:"View Details",children:i.jsx(ra,{className:"w-4 h-4"})}),i.jsx("button",{onClick:()=>m(j.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-2xl transition-colors",title:"Delete",children:i.jsx(Ls,{className:"w-4 h-4"})})]})})]},j.id))})]})})}),p&&d&&i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:i.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[i.jsx("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-6 py-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"text-2xl font-bold text-slate-900",children:"Inquiry Details"}),i.jsx("button",{onClick:()=>b(!1),className:"text-slate-400 hover:text-slate-600",children:i.jsx($s,{className:"w-6 h-6"})})]})}),i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsx("div",{className:"bg-slate-50 rounded-2xl p-6",children:i.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-bold text-slate-600",children:"Name"}),i.jsx("p",{className:"text-slate-900 mt-1 font-bold",children:d.name})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-bold text-slate-600",children:"Date"}),i.jsx("p",{className:"text-slate-900 mt-1",children:new Date(d.created_at).toLocaleString()})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-bold text-slate-600",children:"Email"}),i.jsx("p",{className:"text-slate-900 mt-1",children:d.email})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-bold text-slate-600",children:"Phone"}),i.jsx("p",{className:"text-slate-900 mt-1",children:d.phone||"Not provided"})]})]})}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-bold text-slate-600 block mb-2",children:"Subject"}),i.jsx("p",{className:"text-slate-900 font-bold",children:d.subject})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-bold text-slate-600 block mb-2",children:"Message"}),i.jsx("div",{className:"bg-slate-50 rounded-2xl p-4",children:i.jsx("p",{className:"text-slate-900 whitespace-pre-wrap",children:d.message})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-bold text-slate-600 block mb-2",children:"Status"}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{onClick:()=>g(d.id,"new"),className:`px-4 py-2 rounded-2xl font-bold transition-colors ${d.status==="new"?"bg-blue-600 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:"New"}),i.jsx("button",{onClick:()=>g(d.id,"pending"),className:`px-4 py-2 rounded-2xl font-bold transition-colors ${d.status==="pending"?"bg-yellow-600 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:"Pending"}),i.jsx("button",{onClick:()=>g(d.id,"resolved"),className:`px-4 py-2 rounded-2xl font-bold transition-colors ${d.status==="resolved"?"bg-green-600 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:"Resolved"})]})]}),i.jsx("div",{className:"flex gap-3 pt-4 border-t border-slate-200",children:i.jsxs("button",{onClick:()=>m(d.id),className:"flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-2xl hover:bg-red-700 transition-colors",children:[i.jsx(Ls,{className:"w-4 h-4"}),"Delete Inquiry"]})})]})]})})]})})}function KS(){const[e,t]=O.useState([]),[r,n]=O.useState([]),[s,a]=O.useState(!0),[o,c]=O.useState(!1),[l,u]=O.useState({type:"",text:""}),[h,d]=O.useState({});O.useEffect(()=>{f()},[]);const f=async()=>{try{a(!0);const[g,m]=await Promise.all([Q.from("payment_settings").select("*").order("gateway_name"),Q.from("payment_methods").select("*").order("display_order")]);if(g.error)throw g.error;if(m.error)throw m.error;t(g.data||[]),n(m.data||[])}catch(g){console.error("Error fetching payment data:",g),u({type:"error",text:"Failed to load payment settings"})}finally{a(!1)}},p=async(g,m,v)=>{t(y=>y.map(j=>j.id===g?{...j,[m]:v}:j))},b=async(g,m,v)=>{n(y=>y.map(j=>j.id===g?{...j,[m]:v}:j))},x=async()=>{try{c(!0),u({type:"",text:""});for(const g of e){const{error:m}=await Q.from("payment_settings").update({api_key:g.api_key,api_secret:g.api_secret,is_enabled:g.is_enabled,is_test_mode:g.is_test_mode,updated_at:new Date().toISOString()}).eq("id",g.id);if(m)throw m}for(const g of r){const{error:m}=await Q.from("payment_methods").update({is_enabled:g.is_enabled}).eq("id",g.id);if(m)throw m}u({type:"success",text:"Payment settings saved successfully!"}),setTimeout(()=>u({type:"",text:""}),3e3)}catch(g){console.error("Error saving settings:",g),u({type:"error",text:"Failed to save settings"})}finally{c(!1)}},w=g=>{d(m=>({...m,[g]:!m[g]}))};return s?i.jsx("div",{className:"flex items-center justify-center min-h-screen",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):i.jsxs("div",{className:"max-w-6xl mx-auto",children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Payment Settings"}),i.jsx("p",{className:"text-gray-600",children:"Configure payment gateways and manage payment methods"})]}),i.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-600 p-6 mb-6 rounded-2xl",children:[i.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-3",children:"Setup Instructions"}),i.jsxs("div",{className:"space-y-3 text-sm text-blue-800",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-1",children:"Razorpay Setup:"}),i.jsxs("ol",{className:"list-decimal list-inside space-y-1 ml-2",children:[i.jsx("li",{children:"Create account at razorpay.com"}),i.jsx("li",{children:"Go to Settings - API Keys"}),i.jsx("li",{children:"Copy Key ID (API Key) and Key Secret (API Secret)"}),i.jsx("li",{children:"Paste them below and enable Razorpay"}),i.jsx("li",{children:"Enable payment methods you want to offer"})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-1",children:"Stripe Setup:"}),i.jsxs("ol",{className:"list-decimal list-inside space-y-1 ml-2",children:[i.jsx("li",{children:"Create account at stripe.com"}),i.jsx("li",{children:"Go to Developers - API Keys"}),i.jsx("li",{children:"Copy Publishable Key (API Key) and Secret Key (API Secret)"}),i.jsx("li",{children:"Paste them below and enable Stripe"})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-1",children:"Cash on Delivery:"}),i.jsx("p",{className:"ml-2",children:"Already enabled by default. No setup required."})]})]})]}),l.text&&i.jsxs("div",{className:`mb-6 p-4 rounded-2xl flex items-center gap-2 ${l.type==="success"?"bg-green-50 text-green-800":"bg-red-50 text-red-800"}`,children:[l.type==="success"?i.jsx(Et,{className:"w-5 h-5"}):i.jsx(qn,{className:"w-5 h-5"}),l.text]}),i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 mb-8",children:[i.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[i.jsx(ma,{className:"w-6 h-6"}),"Payment Gateways"]}),i.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Add your payment gateway API credentials. Keep these secure and never share them."}),i.jsx("div",{className:"space-y-6",children:e.map(g=>i.jsxs("div",{className:"border border-gray-200 rounded-2xl p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold",children:g.gateway_name}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[i.jsx("input",{type:"checkbox",checked:g.is_test_mode,onChange:m=>p(g.id,"is_test_mode",m.target.checked),className:"rounded"}),"Test Mode"]}),i.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[i.jsx("input",{type:"checkbox",checked:g.is_enabled,onChange:m=>p(g.id,"is_enabled",m.target.checked),className:"rounded"}),i.jsx("span",{className:g.is_enabled?"text-green-600 font-bold":"text-gray-600",children:g.is_enabled?"Enabled":"Disabled"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"API Key"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:h[`${g.id}-key`]?"text":"password",value:g.api_key||"",onChange:m=>p(g.id,"api_key",m.target.value),placeholder:"Enter API Key",className:"w-full px-3 py-2 border border-gray-300 rounded-2xl pr-10"}),i.jsx("button",{type:"button",onClick:()=>w(`${g.id}-key`),className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:h[`${g.id}-key`]?i.jsx(vp,{className:"w-5 h-5"}):i.jsx(ra,{className:"w-5 h-5"})})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"API Secret"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:h[`${g.id}-secret`]?"text":"password",value:g.api_secret||"",onChange:m=>p(g.id,"api_secret",m.target.value),placeholder:"Enter API Secret",className:"w-full px-3 py-2 border border-gray-300 rounded-2xl pr-10"}),i.jsx("button",{type:"button",onClick:()=>w(`${g.id}-secret`),className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:h[`${g.id}-secret`]?i.jsx(vp,{className:"w-5 h-5"}):i.jsx(ra,{className:"w-5 h-5"})})]})]})]})]},g.id))})]}),i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6",children:[i.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Payment Methods"}),i.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Enable or disable payment methods available to customers during checkout."}),i.jsx("div",{className:"space-y-3",children:r.map(g=>i.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-2xl",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-bold",children:g.method_name}),i.jsx("p",{className:"text-sm text-gray-500",children:g.method_type==="cod"?"Cash on Delivery":"Payment Gateway"})]}),i.jsxs("label",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",checked:g.is_enabled,onChange:m=>b(g.id,"is_enabled",m.target.checked),className:"rounded"}),i.jsx("span",{className:`text-sm font-bold ${g.is_enabled?"text-green-600":"text-gray-600"}`,children:g.is_enabled?"Enabled":"Disabled"})]})]},g.id))})]}),i.jsx("div",{className:"mt-8 flex justify-end",children:i.jsxs("button",{onClick:x,disabled:o,className:"flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-2xl hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed",children:[i.jsx(na,{className:"w-5 h-5"}),o?"Saving...":"Save All Settings"]})})]})}var YS=Object.defineProperty,JS=(e,t,r)=>t in e?YS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,jc=(e,t,r)=>(JS(e,typeof t!="symbol"?t+"":t,r),r);let QS=class{constructor(){jc(this,"current",this.detect()),jc(this,"handoffState","pending"),jc(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},cr=new QS;function ga(e){var t;return cr.isServer?null:e==null?document:(t=e==null?void 0:e.ownerDocument)!=null?t:document}function Ku(e){var t,r;return cr.isServer?null:e==null?document:(r=(t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))!=null?r:document}function Uy(e){var t,r;return(r=(t=Ku(e))==null?void 0:t.activeElement)!=null?r:null}function XS(e){return Uy(e)===e}function ml(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function $r(){let e=[],t={addEventListener(r,n,s,a){return r.addEventListener(n,s,a),t.add(()=>r.removeEventListener(n,s,a))},requestAnimationFrame(...r){let n=requestAnimationFrame(...r);return t.add(()=>cancelAnimationFrame(n))},nextFrame(...r){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...r))},setTimeout(...r){let n=setTimeout(...r);return t.add(()=>clearTimeout(n))},microTask(...r){let n={current:!0};return ml(()=>{n.current&&r[0]()}),t.add(()=>{n.current=!1})},style(r,n,s){let a=r.style.getPropertyValue(n);return Object.assign(r.style,{[n]:s}),this.add(()=>{Object.assign(r.style,{[n]:a})})},group(r){let n=$r();return r(n),this.add(()=>n.dispose())},add(r){return e.includes(r)||e.push(r),()=>{let n=e.indexOf(r);if(n>=0)for(let s of e.splice(n,1))s()}},dispose(){for(let r of e.splice(0))r()}};return t}function gl(){let[e]=O.useState($r);return O.useEffect(()=>()=>e.dispose(),[e]),e}let mt=(e,t)=>{cr.isServer?O.useEffect(e,t):O.useLayoutEffect(e,t)};function Wn(e){let t=O.useRef(e);return mt(()=>{t.current=e},[e]),t}let we=function(e){let t=Wn(e);return oe.useCallback((...r)=>t.current(...r),[t])};function va(e){return O.useMemo(()=>e,Object.values(e))}let ZS=O.createContext(void 0);function ek(){return O.useContext(ZS)}function Yu(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function Pr(e,t,...r){if(e in t){let s=t[e];return typeof s=="function"?s(...r):s}let n=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(s=>`"${s}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Pr),n}var $o=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))($o||{}),Xr=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(Xr||{});function Bt(){let e=rk();return O.useCallback(t=>tk({mergeRefs:e,...t}),[e])}function tk({ourProps:e,theirProps:t,slot:r,defaultTag:n,features:s,visible:a=!0,name:o,mergeRefs:c}){c=c??nk;let l=zy(t,e);if(a)return za(l,r,n,o,c);let u=s??0;if(u&2){let{static:h=!1,...d}=l;if(h)return za(d,r,n,o,c)}if(u&1){let{unmount:h=!0,...d}=l;return Pr(h?0:1,{0(){return null},1(){return za({...d,hidden:!0,style:{display:"none"}},r,n,o,c)}})}return za(l,r,n,o,c)}function za(e,t={},r,n,s){let{as:a=r,children:o,refName:c="ref",...l}=_c(e,["unmount","static"]),u=e.ref!==void 0?{[c]:e.ref}:{},h=typeof o=="function"?o(t):o;"className"in l&&l.className&&typeof l.className=="function"&&(l.className=l.className(t)),l["aria-labelledby"]&&l["aria-labelledby"]===l.id&&(l["aria-labelledby"]=void 0);let d={};if(t){let f=!1,p=[];for(let[b,x]of Object.entries(t))typeof x=="boolean"&&(f=!0),x===!0&&p.push(b.replace(/([A-Z])/g,w=>`-${w.toLowerCase()}`));if(f){d["data-headlessui-state"]=p.join(" ");for(let b of p)d[`data-${b}`]=""}}if(Ei(a)&&(Object.keys(_n(l)).length>0||Object.keys(_n(d)).length>0))if(!O.isValidElement(h)||Array.isArray(h)&&h.length>1||ik(h)){if(Object.keys(_n(l)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${n} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(_n(l)).concat(Object.keys(_n(d))).map(f=>`  - ${f}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(f=>`  - ${f}`).join(`
`)].join(`
`))}else{let f=h.props,p=f==null?void 0:f.className,b=typeof p=="function"?(...g)=>Yu(p(...g),l.className):Yu(p,l.className),x=b?{className:b}:{},w=zy(h.props,_n(_c(l,["ref"])));for(let g in d)g in w&&delete d[g];return O.cloneElement(h,Object.assign({},w,d,u,{ref:s(sk(h),u.ref)},x))}return O.createElement(a,Object.assign({},_c(l,["ref"]),!Ei(a)&&u,!Ei(a)&&d),h)}function rk(){let e=O.useRef([]),t=O.useCallback(r=>{for(let n of e.current)n!=null&&(typeof n=="function"?n(r):n.current=r)},[]);return(...r)=>{if(!r.every(n=>n==null))return e.current=r,t}}function nk(...e){return e.every(t=>t==null)?void 0:t=>{for(let r of e)r!=null&&(typeof r=="function"?r(t):r.current=t)}}function zy(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},r={};for(let n of e)for(let s in n)s.startsWith("on")&&typeof n[s]=="function"?(r[s]!=null||(r[s]=[]),r[s].push(n[s])):t[s]=n[s];if(t.disabled||t["aria-disabled"])for(let n in r)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(n)&&(r[n]=[s=>{var a;return(a=s==null?void 0:s.preventDefault)==null?void 0:a.call(s)}]);for(let n in r)Object.assign(t,{[n](s,...a){let o=r[n];for(let c of o){if((s instanceof Event||(s==null?void 0:s.nativeEvent)instanceof Event)&&s.defaultPrevented)return;c(s,...a)}}});return t}function yt(e){var t;return Object.assign(O.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function _n(e){let t=Object.assign({},e);for(let r in t)t[r]===void 0&&delete t[r];return t}function _c(e,t=[]){let r=Object.assign({},e);for(let n of t)n in r&&delete r[n];return r}function sk(e){return oe.version.split(".")[0]>="19"?e.props.ref:e.ref}function Ei(e){return e===O.Fragment||e===Symbol.for("react.fragment")}function ik(e){return Ei(e.type)}let ak="span";var Do=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(Do||{});function ok(e,t){var r;let{features:n=1,...s}=e,a={ref:t,"aria-hidden":(n&2)===2?!0:(r=s["aria-hidden"])!=null?r:void 0,hidden:(n&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(n&4)===4&&(n&2)!==2&&{display:"none"}}};return Bt()({ourProps:a,theirProps:s,slot:{},defaultTag:ak,name:"Hidden"})}let Ju=yt(ok);function lk(e){return typeof e!="object"||e===null?!1:"nodeType"in e}function un(e){return lk(e)&&"tagName"in e}function Un(e){return un(e)&&"accessKey"in e}function Zr(e){return un(e)&&"tabIndex"in e}function ck(e){return un(e)&&"style"in e}function uk(e){return Un(e)&&e.nodeName==="IFRAME"}function dk(e){return Un(e)&&e.nodeName==="INPUT"}let Hy=Symbol();function fk(e,t=!0){return Object.assign(e,{[Hy]:t})}function hr(...e){let t=O.useRef(e);O.useEffect(()=>{t.current=e},[e]);let r=we(n=>{for(let s of t.current)s!=null&&(typeof s=="function"?s(n):s.current=n)});return e.every(n=>n==null||(n==null?void 0:n[Hy]))?void 0:r}let wf=O.createContext(null);wf.displayName="DescriptionContext";function Vy(){let e=O.useContext(wf);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,Vy),t}return e}function hk(){let[e,t]=O.useState([]);return[e.length>0?e.join(" "):void 0,O.useMemo(()=>function(r){let n=we(a=>(t(o=>[...o,a]),()=>t(o=>{let c=o.slice(),l=c.indexOf(a);return l!==-1&&c.splice(l,1),c}))),s=O.useMemo(()=>({register:n,slot:r.slot,name:r.name,props:r.props,value:r.value}),[n,r.slot,r.name,r.props,r.value]);return oe.createElement(wf.Provider,{value:s},r.children)},[t])]}let pk="p";function mk(e,t){let r=O.useId(),n=ek(),{id:s=`headlessui-description-${r}`,...a}=e,o=Vy(),c=hr(t);mt(()=>o.register(s),[s,o.register]);let l=va({...o.slot,disabled:n||!1}),u={ref:c,...o.props,id:s};return Bt()({ourProps:u,theirProps:a,slot:l,defaultTag:pk,name:o.name||"Description"})}let gk=yt(mk),vk=Object.assign(gk,{});var Wy=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(Wy||{});let yk=O.createContext(()=>{});function xk({value:e,children:t}){return oe.createElement(yk.Provider,{value:e},t)}let Gy=class extends Map{constructor(t){super(),this.factory=t}get(t){let r=super.get(t);return r===void 0&&(r=this.factory(t),this.set(t,r)),r}};var bk=Object.defineProperty,wk=(e,t,r)=>t in e?bk(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,jk=(e,t,r)=>(wk(e,t+"",r),r),Ky=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},It=(e,t,r)=>(Ky(e,t,"read from private field"),r?r.call(e):t.get(e)),Nc=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},Rp=(e,t,r,n)=>(Ky(e,t,"write to private field"),t.set(e,r),r),rr,di,fi;let _k=class{constructor(t){Nc(this,rr,{}),Nc(this,di,new Gy(()=>new Set)),Nc(this,fi,new Set),jk(this,"disposables",$r()),Rp(this,rr,t),cr.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return It(this,rr)}subscribe(t,r){if(cr.isServer)return()=>{};let n={selector:t,callback:r,current:t(It(this,rr))};return It(this,fi).add(n),this.disposables.add(()=>{It(this,fi).delete(n)})}on(t,r){return cr.isServer?()=>{}:(It(this,di).get(t).add(r),this.disposables.add(()=>{It(this,di).get(t).delete(r)}))}send(t){let r=this.reduce(It(this,rr),t);if(r!==It(this,rr)){Rp(this,rr,r);for(let n of It(this,fi)){let s=n.selector(It(this,rr));Yy(n.current,s)||(n.current=s,n.callback(s))}for(let n of It(this,di).get(t.type))n(It(this,rr),t)}}};rr=new WeakMap,di=new WeakMap,fi=new WeakMap;function Yy(e,t){return Object.is(e,t)?!0:typeof e!="object"||e===null||typeof t!="object"||t===null?!1:Array.isArray(e)&&Array.isArray(t)?e.length!==t.length?!1:Sc(e[Symbol.iterator](),t[Symbol.iterator]()):e instanceof Map&&t instanceof Map||e instanceof Set&&t instanceof Set?e.size!==t.size?!1:Sc(e.entries(),t.entries()):Lp(e)&&Lp(t)?Sc(Object.entries(e)[Symbol.iterator](),Object.entries(t)[Symbol.iterator]()):!1}function Sc(e,t){do{let r=e.next(),n=t.next();if(r.done&&n.done)return!0;if(r.done||n.done||!Object.is(r.value,n.value))return!1}while(!0)}function Lp(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;let t=Object.getPrototypeOf(e);return t===null||Object.getPrototypeOf(t)===null}var Nk=Object.defineProperty,Sk=(e,t,r)=>t in e?Nk(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Mp=(e,t,r)=>(Sk(e,typeof t!="symbol"?t+"":t,r),r),kk=(e=>(e[e.Push=0]="Push",e[e.Pop=1]="Pop",e))(kk||{});let Ek={0(e,t){let r=t.id,n=e.stack,s=e.stack.indexOf(r);if(s!==-1){let a=e.stack.slice();return a.splice(s,1),a.push(r),n=a,{...e,stack:n}}return{...e,stack:[...e.stack,r]}},1(e,t){let r=t.id,n=e.stack.indexOf(r);if(n===-1)return e;let s=e.stack.slice();return s.splice(n,1),{...e,stack:s}}},Tk=class Jy extends _k{constructor(){super(...arguments),Mp(this,"actions",{push:t=>this.send({type:0,id:t}),pop:t=>this.send({type:1,id:t})}),Mp(this,"selectors",{isTop:(t,r)=>t.stack[t.stack.length-1]===r,inStack:(t,r)=>t.stack.includes(r)})}static new(){return new Jy({stack:[]})}reduce(t,r){return Pr(r.type,Ek,t,r)}};const Qy=new Gy(()=>Tk.new());var Xy={exports:{}},Zy={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ya=O;function Ok(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ck=typeof Object.is=="function"?Object.is:Ok,Pk=ya.useSyncExternalStore,Ak=ya.useRef,Ik=ya.useEffect,Rk=ya.useMemo,Lk=ya.useDebugValue;Zy.useSyncExternalStoreWithSelector=function(e,t,r,n,s){var a=Ak(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=Rk(function(){function l(p){if(!u){if(u=!0,h=p,p=n(p),s!==void 0&&o.hasValue){var b=o.value;if(s(b,p))return d=b}return d=p}if(b=d,Ck(h,p))return b;var x=n(p);return s!==void 0&&s(b,x)?(h=p,b):(h=p,d=x)}var u=!1,h,d,f=r===void 0?null:r;return[function(){return l(t())},f===null?void 0:function(){return l(f())}]},[t,r,n,s]);var c=Pk(e,a[0],a[1]);return Ik(function(){o.hasValue=!0,o.value=c},[c]),Lk(c),c};Xy.exports=Zy;var Mk=Xy.exports;function e0(e,t,r=Yy){return Mk.useSyncExternalStoreWithSelector(we(n=>e.subscribe($k,n)),we(()=>e.state),we(()=>e.state),we(t),r)}function $k(e){return e}function xa(e,t){let r=O.useId(),n=Qy.get(t),[s,a]=e0(n,O.useCallback(o=>[n.selectors.isTop(o,r),n.selectors.inStack(o,r)],[n,r]));return mt(()=>{if(e)return n.actions.push(r),()=>n.actions.pop(r)},[n,e,r]),e?a?s:!0:!1}let Qu=new Map,Ti=new Map;function $p(e){var t;let r=(t=Ti.get(e))!=null?t:0;return Ti.set(e,r+1),r!==0?()=>Dp(e):(Qu.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>Dp(e))}function Dp(e){var t;let r=(t=Ti.get(e))!=null?t:1;if(r===1?Ti.delete(e):Ti.set(e,r-1),r!==1)return;let n=Qu.get(e);n&&(n["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",n["aria-hidden"]),e.inert=n.inert,Qu.delete(e))}function Dk(e,{allowed:t,disallowed:r}={}){let n=xa(e,"inert-others");mt(()=>{var s,a;if(!n)return;let o=$r();for(let l of(s=r==null?void 0:r())!=null?s:[])l&&o.add($p(l));let c=(a=t==null?void 0:t())!=null?a:[];for(let l of c){if(!l)continue;let u=ga(l);if(!u)continue;let h=l.parentElement;for(;h&&h!==u.body;){for(let d of h.children)c.some(f=>d.contains(f))||o.add($p(d));h=h.parentElement}}return o.dispose},[n,t,r])}function Fk(e,t,r){let n=Wn(s=>{let a=s.getBoundingClientRect();a.x===0&&a.y===0&&a.width===0&&a.height===0&&r()});O.useEffect(()=>{if(!e)return;let s=t===null?null:Un(t)?t:t.current;if(!s)return;let a=$r();if(typeof ResizeObserver<"u"){let o=new ResizeObserver(()=>n.current(s));o.observe(s),a.add(()=>o.disconnect())}if(typeof IntersectionObserver<"u"){let o=new IntersectionObserver(()=>n.current(s));o.observe(s),a.add(()=>o.disconnect())}return()=>a.dispose()},[t,n,e])}let Fo=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","details>summary","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),qk=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var xr=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(xr||{}),Xu=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(Xu||{}),Bk=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(Bk||{});function Uk(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(Fo)).sort((t,r)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}function zk(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(qk)).sort((t,r)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}var t0=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(t0||{});function Hk(e,t=0){var r;return e===((r=ga(e))==null?void 0:r.body)?!1:Pr(t,{0(){return e.matches(Fo)},1(){let n=e;for(;n!==null;){if(n.matches(Fo))return!0;n=n.parentElement}return!1}})}var Vk=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(Vk||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function kr(e){e==null||e.focus({preventScroll:!0})}let Wk=["textarea","input"].join(",");function Gk(e){var t,r;return(r=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,Wk))!=null?r:!1}function Kk(e,t=r=>r){return e.slice().sort((r,n)=>{let s=t(r),a=t(n);if(s===null||a===null)return 0;let o=s.compareDocumentPosition(a);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Oi(e,t,{sorted:r=!0,relativeTo:n=null,skipElements:s=[]}={}){let a=Array.isArray(e)?e.length>0?Ku(e[0]):document:Ku(e),o=Array.isArray(e)?r?Kk(e):e:t&64?zk(e):Uk(e);s.length>0&&o.length>1&&(o=o.filter(p=>!s.some(b=>b!=null&&"current"in b?(b==null?void 0:b.current)===p:b===p))),n=n??(a==null?void 0:a.activeElement);let c=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,o.indexOf(n))-1;if(t&4)return Math.max(0,o.indexOf(n))+1;if(t&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=t&32?{preventScroll:!0}:{},h=0,d=o.length,f;do{if(h>=d||h+d<=0)return 0;let p=l+h;if(t&16)p=(p+d)%d;else{if(p<0)return 3;if(p>=d)return 1}f=o[p],f==null||f.focus(u),h+=c}while(f!==Uy(f));return t&6&&Gk(f)&&f.select(),2}function r0(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function Yk(){return/Android/gi.test(window.navigator.userAgent)}function Fp(){return r0()||Yk()}function Ha(e,t,r,n){let s=Wn(r);O.useEffect(()=>{if(!e)return;function a(o){s.current(o)}return document.addEventListener(t,a,n),()=>document.removeEventListener(t,a,n)},[e,t,n])}function n0(e,t,r,n){let s=Wn(r);O.useEffect(()=>{if(!e)return;function a(o){s.current(o)}return window.addEventListener(t,a,n),()=>window.removeEventListener(t,a,n)},[e,t,n])}const qp=30;function Jk(e,t,r){let n=Wn(r),s=O.useCallback(function(c,l){if(c.defaultPrevented)return;let u=l(c);if(u===null||!u.getRootNode().contains(u)||!u.isConnected)return;let h=function d(f){return typeof f=="function"?d(f()):Array.isArray(f)||f instanceof Set?f:[f]}(t);for(let d of h)if(d!==null&&(d.contains(u)||c.composed&&c.composedPath().includes(d)))return;return!Hk(u,t0.Loose)&&u.tabIndex!==-1&&c.preventDefault(),n.current(c,u)},[n,t]),a=O.useRef(null);Ha(e,"pointerdown",c=>{var l,u;Fp()||(a.current=((u=(l=c.composedPath)==null?void 0:l.call(c))==null?void 0:u[0])||c.target)},!0),Ha(e,"pointerup",c=>{if(Fp()||!a.current)return;let l=a.current;return a.current=null,s(c,()=>l)},!0);let o=O.useRef({x:0,y:0});Ha(e,"touchstart",c=>{o.current.x=c.touches[0].clientX,o.current.y=c.touches[0].clientY},!0),Ha(e,"touchend",c=>{let l={x:c.changedTouches[0].clientX,y:c.changedTouches[0].clientY};if(!(Math.abs(l.x-o.current.x)>=qp||Math.abs(l.y-o.current.y)>=qp))return s(c,()=>Zr(c.target)?c.target:null)},!0),n0(e,"blur",c=>s(c,()=>uk(window.document.activeElement)?window.document.activeElement:null),!0)}function jf(...e){return O.useMemo(()=>ga(...e),[...e])}function s0(e,t,r,n){let s=Wn(r);O.useEffect(()=>{e=e??window;function a(o){s.current(o)}return e.addEventListener(t,a,n),()=>e.removeEventListener(t,a,n)},[e,t,n])}function Qk(e){return O.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getSnapshot)}function Xk(e,t){let r=e(),n=new Set;return{getSnapshot(){return r},subscribe(s){return n.add(s),()=>n.delete(s)},dispatch(s,...a){let o=t[s].call(r,...a);o&&(r=o,n.forEach(c=>c()))}}}function Zk(){let e;return{before({doc:t}){var r;let n=t.documentElement,s=(r=t.defaultView)!=null?r:window;e=Math.max(0,s.innerWidth-n.clientWidth)},after({doc:t,d:r}){let n=t.documentElement,s=Math.max(0,n.clientWidth-n.offsetWidth),a=Math.max(0,e-s);r.style(n,"paddingRight",`${a}px`)}}}function eE(){return r0()?{before({doc:e,d:t,meta:r}){function n(s){for(let a of r().containers)for(let o of a())if(o.contains(s))return!0;return!1}t.microTask(()=>{var s;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let c=$r();c.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>c.dispose()))}let a=(s=window.scrollY)!=null?s:window.pageYOffset,o=null;t.addEventListener(e,"click",c=>{if(Zr(c.target))try{let l=c.target.closest("a");if(!l)return;let{hash:u}=new URL(l.href),h=e.querySelector(u);Zr(h)&&!n(h)&&(o=h)}catch{}},!0),t.group(c=>{t.addEventListener(e,"touchstart",l=>{if(c.dispose(),Zr(l.target)&&ck(l.target))if(n(l.target)){let u=l.target;for(;u.parentElement&&n(u.parentElement);)u=u.parentElement;c.style(u,"overscrollBehavior","contain")}else c.style(l.target,"touchAction","none")})}),t.addEventListener(e,"touchmove",c=>{if(Zr(c.target)){if(dk(c.target))return;if(n(c.target)){let l=c.target;for(;l.parentElement&&l.dataset.headlessuiPortal!==""&&!(l.scrollHeight>l.clientHeight||l.scrollWidth>l.clientWidth);)l=l.parentElement;l.dataset.headlessuiPortal===""&&c.preventDefault()}else c.preventDefault()}},{passive:!1}),t.add(()=>{var c;let l=(c=window.scrollY)!=null?c:window.pageYOffset;a!==l&&window.scrollTo(0,a),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{}}function tE(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function Bp(e){let t={};for(let r of e)Object.assign(t,r(t));return t}let An=Xk(()=>new Map,{PUSH(e,t){var r;let n=(r=this.get(e))!=null?r:{doc:e,count:0,d:$r(),meta:new Set,computedMeta:{}};return n.count++,n.meta.add(t),n.computedMeta=Bp(n.meta),this.set(e,n),this},POP(e,t){let r=this.get(e);return r&&(r.count--,r.meta.delete(t),r.computedMeta=Bp(r.meta)),this},SCROLL_PREVENT(e){let t={doc:e.doc,d:e.d,meta(){return e.computedMeta}},r=[eE(),Zk(),tE()];r.forEach(({before:n})=>n==null?void 0:n(t)),r.forEach(({after:n})=>n==null?void 0:n(t))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});An.subscribe(()=>{let e=An.getSnapshot(),t=new Map;for(let[r]of e)t.set(r,r.documentElement.style.overflow);for(let r of e.values()){let n=t.get(r.doc)==="hidden",s=r.count!==0;(s&&!n||!s&&n)&&An.dispatch(r.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",r),r.count===0&&An.dispatch("TEARDOWN",r)}});function rE(e,t,r=()=>({containers:[]})){let n=Qk(An),s=t?n.get(t):void 0,a=s?s.count>0:!1;return mt(()=>{if(!(!t||!e))return An.dispatch("PUSH",t,r),()=>An.dispatch("POP",t,r)},[e,t]),a}function nE(e,t,r=()=>[document.body]){let n=xa(e,"scroll-lock");rE(n,t,s=>{var a;return{containers:[...(a=s.containers)!=null?a:[],r]}})}function sE(e=0){let[t,r]=O.useState(e),n=O.useCallback(l=>r(l),[]),s=O.useCallback(l=>r(u=>u|l),[]),a=O.useCallback(l=>(t&l)===l,[t]),o=O.useCallback(l=>r(u=>u&~l),[]),c=O.useCallback(l=>r(u=>u^l),[]);return{flags:t,setFlag:n,addFlag:s,hasFlag:a,removeFlag:o,toggleFlag:c}}var iE={},Up,zp;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((Up=process==null?void 0:iE)==null?void 0:Up.NODE_ENV)==="test"&&typeof((zp=Element==null?void 0:Element.prototype)==null?void 0:zp.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var aE=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(aE||{});function oE(e){let t={};for(let r in e)e[r]===!0&&(t[`data-${r}`]="");return t}function lE(e,t,r,n){let[s,a]=O.useState(r),{hasFlag:o,addFlag:c,removeFlag:l}=sE(e&&s?3:0),u=O.useRef(!1),h=O.useRef(!1),d=gl();return mt(()=>{var f;if(e){if(r&&a(!0),!t){r&&c(3);return}return(f=n==null?void 0:n.start)==null||f.call(n,r),cE(t,{inFlight:u,prepare(){h.current?h.current=!1:h.current=u.current,u.current=!0,!h.current&&(r?(c(3),l(4)):(c(4),l(2)))},run(){h.current?r?(l(3),c(4)):(l(4),c(3)):r?l(1):c(1)},done(){var p;h.current&&fE(t)||(u.current=!1,l(7),r||a(!1),(p=n==null?void 0:n.end)==null||p.call(n,r))}})}},[e,r,t,d]),e?[s,{closed:o(1),enter:o(2),leave:o(4),transition:o(2)||o(4)}]:[r,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function cE(e,{prepare:t,run:r,done:n,inFlight:s}){let a=$r();return dE(e,{prepare:t,inFlight:s}),a.nextFrame(()=>{r(),a.requestAnimationFrame(()=>{a.add(uE(e,n))})}),a.dispose}function uE(e,t){var r,n;let s=$r();if(!e)return s.dispose;let a=!1;s.add(()=>{a=!0});let o=(n=(r=e.getAnimations)==null?void 0:r.call(e).filter(c=>c instanceof CSSTransition))!=null?n:[];return o.length===0?(t(),s.dispose):(Promise.allSettled(o.map(c=>c.finished)).then(()=>{a||t()}),s.dispose)}function dE(e,{inFlight:t,prepare:r}){if(t!=null&&t.current){r();return}let n=e.style.transition;e.style.transition="none",r(),e.offsetHeight,e.style.transition=n}function fE(e){var t,r;return((r=(t=e.getAnimations)==null?void 0:t.call(e))!=null?r:[]).some(n=>n instanceof CSSTransition&&n.playState!=="finished")}function _f(e,t){let r=O.useRef([]),n=we(e);O.useEffect(()=>{let s=[...r.current];for(let[a,o]of t.entries())if(r.current[a]!==o){let c=n(t,s);return r.current=t,c}},[n,...t])}let vl=O.createContext(null);vl.displayName="OpenClosedContext";var Yt=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(Yt||{});function yl(){return O.useContext(vl)}function hE({value:e,children:t}){return oe.createElement(vl.Provider,{value:e},t)}function pE({children:e}){return oe.createElement(vl.Provider,{value:null},e)}function mE(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let Gr=[];mE(()=>{function e(t){if(!Zr(t.target)||t.target===document.body||Gr[0]===t.target)return;let r=t.target;r=r.closest(Fo),Gr.unshift(r??t.target),Gr=Gr.filter(n=>n!=null&&n.isConnected),Gr.splice(10)}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function i0(e){let t=we(e),r=O.useRef(!1);O.useEffect(()=>(r.current=!1,()=>{r.current=!0,ml(()=>{r.current&&t()})}),[t])}let a0=O.createContext(!1);function gE(){return O.useContext(a0)}function Hp(e){return oe.createElement(a0.Provider,{value:e.force},e.children)}function vE(e){let t=gE(),r=O.useContext(l0),[n,s]=O.useState(()=>{var a;if(!t&&r!==null)return(a=r.current)!=null?a:null;if(cr.isServer)return null;let o=e==null?void 0:e.getElementById("headlessui-portal-root");if(o)return o;if(e===null)return null;let c=e.createElement("div");return c.setAttribute("id","headlessui-portal-root"),e.body.appendChild(c)});return O.useEffect(()=>{n!==null&&(e!=null&&e.body.contains(n)||e==null||e.body.appendChild(n))},[n,e]),O.useEffect(()=>{t||r!==null&&s(r.current)},[r,s,t]),n}let o0=O.Fragment,yE=yt(function(e,t){let{ownerDocument:r=null,...n}=e,s=O.useRef(null),a=hr(fk(f=>{s.current=f}),t),o=jf(s.current),c=r??o,l=vE(c),u=O.useContext(Zu),h=gl(),d=Bt();return i0(()=>{var f;l&&l.childNodes.length<=0&&((f=l.parentElement)==null||f.removeChild(l))}),l?ef.createPortal(oe.createElement("div",{"data-headlessui-portal":"",ref:f=>{h.dispose(),u&&f&&h.add(u.register(f))}},d({ourProps:{ref:a},theirProps:n,slot:{},defaultTag:o0,name:"Portal"})),l):null});function xE(e,t){let r=hr(t),{enabled:n=!0,ownerDocument:s,...a}=e,o=Bt();return n?oe.createElement(yE,{...a,ownerDocument:s,ref:r}):o({ourProps:{ref:r},theirProps:a,slot:{},defaultTag:o0,name:"Portal"})}let bE=O.Fragment,l0=O.createContext(null);function wE(e,t){let{target:r,...n}=e,s={ref:hr(t)},a=Bt();return oe.createElement(l0.Provider,{value:r},a({ourProps:s,theirProps:n,defaultTag:bE,name:"Popover.Group"}))}let Zu=O.createContext(null);function jE(){let e=O.useContext(Zu),t=O.useRef([]),r=we(a=>(t.current.push(a),e&&e.register(a),()=>n(a))),n=we(a=>{let o=t.current.indexOf(a);o!==-1&&t.current.splice(o,1),e&&e.unregister(a)}),s=O.useMemo(()=>({register:r,unregister:n,portals:t}),[r,n,t]);return[t,O.useMemo(()=>function({children:a}){return oe.createElement(Zu.Provider,{value:s},a)},[s])]}let _E=yt(xE),c0=yt(wE),NE=Object.assign(_E,{Group:c0});function SE(e,t=typeof document<"u"?document.defaultView:null,r){let n=xa(e,"escape");s0(t,"keydown",s=>{n&&(s.defaultPrevented||s.key===Wy.Escape&&r(s))})}function kE(){var e;let[t]=O.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[r,n]=O.useState((e=t==null?void 0:t.matches)!=null?e:!1);return mt(()=>{if(!t)return;function s(a){n(a.matches)}return t.addEventListener("change",s),()=>t.removeEventListener("change",s)},[t]),r}function EE({defaultContainers:e=[],portals:t,mainTreeNode:r}={}){let n=we(()=>{var s,a;let o=ga(r),c=[];for(let l of e)l!==null&&(un(l)?c.push(l):"current"in l&&un(l.current)&&c.push(l.current));if(t!=null&&t.current)for(let l of t.current)c.push(l);for(let l of(s=o==null?void 0:o.querySelectorAll("html > *, body > *"))!=null?s:[])l!==document.body&&l!==document.head&&un(l)&&l.id!=="headlessui-portal-root"&&(r&&(l.contains(r)||l.contains((a=r==null?void 0:r.getRootNode())==null?void 0:a.host))||c.some(u=>l.contains(u))||c.push(l));return c});return{resolveContainers:n,contains:we(s=>n().some(a=>a.contains(s)))}}let u0=O.createContext(null);function Vp({children:e,node:t}){let[r,n]=O.useState(null),s=d0(t??r);return oe.createElement(u0.Provider,{value:s},e,s===null&&oe.createElement(Ju,{features:Do.Hidden,ref:a=>{var o,c;if(a){for(let l of(c=(o=ga(a))==null?void 0:o.querySelectorAll("html > *, body > *"))!=null?c:[])if(l!==document.body&&l!==document.head&&un(l)&&l!=null&&l.contains(a)){n(l);break}}}}))}function d0(e=null){var t;return(t=O.useContext(u0))!=null?t:e}function TE(){let e=typeof document>"u";return"useSyncExternalStore"in Cc?(t=>t.useSyncExternalStore)(Cc)(()=>()=>{},()=>!1,()=>!e):!1}function xl(){let e=TE(),[t,r]=O.useState(cr.isHandoffComplete);return t&&cr.isHandoffComplete===!1&&r(!1),O.useEffect(()=>{t!==!0&&r(!0)},[t]),O.useEffect(()=>cr.handoff(),[]),e?!1:t}function Nf(){let e=O.useRef(!1);return mt(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var hi=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(hi||{});function OE(){let e=O.useRef(0);return n0(!0,"keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function f0(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let r of e.current)un(r.current)&&t.add(r.current);return t}let CE="div";var En=(e=>(e[e.None=0]="None",e[e.InitialFocus=1]="InitialFocus",e[e.TabLock=2]="TabLock",e[e.FocusLock=4]="FocusLock",e[e.RestoreFocus=8]="RestoreFocus",e[e.AutoFocus=16]="AutoFocus",e))(En||{});function PE(e,t){let r=O.useRef(null),n=hr(r,t),{initialFocus:s,initialFocusFallback:a,containers:o,features:c=15,...l}=e;xl()||(c=0);let u=jf(r.current);LE(c,{ownerDocument:u});let h=ME(c,{ownerDocument:u,container:r,initialFocus:s,initialFocusFallback:a});$E(c,{ownerDocument:u,container:r,containers:o,previousActiveElement:h});let d=OE(),f=we(m=>{if(!Un(r.current))return;let v=r.current;(y=>y())(()=>{Pr(d.current,{[hi.Forwards]:()=>{Oi(v,xr.First,{skipElements:[m.relatedTarget,a]})},[hi.Backwards]:()=>{Oi(v,xr.Last,{skipElements:[m.relatedTarget,a]})}})})}),p=xa(!!(c&2),"focus-trap#tab-lock"),b=gl(),x=O.useRef(!1),w={ref:n,onKeyDown(m){m.key=="Tab"&&(x.current=!0,b.requestAnimationFrame(()=>{x.current=!1}))},onBlur(m){if(!(c&4))return;let v=f0(o);Un(r.current)&&v.add(r.current);let y=m.relatedTarget;Zr(y)&&y.dataset.headlessuiFocusGuard!=="true"&&(h0(v,y)||(x.current?Oi(r.current,Pr(d.current,{[hi.Forwards]:()=>xr.Next,[hi.Backwards]:()=>xr.Previous})|xr.WrapAround,{relativeTo:m.target}):Zr(m.target)&&kr(m.target)))}},g=Bt();return oe.createElement(oe.Fragment,null,p&&oe.createElement(Ju,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:Do.Focusable}),g({ourProps:w,theirProps:l,defaultTag:CE,name:"FocusTrap"}),p&&oe.createElement(Ju,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:Do.Focusable}))}let AE=yt(PE),IE=Object.assign(AE,{features:En});function RE(e=!0){let t=O.useRef(Gr.slice());return _f(([r],[n])=>{n===!0&&r===!1&&ml(()=>{t.current.splice(0)}),n===!1&&r===!0&&(t.current=Gr.slice())},[e,Gr,t]),we(()=>{var r;return(r=t.current.find(n=>n!=null&&n.isConnected))!=null?r:null})}function LE(e,{ownerDocument:t}){let r=!!(e&8),n=RE(r);_f(()=>{r||XS(t==null?void 0:t.body)&&kr(n())},[r]),i0(()=>{r&&kr(n())})}function ME(e,{ownerDocument:t,container:r,initialFocus:n,initialFocusFallback:s}){let a=O.useRef(null),o=xa(!!(e&1),"focus-trap#initial-focus"),c=Nf();return _f(()=>{if(e===0)return;if(!o){s!=null&&s.current&&kr(s.current);return}let l=r.current;l&&ml(()=>{if(!c.current)return;let u=t==null?void 0:t.activeElement;if(n!=null&&n.current){if((n==null?void 0:n.current)===u){a.current=u;return}}else if(l.contains(u)){a.current=u;return}if(n!=null&&n.current)kr(n.current);else{if(e&16){if(Oi(l,xr.First|xr.AutoFocus)!==Xu.Error)return}else if(Oi(l,xr.First)!==Xu.Error)return;if(s!=null&&s.current&&(kr(s.current),(t==null?void 0:t.activeElement)===s.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}a.current=t==null?void 0:t.activeElement})},[s,o,e]),a}function $E(e,{ownerDocument:t,container:r,containers:n,previousActiveElement:s}){let a=Nf(),o=!!(e&4);s0(t==null?void 0:t.defaultView,"focus",c=>{if(!o||!a.current)return;let l=f0(n);Un(r.current)&&l.add(r.current);let u=s.current;if(!u)return;let h=c.target;Un(h)?h0(l,h)?(s.current=h,kr(h)):(c.preventDefault(),c.stopPropagation(),kr(u)):kr(s.current)},!0)}function h0(e,t){for(let r of e)if(r.contains(t))return!0;return!1}function p0(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||!Ei((t=e.as)!=null?t:g0)||oe.Children.count(e.children)===1}let bl=O.createContext(null);bl.displayName="TransitionContext";var DE=(e=>(e.Visible="visible",e.Hidden="hidden",e))(DE||{});function FE(){let e=O.useContext(bl);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function qE(){let e=O.useContext(wl);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let wl=O.createContext(null);wl.displayName="NestingContext";function jl(e){return"children"in e?jl(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function m0(e,t){let r=Wn(e),n=O.useRef([]),s=Nf(),a=gl(),o=we((p,b=Xr.Hidden)=>{let x=n.current.findIndex(({el:w})=>w===p);x!==-1&&(Pr(b,{[Xr.Unmount](){n.current.splice(x,1)},[Xr.Hidden](){n.current[x].state="hidden"}}),a.microTask(()=>{var w;!jl(n)&&s.current&&((w=r.current)==null||w.call(r))}))}),c=we(p=>{let b=n.current.find(({el:x})=>x===p);return b?b.state!=="visible"&&(b.state="visible"):n.current.push({el:p,state:"visible"}),()=>o(p,Xr.Unmount)}),l=O.useRef([]),u=O.useRef(Promise.resolve()),h=O.useRef({enter:[],leave:[]}),d=we((p,b,x)=>{l.current.splice(0),t&&(t.chains.current[b]=t.chains.current[b].filter(([w])=>w!==p)),t==null||t.chains.current[b].push([p,new Promise(w=>{l.current.push(w)})]),t==null||t.chains.current[b].push([p,new Promise(w=>{Promise.all(h.current[b].map(([g,m])=>m)).then(()=>w())})]),b==="enter"?u.current=u.current.then(()=>t==null?void 0:t.wait.current).then(()=>x(b)):x(b)}),f=we((p,b,x)=>{Promise.all(h.current[b].splice(0).map(([w,g])=>g)).then(()=>{var w;(w=l.current.shift())==null||w()}).then(()=>x(b))});return O.useMemo(()=>({children:n,register:c,unregister:o,onStart:d,onStop:f,wait:u,chains:h}),[c,o,n,d,f,h,u])}let g0=O.Fragment,v0=$o.RenderStrategy;function BE(e,t){var r,n;let{transition:s=!0,beforeEnter:a,afterEnter:o,beforeLeave:c,afterLeave:l,enter:u,enterFrom:h,enterTo:d,entered:f,leave:p,leaveFrom:b,leaveTo:x,...w}=e,[g,m]=O.useState(null),v=O.useRef(null),y=p0(e),j=hr(...y?[v,t,m]:t===null?[]:[t]),S=(r=w.unmount)==null||r?Xr.Unmount:Xr.Hidden,{show:N,appear:_,initial:C}=FE(),[k,E]=O.useState(N?"visible":"hidden"),T=qE(),{register:A,unregister:L}=T;mt(()=>A(v),[A,v]),mt(()=>{if(S===Xr.Hidden&&v.current){if(N&&k!=="visible"){E("visible");return}return Pr(k,{hidden:()=>L(v),visible:()=>A(v)})}},[k,v,A,L,N,S]);let F=xl();mt(()=>{if(y&&F&&k==="visible"&&v.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[v,k,F,y]);let U=C&&!_,B=_&&N&&C,q=O.useRef(!1),D=m0(()=>{q.current||(E("hidden"),L(v))},T),I=we(H=>{q.current=!0;let K=H?"enter":"leave";D.onStart(v,K,G=>{G==="enter"?a==null||a():G==="leave"&&(c==null||c())})}),P=we(H=>{let K=H?"enter":"leave";q.current=!1,D.onStop(v,K,G=>{G==="enter"?o==null||o():G==="leave"&&(l==null||l())}),K==="leave"&&!jl(D)&&(E("hidden"),L(v))});O.useEffect(()=>{y&&s||(I(N),P(N))},[N,y,s]);let M=!(!s||!y||!F||U),[,R]=lE(M,g,N,{start:I,end:P}),V=_n({ref:j,className:((n=Yu(w.className,B&&u,B&&h,R.enter&&u,R.enter&&R.closed&&h,R.enter&&!R.closed&&d,R.leave&&p,R.leave&&!R.closed&&b,R.leave&&R.closed&&x,!R.transition&&N&&f))==null?void 0:n.trim())||void 0,...oE(R)}),W=0;k==="visible"&&(W|=Yt.Open),k==="hidden"&&(W|=Yt.Closed),N&&k==="hidden"&&(W|=Yt.Opening),!N&&k==="visible"&&(W|=Yt.Closing);let $=Bt();return oe.createElement(wl.Provider,{value:D},oe.createElement(hE,{value:W},$({ourProps:V,theirProps:w,defaultTag:g0,features:v0,visible:k==="visible",name:"Transition.Child"})))}function UE(e,t){let{show:r,appear:n=!1,unmount:s=!0,...a}=e,o=O.useRef(null),c=p0(e),l=hr(...c?[o,t]:t===null?[]:[t]);xl();let u=yl();if(r===void 0&&u!==null&&(r=(u&Yt.Open)===Yt.Open),r===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[h,d]=O.useState(r?"visible":"hidden"),f=m0(()=>{r||d("hidden")}),[p,b]=O.useState(!0),x=O.useRef([r]);mt(()=>{p!==!1&&x.current[x.current.length-1]!==r&&(x.current.push(r),b(!1))},[x,r]);let w=O.useMemo(()=>({show:r,appear:n,initial:p}),[r,n,p]);mt(()=>{r?d("visible"):!jl(f)&&o.current!==null&&d("hidden")},[r,f]);let g={unmount:s},m=we(()=>{var j;p&&b(!1),(j=e.beforeEnter)==null||j.call(e)}),v=we(()=>{var j;p&&b(!1),(j=e.beforeLeave)==null||j.call(e)}),y=Bt();return oe.createElement(wl.Provider,{value:f},oe.createElement(bl.Provider,{value:w},y({ourProps:{...g,as:O.Fragment,children:oe.createElement(y0,{ref:l,...g,...a,beforeEnter:m,beforeLeave:v})},theirProps:{},defaultTag:O.Fragment,features:v0,visible:h==="visible",name:"Transition"})))}function zE(e,t){let r=O.useContext(bl)!==null,n=yl()!==null;return oe.createElement(oe.Fragment,null,!r&&n?oe.createElement(ed,{ref:t,...e}):oe.createElement(y0,{ref:t,...e}))}let ed=yt(UE),y0=yt(BE),oa=yt(zE),x0=Object.assign(ed,{Child:oa,Root:ed});var HE=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(HE||{}),VE=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(VE||{});let WE={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},Sf=O.createContext(null);Sf.displayName="DialogContext";function _l(e){let t=O.useContext(Sf);if(t===null){let r=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,_l),r}return t}function GE(e,t){return Pr(t.type,WE,e,t)}let Wp=yt(function(e,t){let r=O.useId(),{id:n=`headlessui-dialog-${r}`,open:s,onClose:a,initialFocus:o,role:c="dialog",autoFocus:l=!0,__demoMode:u=!1,unmount:h=!1,...d}=e,f=O.useRef(!1);c=function(){return c==="dialog"||c==="alertdialog"?c:(f.current||(f.current=!0,console.warn(`Invalid role [${c}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let p=yl();s===void 0&&p!==null&&(s=(p&Yt.Open)===Yt.Open);let b=O.useRef(null),x=hr(b,t),w=jf(b.current),g=s?0:1,[m,v]=O.useReducer(GE,{titleId:null,descriptionId:null,panelRef:O.createRef()}),y=we(()=>a(!1)),j=we(R=>v({type:0,id:R})),S=xl()?g===0:!1,[N,_]=jE(),C={get current(){var R;return(R=m.panelRef.current)!=null?R:b.current}},k=d0(),{resolveContainers:E}=EE({mainTreeNode:k,portals:N,defaultContainers:[C]}),T=p!==null?(p&Yt.Closing)===Yt.Closing:!1;Dk(u||T?!1:S,{allowed:we(()=>{var R,V;return[(V=(R=b.current)==null?void 0:R.closest("[data-headlessui-portal]"))!=null?V:null]}),disallowed:we(()=>{var R;return[(R=k==null?void 0:k.closest("body > *:not(#headlessui-portal-root)"))!=null?R:null]})});let A=Qy.get(null);mt(()=>{if(S)return A.actions.push(n),()=>A.actions.pop(n)},[A,n,S]);let L=e0(A,O.useCallback(R=>A.selectors.isTop(R,n),[A,n]));Jk(L,E,R=>{R.preventDefault(),y()}),SE(L,w==null?void 0:w.defaultView,R=>{R.preventDefault(),R.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),y()}),nE(u||T?!1:S,w,E),Fk(S,b,y);let[F,U]=hk(),B=O.useMemo(()=>[{dialogState:g,close:y,setTitleId:j,unmount:h},m],[g,y,j,h,m]),q=va({open:g===0}),D={ref:x,id:n,role:c,tabIndex:-1,"aria-modal":u?void 0:g===0?!0:void 0,"aria-labelledby":m.titleId,"aria-describedby":F,unmount:h},I=!kE(),P=En.None;S&&!u&&(P|=En.RestoreFocus,P|=En.TabLock,l&&(P|=En.AutoFocus),I&&(P|=En.InitialFocus));let M=Bt();return oe.createElement(pE,null,oe.createElement(Hp,{force:!0},oe.createElement(NE,null,oe.createElement(Sf.Provider,{value:B},oe.createElement(c0,{target:b},oe.createElement(Hp,{force:!1},oe.createElement(U,{slot:q},oe.createElement(_,null,oe.createElement(IE,{initialFocus:o,initialFocusFallback:b,containers:E,features:P},oe.createElement(xk,{value:y},M({ourProps:D,theirProps:d,slot:q,defaultTag:KE,features:YE,visible:g===0,name:"Dialog"})))))))))))}),KE="div",YE=$o.RenderStrategy|$o.Static;function JE(e,t){let{transition:r=!1,open:n,...s}=e,a=yl(),o=e.hasOwnProperty("open")||a!==null,c=e.hasOwnProperty("onClose");if(!o&&!c)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!o)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!c)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!a&&typeof e.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${e.open}`);if(typeof e.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${e.onClose}`);return(n!==void 0||r)&&!s.static?oe.createElement(Vp,null,oe.createElement(x0,{show:n,transition:r,unmount:s.unmount},oe.createElement(Wp,{ref:t,...s}))):oe.createElement(Vp,null,oe.createElement(Wp,{ref:t,open:n,...s}))}let QE="div";function XE(e,t){let r=O.useId(),{id:n=`headlessui-dialog-panel-${r}`,transition:s=!1,...a}=e,[{dialogState:o,unmount:c},l]=_l("Dialog.Panel"),u=hr(t,l.panelRef),h=va({open:o===0}),d=we(w=>{w.stopPropagation()}),f={ref:u,id:n,onClick:d},p=s?oa:O.Fragment,b=s?{unmount:c}:{},x=Bt();return oe.createElement(p,{...b},x({ourProps:f,theirProps:a,slot:h,defaultTag:QE,name:"Dialog.Panel"}))}let ZE="div";function eT(e,t){let{transition:r=!1,...n}=e,[{dialogState:s,unmount:a}]=_l("Dialog.Backdrop"),o=va({open:s===0}),c={ref:t,"aria-hidden":!0},l=r?oa:O.Fragment,u=r?{unmount:a}:{},h=Bt();return oe.createElement(l,{...u},h({ourProps:c,theirProps:n,slot:o,defaultTag:ZE,name:"Dialog.Backdrop"}))}let tT="h2";function rT(e,t){let r=O.useId(),{id:n=`headlessui-dialog-title-${r}`,...s}=e,[{dialogState:a,setTitleId:o}]=_l("Dialog.Title"),c=hr(t);O.useEffect(()=>(o(n),()=>o(null)),[n,o]);let l=va({open:a===0}),u={ref:c,id:n};return Bt()({ourProps:u,theirProps:s,slot:l,defaultTag:tT,name:"Dialog.Title"})}let nT=yt(JE),b0=yt(XE);yt(eT);let w0=yt(rT),sT=Object.assign(nT,{Panel:b0,Title:w0,Description:vk});function iT(){var F;const{websiteId:e,refreshWebsites:t}=Ue(),{admin:r}=ul(),[n,s]=O.useState({brand_name:"",brand_logo:"",contact_email:"",contact_phone:"",address:"",announcement_text:"",announcement_enabled:!1}),[a,o]=O.useState([]),[c,l]=O.useState(!0),[u,h]=O.useState(!1),[d,f]=O.useState({type:"",text:""}),[p,b]=O.useState(!1),[x,w]=O.useState(""),[g,m]=O.useState(""),[v,y]=O.useState(!0),[j,S]=O.useState(!1),[N,_]=O.useState({type:"",text:""});O.useEffect(()=>{r!=null&&r.id&&(k(),C())},[e,r==null?void 0:r.id]);const C=async()=>{try{const{data:U,error:B}=await Q.rpc("admin_get_all_websites");if(B)throw B;o(U||[])}catch(U){console.error("Error fetching all websites:",U),f({type:"error",text:"Failed to load all websites"})}},k=async()=>{l(!0);try{const{data:U,error:B}=await Q.from("site_settings").select("*").eq("website_id",e).maybeSingle();if(B)throw B;s(U||{brand_name:"",brand_logo:"",contact_email:"",contact_phone:"",address:"",announcement_text:"",announcement_enabled:!1})}catch(U){console.error("Error fetching settings:",U),f({type:"error",text:"Failed to load settings"})}finally{l(!1)}},E=U=>{s({...n,[U.target.name]:U.target.value})},T=()=>{s({...n,announcement_enabled:!n.announcement_enabled})},A=async U=>{U.preventDefault(),h(!0),f({type:"",text:""});try{if(!(r!=null&&r.id))throw new Error("Admin not authenticated");const B={brand_name:n.brand_name,brand_logo:n.brand_logo||"",contact_email:n.contact_email,contact_phone:n.contact_phone,address:n.address||"",announcement_text:n.announcement_text||"",announcement_enabled:n.announcement_enabled||!1,website_id:e},{data:q,error:D}=await Q.rpc("admin_upsert_site_settings",{settings_data:B});if(D)throw D;if(!(q!=null&&q.success))throw new Error((q==null?void 0:q.error)||"Failed to save settings");f({type:"success",text:"Settings saved successfully!"})}catch(B){console.error("Error saving settings:",B),f({type:"error",text:B.message||"Failed to save settings"})}finally{h(!1)}},L=async U=>{U.preventDefault(),S(!0),_({type:"",text:""});try{if(!x||!g)throw new Error("Name and Domain are required.");const{data:B,error:q}=await Q.rpc("admin_manage_website",{p_id:null,p_name:x,p_domain:g,p_is_active:v,p_config:{}});if(q)throw q;_({type:"success",text:`Website "${x}" added successfully!`}),w(""),m(""),y(!0),C(),t(),setTimeout(()=>{b(!1),_({type:"",text:""})},2e3)}catch(B){console.error("Error adding new website:",B),_({type:"error",text:B.message||"Failed to add website."})}finally{S(!1)}};return c?i.jsx(nt,{children:i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):i.jsx(nt,{children:i.jsxs("div",{className:"max-w-4xl mx-auto",children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Website Settings"}),i.jsx("p",{className:"text-gray-600",children:"Manage your brand, contact information and available websites"})]}),d.text&&i.jsxs("div",{className:`mb-6 p-4 rounded-2xl flex items-center gap-2 ${d.type==="success"?"bg-green-50 text-green-800":"bg-red-50 text-red-800"}`,children:[d.type==="success"?i.jsx(Et,{size:20}):i.jsx(qn,{size:20}),i.jsx("span",{children:d.text})]}),i.jsxs("section",{className:"bg-white rounded-2xl shadow-md p-6 mb-8",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Manage Websites"}),i.jsxs("button",{type:"button",onClick:()=>b(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[i.jsx(b_,{size:18})," Add New Website"]})]}),a.length===0?i.jsx("p",{className:"text-gray-500",children:'No websites found. Click "Add New Website" to create one.'}):i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),i.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Domain"}),i.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),i.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.map(U=>i.jsxs("tr",{children:[i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:[U.name," ",U.id===e&&i.jsx("span",{className:"text-blue-500 text-xs",children:"(Current)"})]}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:U.domain}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:i.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${U.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:U.is_active?"Active":"Inactive"})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-xs text-gray-400",children:U.id})]},U.id))})]})})]}),i.jsxs("form",{onSubmit:A,className:"bg-white rounded-2xl shadow-md p-6 space-y-6",children:[i.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:["Brand Settings for ",i.jsx("span",{className:"text-blue-600",children:((F=a.find(U=>U.id===e))==null?void 0:F.name)||"Current Website"})]}),i.jsx("p",{className:"text-gray-500 text-sm",children:"These settings apply to the currently selected website."}),i.jsx("hr",{className:"my-4"}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"brand_name",className:"block text-sm font-bold text-gray-700 mb-2",children:"Brand Name *"}),i.jsx("input",{type:"text",id:"brand_name",name:"brand_name",value:n.brand_name,onChange:E,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-2xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Printer Pro"}),i.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"This name will appear throughout the website (header, footer, pages, etc.)"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"brand_logo",className:"block text-sm font-bold text-gray-700 mb-2",children:"Brand Logo URL"}),i.jsx("input",{type:"url",id:"brand_logo",name:"brand_logo",value:n.brand_logo,onChange:E,className:"w-full px-4 py-2 border border-gray-300 rounded-2xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"https://example.com/logo.png"}),i.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Optional: URL to your brand logo image"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"contact_email",className:"block text-sm font-bold text-gray-700 mb-2",children:"Contact Email *"}),i.jsx("input",{type:"email",id:"contact_email",name:"contact_email",value:n.contact_email,onChange:E,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-2xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"info@example.com"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"contact_phone",className:"block text-sm font-bold text-gray-700 mb-2",children:"Contact Phone *"}),i.jsx("input",{type:"tel",id:"contact_phone",name:"contact_phone",value:n.contact_phone,onChange:E,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-2xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"+1-234-567-8900"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"address",className:"block text-sm font-bold text-gray-700 mb-2",children:"Address"}),i.jsx("textarea",{id:"address",name:"address",value:n.address,onChange:E,rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-2xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Your business address"})]}),i.jsxs("div",{className:"border-t pt-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-amber-500 to-orange-600 rounded-xl flex items-center justify-center",children:i.jsx(qu,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Announcement Bar"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Display an announcement at the top of your website"})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-bold text-gray-900",children:"Enable Announcement Bar"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Show announcement to visitors"})]}),i.jsx("button",{type:"button",onClick:T,className:`relative inline-flex h-8 w-14 items-center rounded-full transition-colors ${n.announcement_enabled?"bg-green-600":"bg-gray-300"}`,children:i.jsx("span",{className:`inline-block h-6 w-6 transform rounded-full bg-white transition-transform ${n.announcement_enabled?"translate-x-7":"translate-x-1"}`})})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"announcement_text",className:"block text-sm font-bold text-gray-700 mb-2",children:"Announcement Text"}),i.jsx("textarea",{id:"announcement_text",name:"announcement_text",value:n.announcement_text||"",onChange:E,rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-2xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Free Shipping on Orders Over $500 | Sale: Up to 30% Off Select Models | Limited Time Offer"}),i.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"This message will appear in a banner at the top of your website. Leave empty to hide."})]})]})]}),i.jsx("div",{className:"flex justify-end",children:i.jsxs("button",{type:"submit",disabled:u,className:"flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-2xl hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[i.jsx(na,{size:20}),u?"Saving...":"Save Settings"]})})]}),i.jsx(x0,{appear:!0,show:p,as:O.Fragment,children:i.jsxs(sT,{as:"div",className:"relative z-10",onClose:()=>b(!1),children:[i.jsx(oa,{as:O.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),i.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:i.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:i.jsx(oa,{as:O.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:i.jsxs(b0,{className:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[i.jsx(w0,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900",children:"Add New Website"}),i.jsxs("div",{className:"mt-4",children:[N.text&&i.jsxs("div",{className:`mb-4 p-3 rounded-xl flex items-center gap-2 text-sm ${N.type==="success"?"bg-green-50 text-green-800":"bg-red-50 text-red-800"}`,children:[N.type==="success"?i.jsx(Et,{size:16}):i.jsx(qn,{size:16}),i.jsx("span",{children:N.text})]}),i.jsxs("form",{onSubmit:L,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"newWebsiteName",className:"block text-sm font-bold text-gray-700 mb-1",children:"Website Name *"}),i.jsx("input",{type:"text",id:"newWebsiteName",value:x,onChange:U=>w(U.target.value),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., My New Awesome Store"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"newWebsiteDomain",className:"block text-sm font-bold text-gray-700 mb-1",children:"Website Domain *"}),i.jsx("input",{type:"text",id:"newWebsiteDomain",value:g,onChange:U=>m(U.target.value),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., mynewstore.com"}),i.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Ensure this matches the actual domain."})]}),i.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[i.jsx("label",{htmlFor:"newWebsiteIsActive",className:"font-bold text-gray-700",children:"Is Active"}),i.jsx("button",{type:"button",onClick:()=>y(!v),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${v?"bg-green-600":"bg-gray-300"}`,children:i.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${v?"translate-x-6":"translate-x-1"}`})})]}),i.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[i.jsx("button",{type:"button",className:"inline-flex justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",onClick:()=>b(!1),children:"Cancel"}),i.jsx("button",{type:"submit",disabled:j,className:"inline-flex justify-center rounded-md border border-transparent bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",children:j?"Adding...":"Add Website"})]})]})]})]})})})})]})})]})})}function aT(){const{websiteId:e}=Ue(),[t,r]=O.useState([]),[n,s]=O.useState(!0),[a,o]=O.useState(!1),[c,l]=O.useState(null),[u,h]=O.useState({type:"",text:""}),[d,f]=O.useState({question:"",answer:"",display_order:0,is_active:!0});O.useEffect(()=>{e&&p()},[e]);const p=async()=>{try{const{data:v,error:y}=await Q.from("faqs").select("*").eq("website_id",e).order("display_order");if(y)throw y;r(v||[])}catch(v){console.error("Error fetching FAQs:",v)}finally{s(!1)}},b=()=>{f({question:"",answer:"",display_order:0,is_active:!0}),l(null),o(!1)},x=v=>{f({question:v.question,answer:v.answer,display_order:v.display_order,is_active:v.is_active}),l(v.id),o(!0)},w=async v=>{v.preventDefault(),h({type:"",text:""});try{if(c){const{data:y,error:j}=await Q.rpc("admin_manage_faq",{operation:"update",faq_id:c,faq_data:{...d,website_id:e}});if(j)throw j;h({type:"success",text:"FAQ updated successfully!"})}else{const{data:y,error:j}=await Q.rpc("admin_manage_faq",{operation:"insert",faq_data:{...d,website_id:e}});if(j)throw j;h({type:"success",text:"FAQ created successfully!"})}b(),p()}catch(y){console.error("Error saving FAQ:",y),h({type:"error",text:y.message||"Failed to save FAQ"})}},g=async v=>{if(confirm("Are you sure you want to delete this FAQ?"))try{const{data:y,error:j}=await Q.rpc("admin_manage_faq",{operation:"delete",faq_id:v});if(j)throw j;h({type:"success",text:"FAQ deleted successfully!"}),p()}catch(y){console.error("Error deleting FAQ:",y),h({type:"error",text:y.message||"Failed to delete FAQ"})}},m=async v=>{try{const{data:y,error:j}=await Q.rpc("admin_manage_faq",{operation:"update",faq_id:v.id,faq_data:{is_active:!v.is_active}});if(j)throw j;p()}catch(y){console.error("Error updating FAQ status:",y),h({type:"error",text:y.message||"Failed to update status"})}};return n?i.jsx(nt,{children:i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-sky-600"})})}):i.jsx(nt,{children:i.jsxs("div",{className:"max-w-6xl mx-auto",children:[i.jsxs("div",{className:"mb-8 flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Manage FAQs"}),i.jsx("p",{className:"text-gray-600",children:"Add, edit, or remove frequently asked questions"})]}),i.jsxs("button",{onClick:()=>o(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-2xl hover:bg-blue-700 transition-colors",children:[i.jsx(hn,{size:20}),"Add FAQ"]})]}),u.text&&i.jsxs("div",{className:`mb-6 p-4 rounded-2xl flex items-center gap-2 ${u.type==="success"?"bg-green-50 text-green-800":"bg-red-50 text-red-800"}`,children:[u.type==="success"?i.jsx(Et,{size:20}):i.jsx(qn,{size:20}),i.jsx("span",{children:u.text})]}),a&&i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 mb-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h2",{className:"text-xl font-semibold",children:c?"Edit FAQ":"Add New FAQ"}),i.jsx("button",{onClick:b,className:"text-gray-500 hover:text-gray-700",children:i.jsx(gt,{size:24})})]}),i.jsxs("form",{onSubmit:w,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Question *"}),i.jsx("input",{type:"text",value:d.question,onChange:v=>f({...d,question:v.target.value}),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-2xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter the question"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Answer *"}),i.jsx("textarea",{value:d.answer,onChange:v=>f({...d,answer:v.target.value}),required:!0,rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-2xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter the answer"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Display Order"}),i.jsx("input",{type:"number",value:d.display_order,onChange:v=>f({...d,display_order:parseInt(v.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-2xl focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Status"}),i.jsxs("select",{value:d.is_active?"active":"inactive",onChange:v=>f({...d,is_active:v.target.value==="active"}),className:"w-full px-4 py-2 border border-gray-300 rounded-2xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[i.jsx("option",{value:"active",children:"Active"}),i.jsx("option",{value:"inactive",children:"Inactive"})]})]})]}),i.jsxs("div",{className:"flex justify-end gap-3",children:[i.jsx("button",{type:"button",onClick:b,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-2xl hover:bg-gray-50 transition-colors",children:"Cancel"}),i.jsxs("button",{type:"submit",className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-2xl hover:bg-blue-700 transition-colors",children:[i.jsx(na,{size:20}),c?"Update FAQ":"Add FAQ"]})]})]})]}),i.jsx("div",{className:"bg-white rounded-2xl shadow-md overflow-hidden",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-gray-500 uppercase",children:"Order"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-gray-500 uppercase",children:"Question"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-gray-500 uppercase",children:"Status"}),i.jsx("th",{className:"px-6 py-3 text-right text-xs font-bold text-gray-500 uppercase",children:"Actions"})]})}),i.jsx("tbody",{className:"divide-y divide-gray-200",children:t.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:"4",className:"px-6 py-8 text-center text-gray-500",children:"No FAQs found. Add your first FAQ to get started."})}):t.map(v=>i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:v.display_order}),i.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:v.question}),i.jsx("td",{className:"px-6 py-4",children:i.jsx("button",{onClick:()=>m(v),className:`px-3 py-1 rounded-full text-xs font-bold ${v.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:v.is_active?"Active":"Inactive"})}),i.jsxs("td",{className:"px-6 py-4 text-right space-x-2",children:[i.jsx("button",{onClick:()=>x(v),className:"text-blue-600 hover:text-blue-900",children:i.jsx(wy,{size:18})}),i.jsx("button",{onClick:()=>g(v.id),className:"text-red-600 hover:text-red-900",children:i.jsx(Ls,{size:18})})]})]},v.id))})]})})]})})}function oT(){this.__data__=[],this.size=0}var lT=oT;function cT(e,t){return e===t||e!==e&&t!==t}var j0=cT,uT=j0;function dT(e,t){for(var r=e.length;r--;)if(uT(e[r][0],t))return r;return-1}var Nl=dT,fT=Nl,hT=Array.prototype,pT=hT.splice;function mT(e){var t=this.__data__,r=fT(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():pT.call(t,r,1),--this.size,!0}var gT=mT,vT=Nl;function yT(e){var t=this.__data__,r=vT(t,e);return r<0?void 0:t[r][1]}var xT=yT,bT=Nl;function wT(e){return bT(this.__data__,e)>-1}var jT=wT,_T=Nl;function NT(e,t){var r=this.__data__,n=_T(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var ST=NT,kT=lT,ET=gT,TT=xT,OT=jT,CT=ST;function Hs(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Hs.prototype.clear=kT;Hs.prototype.delete=ET;Hs.prototype.get=TT;Hs.prototype.has=OT;Hs.prototype.set=CT;var Sl=Hs,PT=Sl;function AT(){this.__data__=new PT,this.size=0}var IT=AT;function RT(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var LT=RT;function MT(e){return this.__data__.get(e)}var $T=MT;function DT(e){return this.__data__.has(e)}var FT=DT,qT=typeof Nt=="object"&&Nt&&Nt.Object===Object&&Nt,_0=qT,BT=_0,UT=typeof self=="object"&&self&&self.Object===Object&&self,zT=BT||UT||Function("return this")(),Dr=zT,HT=Dr,VT=HT.Symbol,kf=VT,Gp=kf,N0=Object.prototype,WT=N0.hasOwnProperty,GT=N0.toString,si=Gp?Gp.toStringTag:void 0;function KT(e){var t=WT.call(e,si),r=e[si];try{e[si]=void 0;var n=!0}catch{}var s=GT.call(e);return n&&(t?e[si]=r:delete e[si]),s}var YT=KT,JT=Object.prototype,QT=JT.toString;function XT(e){return QT.call(e)}var ZT=XT,Kp=kf,eO=YT,tO=ZT,rO="[object Null]",nO="[object Undefined]",Yp=Kp?Kp.toStringTag:void 0;function sO(e){return e==null?e===void 0?nO:rO:Yp&&Yp in Object(e)?eO(e):tO(e)}var kl=sO;function iO(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var S0=iO,aO=kl,oO=S0,lO="[object AsyncFunction]",cO="[object Function]",uO="[object GeneratorFunction]",dO="[object Proxy]";function fO(e){if(!oO(e))return!1;var t=aO(e);return t==cO||t==uO||t==lO||t==dO}var k0=fO,hO=Dr,pO=hO["__core-js_shared__"],mO=pO,kc=mO,Jp=function(){var e=/[^.]+$/.exec(kc&&kc.keys&&kc.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function gO(e){return!!Jp&&Jp in e}var vO=gO,yO=Function.prototype,xO=yO.toString;function bO(e){if(e!=null){try{return xO.call(e)}catch{}try{return e+""}catch{}}return""}var E0=bO,wO=k0,jO=vO,_O=S0,NO=E0,SO=/[\\^$.*+?()[\]{}|]/g,kO=/^\[object .+?Constructor\]$/,EO=Function.prototype,TO=Object.prototype,OO=EO.toString,CO=TO.hasOwnProperty,PO=RegExp("^"+OO.call(CO).replace(SO,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function AO(e){if(!_O(e)||jO(e))return!1;var t=wO(e)?PO:kO;return t.test(NO(e))}var IO=AO;function RO(e,t){return e==null?void 0:e[t]}var LO=RO,MO=IO,$O=LO;function DO(e,t){var r=$O(e,t);return MO(r)?r:void 0}var Vs=DO,FO=Vs,qO=Dr,BO=FO(qO,"Map"),Ef=BO,UO=Vs,zO=UO(Object,"create"),El=zO,Qp=El;function HO(){this.__data__=Qp?Qp(null):{},this.size=0}var VO=HO;function WO(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var GO=WO,KO=El,YO="__lodash_hash_undefined__",JO=Object.prototype,QO=JO.hasOwnProperty;function XO(e){var t=this.__data__;if(KO){var r=t[e];return r===YO?void 0:r}return QO.call(t,e)?t[e]:void 0}var ZO=XO,e4=El,t4=Object.prototype,r4=t4.hasOwnProperty;function n4(e){var t=this.__data__;return e4?t[e]!==void 0:r4.call(t,e)}var s4=n4,i4=El,a4="__lodash_hash_undefined__";function o4(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=i4&&t===void 0?a4:t,this}var l4=o4,c4=VO,u4=GO,d4=ZO,f4=s4,h4=l4;function Ws(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Ws.prototype.clear=c4;Ws.prototype.delete=u4;Ws.prototype.get=d4;Ws.prototype.has=f4;Ws.prototype.set=h4;var p4=Ws,Xp=p4,m4=Sl,g4=Ef;function v4(){this.size=0,this.__data__={hash:new Xp,map:new(g4||m4),string:new Xp}}var y4=v4;function x4(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var b4=x4,w4=b4;function j4(e,t){var r=e.__data__;return w4(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Tl=j4,_4=Tl;function N4(e){var t=_4(this,e).delete(e);return this.size-=t?1:0,t}var S4=N4,k4=Tl;function E4(e){return k4(this,e).get(e)}var T4=E4,O4=Tl;function C4(e){return O4(this,e).has(e)}var P4=C4,A4=Tl;function I4(e,t){var r=A4(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var R4=I4,L4=y4,M4=S4,$4=T4,D4=P4,F4=R4;function Gs(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Gs.prototype.clear=L4;Gs.prototype.delete=M4;Gs.prototype.get=$4;Gs.prototype.has=D4;Gs.prototype.set=F4;var T0=Gs,q4=Sl,B4=Ef,U4=T0,z4=200;function H4(e,t){var r=this.__data__;if(r instanceof q4){var n=r.__data__;if(!B4||n.length<z4-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new U4(n)}return r.set(e,t),this.size=r.size,this}var V4=H4,W4=Sl,G4=IT,K4=LT,Y4=$T,J4=FT,Q4=V4;function Ks(e){var t=this.__data__=new W4(e);this.size=t.size}Ks.prototype.clear=G4;Ks.prototype.delete=K4;Ks.prototype.get=Y4;Ks.prototype.has=J4;Ks.prototype.set=Q4;var X4=Ks,Z4="__lodash_hash_undefined__";function eC(e){return this.__data__.set(e,Z4),this}var tC=eC;function rC(e){return this.__data__.has(e)}var nC=rC,sC=T0,iC=tC,aC=nC;function qo(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new sC;++t<r;)this.add(e[t])}qo.prototype.add=qo.prototype.push=iC;qo.prototype.has=aC;var oC=qo;function lC(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var cC=lC;function uC(e,t){return e.has(t)}var dC=uC,fC=oC,hC=cC,pC=dC,mC=1,gC=2;function vC(e,t,r,n,s,a){var o=r&mC,c=e.length,l=t.length;if(c!=l&&!(o&&l>c))return!1;var u=a.get(e),h=a.get(t);if(u&&h)return u==t&&h==e;var d=-1,f=!0,p=r&gC?new fC:void 0;for(a.set(e,t),a.set(t,e);++d<c;){var b=e[d],x=t[d];if(n)var w=o?n(x,b,d,t,e,a):n(b,x,d,e,t,a);if(w!==void 0){if(w)continue;f=!1;break}if(p){if(!hC(t,function(g,m){if(!pC(p,m)&&(b===g||s(b,g,r,n,a)))return p.push(m)})){f=!1;break}}else if(!(b===x||s(b,x,r,n,a))){f=!1;break}}return a.delete(e),a.delete(t),f}var O0=vC,yC=Dr,xC=yC.Uint8Array,bC=xC;function wC(e){var t=-1,r=Array(e.size);return e.forEach(function(n,s){r[++t]=[s,n]}),r}var jC=wC;function _C(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var NC=_C,Zp=kf,em=bC,SC=j0,kC=O0,EC=jC,TC=NC,OC=1,CC=2,PC="[object Boolean]",AC="[object Date]",IC="[object Error]",RC="[object Map]",LC="[object Number]",MC="[object RegExp]",$C="[object Set]",DC="[object String]",FC="[object Symbol]",qC="[object ArrayBuffer]",BC="[object DataView]",tm=Zp?Zp.prototype:void 0,Ec=tm?tm.valueOf:void 0;function UC(e,t,r,n,s,a,o){switch(r){case BC:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case qC:return!(e.byteLength!=t.byteLength||!a(new em(e),new em(t)));case PC:case AC:case LC:return SC(+e,+t);case IC:return e.name==t.name&&e.message==t.message;case MC:case DC:return e==t+"";case RC:var c=EC;case $C:var l=n&OC;if(c||(c=TC),e.size!=t.size&&!l)return!1;var u=o.get(e);if(u)return u==t;n|=CC,o.set(e,t);var h=kC(c(e),c(t),n,s,a,o);return o.delete(e),h;case FC:if(Ec)return Ec.call(e)==Ec.call(t)}return!1}var zC=UC;function HC(e,t){for(var r=-1,n=t.length,s=e.length;++r<n;)e[s+r]=t[r];return e}var VC=HC,WC=Array.isArray,Tf=WC,GC=VC,KC=Tf;function YC(e,t,r){var n=t(e);return KC(e)?n:GC(n,r(e))}var JC=YC;function QC(e,t){for(var r=-1,n=e==null?0:e.length,s=0,a=[];++r<n;){var o=e[r];t(o,r,e)&&(a[s++]=o)}return a}var XC=QC;function ZC(){return[]}var eP=ZC,tP=XC,rP=eP,nP=Object.prototype,sP=nP.propertyIsEnumerable,rm=Object.getOwnPropertySymbols,iP=rm?function(e){return e==null?[]:(e=Object(e),tP(rm(e),function(t){return sP.call(e,t)}))}:rP,aP=iP;function oP(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var lP=oP;function cP(e){return e!=null&&typeof e=="object"}var Ol=cP,uP=kl,dP=Ol,fP="[object Arguments]";function hP(e){return dP(e)&&uP(e)==fP}var pP=hP,nm=pP,mP=Ol,C0=Object.prototype,gP=C0.hasOwnProperty,vP=C0.propertyIsEnumerable,yP=nm(function(){return arguments}())?nm:function(e){return mP(e)&&gP.call(e,"callee")&&!vP.call(e,"callee")},xP=yP,Bo={exports:{}};function bP(){return!1}var wP=bP;Bo.exports;(function(e,t){var r=Dr,n=wP,s=t&&!t.nodeType&&t,a=s&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===s,c=o?r.Buffer:void 0,l=c?c.isBuffer:void 0,u=l||n;e.exports=u})(Bo,Bo.exports);var P0=Bo.exports,jP=9007199254740991,_P=/^(?:0|[1-9]\d*)$/;function NP(e,t){var r=typeof e;return t=t??jP,!!t&&(r=="number"||r!="symbol"&&_P.test(e))&&e>-1&&e%1==0&&e<t}var SP=NP,kP=9007199254740991;function EP(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=kP}var A0=EP,TP=kl,OP=A0,CP=Ol,PP="[object Arguments]",AP="[object Array]",IP="[object Boolean]",RP="[object Date]",LP="[object Error]",MP="[object Function]",$P="[object Map]",DP="[object Number]",FP="[object Object]",qP="[object RegExp]",BP="[object Set]",UP="[object String]",zP="[object WeakMap]",HP="[object ArrayBuffer]",VP="[object DataView]",WP="[object Float32Array]",GP="[object Float64Array]",KP="[object Int8Array]",YP="[object Int16Array]",JP="[object Int32Array]",QP="[object Uint8Array]",XP="[object Uint8ClampedArray]",ZP="[object Uint16Array]",e5="[object Uint32Array]",Se={};Se[WP]=Se[GP]=Se[KP]=Se[YP]=Se[JP]=Se[QP]=Se[XP]=Se[ZP]=Se[e5]=!0;Se[PP]=Se[AP]=Se[HP]=Se[IP]=Se[VP]=Se[RP]=Se[LP]=Se[MP]=Se[$P]=Se[DP]=Se[FP]=Se[qP]=Se[BP]=Se[UP]=Se[zP]=!1;function t5(e){return CP(e)&&OP(e.length)&&!!Se[TP(e)]}var r5=t5;function n5(e){return function(t){return e(t)}}var s5=n5,Uo={exports:{}};Uo.exports;(function(e,t){var r=_0,n=t&&!t.nodeType&&t,s=n&&!0&&e&&!e.nodeType&&e,a=s&&s.exports===n,o=a&&r.process,c=function(){try{var l=s&&s.require&&s.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();e.exports=c})(Uo,Uo.exports);var i5=Uo.exports,a5=r5,o5=s5,sm=i5,im=sm&&sm.isTypedArray,l5=im?o5(im):a5,I0=l5,c5=lP,u5=xP,d5=Tf,f5=P0,h5=SP,p5=I0,m5=Object.prototype,g5=m5.hasOwnProperty;function v5(e,t){var r=d5(e),n=!r&&u5(e),s=!r&&!n&&f5(e),a=!r&&!n&&!s&&p5(e),o=r||n||s||a,c=o?c5(e.length,String):[],l=c.length;for(var u in e)(t||g5.call(e,u))&&!(o&&(u=="length"||s&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||h5(u,l)))&&c.push(u);return c}var y5=v5,x5=Object.prototype;function b5(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||x5;return e===r}var w5=b5;function j5(e,t){return function(r){return e(t(r))}}var _5=j5,N5=_5,S5=N5(Object.keys,Object),k5=S5,E5=w5,T5=k5,O5=Object.prototype,C5=O5.hasOwnProperty;function P5(e){if(!E5(e))return T5(e);var t=[];for(var r in Object(e))C5.call(e,r)&&r!="constructor"&&t.push(r);return t}var A5=P5,I5=k0,R5=A0;function L5(e){return e!=null&&R5(e.length)&&!I5(e)}var M5=L5,$5=y5,D5=A5,F5=M5;function q5(e){return F5(e)?$5(e):D5(e)}var B5=q5,U5=JC,z5=aP,H5=B5;function V5(e){return U5(e,H5,z5)}var W5=V5,am=W5,G5=1,K5=Object.prototype,Y5=K5.hasOwnProperty;function J5(e,t,r,n,s,a){var o=r&G5,c=am(e),l=c.length,u=am(t),h=u.length;if(l!=h&&!o)return!1;for(var d=l;d--;){var f=c[d];if(!(o?f in t:Y5.call(t,f)))return!1}var p=a.get(e),b=a.get(t);if(p&&b)return p==t&&b==e;var x=!0;a.set(e,t),a.set(t,e);for(var w=o;++d<l;){f=c[d];var g=e[f],m=t[f];if(n)var v=o?n(m,g,f,t,e,a):n(g,m,f,e,t,a);if(!(v===void 0?g===m||s(g,m,r,n,a):v)){x=!1;break}w||(w=f=="constructor")}if(x&&!w){var y=e.constructor,j=t.constructor;y!=j&&"constructor"in e&&"constructor"in t&&!(typeof y=="function"&&y instanceof y&&typeof j=="function"&&j instanceof j)&&(x=!1)}return a.delete(e),a.delete(t),x}var Q5=J5,X5=Vs,Z5=Dr,eA=X5(Z5,"DataView"),tA=eA,rA=Vs,nA=Dr,sA=rA(nA,"Promise"),iA=sA,aA=Vs,oA=Dr,lA=aA(oA,"Set"),cA=lA,uA=Vs,dA=Dr,fA=uA(dA,"WeakMap"),hA=fA,td=tA,rd=Ef,nd=iA,sd=cA,id=hA,R0=kl,Ys=E0,om="[object Map]",pA="[object Object]",lm="[object Promise]",cm="[object Set]",um="[object WeakMap]",dm="[object DataView]",mA=Ys(td),gA=Ys(rd),vA=Ys(nd),yA=Ys(sd),xA=Ys(id),Nn=R0;(td&&Nn(new td(new ArrayBuffer(1)))!=dm||rd&&Nn(new rd)!=om||nd&&Nn(nd.resolve())!=lm||sd&&Nn(new sd)!=cm||id&&Nn(new id)!=um)&&(Nn=function(e){var t=R0(e),r=t==pA?e.constructor:void 0,n=r?Ys(r):"";if(n)switch(n){case mA:return dm;case gA:return om;case vA:return lm;case yA:return cm;case xA:return um}return t});var bA=Nn,Tc=X4,wA=O0,jA=zC,_A=Q5,fm=bA,hm=Tf,pm=P0,NA=I0,SA=1,mm="[object Arguments]",gm="[object Array]",Va="[object Object]",kA=Object.prototype,vm=kA.hasOwnProperty;function EA(e,t,r,n,s,a){var o=hm(e),c=hm(t),l=o?gm:fm(e),u=c?gm:fm(t);l=l==mm?Va:l,u=u==mm?Va:u;var h=l==Va,d=u==Va,f=l==u;if(f&&pm(e)){if(!pm(t))return!1;o=!0,h=!1}if(f&&!h)return a||(a=new Tc),o||NA(e)?wA(e,t,r,n,s,a):jA(e,t,l,r,n,s,a);if(!(r&SA)){var p=h&&vm.call(e,"__wrapped__"),b=d&&vm.call(t,"__wrapped__");if(p||b){var x=p?e.value():e,w=b?t.value():t;return a||(a=new Tc),s(x,w,r,n,a)}}return f?(a||(a=new Tc),_A(e,t,r,n,s,a)):!1}var TA=EA,OA=TA,ym=Ol;function L0(e,t,r,n,s){return e===t?!0:e==null||t==null||!ym(e)&&!ym(t)?e!==e&&t!==t:OA(e,t,r,n,L0,s)}var CA=L0,PA=CA;function AA(e,t){return PA(e,t)}var IA=AA,M0={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(e,t){(function(n,s){e.exports=s()})(typeof self<"u"?self:Nt,function(){return function(r){var n={};function s(a){if(n[a])return n[a].exports;var o=n[a]={i:a,l:!1,exports:{}};return r[a].call(o.exports,o,o.exports,s),o.l=!0,o.exports}return s.m=r,s.c=n,s.d=function(a,o,c){s.o(a,o)||Object.defineProperty(a,o,{configurable:!1,enumerable:!0,get:c})},s.n=function(a){var o=a&&a.__esModule?function(){return a.default}:function(){return a};return s.d(o,"a",o),o},s.o=function(a,o){return Object.prototype.hasOwnProperty.call(a,o)},s.p="",s(s.s=109)}([function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var a=s(17),o=s(18),c=s(19),l=s(45),u=s(46),h=s(47),d=s(48),f=s(49),p=s(12),b=s(32),x=s(33),w=s(31),g=s(1),m={Scope:g.Scope,create:g.create,find:g.find,query:g.query,register:g.register,Container:a.default,Format:o.default,Leaf:c.default,Embed:d.default,Scroll:l.default,Block:h.default,Inline:u.default,Text:f.default,Attributor:{Attribute:p.default,Class:b.default,Style:x.default,Store:w.default}};n.default=m},function(r,n,s){var a=this&&this.__extends||function(){var w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,m){g.__proto__=m}||function(g,m){for(var v in m)m.hasOwnProperty(v)&&(g[v]=m[v])};return function(g,m){w(g,m);function v(){this.constructor=g}g.prototype=m===null?Object.create(m):(v.prototype=m.prototype,new v)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=function(w){a(g,w);function g(m){var v=this;return m="[Parchment] "+m,v=w.call(this,m)||this,v.message=m,v.name=v.constructor.name,v}return g}(Error);n.ParchmentError=o;var c={},l={},u={},h={};n.DATA_KEY="__blot";var d;(function(w){w[w.TYPE=3]="TYPE",w[w.LEVEL=12]="LEVEL",w[w.ATTRIBUTE=13]="ATTRIBUTE",w[w.BLOT=14]="BLOT",w[w.INLINE=7]="INLINE",w[w.BLOCK=11]="BLOCK",w[w.BLOCK_BLOT=10]="BLOCK_BLOT",w[w.INLINE_BLOT=6]="INLINE_BLOT",w[w.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",w[w.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",w[w.ANY=15]="ANY"})(d=n.Scope||(n.Scope={}));function f(w,g){var m=b(w);if(m==null)throw new o("Unable to create "+w+" blot");var v=m,y=w instanceof Node||w.nodeType===Node.TEXT_NODE?w:v.create(g);return new v(y,g)}n.create=f;function p(w,g){return g===void 0&&(g=!1),w==null?null:w[n.DATA_KEY]!=null?w[n.DATA_KEY].blot:g?p(w.parentNode,g):null}n.find=p;function b(w,g){g===void 0&&(g=d.ANY);var m;if(typeof w=="string")m=h[w]||c[w];else if(w instanceof Text||w.nodeType===Node.TEXT_NODE)m=h.text;else if(typeof w=="number")w&d.LEVEL&d.BLOCK?m=h.block:w&d.LEVEL&d.INLINE&&(m=h.inline);else if(w instanceof HTMLElement){var v=(w.getAttribute("class")||"").split(/\s+/);for(var y in v)if(m=l[v[y]],m)break;m=m||u[w.tagName]}return m==null?null:g&d.LEVEL&m.scope&&g&d.TYPE&m.scope?m:null}n.query=b;function x(){for(var w=[],g=0;g<arguments.length;g++)w[g]=arguments[g];if(w.length>1)return w.map(function(y){return x(y)});var m=w[0];if(typeof m.blotName!="string"&&typeof m.attrName!="string")throw new o("Invalid definition");if(m.blotName==="abstract")throw new o("Cannot register abstract class");if(h[m.blotName||m.attrName]=m,typeof m.keyName=="string")c[m.keyName]=m;else if(m.className!=null&&(l[m.className]=m),m.tagName!=null){Array.isArray(m.tagName)?m.tagName=m.tagName.map(function(y){return y.toUpperCase()}):m.tagName=m.tagName.toUpperCase();var v=Array.isArray(m.tagName)?m.tagName:[m.tagName];v.forEach(function(y){(u[y]==null||m.className==null)&&(u[y]=m)})}return m}n.register=x},function(r,n,s){var a=s(51),o=s(11),c=s(3),l=s(20),u="\0",h=function(d){Array.isArray(d)?this.ops=d:d!=null&&Array.isArray(d.ops)?this.ops=d.ops:this.ops=[]};h.prototype.insert=function(d,f){var p={};return d.length===0?this:(p.insert=d,f!=null&&typeof f=="object"&&Object.keys(f).length>0&&(p.attributes=f),this.push(p))},h.prototype.delete=function(d){return d<=0?this:this.push({delete:d})},h.prototype.retain=function(d,f){if(d<=0)return this;var p={retain:d};return f!=null&&typeof f=="object"&&Object.keys(f).length>0&&(p.attributes=f),this.push(p)},h.prototype.push=function(d){var f=this.ops.length,p=this.ops[f-1];if(d=c(!0,{},d),typeof p=="object"){if(typeof d.delete=="number"&&typeof p.delete=="number")return this.ops[f-1]={delete:p.delete+d.delete},this;if(typeof p.delete=="number"&&d.insert!=null&&(f-=1,p=this.ops[f-1],typeof p!="object"))return this.ops.unshift(d),this;if(o(d.attributes,p.attributes)){if(typeof d.insert=="string"&&typeof p.insert=="string")return this.ops[f-1]={insert:p.insert+d.insert},typeof d.attributes=="object"&&(this.ops[f-1].attributes=d.attributes),this;if(typeof d.retain=="number"&&typeof p.retain=="number")return this.ops[f-1]={retain:p.retain+d.retain},typeof d.attributes=="object"&&(this.ops[f-1].attributes=d.attributes),this}}return f===this.ops.length?this.ops.push(d):this.ops.splice(f,0,d),this},h.prototype.chop=function(){var d=this.ops[this.ops.length-1];return d&&d.retain&&!d.attributes&&this.ops.pop(),this},h.prototype.filter=function(d){return this.ops.filter(d)},h.prototype.forEach=function(d){this.ops.forEach(d)},h.prototype.map=function(d){return this.ops.map(d)},h.prototype.partition=function(d){var f=[],p=[];return this.forEach(function(b){var x=d(b)?f:p;x.push(b)}),[f,p]},h.prototype.reduce=function(d,f){return this.ops.reduce(d,f)},h.prototype.changeLength=function(){return this.reduce(function(d,f){return f.insert?d+l.length(f):f.delete?d-f.delete:d},0)},h.prototype.length=function(){return this.reduce(function(d,f){return d+l.length(f)},0)},h.prototype.slice=function(d,f){d=d||0,typeof f!="number"&&(f=1/0);for(var p=[],b=l.iterator(this.ops),x=0;x<f&&b.hasNext();){var w;x<d?w=b.next(d-x):(w=b.next(f-x),p.push(w)),x+=l.length(w)}return new h(p)},h.prototype.compose=function(d){var f=l.iterator(this.ops),p=l.iterator(d.ops),b=[],x=p.peek();if(x!=null&&typeof x.retain=="number"&&x.attributes==null){for(var w=x.retain;f.peekType()==="insert"&&f.peekLength()<=w;)w-=f.peekLength(),b.push(f.next());x.retain-w>0&&p.next(x.retain-w)}for(var g=new h(b);f.hasNext()||p.hasNext();)if(p.peekType()==="insert")g.push(p.next());else if(f.peekType()==="delete")g.push(f.next());else{var m=Math.min(f.peekLength(),p.peekLength()),v=f.next(m),y=p.next(m);if(typeof y.retain=="number"){var j={};typeof v.retain=="number"?j.retain=m:j.insert=v.insert;var S=l.attributes.compose(v.attributes,y.attributes,typeof v.retain=="number");if(S&&(j.attributes=S),g.push(j),!p.hasNext()&&o(g.ops[g.ops.length-1],j)){var N=new h(f.rest());return g.concat(N).chop()}}else typeof y.delete=="number"&&typeof v.retain=="number"&&g.push(y)}return g.chop()},h.prototype.concat=function(d){var f=new h(this.ops.slice());return d.ops.length>0&&(f.push(d.ops[0]),f.ops=f.ops.concat(d.ops.slice(1))),f},h.prototype.diff=function(d,f){if(this.ops===d.ops)return new h;var p=[this,d].map(function(m){return m.map(function(v){if(v.insert!=null)return typeof v.insert=="string"?v.insert:u;var y=m===d?"on":"with";throw new Error("diff() called "+y+" non-document")}).join("")}),b=new h,x=a(p[0],p[1],f),w=l.iterator(this.ops),g=l.iterator(d.ops);return x.forEach(function(m){for(var v=m[1].length;v>0;){var y=0;switch(m[0]){case a.INSERT:y=Math.min(g.peekLength(),v),b.push(g.next(y));break;case a.DELETE:y=Math.min(v,w.peekLength()),w.next(y),b.delete(y);break;case a.EQUAL:y=Math.min(w.peekLength(),g.peekLength(),v);var j=w.next(y),S=g.next(y);o(j.insert,S.insert)?b.retain(y,l.attributes.diff(j.attributes,S.attributes)):b.push(S).delete(y);break}v-=y}}),b.chop()},h.prototype.eachLine=function(d,f){f=f||`
`;for(var p=l.iterator(this.ops),b=new h,x=0;p.hasNext();){if(p.peekType()!=="insert")return;var w=p.peek(),g=l.length(w)-p.peekLength(),m=typeof w.insert=="string"?w.insert.indexOf(f,g)-g:-1;if(m<0)b.push(p.next());else if(m>0)b.push(p.next(m));else{if(d(b,p.next(1).attributes||{},x)===!1)return;x+=1,b=new h}}b.length()>0&&d(b,{},x)},h.prototype.transform=function(d,f){if(f=!!f,typeof d=="number")return this.transformPosition(d,f);for(var p=l.iterator(this.ops),b=l.iterator(d.ops),x=new h;p.hasNext()||b.hasNext();)if(p.peekType()==="insert"&&(f||b.peekType()!=="insert"))x.retain(l.length(p.next()));else if(b.peekType()==="insert")x.push(b.next());else{var w=Math.min(p.peekLength(),b.peekLength()),g=p.next(w),m=b.next(w);if(g.delete)continue;m.delete?x.push(m):x.retain(w,l.attributes.transform(g.attributes,m.attributes,f))}return x.chop()},h.prototype.transformPosition=function(d,f){f=!!f;for(var p=l.iterator(this.ops),b=0;p.hasNext()&&b<=d;){var x=p.peekLength(),w=p.peekType();if(p.next(),w==="delete"){d-=Math.min(x,d-b);continue}else w==="insert"&&(b<d||!f)&&(d+=x);b+=x}return d},r.exports=h},function(r,n){var s=Object.prototype.hasOwnProperty,a=Object.prototype.toString,o=Object.defineProperty,c=Object.getOwnPropertyDescriptor,l=function(p){return typeof Array.isArray=="function"?Array.isArray(p):a.call(p)==="[object Array]"},u=function(p){if(!p||a.call(p)!=="[object Object]")return!1;var b=s.call(p,"constructor"),x=p.constructor&&p.constructor.prototype&&s.call(p.constructor.prototype,"isPrototypeOf");if(p.constructor&&!b&&!x)return!1;var w;for(w in p);return typeof w>"u"||s.call(p,w)},h=function(p,b){o&&b.name==="__proto__"?o(p,b.name,{enumerable:!0,configurable:!0,value:b.newValue,writable:!0}):p[b.name]=b.newValue},d=function(p,b){if(b==="__proto__")if(s.call(p,b)){if(c)return c(p,b).value}else return;return p[b]};r.exports=function f(){var p,b,x,w,g,m,v=arguments[0],y=1,j=arguments.length,S=!1;for(typeof v=="boolean"&&(S=v,v=arguments[1]||{},y=2),(v==null||typeof v!="object"&&typeof v!="function")&&(v={});y<j;++y)if(p=arguments[y],p!=null)for(b in p)x=d(v,b),w=d(p,b),v!==w&&(S&&w&&(u(w)||(g=l(w)))?(g?(g=!1,m=x&&l(x)?x:[]):m=x&&u(x)?x:{},h(v,{name:b,newValue:f(S,m,w)})):typeof w<"u"&&h(v,{name:b,newValue:w}));return v}},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BlockEmbed=n.bubbleFormats=void 0;var a=function(){function E(T,A){for(var L=0;L<A.length;L++){var F=A[L];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(T,F.key,F)}}return function(T,A,L){return A&&E(T.prototype,A),L&&E(T,L),T}}(),o=function E(T,A,L){T===null&&(T=Function.prototype);var F=Object.getOwnPropertyDescriptor(T,A);if(F===void 0){var U=Object.getPrototypeOf(T);return U===null?void 0:E(U,A,L)}else{if("value"in F)return F.value;var B=F.get;return B===void 0?void 0:B.call(L)}},c=s(3),l=v(c),u=s(2),h=v(u),d=s(0),f=v(d),p=s(16),b=v(p),x=s(6),w=v(x),g=s(7),m=v(g);function v(E){return E&&E.__esModule?E:{default:E}}function y(E,T){if(!(E instanceof T))throw new TypeError("Cannot call a class as a function")}function j(E,T){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:E}function S(E,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);E.prototype=Object.create(T&&T.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(E,T):E.__proto__=T)}var N=1,_=function(E){S(T,E);function T(){return y(this,T),j(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return a(T,[{key:"attach",value:function(){o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"attach",this).call(this),this.attributes=new f.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new h.default().insert(this.value(),(0,l.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(L,F){var U=f.default.query(L,f.default.Scope.BLOCK_ATTRIBUTE);U!=null&&this.attributes.attribute(U,F)}},{key:"formatAt",value:function(L,F,U,B){this.format(U,B)}},{key:"insertAt",value:function(L,F,U){if(typeof F=="string"&&F.endsWith(`
`)){var B=f.default.create(C.blotName);this.parent.insertBefore(B,L===0?this:this.next),B.insertAt(0,F.slice(0,-1))}else o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertAt",this).call(this,L,F,U)}}]),T}(f.default.Embed);_.scope=f.default.Scope.BLOCK_BLOT;var C=function(E){S(T,E);function T(A){y(this,T);var L=j(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,A));return L.cache={},L}return a(T,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(f.default.Leaf).reduce(function(L,F){return F.length()===0?L:L.insert(F.value(),k(F))},new h.default).insert(`
`,k(this))),this.cache.delta}},{key:"deleteAt",value:function(L,F){o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"deleteAt",this).call(this,L,F),this.cache={}}},{key:"formatAt",value:function(L,F,U,B){F<=0||(f.default.query(U,f.default.Scope.BLOCK)?L+F===this.length()&&this.format(U,B):o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"formatAt",this).call(this,L,Math.min(F,this.length()-L-1),U,B),this.cache={})}},{key:"insertAt",value:function(L,F,U){if(U!=null)return o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertAt",this).call(this,L,F,U);if(F.length!==0){var B=F.split(`
`),q=B.shift();q.length>0&&(L<this.length()-1||this.children.tail==null?o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertAt",this).call(this,Math.min(L,this.length()-1),q):this.children.tail.insertAt(this.children.tail.length(),q),this.cache={});var D=this;B.reduce(function(I,P){return D=D.split(I,!0),D.insertAt(0,P),P.length},L+q.length)}}},{key:"insertBefore",value:function(L,F){var U=this.children.head;o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertBefore",this).call(this,L,F),U instanceof b.default&&U.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"length",this).call(this)+N),this.cache.length}},{key:"moveChildren",value:function(L,F){o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"moveChildren",this).call(this,L,F),this.cache={}}},{key:"optimize",value:function(L){o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"optimize",this).call(this,L),this.cache={}}},{key:"path",value:function(L){return o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"path",this).call(this,L,!0)}},{key:"removeChild",value:function(L){o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"removeChild",this).call(this,L),this.cache={}}},{key:"split",value:function(L){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(F&&(L===0||L>=this.length()-N)){var U=this.clone();return L===0?(this.parent.insertBefore(U,this),this):(this.parent.insertBefore(U,this.next),U)}else{var B=o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"split",this).call(this,L,F);return this.cache={},B}}}]),T}(f.default.Block);C.blotName="block",C.tagName="P",C.defaultChild="break",C.allowedChildren=[w.default,f.default.Embed,m.default];function k(E){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return E==null||(typeof E.formats=="function"&&(T=(0,l.default)(T,E.formats())),E.parent==null||E.parent.blotName=="scroll"||E.parent.statics.scope!==E.statics.scope)?T:k(E.parent,T)}n.bubbleFormats=k,n.BlockEmbed=_,n.default=C},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.overload=n.expandConfig=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},o=function(){function D(I,P){var M=[],R=!0,V=!1,W=void 0;try{for(var $=I[Symbol.iterator](),H;!(R=(H=$.next()).done)&&(M.push(H.value),!(P&&M.length===P));R=!0);}catch(K){V=!0,W=K}finally{try{!R&&$.return&&$.return()}finally{if(V)throw W}}return M}return function(I,P){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return D(I,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function D(I,P){for(var M=0;M<P.length;M++){var R=P[M];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(I,R.key,R)}}return function(I,P,M){return P&&D(I.prototype,P),M&&D(I,M),I}}();s(50);var l=s(2),u=k(l),h=s(14),d=k(h),f=s(8),p=k(f),b=s(9),x=k(b),w=s(0),g=k(w),m=s(15),v=k(m),y=s(3),j=k(y),S=s(10),N=k(S),_=s(34),C=k(_);function k(D){return D&&D.__esModule?D:{default:D}}function E(D,I,P){return I in D?Object.defineProperty(D,I,{value:P,enumerable:!0,configurable:!0,writable:!0}):D[I]=P,D}function T(D,I){if(!(D instanceof I))throw new TypeError("Cannot call a class as a function")}var A=(0,N.default)("quill"),L=function(){c(D,null,[{key:"debug",value:function(P){P===!0&&(P="log"),N.default.level(P)}},{key:"find",value:function(P){return P.__quill||g.default.find(P)}},{key:"import",value:function(P){return this.imports[P]==null&&A.error("Cannot import "+P+". Are you sure it was registered?"),this.imports[P]}},{key:"register",value:function(P,M){var R=this,V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof P!="string"){var W=P.attrName||P.blotName;typeof W=="string"?this.register("formats/"+W,P,M):Object.keys(P).forEach(function($){R.register($,P[$],M)})}else this.imports[P]!=null&&!V&&A.warn("Overwriting "+P+" with",M),this.imports[P]=M,(P.startsWith("blots/")||P.startsWith("formats/"))&&M.blotName!=="abstract"?g.default.register(M):P.startsWith("modules")&&typeof M.register=="function"&&M.register()}}]);function D(I){var P=this,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(T(this,D),this.options=F(I,M),this.container=this.options.container,this.container==null)return A.error("Invalid Quill container",I);this.options.debug&&D.debug(this.options.debug);var R=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new p.default,this.scroll=g.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new d.default(this.scroll),this.selection=new v.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(p.default.events.EDITOR_CHANGE,function(W){W===p.default.events.TEXT_CHANGE&&P.root.classList.toggle("ql-blank",P.editor.isBlank())}),this.emitter.on(p.default.events.SCROLL_UPDATE,function(W,$){var H=P.selection.lastRange,K=H&&H.length===0?H.index:void 0;U.call(P,function(){return P.editor.update(null,$,K)},W)});var V=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+R+"<p><br></p></div>");this.setContents(V),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return c(D,[{key:"addContainer",value:function(P){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof P=="string"){var R=P;P=document.createElement("div"),P.classList.add(R)}return this.container.insertBefore(P,M),P}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(P,M,R){var V=this,W=B(P,M,R),$=o(W,4);return P=$[0],M=$[1],R=$[3],U.call(this,function(){return V.editor.deleteText(P,M)},R,P,-1*M)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(P),this.container.classList.toggle("ql-disabled",!P)}},{key:"focus",value:function(){var P=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=P,this.scrollIntoView()}},{key:"format",value:function(P,M){var R=this,V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:p.default.sources.API;return U.call(this,function(){var W=R.getSelection(!0),$=new u.default;if(W==null)return $;if(g.default.query(P,g.default.Scope.BLOCK))$=R.editor.formatLine(W.index,W.length,E({},P,M));else{if(W.length===0)return R.selection.format(P,M),$;$=R.editor.formatText(W.index,W.length,E({},P,M))}return R.setSelection(W,p.default.sources.SILENT),$},V)}},{key:"formatLine",value:function(P,M,R,V,W){var $=this,H=void 0,K=B(P,M,R,V,W),G=o(K,4);return P=G[0],M=G[1],H=G[2],W=G[3],U.call(this,function(){return $.editor.formatLine(P,M,H)},W,P,0)}},{key:"formatText",value:function(P,M,R,V,W){var $=this,H=void 0,K=B(P,M,R,V,W),G=o(K,4);return P=G[0],M=G[1],H=G[2],W=G[3],U.call(this,function(){return $.editor.formatText(P,M,H)},W,P,0)}},{key:"getBounds",value:function(P){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,R=void 0;typeof P=="number"?R=this.selection.getBounds(P,M):R=this.selection.getBounds(P.index,P.length);var V=this.container.getBoundingClientRect();return{bottom:R.bottom-V.top,height:R.height,left:R.left-V.left,right:R.right-V.left,top:R.top-V.top,width:R.width}}},{key:"getContents",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-P,R=B(P,M),V=o(R,2);return P=V[0],M=V[1],this.editor.getContents(P,M)}},{key:"getFormat",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof P=="number"?this.editor.getFormat(P,M):this.editor.getFormat(P.index,P.length)}},{key:"getIndex",value:function(P){return P.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(P){return this.scroll.leaf(P)}},{key:"getLine",value:function(P){return this.scroll.line(P)}},{key:"getLines",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof P!="number"?this.scroll.lines(P.index,P.length):this.scroll.lines(P,M)}},{key:"getModule",value:function(P){return this.theme.modules[P]}},{key:"getSelection",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return P&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-P,R=B(P,M),V=o(R,2);return P=V[0],M=V[1],this.editor.getText(P,M)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(P,M,R){var V=this,W=arguments.length>3&&arguments[3]!==void 0?arguments[3]:D.sources.API;return U.call(this,function(){return V.editor.insertEmbed(P,M,R)},W,P)}},{key:"insertText",value:function(P,M,R,V,W){var $=this,H=void 0,K=B(P,0,R,V,W),G=o(K,4);return P=G[0],H=G[2],W=G[3],U.call(this,function(){return $.editor.insertText(P,M,H)},W,P,M.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(P,M,R){this.clipboard.dangerouslyPasteHTML(P,M,R)}},{key:"removeFormat",value:function(P,M,R){var V=this,W=B(P,M,R),$=o(W,4);return P=$[0],M=$[1],R=$[3],U.call(this,function(){return V.editor.removeFormat(P,M)},R,P)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(P){var M=this,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API;return U.call(this,function(){P=new u.default(P);var V=M.getLength(),W=M.editor.deleteText(0,V),$=M.editor.applyDelta(P),H=$.ops[$.ops.length-1];H!=null&&typeof H.insert=="string"&&H.insert[H.insert.length-1]===`
`&&(M.editor.deleteText(M.getLength()-1,1),$.delete(1));var K=W.compose($);return K},R)}},{key:"setSelection",value:function(P,M,R){if(P==null)this.selection.setRange(null,M||D.sources.API);else{var V=B(P,M,R),W=o(V,4);P=W[0],M=W[1],R=W[3],this.selection.setRange(new m.Range(P,M),R),R!==p.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(P){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API,R=new u.default().insert(P);return this.setContents(R,M)}},{key:"update",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p.default.sources.USER,M=this.scroll.update(P);return this.selection.update(P),M}},{key:"updateContents",value:function(P){var M=this,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API;return U.call(this,function(){return P=new u.default(P),M.editor.applyDelta(P,R)},R,!0)}}]),D}();L.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},L.events=p.default.events,L.sources=p.default.sources,L.version="1.3.7",L.imports={delta:u.default,parchment:g.default,"core/module":x.default,"core/theme":C.default};function F(D,I){if(I=(0,j.default)(!0,{container:D,modules:{clipboard:!0,keyboard:!0,history:!0}},I),!I.theme||I.theme===L.DEFAULTS.theme)I.theme=C.default;else if(I.theme=L.import("themes/"+I.theme),I.theme==null)throw new Error("Invalid theme "+I.theme+". Did you register it?");var P=(0,j.default)(!0,{},I.theme.DEFAULTS);[P,I].forEach(function(V){V.modules=V.modules||{},Object.keys(V.modules).forEach(function(W){V.modules[W]===!0&&(V.modules[W]={})})});var M=Object.keys(P.modules).concat(Object.keys(I.modules)),R=M.reduce(function(V,W){var $=L.import("modules/"+W);return $==null?A.error("Cannot load "+W+" module. Are you sure you registered it?"):V[W]=$.DEFAULTS||{},V},{});return I.modules!=null&&I.modules.toolbar&&I.modules.toolbar.constructor!==Object&&(I.modules.toolbar={container:I.modules.toolbar}),I=(0,j.default)(!0,{},L.DEFAULTS,{modules:R},P,I),["bounds","container","scrollingContainer"].forEach(function(V){typeof I[V]=="string"&&(I[V]=document.querySelector(I[V]))}),I.modules=Object.keys(I.modules).reduce(function(V,W){return I.modules[W]&&(V[W]=I.modules[W]),V},{}),I}function U(D,I,P,M){if(this.options.strict&&!this.isEnabled()&&I===p.default.sources.USER)return new u.default;var R=P==null?null:this.getSelection(),V=this.editor.delta,W=D();if(R!=null&&(P===!0&&(P=R.index),M==null?R=q(R,W,I):M!==0&&(R=q(R,P,M,I)),this.setSelection(R,p.default.sources.SILENT)),W.length()>0){var $,H=[p.default.events.TEXT_CHANGE,W,V,I];if(($=this.emitter).emit.apply($,[p.default.events.EDITOR_CHANGE].concat(H)),I!==p.default.sources.SILENT){var K;(K=this.emitter).emit.apply(K,H)}}return W}function B(D,I,P,M,R){var V={};return typeof D.index=="number"&&typeof D.length=="number"?typeof I!="number"?(R=M,M=P,P=I,I=D.length,D=D.index):(I=D.length,D=D.index):typeof I!="number"&&(R=M,M=P,P=I,I=0),(typeof P>"u"?"undefined":a(P))==="object"?(V=P,R=M):typeof P=="string"&&(M!=null?V[P]=M:R=P),R=R||p.default.sources.API,[D,I,V,R]}function q(D,I,P,M){if(D==null)return null;var R=void 0,V=void 0;if(I instanceof u.default){var W=[D.index,D.index+D.length].map(function(G){return I.transformPosition(G,M!==p.default.sources.USER)}),$=o(W,2);R=$[0],V=$[1]}else{var H=[D.index,D.index+D.length].map(function(G){return G<I||G===I&&M===p.default.sources.USER?G:P>=0?G+P:Math.max(I,G+P)}),K=o(H,2);R=K[0],V=K[1]}return new m.Range(R,V-R)}n.expandConfig=F,n.overload=B,n.default=L},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function w(g,m){for(var v=0;v<m.length;v++){var y=m[v];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,y.key,y)}}return function(g,m,v){return m&&w(g.prototype,m),v&&w(g,v),g}}(),o=function w(g,m,v){g===null&&(g=Function.prototype);var y=Object.getOwnPropertyDescriptor(g,m);if(y===void 0){var j=Object.getPrototypeOf(g);return j===null?void 0:w(j,m,v)}else{if("value"in y)return y.value;var S=y.get;return S===void 0?void 0:S.call(v)}},c=s(7),l=d(c),u=s(0),h=d(u);function d(w){return w&&w.__esModule?w:{default:w}}function f(w,g){if(!(w instanceof g))throw new TypeError("Cannot call a class as a function")}function p(w,g){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:w}function b(w,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);w.prototype=Object.create(g&&g.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(w,g):w.__proto__=g)}var x=function(w){b(g,w);function g(){return f(this,g),p(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return a(g,[{key:"formatAt",value:function(v,y,j,S){if(g.compare(this.statics.blotName,j)<0&&h.default.query(j,h.default.Scope.BLOT)){var N=this.isolate(v,y);S&&N.wrap(j,S)}else o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"formatAt",this).call(this,v,y,j,S)}},{key:"optimize",value:function(v){if(o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"optimize",this).call(this,v),this.parent instanceof g&&g.compare(this.statics.blotName,this.parent.statics.blotName)>0){var y=this.parent.isolate(this.offset(),this.length());this.moveChildren(y),y.wrap(this)}}}],[{key:"compare",value:function(v,y){var j=g.order.indexOf(v),S=g.order.indexOf(y);return j>=0||S>=0?j-S:v===y?0:v<y?-1:1}}]),g}(h.default.Inline);x.allowedChildren=[x,h.default.Embed,l.default],x.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],n.default=x},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var a=s(0),o=c(a);function c(f){return f&&f.__esModule?f:{default:f}}function l(f,p){if(!(f instanceof p))throw new TypeError("Cannot call a class as a function")}function u(f,p){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:f}function h(f,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);f.prototype=Object.create(p&&p.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(f,p):f.__proto__=p)}var d=function(f){h(p,f);function p(){return l(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default.Text);n.default=d},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function m(v,y){for(var j=0;j<y.length;j++){var S=y[j];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(v,S.key,S)}}return function(v,y,j){return y&&m(v.prototype,y),j&&m(v,j),v}}(),o=function m(v,y,j){v===null&&(v=Function.prototype);var S=Object.getOwnPropertyDescriptor(v,y);if(S===void 0){var N=Object.getPrototypeOf(v);return N===null?void 0:m(N,y,j)}else{if("value"in S)return S.value;var _=S.get;return _===void 0?void 0:_.call(j)}},c=s(54),l=d(c),u=s(10),h=d(u);function d(m){return m&&m.__esModule?m:{default:m}}function f(m,v){if(!(m instanceof v))throw new TypeError("Cannot call a class as a function")}function p(m,v){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:m}function b(m,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);m.prototype=Object.create(v&&v.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(m,v):m.__proto__=v)}var x=(0,h.default)("quill:events"),w=["selectionchange","mousedown","mouseup","click"];w.forEach(function(m){document.addEventListener(m,function(){for(var v=arguments.length,y=Array(v),j=0;j<v;j++)y[j]=arguments[j];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(S){if(S.__quill&&S.__quill.emitter){var N;(N=S.__quill.emitter).handleDOM.apply(N,y)}})})});var g=function(m){b(v,m);function v(){f(this,v);var y=p(this,(v.__proto__||Object.getPrototypeOf(v)).call(this));return y.listeners={},y.on("error",x.error),y}return a(v,[{key:"emit",value:function(){x.log.apply(x,arguments),o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(j){for(var S=arguments.length,N=Array(S>1?S-1:0),_=1;_<S;_++)N[_-1]=arguments[_];(this.listeners[j.type]||[]).forEach(function(C){var k=C.node,E=C.handler;(j.target===k||k.contains(j.target))&&E.apply(void 0,[j].concat(N))})}},{key:"listenDOM",value:function(j,S,N){this.listeners[j]||(this.listeners[j]=[]),this.listeners[j].push({node:S,handler:N})}}]),v}(l.default);g.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},g.sources={API:"api",SILENT:"silent",USER:"user"},n.default=g},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});function a(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}var o=function c(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};a(this,c),this.quill=l,this.options=u};o.DEFAULTS={},n.default=o},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var a=["error","warn","log","info"],o="warn";function c(u){if(a.indexOf(u)<=a.indexOf(o)){for(var h,d=arguments.length,f=Array(d>1?d-1:0),p=1;p<d;p++)f[p-1]=arguments[p];(h=console)[u].apply(h,f)}}function l(u){return a.reduce(function(h,d){return h[d]=c.bind(console,d,u),h},{})}c.level=l.level=function(u){o=u},n.default=l},function(r,n,s){var a=Array.prototype.slice,o=s(52),c=s(53),l=r.exports=function(f,p,b){return b||(b={}),f===p?!0:f instanceof Date&&p instanceof Date?f.getTime()===p.getTime():!f||!p||typeof f!="object"&&typeof p!="object"?b.strict?f===p:f==p:d(f,p,b)};function u(f){return f==null}function h(f){return!(!f||typeof f!="object"||typeof f.length!="number"||typeof f.copy!="function"||typeof f.slice!="function"||f.length>0&&typeof f[0]!="number")}function d(f,p,b){var x,w;if(u(f)||u(p)||f.prototype!==p.prototype)return!1;if(c(f))return c(p)?(f=a.call(f),p=a.call(p),l(f,p,b)):!1;if(h(f)){if(!h(p)||f.length!==p.length)return!1;for(x=0;x<f.length;x++)if(f[x]!==p[x])return!1;return!0}try{var g=o(f),m=o(p)}catch{return!1}if(g.length!=m.length)return!1;for(g.sort(),m.sort(),x=g.length-1;x>=0;x--)if(g[x]!=m[x])return!1;for(x=g.length-1;x>=0;x--)if(w=g[x],!l(f[w],p[w],b))return!1;return typeof f==typeof p}},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var a=s(1),o=function(){function c(l,u,h){h===void 0&&(h={}),this.attrName=l,this.keyName=u;var d=a.Scope.TYPE&a.Scope.ATTRIBUTE;h.scope!=null?this.scope=h.scope&a.Scope.LEVEL|d:this.scope=a.Scope.ATTRIBUTE,h.whitelist!=null&&(this.whitelist=h.whitelist)}return c.keys=function(l){return[].map.call(l.attributes,function(u){return u.name})},c.prototype.add=function(l,u){return this.canAdd(l,u)?(l.setAttribute(this.keyName,u),!0):!1},c.prototype.canAdd=function(l,u){var h=a.query(l,a.Scope.BLOT&(this.scope|a.Scope.TYPE));return h==null?!1:this.whitelist==null?!0:typeof u=="string"?this.whitelist.indexOf(u.replace(/["']/g,""))>-1:this.whitelist.indexOf(u)>-1},c.prototype.remove=function(l){l.removeAttribute(this.keyName)},c.prototype.value=function(l){var u=l.getAttribute(this.keyName);return this.canAdd(l,u)&&u?u:""},c}();n.default=o},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.Code=void 0;var a=function(){function _(C,k){var E=[],T=!0,A=!1,L=void 0;try{for(var F=C[Symbol.iterator](),U;!(T=(U=F.next()).done)&&(E.push(U.value),!(k&&E.length===k));T=!0);}catch(B){A=!0,L=B}finally{try{!T&&F.return&&F.return()}finally{if(A)throw L}}return E}return function(C,k){if(Array.isArray(C))return C;if(Symbol.iterator in Object(C))return _(C,k);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function _(C,k){for(var E=0;E<k.length;E++){var T=k[E];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(C,T.key,T)}}return function(C,k,E){return k&&_(C.prototype,k),E&&_(C,E),C}}(),c=function _(C,k,E){C===null&&(C=Function.prototype);var T=Object.getOwnPropertyDescriptor(C,k);if(T===void 0){var A=Object.getPrototypeOf(C);return A===null?void 0:_(A,k,E)}else{if("value"in T)return T.value;var L=T.get;return L===void 0?void 0:L.call(E)}},l=s(2),u=m(l),h=s(0),d=m(h),f=s(4),p=m(f),b=s(6),x=m(b),w=s(7),g=m(w);function m(_){return _&&_.__esModule?_:{default:_}}function v(_,C){if(!(_ instanceof C))throw new TypeError("Cannot call a class as a function")}function y(_,C){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:_}function j(_,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);_.prototype=Object.create(C&&C.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(_,C):_.__proto__=C)}var S=function(_){j(C,_);function C(){return v(this,C),y(this,(C.__proto__||Object.getPrototypeOf(C)).apply(this,arguments))}return C}(x.default);S.blotName="code",S.tagName="CODE";var N=function(_){j(C,_);function C(){return v(this,C),y(this,(C.__proto__||Object.getPrototypeOf(C)).apply(this,arguments))}return o(C,[{key:"delta",value:function(){var E=this,T=this.domNode.textContent;return T.endsWith(`
`)&&(T=T.slice(0,-1)),T.split(`
`).reduce(function(A,L){return A.insert(L).insert(`
`,E.formats())},new u.default)}},{key:"format",value:function(E,T){if(!(E===this.statics.blotName&&T)){var A=this.descendant(g.default,this.length()-1),L=a(A,1),F=L[0];F!=null&&F.deleteAt(F.length()-1,1),c(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"format",this).call(this,E,T)}}},{key:"formatAt",value:function(E,T,A,L){if(T!==0&&!(d.default.query(A,d.default.Scope.BLOCK)==null||A===this.statics.blotName&&L===this.statics.formats(this.domNode))){var F=this.newlineIndex(E);if(!(F<0||F>=E+T)){var U=this.newlineIndex(E,!0)+1,B=F-U+1,q=this.isolate(U,B),D=q.next;q.format(A,L),D instanceof C&&D.formatAt(0,E-U+T-B,A,L)}}}},{key:"insertAt",value:function(E,T,A){if(A==null){var L=this.descendant(g.default,E),F=a(L,2),U=F[0],B=F[1];U.insertAt(B,T)}}},{key:"length",value:function(){var E=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?E:E+1}},{key:"newlineIndex",value:function(E){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(T)return this.domNode.textContent.slice(0,E).lastIndexOf(`
`);var A=this.domNode.textContent.slice(E).indexOf(`
`);return A>-1?E+A:-1}},{key:"optimize",value:function(E){this.domNode.textContent.endsWith(`
`)||this.appendChild(d.default.create("text",`
`)),c(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"optimize",this).call(this,E);var T=this.next;T!=null&&T.prev===this&&T.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===T.statics.formats(T.domNode)&&(T.optimize(E),T.moveChildren(this),T.remove())}},{key:"replace",value:function(E){c(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"replace",this).call(this,E),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(T){var A=d.default.find(T);A==null?T.parentNode.removeChild(T):A instanceof d.default.Embed?A.remove():A.unwrap()})}}],[{key:"create",value:function(E){var T=c(C.__proto__||Object.getPrototypeOf(C),"create",this).call(this,E);return T.setAttribute("spellcheck",!1),T}},{key:"formats",value:function(){return!0}}]),C}(p.default);N.blotName="code-block",N.tagName="PRE",N.TAB="  ",n.Code=S,n.default=N},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},o=function(){function D(I,P){var M=[],R=!0,V=!1,W=void 0;try{for(var $=I[Symbol.iterator](),H;!(R=(H=$.next()).done)&&(M.push(H.value),!(P&&M.length===P));R=!0);}catch(K){V=!0,W=K}finally{try{!R&&$.return&&$.return()}finally{if(V)throw W}}return M}return function(I,P){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return D(I,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function D(I,P){for(var M=0;M<P.length;M++){var R=P[M];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(I,R.key,R)}}return function(I,P,M){return P&&D(I.prototype,P),M&&D(I,M),I}}(),l=s(2),u=T(l),h=s(20),d=T(h),f=s(0),p=T(f),b=s(13),x=T(b),w=s(24),g=T(w),m=s(4),v=T(m),y=s(16),j=T(y),S=s(21),N=T(S),_=s(11),C=T(_),k=s(3),E=T(k);function T(D){return D&&D.__esModule?D:{default:D}}function A(D,I,P){return I in D?Object.defineProperty(D,I,{value:P,enumerable:!0,configurable:!0,writable:!0}):D[I]=P,D}function L(D,I){if(!(D instanceof I))throw new TypeError("Cannot call a class as a function")}var F=/^[ -~]*$/,U=function(){function D(I){L(this,D),this.scroll=I,this.delta=this.getDelta()}return c(D,[{key:"applyDelta",value:function(P){var M=this,R=!1;this.scroll.update();var V=this.scroll.length();return this.scroll.batchStart(),P=q(P),P.reduce(function(W,$){var H=$.retain||$.delete||$.insert.length||1,K=$.attributes||{};if($.insert!=null){if(typeof $.insert=="string"){var G=$.insert;G.endsWith(`
`)&&R&&(R=!1,G=G.slice(0,-1)),W>=V&&!G.endsWith(`
`)&&(R=!0),M.scroll.insertAt(W,G);var z=M.scroll.line(W),Z=o(z,2),re=Z[0],le=Z[1],ue=(0,E.default)({},(0,m.bubbleFormats)(re));if(re instanceof v.default){var ve=re.descendant(p.default.Leaf,le),Me=o(ve,1),Ie=Me[0];ue=(0,E.default)(ue,(0,m.bubbleFormats)(Ie))}K=d.default.attributes.diff(ue,K)||{}}else if(a($.insert)==="object"){var Y=Object.keys($.insert)[0];if(Y==null)return W;M.scroll.insertAt(W,Y,$.insert[Y])}V+=H}return Object.keys(K).forEach(function(J){M.scroll.formatAt(W,H,J,K[J])}),W+H},0),P.reduce(function(W,$){return typeof $.delete=="number"?(M.scroll.deleteAt(W,$.delete),W):W+($.retain||$.insert.length||1)},0),this.scroll.batchEnd(),this.update(P)}},{key:"deleteText",value:function(P,M){return this.scroll.deleteAt(P,M),this.update(new u.default().retain(P).delete(M))}},{key:"formatLine",value:function(P,M){var R=this,V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(V).forEach(function(W){if(!(R.scroll.whitelist!=null&&!R.scroll.whitelist[W])){var $=R.scroll.lines(P,Math.max(M,1)),H=M;$.forEach(function(K){var G=K.length();if(!(K instanceof x.default))K.format(W,V[W]);else{var z=P-K.offset(R.scroll),Z=K.newlineIndex(z+H)-z+1;K.formatAt(z,Z,W,V[W])}H-=G})}}),this.scroll.optimize(),this.update(new u.default().retain(P).retain(M,(0,N.default)(V)))}},{key:"formatText",value:function(P,M){var R=this,V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(V).forEach(function(W){R.scroll.formatAt(P,M,W,V[W])}),this.update(new u.default().retain(P).retain(M,(0,N.default)(V)))}},{key:"getContents",value:function(P,M){return this.delta.slice(P,P+M)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(P,M){return P.concat(M.delta())},new u.default)}},{key:"getFormat",value:function(P){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,R=[],V=[];M===0?this.scroll.path(P).forEach(function($){var H=o($,1),K=H[0];K instanceof v.default?R.push(K):K instanceof p.default.Leaf&&V.push(K)}):(R=this.scroll.lines(P,M),V=this.scroll.descendants(p.default.Leaf,P,M));var W=[R,V].map(function($){if($.length===0)return{};for(var H=(0,m.bubbleFormats)($.shift());Object.keys(H).length>0;){var K=$.shift();if(K==null)return H;H=B((0,m.bubbleFormats)(K),H)}return H});return E.default.apply(E.default,W)}},{key:"getText",value:function(P,M){return this.getContents(P,M).filter(function(R){return typeof R.insert=="string"}).map(function(R){return R.insert}).join("")}},{key:"insertEmbed",value:function(P,M,R){return this.scroll.insertAt(P,M,R),this.update(new u.default().retain(P).insert(A({},M,R)))}},{key:"insertText",value:function(P,M){var R=this,V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return M=M.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(P,M),Object.keys(V).forEach(function(W){R.scroll.formatAt(P,M.length,W,V[W])}),this.update(new u.default().retain(P).insert(M,(0,N.default)(V)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var P=this.scroll.children.head;return P.statics.blotName!==v.default.blotName||P.children.length>1?!1:P.children.head instanceof j.default}},{key:"removeFormat",value:function(P,M){var R=this.getText(P,M),V=this.scroll.line(P+M),W=o(V,2),$=W[0],H=W[1],K=0,G=new u.default;$!=null&&($ instanceof x.default?K=$.newlineIndex(H)-H+1:K=$.length()-H,G=$.delta().slice(H,H+K-1).insert(`
`));var z=this.getContents(P,M+K),Z=z.diff(new u.default().insert(R).concat(G)),re=new u.default().retain(P).concat(Z);return this.applyDelta(re)}},{key:"update",value:function(P){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,V=this.delta;if(M.length===1&&M[0].type==="characterData"&&M[0].target.data.match(F)&&p.default.find(M[0].target)){var W=p.default.find(M[0].target),$=(0,m.bubbleFormats)(W),H=W.offset(this.scroll),K=M[0].oldValue.replace(g.default.CONTENTS,""),G=new u.default().insert(K),z=new u.default().insert(W.value()),Z=new u.default().retain(H).concat(G.diff(z,R));P=Z.reduce(function(re,le){return le.insert?re.insert(le.insert,$):re.push(le)},new u.default),this.delta=V.compose(P)}else this.delta=this.getDelta(),(!P||!(0,C.default)(V.compose(P),this.delta))&&(P=V.diff(this.delta,R));return P}}]),D}();function B(D,I){return Object.keys(I).reduce(function(P,M){return D[M]==null||(I[M]===D[M]?P[M]=I[M]:Array.isArray(I[M])?I[M].indexOf(D[M])<0&&(P[M]=I[M].concat([D[M]])):P[M]=[I[M],D[M]]),P},{})}function q(D){return D.reduce(function(I,P){if(P.insert===1){var M=(0,N.default)(P.attributes);return delete M.image,I.insert({image:P.attributes.image},M)}if(P.attributes!=null&&(P.attributes.list===!0||P.attributes.bullet===!0)&&(P=(0,N.default)(P),P.attributes.list?P.attributes.list="ordered":(P.attributes.list="bullet",delete P.attributes.bullet)),typeof P.insert=="string"){var R=P.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return I.insert(R,P.attributes)}return I.push(P)},new u.default)}n.default=U},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.Range=void 0;var a=function(){function _(C,k){var E=[],T=!0,A=!1,L=void 0;try{for(var F=C[Symbol.iterator](),U;!(T=(U=F.next()).done)&&(E.push(U.value),!(k&&E.length===k));T=!0);}catch(B){A=!0,L=B}finally{try{!T&&F.return&&F.return()}finally{if(A)throw L}}return E}return function(C,k){if(Array.isArray(C))return C;if(Symbol.iterator in Object(C))return _(C,k);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function _(C,k){for(var E=0;E<k.length;E++){var T=k[E];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(C,T.key,T)}}return function(C,k,E){return k&&_(C.prototype,k),E&&_(C,E),C}}(),c=s(0),l=g(c),u=s(21),h=g(u),d=s(11),f=g(d),p=s(8),b=g(p),x=s(10),w=g(x);function g(_){return _&&_.__esModule?_:{default:_}}function m(_){if(Array.isArray(_)){for(var C=0,k=Array(_.length);C<_.length;C++)k[C]=_[C];return k}else return Array.from(_)}function v(_,C){if(!(_ instanceof C))throw new TypeError("Cannot call a class as a function")}var y=(0,w.default)("quill:selection"),j=function _(C){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;v(this,_),this.index=C,this.length=k},S=function(){function _(C,k){var E=this;v(this,_),this.emitter=k,this.scroll=C,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=l.default.create("cursor",this),this.lastRange=this.savedRange=new j(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){E.mouseDown||setTimeout(E.update.bind(E,b.default.sources.USER),1)}),this.emitter.on(b.default.events.EDITOR_CHANGE,function(T,A){T===b.default.events.TEXT_CHANGE&&A.length()>0&&E.update(b.default.sources.SILENT)}),this.emitter.on(b.default.events.SCROLL_BEFORE_UPDATE,function(){if(E.hasFocus()){var T=E.getNativeRange();T!=null&&T.start.node!==E.cursor.textNode&&E.emitter.once(b.default.events.SCROLL_UPDATE,function(){try{E.setNativeRange(T.start.node,T.start.offset,T.end.node,T.end.offset)}catch{}})}}),this.emitter.on(b.default.events.SCROLL_OPTIMIZE,function(T,A){if(A.range){var L=A.range,F=L.startNode,U=L.startOffset,B=L.endNode,q=L.endOffset;E.setNativeRange(F,U,B,q)}}),this.update(b.default.sources.SILENT)}return o(_,[{key:"handleComposition",value:function(){var k=this;this.root.addEventListener("compositionstart",function(){k.composing=!0}),this.root.addEventListener("compositionend",function(){if(k.composing=!1,k.cursor.parent){var E=k.cursor.restore();if(!E)return;setTimeout(function(){k.setNativeRange(E.startNode,E.startOffset,E.endNode,E.endOffset)},1)}})}},{key:"handleDragging",value:function(){var k=this;this.emitter.listenDOM("mousedown",document.body,function(){k.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){k.mouseDown=!1,k.update(b.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(k,E){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[k])){this.scroll.update();var T=this.getNativeRange();if(!(T==null||!T.native.collapsed||l.default.query(k,l.default.Scope.BLOCK))){if(T.start.node!==this.cursor.textNode){var A=l.default.find(T.start.node,!1);if(A==null)return;if(A instanceof l.default.Leaf){var L=A.split(T.start.offset);A.parent.insertBefore(this.cursor,L)}else A.insertBefore(this.cursor,T.start.node);this.cursor.attach()}this.cursor.format(k,E),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(k){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,T=this.scroll.length();k=Math.min(k,T-1),E=Math.min(k+E,T-1)-k;var A=void 0,L=this.scroll.leaf(k),F=a(L,2),U=F[0],B=F[1];if(U==null)return null;var q=U.position(B,!0),D=a(q,2);A=D[0],B=D[1];var I=document.createRange();if(E>0){I.setStart(A,B);var P=this.scroll.leaf(k+E),M=a(P,2);if(U=M[0],B=M[1],U==null)return null;var R=U.position(B,!0),V=a(R,2);return A=V[0],B=V[1],I.setEnd(A,B),I.getBoundingClientRect()}else{var W="left",$=void 0;return A instanceof Text?(B<A.data.length?(I.setStart(A,B),I.setEnd(A,B+1)):(I.setStart(A,B-1),I.setEnd(A,B),W="right"),$=I.getBoundingClientRect()):($=U.domNode.getBoundingClientRect(),B>0&&(W="right")),{bottom:$.top+$.height,height:$.height,left:$[W],right:$[W],top:$.top,width:0}}}},{key:"getNativeRange",value:function(){var k=document.getSelection();if(k==null||k.rangeCount<=0)return null;var E=k.getRangeAt(0);if(E==null)return null;var T=this.normalizeNative(E);return y.info("getNativeRange",T),T}},{key:"getRange",value:function(){var k=this.getNativeRange();if(k==null)return[null,null];var E=this.normalizedToRange(k);return[E,k]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(k){var E=this,T=[[k.start.node,k.start.offset]];k.native.collapsed||T.push([k.end.node,k.end.offset]);var A=T.map(function(U){var B=a(U,2),q=B[0],D=B[1],I=l.default.find(q,!0),P=I.offset(E.scroll);return D===0?P:I instanceof l.default.Container?P+I.length():P+I.index(q,D)}),L=Math.min(Math.max.apply(Math,m(A)),this.scroll.length()-1),F=Math.min.apply(Math,[L].concat(m(A)));return new j(F,L-F)}},{key:"normalizeNative",value:function(k){if(!N(this.root,k.startContainer)||!k.collapsed&&!N(this.root,k.endContainer))return null;var E={start:{node:k.startContainer,offset:k.startOffset},end:{node:k.endContainer,offset:k.endOffset},native:k};return[E.start,E.end].forEach(function(T){for(var A=T.node,L=T.offset;!(A instanceof Text)&&A.childNodes.length>0;)if(A.childNodes.length>L)A=A.childNodes[L],L=0;else if(A.childNodes.length===L)A=A.lastChild,L=A instanceof Text?A.data.length:A.childNodes.length+1;else break;T.node=A,T.offset=L}),E}},{key:"rangeToNative",value:function(k){var E=this,T=k.collapsed?[k.index]:[k.index,k.index+k.length],A=[],L=this.scroll.length();return T.forEach(function(F,U){F=Math.min(L-1,F);var B=void 0,q=E.scroll.leaf(F),D=a(q,2),I=D[0],P=D[1],M=I.position(P,U!==0),R=a(M,2);B=R[0],P=R[1],A.push(B,P)}),A.length<2&&(A=A.concat(A)),A}},{key:"scrollIntoView",value:function(k){var E=this.lastRange;if(E!=null){var T=this.getBounds(E.index,E.length);if(T!=null){var A=this.scroll.length()-1,L=this.scroll.line(Math.min(E.index,A)),F=a(L,1),U=F[0],B=U;if(E.length>0){var q=this.scroll.line(Math.min(E.index+E.length,A)),D=a(q,1);B=D[0]}if(!(U==null||B==null)){var I=k.getBoundingClientRect();T.top<I.top?k.scrollTop-=I.top-T.top:T.bottom>I.bottom&&(k.scrollTop+=T.bottom-I.bottom)}}}}},{key:"setNativeRange",value:function(k,E){var T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:k,A=arguments.length>3&&arguments[3]!==void 0?arguments[3]:E,L=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(y.info("setNativeRange",k,E,T,A),!(k!=null&&(this.root.parentNode==null||k.parentNode==null||T.parentNode==null))){var F=document.getSelection();if(F!=null)if(k!=null){this.hasFocus()||this.root.focus();var U=(this.getNativeRange()||{}).native;if(U==null||L||k!==U.startContainer||E!==U.startOffset||T!==U.endContainer||A!==U.endOffset){k.tagName=="BR"&&(E=[].indexOf.call(k.parentNode.childNodes,k),k=k.parentNode),T.tagName=="BR"&&(A=[].indexOf.call(T.parentNode.childNodes,T),T=T.parentNode);var B=document.createRange();B.setStart(k,E),B.setEnd(T,A),F.removeAllRanges(),F.addRange(B)}}else F.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(k){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:b.default.sources.API;if(typeof E=="string"&&(T=E,E=!1),y.info("setRange",k),k!=null){var A=this.rangeToNative(k);this.setNativeRange.apply(this,m(A).concat([E]))}else this.setNativeRange(null);this.update(T)}},{key:"update",value:function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:b.default.sources.USER,E=this.lastRange,T=this.getRange(),A=a(T,2),L=A[0],F=A[1];if(this.lastRange=L,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,f.default)(E,this.lastRange)){var U;!this.composing&&F!=null&&F.native.collapsed&&F.start.node!==this.cursor.textNode&&this.cursor.restore();var B=[b.default.events.SELECTION_CHANGE,(0,h.default)(this.lastRange),(0,h.default)(E),k];if((U=this.emitter).emit.apply(U,[b.default.events.EDITOR_CHANGE].concat(B)),k!==b.default.sources.SILENT){var q;(q=this.emitter).emit.apply(q,B)}}}}]),_}();function N(_,C){try{C.parentNode}catch{return!1}return C instanceof Text&&(C=C.parentNode),_.contains(C)}n.Range=j,n.default=S},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function b(x,w){for(var g=0;g<w.length;g++){var m=w[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(x,m.key,m)}}return function(x,w,g){return w&&b(x.prototype,w),g&&b(x,g),x}}(),o=function b(x,w,g){x===null&&(x=Function.prototype);var m=Object.getOwnPropertyDescriptor(x,w);if(m===void 0){var v=Object.getPrototypeOf(x);return v===null?void 0:b(v,w,g)}else{if("value"in m)return m.value;var y=m.get;return y===void 0?void 0:y.call(g)}},c=s(0),l=u(c);function u(b){return b&&b.__esModule?b:{default:b}}function h(b,x){if(!(b instanceof x))throw new TypeError("Cannot call a class as a function")}function d(b,x){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:b}function f(b,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);b.prototype=Object.create(x&&x.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(b,x):b.__proto__=x)}var p=function(b){f(x,b);function x(){return h(this,x),d(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return a(x,[{key:"insertInto",value:function(g,m){g.children.length===0?o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"insertInto",this).call(this,g,m):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),x}(l.default.Embed);p.blotName="break",p.tagName="BR",n.default=p},function(r,n,s){var a=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,p){f.__proto__=p}||function(f,p){for(var b in p)p.hasOwnProperty(b)&&(f[b]=p[b])};return function(f,p){d(f,p);function b(){this.constructor=f}f.prototype=p===null?Object.create(p):(b.prototype=p.prototype,new b)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=s(44),c=s(30),l=s(1),u=function(d){a(f,d);function f(p){var b=d.call(this,p)||this;return b.build(),b}return f.prototype.appendChild=function(p){this.insertBefore(p)},f.prototype.attach=function(){d.prototype.attach.call(this),this.children.forEach(function(p){p.attach()})},f.prototype.build=function(){var p=this;this.children=new o.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(b){try{var x=h(b);p.insertBefore(x,p.children.head||void 0)}catch(w){if(w instanceof l.ParchmentError)return;throw w}})},f.prototype.deleteAt=function(p,b){if(p===0&&b===this.length())return this.remove();this.children.forEachAt(p,b,function(x,w,g){x.deleteAt(w,g)})},f.prototype.descendant=function(p,b){var x=this.children.find(b),w=x[0],g=x[1];return p.blotName==null&&p(w)||p.blotName!=null&&w instanceof p?[w,g]:w instanceof f?w.descendant(p,g):[null,-1]},f.prototype.descendants=function(p,b,x){b===void 0&&(b=0),x===void 0&&(x=Number.MAX_VALUE);var w=[],g=x;return this.children.forEachAt(b,x,function(m,v,y){(p.blotName==null&&p(m)||p.blotName!=null&&m instanceof p)&&w.push(m),m instanceof f&&(w=w.concat(m.descendants(p,v,g))),g-=y}),w},f.prototype.detach=function(){this.children.forEach(function(p){p.detach()}),d.prototype.detach.call(this)},f.prototype.formatAt=function(p,b,x,w){this.children.forEachAt(p,b,function(g,m,v){g.formatAt(m,v,x,w)})},f.prototype.insertAt=function(p,b,x){var w=this.children.find(p),g=w[0],m=w[1];if(g)g.insertAt(m,b,x);else{var v=x==null?l.create("text",b):l.create(b,x);this.appendChild(v)}},f.prototype.insertBefore=function(p,b){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(x){return p instanceof x}))throw new l.ParchmentError("Cannot insert "+p.statics.blotName+" into "+this.statics.blotName);p.insertInto(this,b)},f.prototype.length=function(){return this.children.reduce(function(p,b){return p+b.length()},0)},f.prototype.moveChildren=function(p,b){this.children.forEach(function(x){p.insertBefore(x,b)})},f.prototype.optimize=function(p){if(d.prototype.optimize.call(this,p),this.children.length===0)if(this.statics.defaultChild!=null){var b=l.create(this.statics.defaultChild);this.appendChild(b),b.optimize(p)}else this.remove()},f.prototype.path=function(p,b){b===void 0&&(b=!1);var x=this.children.find(p,b),w=x[0],g=x[1],m=[[this,p]];return w instanceof f?m.concat(w.path(g,b)):(w!=null&&m.push([w,g]),m)},f.prototype.removeChild=function(p){this.children.remove(p)},f.prototype.replace=function(p){p instanceof f&&p.moveChildren(this),d.prototype.replace.call(this,p)},f.prototype.split=function(p,b){if(b===void 0&&(b=!1),!b){if(p===0)return this;if(p===this.length())return this.next}var x=this.clone();return this.parent.insertBefore(x,this.next),this.children.forEachAt(p,this.length(),function(w,g,m){w=w.split(g,b),x.appendChild(w)}),x},f.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},f.prototype.update=function(p,b){var x=this,w=[],g=[];p.forEach(function(m){m.target===x.domNode&&m.type==="childList"&&(w.push.apply(w,m.addedNodes),g.push.apply(g,m.removedNodes))}),g.forEach(function(m){if(!(m.parentNode!=null&&m.tagName!=="IFRAME"&&document.body.compareDocumentPosition(m)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var v=l.find(m);v!=null&&(v.domNode.parentNode==null||v.domNode.parentNode===x.domNode)&&v.detach()}}),w.filter(function(m){return m.parentNode==x.domNode}).sort(function(m,v){return m===v?0:m.compareDocumentPosition(v)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(m){var v=null;m.nextSibling!=null&&(v=l.find(m.nextSibling));var y=h(m);(y.next!=v||y.next==null)&&(y.parent!=null&&y.parent.removeChild(x),x.insertBefore(y,v||void 0))})},f}(c.default);function h(d){var f=l.find(d);if(f==null)try{f=l.create(d)}catch{f=l.create(l.Scope.INLINE),[].slice.call(d.childNodes).forEach(function(b){f.domNode.appendChild(b)}),d.parentNode&&d.parentNode.replaceChild(f.domNode,d),f.attach()}return f}n.default=u},function(r,n,s){var a=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,p){f.__proto__=p}||function(f,p){for(var b in p)p.hasOwnProperty(b)&&(f[b]=p[b])};return function(f,p){d(f,p);function b(){this.constructor=f}f.prototype=p===null?Object.create(p):(b.prototype=p.prototype,new b)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=s(12),c=s(31),l=s(17),u=s(1),h=function(d){a(f,d);function f(p){var b=d.call(this,p)||this;return b.attributes=new c.default(b.domNode),b}return f.formats=function(p){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return p.tagName.toLowerCase()},f.prototype.format=function(p,b){var x=u.query(p);x instanceof o.default?this.attributes.attribute(x,b):b&&x!=null&&(p!==this.statics.blotName||this.formats()[p]!==b)&&this.replaceWith(p,b)},f.prototype.formats=function(){var p=this.attributes.values(),b=this.statics.formats(this.domNode);return b!=null&&(p[this.statics.blotName]=b),p},f.prototype.replaceWith=function(p,b){var x=d.prototype.replaceWith.call(this,p,b);return this.attributes.copy(x),x},f.prototype.update=function(p,b){var x=this;d.prototype.update.call(this,p,b),p.some(function(w){return w.target===x.domNode&&w.type==="attributes"})&&this.attributes.build()},f.prototype.wrap=function(p,b){var x=d.prototype.wrap.call(this,p,b);return x instanceof f&&x.statics.scope===this.statics.scope&&this.attributes.move(x),x},f}(l.default);n.default=h},function(r,n,s){var a=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var f in d)d.hasOwnProperty(f)&&(h[f]=d[f])};return function(h,d){u(h,d);function f(){this.constructor=h}h.prototype=d===null?Object.create(d):(f.prototype=d.prototype,new f)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=s(30),c=s(1),l=function(u){a(h,u);function h(){return u!==null&&u.apply(this,arguments)||this}return h.value=function(d){return!0},h.prototype.index=function(d,f){return this.domNode===d||this.domNode.compareDocumentPosition(d)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(f,1):-1},h.prototype.position=function(d,f){var p=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return d>0&&(p+=1),[this.parent.domNode,p]},h.prototype.value=function(){var d;return d={},d[this.statics.blotName]=this.statics.value(this.domNode)||!0,d},h.scope=c.Scope.INLINE_BLOT,h}(o.default);n.default=l},function(r,n,s){var a=s(11),o=s(3),c={attributes:{compose:function(u,h,d){typeof u!="object"&&(u={}),typeof h!="object"&&(h={});var f=o(!0,{},h);d||(f=Object.keys(f).reduce(function(b,x){return f[x]!=null&&(b[x]=f[x]),b},{}));for(var p in u)u[p]!==void 0&&h[p]===void 0&&(f[p]=u[p]);return Object.keys(f).length>0?f:void 0},diff:function(u,h){typeof u!="object"&&(u={}),typeof h!="object"&&(h={});var d=Object.keys(u).concat(Object.keys(h)).reduce(function(f,p){return a(u[p],h[p])||(f[p]=h[p]===void 0?null:h[p]),f},{});return Object.keys(d).length>0?d:void 0},transform:function(u,h,d){if(typeof u!="object")return h;if(typeof h=="object"){if(!d)return h;var f=Object.keys(h).reduce(function(p,b){return u[b]===void 0&&(p[b]=h[b]),p},{});return Object.keys(f).length>0?f:void 0}}},iterator:function(u){return new l(u)},length:function(u){return typeof u.delete=="number"?u.delete:typeof u.retain=="number"?u.retain:typeof u.insert=="string"?u.insert.length:1}};function l(u){this.ops=u,this.index=0,this.offset=0}l.prototype.hasNext=function(){return this.peekLength()<1/0},l.prototype.next=function(u){u||(u=1/0);var h=this.ops[this.index];if(h){var d=this.offset,f=c.length(h);if(u>=f-d?(u=f-d,this.index+=1,this.offset=0):this.offset+=u,typeof h.delete=="number")return{delete:u};var p={};return h.attributes&&(p.attributes=h.attributes),typeof h.retain=="number"?p.retain=u:typeof h.insert=="string"?p.insert=h.insert.substr(d,u):p.insert=h.insert,p}else return{retain:1/0}},l.prototype.peek=function(){return this.ops[this.index]},l.prototype.peekLength=function(){return this.ops[this.index]?c.length(this.ops[this.index])-this.offset:1/0},l.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},l.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var u=this.offset,h=this.index,d=this.next(),f=this.ops.slice(this.index);return this.offset=u,this.index=h,[d].concat(f)}else return[]},r.exports=c},function(r,n){var s=function(){function a(x,w){return w!=null&&x instanceof w}var o;try{o=Map}catch{o=function(){}}var c;try{c=Set}catch{c=function(){}}var l;try{l=Promise}catch{l=function(){}}function u(x,w,g,m,v){typeof w=="object"&&(g=w.depth,m=w.prototype,v=w.includeNonEnumerable,w=w.circular);var y=[],j=[],S=typeof Buffer<"u";typeof w>"u"&&(w=!0),typeof g>"u"&&(g=1/0);function N(_,C){if(_===null)return null;if(C===0)return _;var k,E;if(typeof _!="object")return _;if(a(_,o))k=new o;else if(a(_,c))k=new c;else if(a(_,l))k=new l(function(I,P){_.then(function(M){I(N(M,C-1))},function(M){P(N(M,C-1))})});else if(u.__isArray(_))k=[];else if(u.__isRegExp(_))k=new RegExp(_.source,b(_)),_.lastIndex&&(k.lastIndex=_.lastIndex);else if(u.__isDate(_))k=new Date(_.getTime());else{if(S&&Buffer.isBuffer(_))return Buffer.allocUnsafe?k=Buffer.allocUnsafe(_.length):k=new Buffer(_.length),_.copy(k),k;a(_,Error)?k=Object.create(_):typeof m>"u"?(E=Object.getPrototypeOf(_),k=Object.create(E)):(k=Object.create(m),E=m)}if(w){var T=y.indexOf(_);if(T!=-1)return j[T];y.push(_),j.push(k)}a(_,o)&&_.forEach(function(I,P){var M=N(P,C-1),R=N(I,C-1);k.set(M,R)}),a(_,c)&&_.forEach(function(I){var P=N(I,C-1);k.add(P)});for(var A in _){var L;E&&(L=Object.getOwnPropertyDescriptor(E,A)),!(L&&L.set==null)&&(k[A]=N(_[A],C-1))}if(Object.getOwnPropertySymbols)for(var F=Object.getOwnPropertySymbols(_),A=0;A<F.length;A++){var U=F[A],B=Object.getOwnPropertyDescriptor(_,U);B&&!B.enumerable&&!v||(k[U]=N(_[U],C-1),B.enumerable||Object.defineProperty(k,U,{enumerable:!1}))}if(v)for(var q=Object.getOwnPropertyNames(_),A=0;A<q.length;A++){var D=q[A],B=Object.getOwnPropertyDescriptor(_,D);B&&B.enumerable||(k[D]=N(_[D],C-1),Object.defineProperty(k,D,{enumerable:!1}))}return k}return N(x,g)}u.clonePrototype=function(w){if(w===null)return null;var g=function(){};return g.prototype=w,new g};function h(x){return Object.prototype.toString.call(x)}u.__objToStr=h;function d(x){return typeof x=="object"&&h(x)==="[object Date]"}u.__isDate=d;function f(x){return typeof x=="object"&&h(x)==="[object Array]"}u.__isArray=f;function p(x){return typeof x=="object"&&h(x)==="[object RegExp]"}u.__isRegExp=p;function b(x){var w="";return x.global&&(w+="g"),x.ignoreCase&&(w+="i"),x.multiline&&(w+="m"),w}return u.__getRegExpFlags=b,u}();typeof r=="object"&&r.exports&&(r.exports=s)},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function k(E,T){var A=[],L=!0,F=!1,U=void 0;try{for(var B=E[Symbol.iterator](),q;!(L=(q=B.next()).done)&&(A.push(q.value),!(T&&A.length===T));L=!0);}catch(D){F=!0,U=D}finally{try{!L&&B.return&&B.return()}finally{if(F)throw U}}return A}return function(E,T){if(Array.isArray(E))return E;if(Symbol.iterator in Object(E))return k(E,T);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function k(E,T){for(var A=0;A<T.length;A++){var L=T[A];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(E,L.key,L)}}return function(E,T,A){return T&&k(E.prototype,T),A&&k(E,A),E}}(),c=function k(E,T,A){E===null&&(E=Function.prototype);var L=Object.getOwnPropertyDescriptor(E,T);if(L===void 0){var F=Object.getPrototypeOf(E);return F===null?void 0:k(F,T,A)}else{if("value"in L)return L.value;var U=L.get;return U===void 0?void 0:U.call(A)}},l=s(0),u=y(l),h=s(8),d=y(h),f=s(4),p=y(f),b=s(16),x=y(b),w=s(13),g=y(w),m=s(25),v=y(m);function y(k){return k&&k.__esModule?k:{default:k}}function j(k,E){if(!(k instanceof E))throw new TypeError("Cannot call a class as a function")}function S(k,E){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:k}function N(k,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);k.prototype=Object.create(E&&E.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(k,E):k.__proto__=E)}function _(k){return k instanceof p.default||k instanceof f.BlockEmbed}var C=function(k){N(E,k);function E(T,A){j(this,E);var L=S(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,T));return L.emitter=A.emitter,Array.isArray(A.whitelist)&&(L.whitelist=A.whitelist.reduce(function(F,U){return F[U]=!0,F},{})),L.domNode.addEventListener("DOMNodeInserted",function(){}),L.optimize(),L.enable(),L}return o(E,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(A,L){var F=this.line(A),U=a(F,2),B=U[0],q=U[1],D=this.line(A+L),I=a(D,1),P=I[0];if(c(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"deleteAt",this).call(this,A,L),P!=null&&B!==P&&q>0){if(B instanceof f.BlockEmbed||P instanceof f.BlockEmbed){this.optimize();return}if(B instanceof g.default){var M=B.newlineIndex(B.length(),!0);if(M>-1&&(B=B.split(M+1),B===P)){this.optimize();return}}else if(P instanceof g.default){var R=P.newlineIndex(0);R>-1&&P.split(R+1)}var V=P.children.head instanceof x.default?null:P.children.head;B.moveChildren(P,V),B.remove()}this.optimize()}},{key:"enable",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",A)}},{key:"formatAt",value:function(A,L,F,U){this.whitelist!=null&&!this.whitelist[F]||(c(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"formatAt",this).call(this,A,L,F,U),this.optimize())}},{key:"insertAt",value:function(A,L,F){if(!(F!=null&&this.whitelist!=null&&!this.whitelist[L])){if(A>=this.length())if(F==null||u.default.query(L,u.default.Scope.BLOCK)==null){var U=u.default.create(this.statics.defaultChild);this.appendChild(U),F==null&&L.endsWith(`
`)&&(L=L.slice(0,-1)),U.insertAt(0,L,F)}else{var B=u.default.create(L,F);this.appendChild(B)}else c(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"insertAt",this).call(this,A,L,F);this.optimize()}}},{key:"insertBefore",value:function(A,L){if(A.statics.scope===u.default.Scope.INLINE_BLOT){var F=u.default.create(this.statics.defaultChild);F.appendChild(A),A=F}c(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"insertBefore",this).call(this,A,L)}},{key:"leaf",value:function(A){return this.path(A).pop()||[null,-1]}},{key:"line",value:function(A){return A===this.length()?this.line(A-1):this.descendant(_,A)}},{key:"lines",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,F=function U(B,q,D){var I=[],P=D;return B.children.forEachAt(q,D,function(M,R,V){_(M)?I.push(M):M instanceof u.default.Container&&(I=I.concat(U(M,R,P))),P-=V}),I};return F(this,A,L)}},{key:"optimize",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(c(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"optimize",this).call(this,A,L),A.length>0&&this.emitter.emit(d.default.events.SCROLL_OPTIMIZE,A,L))}},{key:"path",value:function(A){return c(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"path",this).call(this,A).slice(1)}},{key:"update",value:function(A){if(this.batch!==!0){var L=d.default.sources.USER;typeof A=="string"&&(L=A),Array.isArray(A)||(A=this.observer.takeRecords()),A.length>0&&this.emitter.emit(d.default.events.SCROLL_BEFORE_UPDATE,L,A),c(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"update",this).call(this,A.concat([])),A.length>0&&this.emitter.emit(d.default.events.SCROLL_UPDATE,L,A)}}}]),E}(u.default.Scroll);C.blotName="scroll",C.className="ql-editor",C.tagName="DIV",C.defaultChild="block",C.allowedChildren=[p.default,f.BlockEmbed,v.default],n.default=C},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.SHORTKEY=n.default=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},o=function(){function $(H,K){var G=[],z=!0,Z=!1,re=void 0;try{for(var le=H[Symbol.iterator](),ue;!(z=(ue=le.next()).done)&&(G.push(ue.value),!(K&&G.length===K));z=!0);}catch(ve){Z=!0,re=ve}finally{try{!z&&le.return&&le.return()}finally{if(Z)throw re}}return G}return function(H,K){if(Array.isArray(H))return H;if(Symbol.iterator in Object(H))return $(H,K);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function $(H,K){for(var G=0;G<K.length;G++){var z=K[G];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(H,z.key,z)}}return function(H,K,G){return K&&$(H.prototype,K),G&&$(H,G),H}}(),l=s(21),u=k(l),h=s(11),d=k(h),f=s(3),p=k(f),b=s(2),x=k(b),w=s(20),g=k(w),m=s(0),v=k(m),y=s(5),j=k(y),S=s(10),N=k(S),_=s(9),C=k(_);function k($){return $&&$.__esModule?$:{default:$}}function E($,H,K){return H in $?Object.defineProperty($,H,{value:K,enumerable:!0,configurable:!0,writable:!0}):$[H]=K,$}function T($,H){if(!($ instanceof H))throw new TypeError("Cannot call a class as a function")}function A($,H){if(!$)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return H&&(typeof H=="object"||typeof H=="function")?H:$}function L($,H){if(typeof H!="function"&&H!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof H);$.prototype=Object.create(H&&H.prototype,{constructor:{value:$,enumerable:!1,writable:!0,configurable:!0}}),H&&(Object.setPrototypeOf?Object.setPrototypeOf($,H):$.__proto__=H)}var F=(0,N.default)("quill:keyboard"),U=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",B=function($){L(H,$),c(H,null,[{key:"match",value:function(G,z){return z=W(z),["altKey","ctrlKey","metaKey","shiftKey"].some(function(Z){return!!z[Z]!==G[Z]&&z[Z]!==null})?!1:z.key===(G.which||G.keyCode)}}]);function H(K,G){T(this,H);var z=A(this,(H.__proto__||Object.getPrototypeOf(H)).call(this,K,G));return z.bindings={},Object.keys(z.options.bindings).forEach(function(Z){Z==="list autofill"&&K.scroll.whitelist!=null&&!K.scroll.whitelist.list||z.options.bindings[Z]&&z.addBinding(z.options.bindings[Z])}),z.addBinding({key:H.keys.ENTER,shiftKey:null},M),z.addBinding({key:H.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(z.addBinding({key:H.keys.BACKSPACE},{collapsed:!0},D),z.addBinding({key:H.keys.DELETE},{collapsed:!0},I)):(z.addBinding({key:H.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},D),z.addBinding({key:H.keys.DELETE},{collapsed:!0,suffix:/^.?$/},I)),z.addBinding({key:H.keys.BACKSPACE},{collapsed:!1},P),z.addBinding({key:H.keys.DELETE},{collapsed:!1},P),z.addBinding({key:H.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},D),z.listen(),z}return c(H,[{key:"addBinding",value:function(G){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},re=W(G);if(re==null||re.key==null)return F.warn("Attempted to add invalid keyboard binding",re);typeof z=="function"&&(z={handler:z}),typeof Z=="function"&&(Z={handler:Z}),re=(0,p.default)(re,z,Z),this.bindings[re.key]=this.bindings[re.key]||[],this.bindings[re.key].push(re)}},{key:"listen",value:function(){var G=this;this.quill.root.addEventListener("keydown",function(z){if(!z.defaultPrevented){var Z=z.which||z.keyCode,re=(G.bindings[Z]||[]).filter(function(Fe){return H.match(z,Fe)});if(re.length!==0){var le=G.quill.getSelection();if(!(le==null||!G.quill.hasFocus())){var ue=G.quill.getLine(le.index),ve=o(ue,2),Me=ve[0],Ie=ve[1],Y=G.quill.getLeaf(le.index),J=o(Y,2),ne=J[0],se=J[1],X=le.length===0?[ne,se]:G.quill.getLeaf(le.index+le.length),he=o(X,2),pe=he[0],me=he[1],At=ne instanceof v.default.Text?ne.value().slice(0,se):"",pr=pe instanceof v.default.Text?pe.value().slice(me):"",Te={collapsed:le.length===0,empty:le.length===0&&Me.length()<=1,format:G.quill.getFormat(le),offset:Ie,prefix:At,suffix:pr},$0=re.some(function(Fe){if(Fe.collapsed!=null&&Fe.collapsed!==Te.collapsed||Fe.empty!=null&&Fe.empty!==Te.empty||Fe.offset!=null&&Fe.offset!==Te.offset)return!1;if(Array.isArray(Fe.format)){if(Fe.format.every(function(Fr){return Te.format[Fr]==null}))return!1}else if(a(Fe.format)==="object"&&!Object.keys(Fe.format).every(function(Fr){return Fe.format[Fr]===!0?Te.format[Fr]!=null:Fe.format[Fr]===!1?Te.format[Fr]==null:(0,d.default)(Fe.format[Fr],Te.format[Fr])}))return!1;return Fe.prefix!=null&&!Fe.prefix.test(Te.prefix)||Fe.suffix!=null&&!Fe.suffix.test(Te.suffix)?!1:Fe.handler.call(G,le,Te)!==!0});$0&&z.preventDefault()}}}})}}]),H}(C.default);B.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},B.DEFAULTS={bindings:{bold:V("bold"),italic:V("italic"),underline:V("underline"),indent:{key:B.keys.TAB,format:["blockquote","indent","list"],handler:function(H,K){if(K.collapsed&&K.offset!==0)return!0;this.quill.format("indent","+1",j.default.sources.USER)}},outdent:{key:B.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(H,K){if(K.collapsed&&K.offset!==0)return!0;this.quill.format("indent","-1",j.default.sources.USER)}},"outdent backspace":{key:B.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(H,K){K.format.indent!=null?this.quill.format("indent","-1",j.default.sources.USER):K.format.list!=null&&this.quill.format("list",!1,j.default.sources.USER)}},"indent code-block":R(!0),"outdent code-block":R(!1),"remove tab":{key:B.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(H){this.quill.deleteText(H.index-1,1,j.default.sources.USER)}},tab:{key:B.keys.TAB,handler:function(H){this.quill.history.cutoff();var K=new x.default().retain(H.index).delete(H.length).insert("	");this.quill.updateContents(K,j.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(H.index+1,j.default.sources.SILENT)}},"list empty enter":{key:B.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(H,K){this.quill.format("list",!1,j.default.sources.USER),K.format.indent&&this.quill.format("indent",!1,j.default.sources.USER)}},"checklist enter":{key:B.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(H){var K=this.quill.getLine(H.index),G=o(K,2),z=G[0],Z=G[1],re=(0,p.default)({},z.formats(),{list:"checked"}),le=new x.default().retain(H.index).insert(`
`,re).retain(z.length()-Z-1).retain(1,{list:"unchecked"});this.quill.updateContents(le,j.default.sources.USER),this.quill.setSelection(H.index+1,j.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:B.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(H,K){var G=this.quill.getLine(H.index),z=o(G,2),Z=z[0],re=z[1],le=new x.default().retain(H.index).insert(`
`,K.format).retain(Z.length()-re-1).retain(1,{header:null});this.quill.updateContents(le,j.default.sources.USER),this.quill.setSelection(H.index+1,j.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(H,K){var G=K.prefix.length,z=this.quill.getLine(H.index),Z=o(z,2),re=Z[0],le=Z[1];if(le>G)return!0;var ue=void 0;switch(K.prefix.trim()){case"[]":case"[ ]":ue="unchecked";break;case"[x]":ue="checked";break;case"-":case"*":ue="bullet";break;default:ue="ordered"}this.quill.insertText(H.index," ",j.default.sources.USER),this.quill.history.cutoff();var ve=new x.default().retain(H.index-le).delete(G+1).retain(re.length()-2-le).retain(1,{list:ue});this.quill.updateContents(ve,j.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(H.index-G,j.default.sources.SILENT)}},"code exit":{key:B.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(H){var K=this.quill.getLine(H.index),G=o(K,2),z=G[0],Z=G[1],re=new x.default().retain(H.index+z.length()-Z-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(re,j.default.sources.USER)}},"embed left":q(B.keys.LEFT,!1),"embed left shift":q(B.keys.LEFT,!0),"embed right":q(B.keys.RIGHT,!1),"embed right shift":q(B.keys.RIGHT,!0)}};function q($,H){var K,G=$===B.keys.LEFT?"prefix":"suffix";return K={key:$,shiftKey:H,altKey:null},E(K,G,/^$/),E(K,"handler",function(Z){var re=Z.index;$===B.keys.RIGHT&&(re+=Z.length+1);var le=this.quill.getLeaf(re),ue=o(le,1),ve=ue[0];return ve instanceof v.default.Embed?($===B.keys.LEFT?H?this.quill.setSelection(Z.index-1,Z.length+1,j.default.sources.USER):this.quill.setSelection(Z.index-1,j.default.sources.USER):H?this.quill.setSelection(Z.index,Z.length+1,j.default.sources.USER):this.quill.setSelection(Z.index+Z.length+1,j.default.sources.USER),!1):!0}),K}function D($,H){if(!($.index===0||this.quill.getLength()<=1)){var K=this.quill.getLine($.index),G=o(K,1),z=G[0],Z={};if(H.offset===0){var re=this.quill.getLine($.index-1),le=o(re,1),ue=le[0];if(ue!=null&&ue.length()>1){var ve=z.formats(),Me=this.quill.getFormat($.index-1,1);Z=g.default.attributes.diff(ve,Me)||{}}}var Ie=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(H.prefix)?2:1;this.quill.deleteText($.index-Ie,Ie,j.default.sources.USER),Object.keys(Z).length>0&&this.quill.formatLine($.index-Ie,Ie,Z,j.default.sources.USER),this.quill.focus()}}function I($,H){var K=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(H.suffix)?2:1;if(!($.index>=this.quill.getLength()-K)){var G={},z=0,Z=this.quill.getLine($.index),re=o(Z,1),le=re[0];if(H.offset>=le.length()-1){var ue=this.quill.getLine($.index+1),ve=o(ue,1),Me=ve[0];if(Me){var Ie=le.formats(),Y=this.quill.getFormat($.index,1);G=g.default.attributes.diff(Ie,Y)||{},z=Me.length()}}this.quill.deleteText($.index,K,j.default.sources.USER),Object.keys(G).length>0&&this.quill.formatLine($.index+z-1,K,G,j.default.sources.USER)}}function P($){var H=this.quill.getLines($),K={};if(H.length>1){var G=H[0].formats(),z=H[H.length-1].formats();K=g.default.attributes.diff(z,G)||{}}this.quill.deleteText($,j.default.sources.USER),Object.keys(K).length>0&&this.quill.formatLine($.index,1,K,j.default.sources.USER),this.quill.setSelection($.index,j.default.sources.SILENT),this.quill.focus()}function M($,H){var K=this;$.length>0&&this.quill.scroll.deleteAt($.index,$.length);var G=Object.keys(H.format).reduce(function(z,Z){return v.default.query(Z,v.default.Scope.BLOCK)&&!Array.isArray(H.format[Z])&&(z[Z]=H.format[Z]),z},{});this.quill.insertText($.index,`
`,G,j.default.sources.USER),this.quill.setSelection($.index+1,j.default.sources.SILENT),this.quill.focus(),Object.keys(H.format).forEach(function(z){G[z]==null&&(Array.isArray(H.format[z])||z!=="link"&&K.quill.format(z,H.format[z],j.default.sources.USER))})}function R($){return{key:B.keys.TAB,shiftKey:!$,format:{"code-block":!0},handler:function(K){var G=v.default.query("code-block"),z=K.index,Z=K.length,re=this.quill.scroll.descendant(G,z),le=o(re,2),ue=le[0],ve=le[1];if(ue!=null){var Me=this.quill.getIndex(ue),Ie=ue.newlineIndex(ve,!0)+1,Y=ue.newlineIndex(Me+ve+Z),J=ue.domNode.textContent.slice(Ie,Y).split(`
`);ve=0,J.forEach(function(ne,se){$?(ue.insertAt(Ie+ve,G.TAB),ve+=G.TAB.length,se===0?z+=G.TAB.length:Z+=G.TAB.length):ne.startsWith(G.TAB)&&(ue.deleteAt(Ie+ve,G.TAB.length),ve-=G.TAB.length,se===0?z-=G.TAB.length:Z-=G.TAB.length),ve+=ne.length+1}),this.quill.update(j.default.sources.USER),this.quill.setSelection(z,Z,j.default.sources.SILENT)}}}}function V($){return{key:$[0].toUpperCase(),shortKey:!0,handler:function(K,G){this.quill.format($,!G.format[$],j.default.sources.USER)}}}function W($){if(typeof $=="string"||typeof $=="number")return W({key:$});if((typeof $>"u"?"undefined":a($))==="object"&&($=(0,u.default)($,!1)),typeof $.key=="string")if(B.keys[$.key.toUpperCase()]!=null)$.key=B.keys[$.key.toUpperCase()];else if($.key.length===1)$.key=$.key.toUpperCase().charCodeAt(0);else return null;return $.shortKey&&($[U]=$.shortKey,delete $.shortKey),$}n.default=B,n.SHORTKEY=U},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function g(m,v){var y=[],j=!0,S=!1,N=void 0;try{for(var _=m[Symbol.iterator](),C;!(j=(C=_.next()).done)&&(y.push(C.value),!(v&&y.length===v));j=!0);}catch(k){S=!0,N=k}finally{try{!j&&_.return&&_.return()}finally{if(S)throw N}}return y}return function(m,v){if(Array.isArray(m))return m;if(Symbol.iterator in Object(m))return g(m,v);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function g(m,v,y){m===null&&(m=Function.prototype);var j=Object.getOwnPropertyDescriptor(m,v);if(j===void 0){var S=Object.getPrototypeOf(m);return S===null?void 0:g(S,v,y)}else{if("value"in j)return j.value;var N=j.get;return N===void 0?void 0:N.call(y)}},c=function(){function g(m,v){for(var y=0;y<v.length;y++){var j=v[y];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(m,j.key,j)}}return function(m,v,y){return v&&g(m.prototype,v),y&&g(m,y),m}}(),l=s(0),u=f(l),h=s(7),d=f(h);function f(g){return g&&g.__esModule?g:{default:g}}function p(g,m){if(!(g instanceof m))throw new TypeError("Cannot call a class as a function")}function b(g,m){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:g}function x(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);g.prototype=Object.create(m&&m.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(g,m):g.__proto__=m)}var w=function(g){x(m,g),c(m,null,[{key:"value",value:function(){}}]);function m(v,y){p(this,m);var j=b(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,v));return j.selection=y,j.textNode=document.createTextNode(m.CONTENTS),j.domNode.appendChild(j.textNode),j._length=0,j}return c(m,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(y,j){if(this._length!==0)return o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"format",this).call(this,y,j);for(var S=this,N=0;S!=null&&S.statics.scope!==u.default.Scope.BLOCK_BLOT;)N+=S.offset(S.parent),S=S.parent;S!=null&&(this._length=m.CONTENTS.length,S.optimize(),S.formatAt(N,m.CONTENTS.length,y,j),this._length=0)}},{key:"index",value:function(y,j){return y===this.textNode?0:o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"index",this).call(this,y,j)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var y=this.textNode,j=this.selection.getNativeRange(),S=void 0,N=void 0,_=void 0;if(j!=null&&j.start.node===y&&j.end.node===y){var C=[y,j.start.offset,j.end.offset];S=C[0],N=C[1],_=C[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==m.CONTENTS){var k=this.textNode.data.split(m.CONTENTS).join("");this.next instanceof d.default?(S=this.next.domNode,this.next.insertAt(0,k),this.textNode.data=m.CONTENTS):(this.textNode.data=k,this.parent.insertBefore(u.default.create(this.textNode),this),this.textNode=document.createTextNode(m.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),N!=null){var E=[N,_].map(function(A){return Math.max(0,Math.min(S.data.length,A-1))}),T=a(E,2);return N=T[0],_=T[1],{startNode:S,startOffset:N,endNode:S,endOffset:_}}}}},{key:"update",value:function(y,j){var S=this;if(y.some(function(_){return _.type==="characterData"&&_.target===S.textNode})){var N=this.restore();N&&(j.range=N)}}},{key:"value",value:function(){return""}}]),m}(u.default.Embed);w.blotName="cursor",w.className="ql-cursor",w.tagName="span",w.CONTENTS="\uFEFF",n.default=w},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var a=s(0),o=u(a),c=s(4),l=u(c);function u(b){return b&&b.__esModule?b:{default:b}}function h(b,x){if(!(b instanceof x))throw new TypeError("Cannot call a class as a function")}function d(b,x){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:b}function f(b,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);b.prototype=Object.create(x&&x.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(b,x):b.__proto__=x)}var p=function(b){f(x,b);function x(){return h(this,x),d(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return x}(o.default.Container);p.allowedChildren=[l.default,c.BlockEmbed,p],n.default=p},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.ColorStyle=n.ColorClass=n.ColorAttributor=void 0;var a=function(){function w(g,m){for(var v=0;v<m.length;v++){var y=m[v];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,y.key,y)}}return function(g,m,v){return m&&w(g.prototype,m),v&&w(g,v),g}}(),o=function w(g,m,v){g===null&&(g=Function.prototype);var y=Object.getOwnPropertyDescriptor(g,m);if(y===void 0){var j=Object.getPrototypeOf(g);return j===null?void 0:w(j,m,v)}else{if("value"in y)return y.value;var S=y.get;return S===void 0?void 0:S.call(v)}},c=s(0),l=u(c);function u(w){return w&&w.__esModule?w:{default:w}}function h(w,g){if(!(w instanceof g))throw new TypeError("Cannot call a class as a function")}function d(w,g){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:w}function f(w,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);w.prototype=Object.create(g&&g.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(w,g):w.__proto__=g)}var p=function(w){f(g,w);function g(){return h(this,g),d(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return a(g,[{key:"value",value:function(v){var y=o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"value",this).call(this,v);return y.startsWith("rgb(")?(y=y.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+y.split(",").map(function(j){return("00"+parseInt(j).toString(16)).slice(-2)}).join("")):y}}]),g}(l.default.Attributor.Style),b=new l.default.Attributor.Class("color","ql-color",{scope:l.default.Scope.INLINE}),x=new p("color","color",{scope:l.default.Scope.INLINE});n.ColorAttributor=p,n.ColorClass=b,n.ColorStyle=x},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.sanitize=n.default=void 0;var a=function(){function x(w,g){for(var m=0;m<g.length;m++){var v=g[m];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(w,v.key,v)}}return function(w,g,m){return g&&x(w.prototype,g),m&&x(w,m),w}}(),o=function x(w,g,m){w===null&&(w=Function.prototype);var v=Object.getOwnPropertyDescriptor(w,g);if(v===void 0){var y=Object.getPrototypeOf(w);return y===null?void 0:x(y,g,m)}else{if("value"in v)return v.value;var j=v.get;return j===void 0?void 0:j.call(m)}},c=s(6),l=u(c);function u(x){return x&&x.__esModule?x:{default:x}}function h(x,w){if(!(x instanceof w))throw new TypeError("Cannot call a class as a function")}function d(x,w){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:x}function f(x,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);x.prototype=Object.create(w&&w.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(x,w):x.__proto__=w)}var p=function(x){f(w,x);function w(){return h(this,w),d(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return a(w,[{key:"format",value:function(m,v){if(m!==this.statics.blotName||!v)return o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"format",this).call(this,m,v);v=this.constructor.sanitize(v),this.domNode.setAttribute("href",v)}}],[{key:"create",value:function(m){var v=o(w.__proto__||Object.getPrototypeOf(w),"create",this).call(this,m);return m=this.sanitize(m),v.setAttribute("href",m),v.setAttribute("rel","noopener noreferrer"),v.setAttribute("target","_blank"),v}},{key:"formats",value:function(m){return m.getAttribute("href")}},{key:"sanitize",value:function(m){return b(m,this.PROTOCOL_WHITELIST)?m:this.SANITIZED_URL}}]),w}(l.default);p.blotName="link",p.tagName="A",p.SANITIZED_URL="about:blank",p.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function b(x,w){var g=document.createElement("a");g.href=x;var m=g.href.slice(0,g.href.indexOf(":"));return w.indexOf(m)>-1}n.default=p,n.sanitize=b},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},o=function(){function w(g,m){for(var v=0;v<m.length;v++){var y=m[v];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,y.key,y)}}return function(g,m,v){return m&&w(g.prototype,m),v&&w(g,v),g}}(),c=s(23),l=d(c),u=s(107),h=d(u);function d(w){return w&&w.__esModule?w:{default:w}}function f(w,g){if(!(w instanceof g))throw new TypeError("Cannot call a class as a function")}var p=0;function b(w,g){w.setAttribute(g,w.getAttribute(g)!=="true")}var x=function(){function w(g){var m=this;f(this,w),this.select=g,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){m.togglePicker()}),this.label.addEventListener("keydown",function(v){switch(v.keyCode){case l.default.keys.ENTER:m.togglePicker();break;case l.default.keys.ESCAPE:m.escape(),v.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return o(w,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),b(this.label,"aria-expanded"),b(this.options,"aria-hidden")}},{key:"buildItem",value:function(m){var v=this,y=document.createElement("span");return y.tabIndex="0",y.setAttribute("role","button"),y.classList.add("ql-picker-item"),m.hasAttribute("value")&&y.setAttribute("data-value",m.getAttribute("value")),m.textContent&&y.setAttribute("data-label",m.textContent),y.addEventListener("click",function(){v.selectItem(y,!0)}),y.addEventListener("keydown",function(j){switch(j.keyCode){case l.default.keys.ENTER:v.selectItem(y,!0),j.preventDefault();break;case l.default.keys.ESCAPE:v.escape(),j.preventDefault();break}}),y}},{key:"buildLabel",value:function(){var m=document.createElement("span");return m.classList.add("ql-picker-label"),m.innerHTML=h.default,m.tabIndex="0",m.setAttribute("role","button"),m.setAttribute("aria-expanded","false"),this.container.appendChild(m),m}},{key:"buildOptions",value:function(){var m=this,v=document.createElement("span");v.classList.add("ql-picker-options"),v.setAttribute("aria-hidden","true"),v.tabIndex="-1",v.id="ql-picker-options-"+p,p+=1,this.label.setAttribute("aria-controls",v.id),this.options=v,[].slice.call(this.select.options).forEach(function(y){var j=m.buildItem(y);v.appendChild(j),y.selected===!0&&m.selectItem(j)}),this.container.appendChild(v)}},{key:"buildPicker",value:function(){var m=this;[].slice.call(this.select.attributes).forEach(function(v){m.container.setAttribute(v.name,v.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var m=this;this.close(),setTimeout(function(){return m.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(m){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,y=this.container.querySelector(".ql-selected");if(m!==y&&(y!=null&&y.classList.remove("ql-selected"),m!=null&&(m.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(m.parentNode.children,m),m.hasAttribute("data-value")?this.label.setAttribute("data-value",m.getAttribute("data-value")):this.label.removeAttribute("data-value"),m.hasAttribute("data-label")?this.label.setAttribute("data-label",m.getAttribute("data-label")):this.label.removeAttribute("data-label"),v))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":a(Event))==="object"){var j=document.createEvent("Event");j.initEvent("change",!0,!0),this.select.dispatchEvent(j)}this.close()}}},{key:"update",value:function(){var m=void 0;if(this.select.selectedIndex>-1){var v=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];m=this.select.options[this.select.selectedIndex],this.selectItem(v)}else this.selectItem(null);var y=m!=null&&m!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",y)}}]),w}();n.default=x},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var a=s(0),o=F(a),c=s(5),l=F(c),u=s(4),h=F(u),d=s(16),f=F(d),p=s(25),b=F(p),x=s(24),w=F(x),g=s(35),m=F(g),v=s(6),y=F(v),j=s(22),S=F(j),N=s(7),_=F(N),C=s(55),k=F(C),E=s(42),T=F(E),A=s(23),L=F(A);function F(U){return U&&U.__esModule?U:{default:U}}l.default.register({"blots/block":h.default,"blots/block/embed":u.BlockEmbed,"blots/break":f.default,"blots/container":b.default,"blots/cursor":w.default,"blots/embed":m.default,"blots/inline":y.default,"blots/scroll":S.default,"blots/text":_.default,"modules/clipboard":k.default,"modules/history":T.default,"modules/keyboard":L.default}),o.default.register(h.default,f.default,w.default,y.default,S.default,_.default),n.default=l.default},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var a=s(1),o=function(){function c(l){this.domNode=l,this.domNode[a.DATA_KEY]={blot:this}}return Object.defineProperty(c.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),c.create=function(l){if(this.tagName==null)throw new a.ParchmentError("Blot definition missing tagName");var u;return Array.isArray(this.tagName)?(typeof l=="string"&&(l=l.toUpperCase(),parseInt(l).toString()===l&&(l=parseInt(l))),typeof l=="number"?u=document.createElement(this.tagName[l-1]):this.tagName.indexOf(l)>-1?u=document.createElement(l):u=document.createElement(this.tagName[0])):u=document.createElement(this.tagName),this.className&&u.classList.add(this.className),u},c.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},c.prototype.clone=function(){var l=this.domNode.cloneNode(!1);return a.create(l)},c.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[a.DATA_KEY]},c.prototype.deleteAt=function(l,u){var h=this.isolate(l,u);h.remove()},c.prototype.formatAt=function(l,u,h,d){var f=this.isolate(l,u);if(a.query(h,a.Scope.BLOT)!=null&&d)f.wrap(h,d);else if(a.query(h,a.Scope.ATTRIBUTE)!=null){var p=a.create(this.statics.scope);f.wrap(p),p.format(h,d)}},c.prototype.insertAt=function(l,u,h){var d=h==null?a.create("text",u):a.create(u,h),f=this.split(l);this.parent.insertBefore(d,f)},c.prototype.insertInto=function(l,u){u===void 0&&(u=null),this.parent!=null&&this.parent.children.remove(this);var h=null;l.children.insertBefore(this,u),u!=null&&(h=u.domNode),(this.domNode.parentNode!=l.domNode||this.domNode.nextSibling!=h)&&l.domNode.insertBefore(this.domNode,h),this.parent=l,this.attach()},c.prototype.isolate=function(l,u){var h=this.split(l);return h.split(u),h},c.prototype.length=function(){return 1},c.prototype.offset=function(l){return l===void 0&&(l=this.parent),this.parent==null||this==l?0:this.parent.children.offset(this)+this.parent.offset(l)},c.prototype.optimize=function(l){this.domNode[a.DATA_KEY]!=null&&delete this.domNode[a.DATA_KEY].mutations},c.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},c.prototype.replace=function(l){l.parent!=null&&(l.parent.insertBefore(this,l.next),l.remove())},c.prototype.replaceWith=function(l,u){var h=typeof l=="string"?a.create(l,u):l;return h.replace(this),h},c.prototype.split=function(l,u){return l===0?this:this.next},c.prototype.update=function(l,u){},c.prototype.wrap=function(l,u){var h=typeof l=="string"?a.create(l,u):l;return this.parent!=null&&this.parent.insertBefore(h,this.next),h.appendChild(this),h},c.blotName="abstract",c}();n.default=o},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var a=s(12),o=s(32),c=s(33),l=s(1),u=function(){function h(d){this.attributes={},this.domNode=d,this.build()}return h.prototype.attribute=function(d,f){f?d.add(this.domNode,f)&&(d.value(this.domNode)!=null?this.attributes[d.attrName]=d:delete this.attributes[d.attrName]):(d.remove(this.domNode),delete this.attributes[d.attrName])},h.prototype.build=function(){var d=this;this.attributes={};var f=a.default.keys(this.domNode),p=o.default.keys(this.domNode),b=c.default.keys(this.domNode);f.concat(p).concat(b).forEach(function(x){var w=l.query(x,l.Scope.ATTRIBUTE);w instanceof a.default&&(d.attributes[w.attrName]=w)})},h.prototype.copy=function(d){var f=this;Object.keys(this.attributes).forEach(function(p){var b=f.attributes[p].value(f.domNode);d.format(p,b)})},h.prototype.move=function(d){var f=this;this.copy(d),Object.keys(this.attributes).forEach(function(p){f.attributes[p].remove(f.domNode)}),this.attributes={}},h.prototype.values=function(){var d=this;return Object.keys(this.attributes).reduce(function(f,p){return f[p]=d.attributes[p].value(d.domNode),f},{})},h}();n.default=u},function(r,n,s){var a=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var f in d)d.hasOwnProperty(f)&&(h[f]=d[f])};return function(h,d){u(h,d);function f(){this.constructor=h}h.prototype=d===null?Object.create(d):(f.prototype=d.prototype,new f)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=s(12);function c(u,h){var d=u.getAttribute("class")||"";return d.split(/\s+/).filter(function(f){return f.indexOf(h+"-")===0})}var l=function(u){a(h,u);function h(){return u!==null&&u.apply(this,arguments)||this}return h.keys=function(d){return(d.getAttribute("class")||"").split(/\s+/).map(function(f){return f.split("-").slice(0,-1).join("-")})},h.prototype.add=function(d,f){return this.canAdd(d,f)?(this.remove(d),d.classList.add(this.keyName+"-"+f),!0):!1},h.prototype.remove=function(d){var f=c(d,this.keyName);f.forEach(function(p){d.classList.remove(p)}),d.classList.length===0&&d.removeAttribute("class")},h.prototype.value=function(d){var f=c(d,this.keyName)[0]||"",p=f.slice(this.keyName.length+1);return this.canAdd(d,p)?p:""},h}(o.default);n.default=l},function(r,n,s){var a=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var f in d)d.hasOwnProperty(f)&&(h[f]=d[f])};return function(h,d){u(h,d);function f(){this.constructor=h}h.prototype=d===null?Object.create(d):(f.prototype=d.prototype,new f)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=s(12);function c(u){var h=u.split("-"),d=h.slice(1).map(function(f){return f[0].toUpperCase()+f.slice(1)}).join("");return h[0]+d}var l=function(u){a(h,u);function h(){return u!==null&&u.apply(this,arguments)||this}return h.keys=function(d){return(d.getAttribute("style")||"").split(";").map(function(f){var p=f.split(":");return p[0].trim()})},h.prototype.add=function(d,f){return this.canAdd(d,f)?(d.style[c(this.keyName)]=f,!0):!1},h.prototype.remove=function(d){d.style[c(this.keyName)]="",d.getAttribute("style")||d.removeAttribute("style")},h.prototype.value=function(d){var f=d.style[c(this.keyName)];return this.canAdd(d,f)?f:""},h}(o.default);n.default=l},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function l(u,h){for(var d=0;d<h.length;d++){var f=h[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(u,f.key,f)}}return function(u,h,d){return h&&l(u.prototype,h),d&&l(u,d),u}}();function o(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}var c=function(){function l(u,h){o(this,l),this.quill=u,this.options=h,this.modules={}}return a(l,[{key:"init",value:function(){var h=this;Object.keys(this.options.modules).forEach(function(d){h.modules[d]==null&&h.addModule(d)})}},{key:"addModule",value:function(h){var d=this.quill.constructor.import("modules/"+h);return this.modules[h]=new d(this.quill,this.options.modules[h]||{}),this.modules[h]}}]),l}();c.DEFAULTS={modules:{}},c.themes={default:c},n.default=c},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function g(m,v){for(var y=0;y<v.length;y++){var j=v[y];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(m,j.key,j)}}return function(m,v,y){return v&&g(m.prototype,v),y&&g(m,y),m}}(),o=function g(m,v,y){m===null&&(m=Function.prototype);var j=Object.getOwnPropertyDescriptor(m,v);if(j===void 0){var S=Object.getPrototypeOf(m);return S===null?void 0:g(S,v,y)}else{if("value"in j)return j.value;var N=j.get;return N===void 0?void 0:N.call(y)}},c=s(0),l=d(c),u=s(7),h=d(u);function d(g){return g&&g.__esModule?g:{default:g}}function f(g,m){if(!(g instanceof m))throw new TypeError("Cannot call a class as a function")}function p(g,m){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:g}function b(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);g.prototype=Object.create(m&&m.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(g,m):g.__proto__=m)}var x="\uFEFF",w=function(g){b(m,g);function m(v){f(this,m);var y=p(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,v));return y.contentNode=document.createElement("span"),y.contentNode.setAttribute("contenteditable",!1),[].slice.call(y.domNode.childNodes).forEach(function(j){y.contentNode.appendChild(j)}),y.leftGuard=document.createTextNode(x),y.rightGuard=document.createTextNode(x),y.domNode.appendChild(y.leftGuard),y.domNode.appendChild(y.contentNode),y.domNode.appendChild(y.rightGuard),y}return a(m,[{key:"index",value:function(y,j){return y===this.leftGuard?0:y===this.rightGuard?1:o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"index",this).call(this,y,j)}},{key:"restore",value:function(y){var j=void 0,S=void 0,N=y.data.split(x).join("");if(y===this.leftGuard)if(this.prev instanceof h.default){var _=this.prev.length();this.prev.insertAt(_,N),j={startNode:this.prev.domNode,startOffset:_+N.length}}else S=document.createTextNode(N),this.parent.insertBefore(l.default.create(S),this),j={startNode:S,startOffset:N.length};else y===this.rightGuard&&(this.next instanceof h.default?(this.next.insertAt(0,N),j={startNode:this.next.domNode,startOffset:N.length}):(S=document.createTextNode(N),this.parent.insertBefore(l.default.create(S),this.next),j={startNode:S,startOffset:N.length}));return y.data=x,j}},{key:"update",value:function(y,j){var S=this;y.forEach(function(N){if(N.type==="characterData"&&(N.target===S.leftGuard||N.target===S.rightGuard)){var _=S.restore(N.target);_&&(j.range=_)}})}}]),m}(l.default.Embed);n.default=w},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.AlignStyle=n.AlignClass=n.AlignAttribute=void 0;var a=s(0),o=c(a);function c(f){return f&&f.__esModule?f:{default:f}}var l={scope:o.default.Scope.BLOCK,whitelist:["right","center","justify"]},u=new o.default.Attributor.Attribute("align","align",l),h=new o.default.Attributor.Class("align","ql-align",l),d=new o.default.Attributor.Style("align","text-align",l);n.AlignAttribute=u,n.AlignClass=h,n.AlignStyle=d},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.BackgroundStyle=n.BackgroundClass=void 0;var a=s(0),o=l(a),c=s(26);function l(d){return d&&d.__esModule?d:{default:d}}var u=new o.default.Attributor.Class("background","ql-bg",{scope:o.default.Scope.INLINE}),h=new c.ColorAttributor("background","background-color",{scope:o.default.Scope.INLINE});n.BackgroundClass=u,n.BackgroundStyle=h},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.DirectionStyle=n.DirectionClass=n.DirectionAttribute=void 0;var a=s(0),o=c(a);function c(f){return f&&f.__esModule?f:{default:f}}var l={scope:o.default.Scope.BLOCK,whitelist:["rtl"]},u=new o.default.Attributor.Attribute("direction","dir",l),h=new o.default.Attributor.Class("direction","ql-direction",l),d=new o.default.Attributor.Style("direction","direction",l);n.DirectionAttribute=u,n.DirectionClass=h,n.DirectionStyle=d},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.FontClass=n.FontStyle=void 0;var a=function(){function g(m,v){for(var y=0;y<v.length;y++){var j=v[y];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(m,j.key,j)}}return function(m,v,y){return v&&g(m.prototype,v),y&&g(m,y),m}}(),o=function g(m,v,y){m===null&&(m=Function.prototype);var j=Object.getOwnPropertyDescriptor(m,v);if(j===void 0){var S=Object.getPrototypeOf(m);return S===null?void 0:g(S,v,y)}else{if("value"in j)return j.value;var N=j.get;return N===void 0?void 0:N.call(y)}},c=s(0),l=u(c);function u(g){return g&&g.__esModule?g:{default:g}}function h(g,m){if(!(g instanceof m))throw new TypeError("Cannot call a class as a function")}function d(g,m){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:g}function f(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);g.prototype=Object.create(m&&m.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(g,m):g.__proto__=m)}var p={scope:l.default.Scope.INLINE,whitelist:["serif","monospace"]},b=new l.default.Attributor.Class("font","ql-font",p),x=function(g){f(m,g);function m(){return h(this,m),d(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return a(m,[{key:"value",value:function(y){return o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"value",this).call(this,y).replace(/["']/g,"")}}]),m}(l.default.Attributor.Style),w=new x("font","font-family",p);n.FontStyle=w,n.FontClass=b},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.SizeStyle=n.SizeClass=void 0;var a=s(0),o=c(a);function c(h){return h&&h.__esModule?h:{default:h}}var l=new o.default.Attributor.Class("size","ql-size",{scope:o.default.Scope.INLINE,whitelist:["small","large","huge"]}),u=new o.default.Attributor.Style("size","font-size",{scope:o.default.Scope.INLINE,whitelist:["10px","18px","32px"]});n.SizeClass=l,n.SizeStyle=u},function(r,n,s){r.exports={align:{"":s(76),center:s(77),right:s(78),justify:s(79)},background:s(80),blockquote:s(81),bold:s(82),clean:s(83),code:s(58),"code-block":s(58),color:s(84),direction:{"":s(85),rtl:s(86)},float:{center:s(87),full:s(88),left:s(89),right:s(90)},formula:s(91),header:{1:s(92),2:s(93)},italic:s(94),image:s(95),indent:{"+1":s(96),"-1":s(97)},link:s(98),list:{ordered:s(99),bullet:s(100),check:s(101)},script:{sub:s(102),super:s(103)},strike:s(104),underline:s(105),video:s(106)}},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.getLastChangeIndex=n.default=void 0;var a=function(){function v(y,j){for(var S=0;S<j.length;S++){var N=j[S];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(y,N.key,N)}}return function(y,j,S){return j&&v(y.prototype,j),S&&v(y,S),y}}(),o=s(0),c=f(o),l=s(5),u=f(l),h=s(9),d=f(h);function f(v){return v&&v.__esModule?v:{default:v}}function p(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}function b(v,y){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:v}function x(v,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);v.prototype=Object.create(y&&y.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(v,y):v.__proto__=y)}var w=function(v){x(y,v);function y(j,S){p(this,y);var N=b(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,j,S));return N.lastRecorded=0,N.ignoreChange=!1,N.clear(),N.quill.on(u.default.events.EDITOR_CHANGE,function(_,C,k,E){_!==u.default.events.TEXT_CHANGE||N.ignoreChange||(!N.options.userOnly||E===u.default.sources.USER?N.record(C,k):N.transform(C))}),N.quill.keyboard.addBinding({key:"Z",shortKey:!0},N.undo.bind(N)),N.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},N.redo.bind(N)),/Win/i.test(navigator.platform)&&N.quill.keyboard.addBinding({key:"Y",shortKey:!0},N.redo.bind(N)),N}return a(y,[{key:"change",value:function(S,N){if(this.stack[S].length!==0){var _=this.stack[S].pop();this.stack[N].push(_),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(_[S],u.default.sources.USER),this.ignoreChange=!1;var C=m(_[S]);this.quill.setSelection(C)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(S,N){if(S.ops.length!==0){this.stack.redo=[];var _=this.quill.getContents().diff(N),C=Date.now();if(this.lastRecorded+this.options.delay>C&&this.stack.undo.length>0){var k=this.stack.undo.pop();_=_.compose(k.undo),S=k.redo.compose(S)}else this.lastRecorded=C;this.stack.undo.push({redo:S,undo:_}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(S){this.stack.undo.forEach(function(N){N.undo=S.transform(N.undo,!0),N.redo=S.transform(N.redo,!0)}),this.stack.redo.forEach(function(N){N.undo=S.transform(N.undo,!0),N.redo=S.transform(N.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),y}(d.default);w.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function g(v){var y=v.ops[v.ops.length-1];return y==null?!1:y.insert!=null?typeof y.insert=="string"&&y.insert.endsWith(`
`):y.attributes!=null?Object.keys(y.attributes).some(function(j){return c.default.query(j,c.default.Scope.BLOCK)!=null}):!1}function m(v){var y=v.reduce(function(S,N){return S+=N.delete||0,S},0),j=v.length()-y;return g(v)&&(j-=1),j}n.default=w,n.getLastChangeIndex=m},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BaseTooltip=void 0;var a=function(){function M(R,V){for(var W=0;W<V.length;W++){var $=V[W];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(R,$.key,$)}}return function(R,V,W){return V&&M(R.prototype,V),W&&M(R,W),R}}(),o=function M(R,V,W){R===null&&(R=Function.prototype);var $=Object.getOwnPropertyDescriptor(R,V);if($===void 0){var H=Object.getPrototypeOf(R);return H===null?void 0:M(H,V,W)}else{if("value"in $)return $.value;var K=$.get;return K===void 0?void 0:K.call(W)}},c=s(3),l=C(c),u=s(2),h=C(u),d=s(8),f=C(d),p=s(23),b=C(p),x=s(34),w=C(x),g=s(59),m=C(g),v=s(60),y=C(v),j=s(28),S=C(j),N=s(61),_=C(N);function C(M){return M&&M.__esModule?M:{default:M}}function k(M,R){if(!(M instanceof R))throw new TypeError("Cannot call a class as a function")}function E(M,R){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R&&(typeof R=="object"||typeof R=="function")?R:M}function T(M,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);M.prototype=Object.create(R&&R.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(M,R):M.__proto__=R)}var A=[!1,"center","right","justify"],L=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],F=[!1,"serif","monospace"],U=["1","2","3",!1],B=["small",!1,"large","huge"],q=function(M){T(R,M);function R(V,W){k(this,R);var $=E(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,V,W)),H=function K(G){if(!document.body.contains(V.root))return document.body.removeEventListener("click",K);$.tooltip!=null&&!$.tooltip.root.contains(G.target)&&document.activeElement!==$.tooltip.textbox&&!$.quill.hasFocus()&&$.tooltip.hide(),$.pickers!=null&&$.pickers.forEach(function(z){z.container.contains(G.target)||z.close()})};return V.emitter.listenDOM("click",document.body,H),$}return a(R,[{key:"addModule",value:function(W){var $=o(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"addModule",this).call(this,W);return W==="toolbar"&&this.extendToolbar($),$}},{key:"buildButtons",value:function(W,$){W.forEach(function(H){var K=H.getAttribute("class")||"";K.split(/\s+/).forEach(function(G){if(G.startsWith("ql-")&&(G=G.slice(3),$[G]!=null))if(G==="direction")H.innerHTML=$[G][""]+$[G].rtl;else if(typeof $[G]=="string")H.innerHTML=$[G];else{var z=H.value||"";z!=null&&$[G][z]&&(H.innerHTML=$[G][z])}})})}},{key:"buildPickers",value:function(W,$){var H=this;this.pickers=W.map(function(G){if(G.classList.contains("ql-align"))return G.querySelector("option")==null&&P(G,A),new y.default(G,$.align);if(G.classList.contains("ql-background")||G.classList.contains("ql-color")){var z=G.classList.contains("ql-background")?"background":"color";return G.querySelector("option")==null&&P(G,L,z==="background"?"#ffffff":"#000000"),new m.default(G,$[z])}else return G.querySelector("option")==null&&(G.classList.contains("ql-font")?P(G,F):G.classList.contains("ql-header")?P(G,U):G.classList.contains("ql-size")&&P(G,B)),new S.default(G)});var K=function(){H.pickers.forEach(function(z){z.update()})};this.quill.on(f.default.events.EDITOR_CHANGE,K)}}]),R}(w.default);q.DEFAULTS=(0,l.default)(!0,{},w.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var R=this,V=this.container.querySelector("input.ql-image[type=file]");V==null&&(V=document.createElement("input"),V.setAttribute("type","file"),V.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),V.classList.add("ql-image"),V.addEventListener("change",function(){if(V.files!=null&&V.files[0]!=null){var W=new FileReader;W.onload=function($){var H=R.quill.getSelection(!0);R.quill.updateContents(new h.default().retain(H.index).delete(H.length).insert({image:$.target.result}),f.default.sources.USER),R.quill.setSelection(H.index+1,f.default.sources.SILENT),V.value=""},W.readAsDataURL(V.files[0])}}),this.container.appendChild(V)),V.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var D=function(M){T(R,M);function R(V,W){k(this,R);var $=E(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,V,W));return $.textbox=$.root.querySelector('input[type="text"]'),$.listen(),$}return a(R,[{key:"listen",value:function(){var W=this;this.textbox.addEventListener("keydown",function($){b.default.match($,"enter")?(W.save(),$.preventDefault()):b.default.match($,"escape")&&(W.cancel(),$.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),$!=null?this.textbox.value=$:W!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+W)||""),this.root.setAttribute("data-mode",W)}},{key:"restoreFocus",value:function(){var W=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=W}},{key:"save",value:function(){var W=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var $=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",W,f.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",W,f.default.sources.USER)),this.quill.root.scrollTop=$;break}case"video":W=I(W);case"formula":{if(!W)break;var H=this.quill.getSelection(!0);if(H!=null){var K=H.index+H.length;this.quill.insertEmbed(K,this.root.getAttribute("data-mode"),W,f.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(K+1," ",f.default.sources.USER),this.quill.setSelection(K+2,f.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),R}(_.default);function I(M){var R=M.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||M.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return R?(R[1]||"https")+"://www.youtube.com/embed/"+R[2]+"?showinfo=0":(R=M.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(R[1]||"https")+"://player.vimeo.com/video/"+R[2]+"/":M}function P(M,R){var V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;R.forEach(function(W){var $=document.createElement("option");W===V?$.setAttribute("selected","selected"):$.setAttribute("value",W),M.appendChild($)})}n.BaseTooltip=D,n.default=q},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function o(){this.head=this.tail=null,this.length=0}return o.prototype.append=function(){for(var c=[],l=0;l<arguments.length;l++)c[l]=arguments[l];this.insertBefore(c[0],null),c.length>1&&this.append.apply(this,c.slice(1))},o.prototype.contains=function(c){for(var l,u=this.iterator();l=u();)if(l===c)return!0;return!1},o.prototype.insertBefore=function(c,l){c&&(c.next=l,l!=null?(c.prev=l.prev,l.prev!=null&&(l.prev.next=c),l.prev=c,l===this.head&&(this.head=c)):this.tail!=null?(this.tail.next=c,c.prev=this.tail,this.tail=c):(c.prev=null,this.head=this.tail=c),this.length+=1)},o.prototype.offset=function(c){for(var l=0,u=this.head;u!=null;){if(u===c)return l;l+=u.length(),u=u.next}return-1},o.prototype.remove=function(c){this.contains(c)&&(c.prev!=null&&(c.prev.next=c.next),c.next!=null&&(c.next.prev=c.prev),c===this.head&&(this.head=c.next),c===this.tail&&(this.tail=c.prev),this.length-=1)},o.prototype.iterator=function(c){return c===void 0&&(c=this.head),function(){var l=c;return c!=null&&(c=c.next),l}},o.prototype.find=function(c,l){l===void 0&&(l=!1);for(var u,h=this.iterator();u=h();){var d=u.length();if(c<d||l&&c===d&&(u.next==null||u.next.length()!==0))return[u,c];c-=d}return[null,0]},o.prototype.forEach=function(c){for(var l,u=this.iterator();l=u();)c(l)},o.prototype.forEachAt=function(c,l,u){if(!(l<=0))for(var h=this.find(c),d=h[0],f=h[1],p,b=c-f,x=this.iterator(d);(p=x())&&b<c+l;){var w=p.length();c>b?u(p,c-b,Math.min(l,b+w-c)):u(p,0,Math.min(w,c+l-b)),b+=w}},o.prototype.map=function(c){return this.reduce(function(l,u){return l.push(c(u)),l},[])},o.prototype.reduce=function(c,l){for(var u,h=this.iterator();u=h();)l=c(l,u);return l},o}();n.default=a},function(r,n,s){var a=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,p){f.__proto__=p}||function(f,p){for(var b in p)p.hasOwnProperty(b)&&(f[b]=p[b])};return function(f,p){d(f,p);function b(){this.constructor=f}f.prototype=p===null?Object.create(p):(b.prototype=p.prototype,new b)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=s(17),c=s(1),l={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},u=100,h=function(d){a(f,d);function f(p){var b=d.call(this,p)||this;return b.scroll=b,b.observer=new MutationObserver(function(x){b.update(x)}),b.observer.observe(b.domNode,l),b.attach(),b}return f.prototype.detach=function(){d.prototype.detach.call(this),this.observer.disconnect()},f.prototype.deleteAt=function(p,b){this.update(),p===0&&b===this.length()?this.children.forEach(function(x){x.remove()}):d.prototype.deleteAt.call(this,p,b)},f.prototype.formatAt=function(p,b,x,w){this.update(),d.prototype.formatAt.call(this,p,b,x,w)},f.prototype.insertAt=function(p,b,x){this.update(),d.prototype.insertAt.call(this,p,b,x)},f.prototype.optimize=function(p,b){var x=this;p===void 0&&(p=[]),b===void 0&&(b={}),d.prototype.optimize.call(this,b);for(var w=[].slice.call(this.observer.takeRecords());w.length>0;)p.push(w.pop());for(var g=function(j,S){S===void 0&&(S=!0),!(j==null||j===x)&&j.domNode.parentNode!=null&&(j.domNode[c.DATA_KEY].mutations==null&&(j.domNode[c.DATA_KEY].mutations=[]),S&&g(j.parent))},m=function(j){j.domNode[c.DATA_KEY]==null||j.domNode[c.DATA_KEY].mutations==null||(j instanceof o.default&&j.children.forEach(m),j.optimize(b))},v=p,y=0;v.length>0;y+=1){if(y>=u)throw new Error("[Parchment] Maximum optimize iterations reached");for(v.forEach(function(j){var S=c.find(j.target,!0);S!=null&&(S.domNode===j.target&&(j.type==="childList"?(g(c.find(j.previousSibling,!1)),[].forEach.call(j.addedNodes,function(N){var _=c.find(N,!1);g(_,!1),_ instanceof o.default&&_.children.forEach(function(C){g(C,!1)})})):j.type==="attributes"&&g(S.prev)),g(S))}),this.children.forEach(m),v=[].slice.call(this.observer.takeRecords()),w=v.slice();w.length>0;)p.push(w.pop())}},f.prototype.update=function(p,b){var x=this;b===void 0&&(b={}),p=p||this.observer.takeRecords(),p.map(function(w){var g=c.find(w.target,!0);return g==null?null:g.domNode[c.DATA_KEY].mutations==null?(g.domNode[c.DATA_KEY].mutations=[w],g):(g.domNode[c.DATA_KEY].mutations.push(w),null)}).forEach(function(w){w==null||w===x||w.domNode[c.DATA_KEY]==null||w.update(w.domNode[c.DATA_KEY].mutations||[],b)}),this.domNode[c.DATA_KEY].mutations!=null&&d.prototype.update.call(this,this.domNode[c.DATA_KEY].mutations,b),this.optimize(p,b)},f.blotName="scroll",f.defaultChild="block",f.scope=c.Scope.BLOCK_BLOT,f.tagName="DIV",f}(o.default);n.default=h},function(r,n,s){var a=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var p in f)f.hasOwnProperty(p)&&(d[p]=f[p])};return function(d,f){h(d,f);function p(){this.constructor=d}d.prototype=f===null?Object.create(f):(p.prototype=f.prototype,new p)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=s(18),c=s(1);function l(h,d){if(Object.keys(h).length!==Object.keys(d).length)return!1;for(var f in h)if(h[f]!==d[f])return!1;return!0}var u=function(h){a(d,h);function d(){return h!==null&&h.apply(this,arguments)||this}return d.formats=function(f){if(f.tagName!==d.tagName)return h.formats.call(this,f)},d.prototype.format=function(f,p){var b=this;f===this.statics.blotName&&!p?(this.children.forEach(function(x){x instanceof o.default||(x=x.wrap(d.blotName,!0)),b.attributes.copy(x)}),this.unwrap()):h.prototype.format.call(this,f,p)},d.prototype.formatAt=function(f,p,b,x){if(this.formats()[b]!=null||c.query(b,c.Scope.ATTRIBUTE)){var w=this.isolate(f,p);w.format(b,x)}else h.prototype.formatAt.call(this,f,p,b,x)},d.prototype.optimize=function(f){h.prototype.optimize.call(this,f);var p=this.formats();if(Object.keys(p).length===0)return this.unwrap();var b=this.next;b instanceof d&&b.prev===this&&l(p,b.formats())&&(b.moveChildren(this),b.remove())},d.blotName="inline",d.scope=c.Scope.INLINE_BLOT,d.tagName="SPAN",d}(o.default);n.default=u},function(r,n,s){var a=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var f in d)d.hasOwnProperty(f)&&(h[f]=d[f])};return function(h,d){u(h,d);function f(){this.constructor=h}h.prototype=d===null?Object.create(d):(f.prototype=d.prototype,new f)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=s(18),c=s(1),l=function(u){a(h,u);function h(){return u!==null&&u.apply(this,arguments)||this}return h.formats=function(d){var f=c.query(h.blotName).tagName;if(d.tagName!==f)return u.formats.call(this,d)},h.prototype.format=function(d,f){c.query(d,c.Scope.BLOCK)!=null&&(d===this.statics.blotName&&!f?this.replaceWith(h.blotName):u.prototype.format.call(this,d,f))},h.prototype.formatAt=function(d,f,p,b){c.query(p,c.Scope.BLOCK)!=null?this.format(p,b):u.prototype.formatAt.call(this,d,f,p,b)},h.prototype.insertAt=function(d,f,p){if(p==null||c.query(f,c.Scope.INLINE)!=null)u.prototype.insertAt.call(this,d,f,p);else{var b=this.split(d),x=c.create(f,p);b.parent.insertBefore(x,b)}},h.prototype.update=function(d,f){navigator.userAgent.match(/Trident/)?this.build():u.prototype.update.call(this,d,f)},h.blotName="block",h.scope=c.Scope.BLOCK_BLOT,h.tagName="P",h}(o.default);n.default=l},function(r,n,s){var a=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,h){u.__proto__=h}||function(u,h){for(var d in h)h.hasOwnProperty(d)&&(u[d]=h[d])};return function(u,h){l(u,h);function d(){this.constructor=u}u.prototype=h===null?Object.create(h):(d.prototype=h.prototype,new d)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=s(19),c=function(l){a(u,l);function u(){return l!==null&&l.apply(this,arguments)||this}return u.formats=function(h){},u.prototype.format=function(h,d){l.prototype.formatAt.call(this,0,this.length(),h,d)},u.prototype.formatAt=function(h,d,f,p){h===0&&d===this.length()?this.format(f,p):l.prototype.formatAt.call(this,h,d,f,p)},u.prototype.formats=function(){return this.statics.formats(this.domNode)},u}(o.default);n.default=c},function(r,n,s){var a=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var f in d)d.hasOwnProperty(f)&&(h[f]=d[f])};return function(h,d){u(h,d);function f(){this.constructor=h}h.prototype=d===null?Object.create(d):(f.prototype=d.prototype,new f)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=s(19),c=s(1),l=function(u){a(h,u);function h(d){var f=u.call(this,d)||this;return f.text=f.statics.value(f.domNode),f}return h.create=function(d){return document.createTextNode(d)},h.value=function(d){var f=d.data;return f.normalize&&(f=f.normalize()),f},h.prototype.deleteAt=function(d,f){this.domNode.data=this.text=this.text.slice(0,d)+this.text.slice(d+f)},h.prototype.index=function(d,f){return this.domNode===d?f:-1},h.prototype.insertAt=function(d,f,p){p==null?(this.text=this.text.slice(0,d)+f+this.text.slice(d),this.domNode.data=this.text):u.prototype.insertAt.call(this,d,f,p)},h.prototype.length=function(){return this.text.length},h.prototype.optimize=function(d){u.prototype.optimize.call(this,d),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof h&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},h.prototype.position=function(d,f){return[this.domNode,d]},h.prototype.split=function(d,f){if(f===void 0&&(f=!1),!f){if(d===0)return this;if(d===this.length())return this.next}var p=c.create(this.domNode.splitText(d));return this.parent.insertBefore(p,this.next),this.text=this.statics.value(this.domNode),p},h.prototype.update=function(d,f){var p=this;d.some(function(b){return b.type==="characterData"&&b.target===p.domNode})&&(this.text=this.statics.value(this.domNode))},h.prototype.value=function(){return this.text},h.blotName="text",h.scope=c.Scope.INLINE_BLOT,h}(o.default);n.default=l},function(r,n,s){var a=document.createElement("div");if(a.classList.toggle("test-class",!1),a.classList.contains("test-class")){var o=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(c,l){return arguments.length>1&&!this.contains(c)==!l?l:o.call(this,c)}}String.prototype.startsWith||(String.prototype.startsWith=function(c,l){return l=l||0,this.substr(l,c.length)===c}),String.prototype.endsWith||(String.prototype.endsWith=function(c,l){var u=this.toString();(typeof l!="number"||!isFinite(l)||Math.floor(l)!==l||l>u.length)&&(l=u.length),l-=c.length;var h=u.indexOf(c,l);return h!==-1&&h===l}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(l){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof l!="function")throw new TypeError("predicate must be a function");for(var u=Object(this),h=u.length>>>0,d=arguments[1],f,p=0;p<h;p++)if(f=u[p],l.call(d,f,p,u))return f}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(r,n){var s=-1,a=1,o=0;function c(y,j,S){if(y==j)return y?[[o,y]]:[];(S<0||y.length<S)&&(S=null);var N=d(y,j),_=y.substring(0,N);y=y.substring(N),j=j.substring(N),N=f(y,j);var C=y.substring(y.length-N);y=y.substring(0,y.length-N),j=j.substring(0,j.length-N);var k=l(y,j);return _&&k.unshift([o,_]),C&&k.push([o,C]),b(k),S!=null&&(k=g(k,S)),k=m(k),k}function l(y,j){var S;if(!y)return[[a,j]];if(!j)return[[s,y]];var N=y.length>j.length?y:j,_=y.length>j.length?j:y,C=N.indexOf(_);if(C!=-1)return S=[[a,N.substring(0,C)],[o,_],[a,N.substring(C+_.length)]],y.length>j.length&&(S[0][0]=S[2][0]=s),S;if(_.length==1)return[[s,y],[a,j]];var k=p(y,j);if(k){var E=k[0],T=k[1],A=k[2],L=k[3],F=k[4],U=c(E,A),B=c(T,L);return U.concat([[o,F]],B)}return u(y,j)}function u(y,j){for(var S=y.length,N=j.length,_=Math.ceil((S+N)/2),C=_,k=2*_,E=new Array(k),T=new Array(k),A=0;A<k;A++)E[A]=-1,T[A]=-1;E[C+1]=0,T[C+1]=0;for(var L=S-N,F=L%2!=0,U=0,B=0,q=0,D=0,I=0;I<_;I++){for(var P=-I+U;P<=I-B;P+=2){var M=C+P,R;P==-I||P!=I&&E[M-1]<E[M+1]?R=E[M+1]:R=E[M-1]+1;for(var V=R-P;R<S&&V<N&&y.charAt(R)==j.charAt(V);)R++,V++;if(E[M]=R,R>S)B+=2;else if(V>N)U+=2;else if(F){var W=C+L-P;if(W>=0&&W<k&&T[W]!=-1){var $=S-T[W];if(R>=$)return h(y,j,R,V)}}}for(var H=-I+q;H<=I-D;H+=2){var W=C+H,$;H==-I||H!=I&&T[W-1]<T[W+1]?$=T[W+1]:$=T[W-1]+1;for(var K=$-H;$<S&&K<N&&y.charAt(S-$-1)==j.charAt(N-K-1);)$++,K++;if(T[W]=$,$>S)D+=2;else if(K>N)q+=2;else if(!F){var M=C+L-H;if(M>=0&&M<k&&E[M]!=-1){var R=E[M],V=C+R-M;if($=S-$,R>=$)return h(y,j,R,V)}}}}return[[s,y],[a,j]]}function h(y,j,S,N){var _=y.substring(0,S),C=j.substring(0,N),k=y.substring(S),E=j.substring(N),T=c(_,C),A=c(k,E);return T.concat(A)}function d(y,j){if(!y||!j||y.charAt(0)!=j.charAt(0))return 0;for(var S=0,N=Math.min(y.length,j.length),_=N,C=0;S<_;)y.substring(C,_)==j.substring(C,_)?(S=_,C=S):N=_,_=Math.floor((N-S)/2+S);return _}function f(y,j){if(!y||!j||y.charAt(y.length-1)!=j.charAt(j.length-1))return 0;for(var S=0,N=Math.min(y.length,j.length),_=N,C=0;S<_;)y.substring(y.length-_,y.length-C)==j.substring(j.length-_,j.length-C)?(S=_,C=S):N=_,_=Math.floor((N-S)/2+S);return _}function p(y,j){var S=y.length>j.length?y:j,N=y.length>j.length?j:y;if(S.length<4||N.length*2<S.length)return null;function _(B,q,D){for(var I=B.substring(D,D+Math.floor(B.length/4)),P=-1,M="",R,V,W,$;(P=q.indexOf(I,P+1))!=-1;){var H=d(B.substring(D),q.substring(P)),K=f(B.substring(0,D),q.substring(0,P));M.length<K+H&&(M=q.substring(P-K,P)+q.substring(P,P+H),R=B.substring(0,D-K),V=B.substring(D+H),W=q.substring(0,P-K),$=q.substring(P+H))}return M.length*2>=B.length?[R,V,W,$,M]:null}var C=_(S,N,Math.ceil(S.length/4)),k=_(S,N,Math.ceil(S.length/2)),E;if(!C&&!k)return null;k?C?E=C[4].length>k[4].length?C:k:E=k:E=C;var T,A,L,F;y.length>j.length?(T=E[0],A=E[1],L=E[2],F=E[3]):(L=E[0],F=E[1],T=E[2],A=E[3]);var U=E[4];return[T,A,L,F,U]}function b(y){y.push([o,""]);for(var j=0,S=0,N=0,_="",C="",k;j<y.length;)switch(y[j][0]){case a:N++,C+=y[j][1],j++;break;case s:S++,_+=y[j][1],j++;break;case o:S+N>1?(S!==0&&N!==0&&(k=d(C,_),k!==0&&(j-S-N>0&&y[j-S-N-1][0]==o?y[j-S-N-1][1]+=C.substring(0,k):(y.splice(0,0,[o,C.substring(0,k)]),j++),C=C.substring(k),_=_.substring(k)),k=f(C,_),k!==0&&(y[j][1]=C.substring(C.length-k)+y[j][1],C=C.substring(0,C.length-k),_=_.substring(0,_.length-k))),S===0?y.splice(j-N,S+N,[a,C]):N===0?y.splice(j-S,S+N,[s,_]):y.splice(j-S-N,S+N,[s,_],[a,C]),j=j-S-N+(S?1:0)+(N?1:0)+1):j!==0&&y[j-1][0]==o?(y[j-1][1]+=y[j][1],y.splice(j,1)):j++,N=0,S=0,_="",C="";break}y[y.length-1][1]===""&&y.pop();var E=!1;for(j=1;j<y.length-1;)y[j-1][0]==o&&y[j+1][0]==o&&(y[j][1].substring(y[j][1].length-y[j-1][1].length)==y[j-1][1]?(y[j][1]=y[j-1][1]+y[j][1].substring(0,y[j][1].length-y[j-1][1].length),y[j+1][1]=y[j-1][1]+y[j+1][1],y.splice(j-1,1),E=!0):y[j][1].substring(0,y[j+1][1].length)==y[j+1][1]&&(y[j-1][1]+=y[j+1][1],y[j][1]=y[j][1].substring(y[j+1][1].length)+y[j+1][1],y.splice(j+1,1),E=!0)),j++;E&&b(y)}var x=c;x.INSERT=a,x.DELETE=s,x.EQUAL=o,r.exports=x;function w(y,j){if(j===0)return[o,y];for(var S=0,N=0;N<y.length;N++){var _=y[N];if(_[0]===s||_[0]===o){var C=S+_[1].length;if(j===C)return[N+1,y];if(j<C){y=y.slice();var k=j-S,E=[_[0],_[1].slice(0,k)],T=[_[0],_[1].slice(k)];return y.splice(N,1,E,T),[N+1,y]}else S=C}}throw new Error("cursor_pos is out of bounds!")}function g(y,j){var S=w(y,j),N=S[1],_=S[0],C=N[_],k=N[_+1];if(C==null)return y;if(C[0]!==o)return y;if(k!=null&&C[1]+k[1]===k[1]+C[1])return N.splice(_,2,k,C),v(N,_,2);if(k!=null&&k[1].indexOf(C[1])===0){N.splice(_,2,[k[0],C[1]],[0,C[1]]);var E=k[1].slice(C[1].length);return E.length>0&&N.splice(_+2,0,[k[0],E]),v(N,_,3)}else return y}function m(y){for(var j=!1,S=function(k){return k.charCodeAt(0)>=56320&&k.charCodeAt(0)<=57343},N=function(k){return k.charCodeAt(k.length-1)>=55296&&k.charCodeAt(k.length-1)<=56319},_=2;_<y.length;_+=1)y[_-2][0]===o&&N(y[_-2][1])&&y[_-1][0]===s&&S(y[_-1][1])&&y[_][0]===a&&S(y[_][1])&&(j=!0,y[_-1][1]=y[_-2][1].slice(-1)+y[_-1][1],y[_][1]=y[_-2][1].slice(-1)+y[_][1],y[_-2][1]=y[_-2][1].slice(0,-1));if(!j)return y;for(var C=[],_=0;_<y.length;_+=1)y[_][1].length>0&&C.push(y[_]);return C}function v(y,j,S){for(var N=j+S-1;N>=0&&N>=j-1;N--)if(N+1<y.length){var _=y[N],C=y[N+1];_[0]===C[1]&&y.splice(N,2,[_[0],_[1]+C[1]])}return y}},function(r,n){n=r.exports=typeof Object.keys=="function"?Object.keys:s,n.shim=s;function s(a){var o=[];for(var c in a)o.push(c);return o}},function(r,n){var s=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";n=r.exports=s?a:o,n.supported=a;function a(c){return Object.prototype.toString.call(c)=="[object Arguments]"}n.unsupported=o;function o(c){return c&&typeof c=="object"&&typeof c.length=="number"&&Object.prototype.hasOwnProperty.call(c,"callee")&&!Object.prototype.propertyIsEnumerable.call(c,"callee")||!1}},function(r,n){var s=Object.prototype.hasOwnProperty,a="~";function o(){}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(a=!1));function c(u,h,d){this.fn=u,this.context=h,this.once=d||!1}function l(){this._events=new o,this._eventsCount=0}l.prototype.eventNames=function(){var h=[],d,f;if(this._eventsCount===0)return h;for(f in d=this._events)s.call(d,f)&&h.push(a?f.slice(1):f);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(d)):h},l.prototype.listeners=function(h,d){var f=a?a+h:h,p=this._events[f];if(d)return!!p;if(!p)return[];if(p.fn)return[p.fn];for(var b=0,x=p.length,w=new Array(x);b<x;b++)w[b]=p[b].fn;return w},l.prototype.emit=function(h,d,f,p,b,x){var w=a?a+h:h;if(!this._events[w])return!1;var g=this._events[w],m=arguments.length,v,y;if(g.fn){switch(g.once&&this.removeListener(h,g.fn,void 0,!0),m){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,d),!0;case 3:return g.fn.call(g.context,d,f),!0;case 4:return g.fn.call(g.context,d,f,p),!0;case 5:return g.fn.call(g.context,d,f,p,b),!0;case 6:return g.fn.call(g.context,d,f,p,b,x),!0}for(y=1,v=new Array(m-1);y<m;y++)v[y-1]=arguments[y];g.fn.apply(g.context,v)}else{var j=g.length,S;for(y=0;y<j;y++)switch(g[y].once&&this.removeListener(h,g[y].fn,void 0,!0),m){case 1:g[y].fn.call(g[y].context);break;case 2:g[y].fn.call(g[y].context,d);break;case 3:g[y].fn.call(g[y].context,d,f);break;case 4:g[y].fn.call(g[y].context,d,f,p);break;default:if(!v)for(S=1,v=new Array(m-1);S<m;S++)v[S-1]=arguments[S];g[y].fn.apply(g[y].context,v)}}return!0},l.prototype.on=function(h,d,f){var p=new c(d,f||this),b=a?a+h:h;return this._events[b]?this._events[b].fn?this._events[b]=[this._events[b],p]:this._events[b].push(p):(this._events[b]=p,this._eventsCount++),this},l.prototype.once=function(h,d,f){var p=new c(d,f||this,!0),b=a?a+h:h;return this._events[b]?this._events[b].fn?this._events[b]=[this._events[b],p]:this._events[b].push(p):(this._events[b]=p,this._eventsCount++),this},l.prototype.removeListener=function(h,d,f,p){var b=a?a+h:h;if(!this._events[b])return this;if(!d)return--this._eventsCount===0?this._events=new o:delete this._events[b],this;var x=this._events[b];if(x.fn)x.fn===d&&(!p||x.once)&&(!f||x.context===f)&&(--this._eventsCount===0?this._events=new o:delete this._events[b]);else{for(var w=0,g=[],m=x.length;w<m;w++)(x[w].fn!==d||p&&!x[w].once||f&&x[w].context!==f)&&g.push(x[w]);g.length?this._events[b]=g.length===1?g[0]:g:--this._eventsCount===0?this._events=new o:delete this._events[b]}return this},l.prototype.removeAllListeners=function(h){var d;return h?(d=a?a+h:h,this._events[d]&&(--this._eventsCount===0?this._events=new o:delete this._events[d])):(this._events=new o,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prototype.setMaxListeners=function(){return this},l.prefixed=a,l.EventEmitter=l,typeof r<"u"&&(r.exports=l)},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.matchText=n.matchSpacing=n.matchNewline=n.matchBlot=n.matchAttributor=n.default=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Y){return typeof Y}:function(Y){return Y&&typeof Symbol=="function"&&Y.constructor===Symbol&&Y!==Symbol.prototype?"symbol":typeof Y},o=function(){function Y(J,ne){var se=[],X=!0,he=!1,pe=void 0;try{for(var me=J[Symbol.iterator](),At;!(X=(At=me.next()).done)&&(se.push(At.value),!(ne&&se.length===ne));X=!0);}catch(pr){he=!0,pe=pr}finally{try{!X&&me.return&&me.return()}finally{if(he)throw pe}}return se}return function(J,ne){if(Array.isArray(J))return J;if(Symbol.iterator in Object(J))return Y(J,ne);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function Y(J,ne){for(var se=0;se<ne.length;se++){var X=ne[se];X.enumerable=X.enumerable||!1,X.configurable=!0,"value"in X&&(X.writable=!0),Object.defineProperty(J,X.key,X)}}return function(J,ne,se){return ne&&Y(J.prototype,ne),se&&Y(J,se),J}}(),l=s(3),u=T(l),h=s(2),d=T(h),f=s(0),p=T(f),b=s(5),x=T(b),w=s(10),g=T(w),m=s(9),v=T(m),y=s(36),j=s(37),S=s(13),N=T(S),_=s(26),C=s(38),k=s(39),E=s(40);function T(Y){return Y&&Y.__esModule?Y:{default:Y}}function A(Y,J,ne){return J in Y?Object.defineProperty(Y,J,{value:ne,enumerable:!0,configurable:!0,writable:!0}):Y[J]=ne,Y}function L(Y,J){if(!(Y instanceof J))throw new TypeError("Cannot call a class as a function")}function F(Y,J){if(!Y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return J&&(typeof J=="object"||typeof J=="function")?J:Y}function U(Y,J){if(typeof J!="function"&&J!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof J);Y.prototype=Object.create(J&&J.prototype,{constructor:{value:Y,enumerable:!1,writable:!0,configurable:!0}}),J&&(Object.setPrototypeOf?Object.setPrototypeOf(Y,J):Y.__proto__=J)}var B=(0,g.default)("quill:clipboard"),q="__ql-matcher",D=[[Node.TEXT_NODE,Ie],[Node.TEXT_NODE,ue],["br",Z],[Node.ELEMENT_NODE,ue],[Node.ELEMENT_NODE,z],[Node.ELEMENT_NODE,ve],[Node.ELEMENT_NODE,G],[Node.ELEMENT_NODE,Me],["li",le],["b",K.bind(K,"bold")],["i",K.bind(K,"italic")],["style",re]],I=[y.AlignAttribute,C.DirectionAttribute].reduce(function(Y,J){return Y[J.keyName]=J,Y},{}),P=[y.AlignStyle,j.BackgroundStyle,_.ColorStyle,C.DirectionStyle,k.FontStyle,E.SizeStyle].reduce(function(Y,J){return Y[J.keyName]=J,Y},{}),M=function(Y){U(J,Y);function J(ne,se){L(this,J);var X=F(this,(J.__proto__||Object.getPrototypeOf(J)).call(this,ne,se));return X.quill.root.addEventListener("paste",X.onPaste.bind(X)),X.container=X.quill.addContainer("ql-clipboard"),X.container.setAttribute("contenteditable",!0),X.container.setAttribute("tabindex",-1),X.matchers=[],D.concat(X.options.matchers).forEach(function(he){var pe=o(he,2),me=pe[0],At=pe[1];!se.matchVisual&&At===ve||X.addMatcher(me,At)}),X}return c(J,[{key:"addMatcher",value:function(se,X){this.matchers.push([se,X])}},{key:"convert",value:function(se){if(typeof se=="string")return this.container.innerHTML=se.replace(/\>\r?\n +\</g,"><"),this.convert();var X=this.quill.getFormat(this.quill.selection.savedRange.index);if(X[N.default.blotName]){var he=this.container.innerText;return this.container.innerHTML="",new d.default().insert(he,A({},N.default.blotName,X[N.default.blotName]))}var pe=this.prepareMatching(),me=o(pe,2),At=me[0],pr=me[1],Te=H(this.container,At,pr);return W(Te,`
`)&&Te.ops[Te.ops.length-1].attributes==null&&(Te=Te.compose(new d.default().retain(Te.length()-1).delete(1))),B.log("convert",this.container.innerHTML,Te),this.container.innerHTML="",Te}},{key:"dangerouslyPasteHTML",value:function(se,X){var he=arguments.length>2&&arguments[2]!==void 0?arguments[2]:x.default.sources.API;if(typeof se=="string")this.quill.setContents(this.convert(se),X),this.quill.setSelection(0,x.default.sources.SILENT);else{var pe=this.convert(X);this.quill.updateContents(new d.default().retain(se).concat(pe),he),this.quill.setSelection(se+pe.length(),x.default.sources.SILENT)}}},{key:"onPaste",value:function(se){var X=this;if(!(se.defaultPrevented||!this.quill.isEnabled())){var he=this.quill.getSelection(),pe=new d.default().retain(he.index),me=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(x.default.sources.SILENT),setTimeout(function(){pe=pe.concat(X.convert()).delete(he.length),X.quill.updateContents(pe,x.default.sources.USER),X.quill.setSelection(pe.length()-he.length,x.default.sources.SILENT),X.quill.scrollingContainer.scrollTop=me,X.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var se=this,X=[],he=[];return this.matchers.forEach(function(pe){var me=o(pe,2),At=me[0],pr=me[1];switch(At){case Node.TEXT_NODE:he.push(pr);break;case Node.ELEMENT_NODE:X.push(pr);break;default:[].forEach.call(se.container.querySelectorAll(At),function(Te){Te[q]=Te[q]||[],Te[q].push(pr)});break}}),[X,he]}}]),J}(v.default);M.DEFAULTS={matchers:[],matchVisual:!0};function R(Y,J,ne){return(typeof J>"u"?"undefined":a(J))==="object"?Object.keys(J).reduce(function(se,X){return R(se,X,J[X])},Y):Y.reduce(function(se,X){return X.attributes&&X.attributes[J]?se.push(X):se.insert(X.insert,(0,u.default)({},A({},J,ne),X.attributes))},new d.default)}function V(Y){if(Y.nodeType!==Node.ELEMENT_NODE)return{};var J="__ql-computed-style";return Y[J]||(Y[J]=window.getComputedStyle(Y))}function W(Y,J){for(var ne="",se=Y.ops.length-1;se>=0&&ne.length<J.length;--se){var X=Y.ops[se];if(typeof X.insert!="string")break;ne=X.insert+ne}return ne.slice(-1*J.length)===J}function $(Y){if(Y.childNodes.length===0)return!1;var J=V(Y);return["block","list-item"].indexOf(J.display)>-1}function H(Y,J,ne){return Y.nodeType===Y.TEXT_NODE?ne.reduce(function(se,X){return X(Y,se)},new d.default):Y.nodeType===Y.ELEMENT_NODE?[].reduce.call(Y.childNodes||[],function(se,X){var he=H(X,J,ne);return X.nodeType===Y.ELEMENT_NODE&&(he=J.reduce(function(pe,me){return me(X,pe)},he),he=(X[q]||[]).reduce(function(pe,me){return me(X,pe)},he)),se.concat(he)},new d.default):new d.default}function K(Y,J,ne){return R(ne,Y,!0)}function G(Y,J){var ne=p.default.Attributor.Attribute.keys(Y),se=p.default.Attributor.Class.keys(Y),X=p.default.Attributor.Style.keys(Y),he={};return ne.concat(se).concat(X).forEach(function(pe){var me=p.default.query(pe,p.default.Scope.ATTRIBUTE);me!=null&&(he[me.attrName]=me.value(Y),he[me.attrName])||(me=I[pe],me!=null&&(me.attrName===pe||me.keyName===pe)&&(he[me.attrName]=me.value(Y)||void 0),me=P[pe],me!=null&&(me.attrName===pe||me.keyName===pe)&&(me=P[pe],he[me.attrName]=me.value(Y)||void 0))}),Object.keys(he).length>0&&(J=R(J,he)),J}function z(Y,J){var ne=p.default.query(Y);if(ne==null)return J;if(ne.prototype instanceof p.default.Embed){var se={},X=ne.value(Y);X!=null&&(se[ne.blotName]=X,J=new d.default().insert(se,ne.formats(Y)))}else typeof ne.formats=="function"&&(J=R(J,ne.blotName,ne.formats(Y)));return J}function Z(Y,J){return W(J,`
`)||J.insert(`
`),J}function re(){return new d.default}function le(Y,J){var ne=p.default.query(Y);if(ne==null||ne.blotName!=="list-item"||!W(J,`
`))return J;for(var se=-1,X=Y.parentNode;!X.classList.contains("ql-clipboard");)(p.default.query(X)||{}).blotName==="list"&&(se+=1),X=X.parentNode;return se<=0?J:J.compose(new d.default().retain(J.length()-1).retain(1,{indent:se}))}function ue(Y,J){return W(J,`
`)||($(Y)||J.length()>0&&Y.nextSibling&&$(Y.nextSibling))&&J.insert(`
`),J}function ve(Y,J){if($(Y)&&Y.nextElementSibling!=null&&!W(J,`

`)){var ne=Y.offsetHeight+parseFloat(V(Y).marginTop)+parseFloat(V(Y).marginBottom);Y.nextElementSibling.offsetTop>Y.offsetTop+ne*1.5&&J.insert(`
`)}return J}function Me(Y,J){var ne={},se=Y.style||{};return se.fontStyle&&V(Y).fontStyle==="italic"&&(ne.italic=!0),se.fontWeight&&(V(Y).fontWeight.startsWith("bold")||parseInt(V(Y).fontWeight)>=700)&&(ne.bold=!0),Object.keys(ne).length>0&&(J=R(J,ne)),parseFloat(se.textIndent||0)>0&&(J=new d.default().insert("	").concat(J)),J}function Ie(Y,J){var ne=Y.data;if(Y.parentNode.tagName==="O:P")return J.insert(ne.trim());if(ne.trim().length===0&&Y.parentNode.classList.contains("ql-clipboard"))return J;if(!V(Y.parentNode).whiteSpace.startsWith("pre")){var se=function(he,pe){return pe=pe.replace(/[^\u00a0]/g,""),pe.length<1&&he?" ":pe};ne=ne.replace(/\r\n/g," ").replace(/\n/g," "),ne=ne.replace(/\s\s+/g,se.bind(se,!0)),(Y.previousSibling==null&&$(Y.parentNode)||Y.previousSibling!=null&&$(Y.previousSibling))&&(ne=ne.replace(/^\s+/,se.bind(se,!1))),(Y.nextSibling==null&&$(Y.parentNode)||Y.nextSibling!=null&&$(Y.nextSibling))&&(ne=ne.replace(/\s+$/,se.bind(se,!1)))}return J.insert(ne)}n.default=M,n.matchAttributor=G,n.matchBlot=z,n.matchNewline=ue,n.matchSpacing=ve,n.matchText=Ie},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function b(x,w){for(var g=0;g<w.length;g++){var m=w[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(x,m.key,m)}}return function(x,w,g){return w&&b(x.prototype,w),g&&b(x,g),x}}(),o=function b(x,w,g){x===null&&(x=Function.prototype);var m=Object.getOwnPropertyDescriptor(x,w);if(m===void 0){var v=Object.getPrototypeOf(x);return v===null?void 0:b(v,w,g)}else{if("value"in m)return m.value;var y=m.get;return y===void 0?void 0:y.call(g)}},c=s(6),l=u(c);function u(b){return b&&b.__esModule?b:{default:b}}function h(b,x){if(!(b instanceof x))throw new TypeError("Cannot call a class as a function")}function d(b,x){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:b}function f(b,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);b.prototype=Object.create(x&&x.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(b,x):b.__proto__=x)}var p=function(b){f(x,b);function x(){return h(this,x),d(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return a(x,[{key:"optimize",value:function(g){o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"optimize",this).call(this,g),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return o(x.__proto__||Object.getPrototypeOf(x),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),x}(l.default);p.blotName="bold",p.tagName=["STRONG","B"],n.default=p},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.addControls=n.default=void 0;var a=function(){function E(T,A){var L=[],F=!0,U=!1,B=void 0;try{for(var q=T[Symbol.iterator](),D;!(F=(D=q.next()).done)&&(L.push(D.value),!(A&&L.length===A));F=!0);}catch(I){U=!0,B=I}finally{try{!F&&q.return&&q.return()}finally{if(U)throw B}}return L}return function(T,A){if(Array.isArray(T))return T;if(Symbol.iterator in Object(T))return E(T,A);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function E(T,A){for(var L=0;L<A.length;L++){var F=A[L];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(T,F.key,F)}}return function(T,A,L){return A&&E(T.prototype,A),L&&E(T,L),T}}(),c=s(2),l=g(c),u=s(0),h=g(u),d=s(5),f=g(d),p=s(10),b=g(p),x=s(9),w=g(x);function g(E){return E&&E.__esModule?E:{default:E}}function m(E,T,A){return T in E?Object.defineProperty(E,T,{value:A,enumerable:!0,configurable:!0,writable:!0}):E[T]=A,E}function v(E,T){if(!(E instanceof T))throw new TypeError("Cannot call a class as a function")}function y(E,T){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:E}function j(E,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);E.prototype=Object.create(T&&T.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(E,T):E.__proto__=T)}var S=(0,b.default)("quill:toolbar"),N=function(E){j(T,E);function T(A,L){v(this,T);var F=y(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,A,L));if(Array.isArray(F.options.container)){var U=document.createElement("div");C(U,F.options.container),A.container.parentNode.insertBefore(U,A.container),F.container=U}else typeof F.options.container=="string"?F.container=document.querySelector(F.options.container):F.container=F.options.container;if(!(F.container instanceof HTMLElement)){var B;return B=S.error("Container required for toolbar",F.options),y(F,B)}return F.container.classList.add("ql-toolbar"),F.controls=[],F.handlers={},Object.keys(F.options.handlers).forEach(function(q){F.addHandler(q,F.options.handlers[q])}),[].forEach.call(F.container.querySelectorAll("button, select"),function(q){F.attach(q)}),F.quill.on(f.default.events.EDITOR_CHANGE,function(q,D){q===f.default.events.SELECTION_CHANGE&&F.update(D)}),F.quill.on(f.default.events.SCROLL_OPTIMIZE,function(){var q=F.quill.selection.getRange(),D=a(q,1),I=D[0];F.update(I)}),F}return o(T,[{key:"addHandler",value:function(L,F){this.handlers[L]=F}},{key:"attach",value:function(L){var F=this,U=[].find.call(L.classList,function(q){return q.indexOf("ql-")===0});if(U){if(U=U.slice(3),L.tagName==="BUTTON"&&L.setAttribute("type","button"),this.handlers[U]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[U]==null){S.warn("ignoring attaching to disabled format",U,L);return}if(h.default.query(U)==null){S.warn("ignoring attaching to nonexistent format",U,L);return}}var B=L.tagName==="SELECT"?"change":"click";L.addEventListener(B,function(q){var D=void 0;if(L.tagName==="SELECT"){if(L.selectedIndex<0)return;var I=L.options[L.selectedIndex];I.hasAttribute("selected")?D=!1:D=I.value||!1}else L.classList.contains("ql-active")?D=!1:D=L.value||!L.hasAttribute("value"),q.preventDefault();F.quill.focus();var P=F.quill.selection.getRange(),M=a(P,1),R=M[0];if(F.handlers[U]!=null)F.handlers[U].call(F,D);else if(h.default.query(U).prototype instanceof h.default.Embed){if(D=prompt("Enter "+U),!D)return;F.quill.updateContents(new l.default().retain(R.index).delete(R.length).insert(m({},U,D)),f.default.sources.USER)}else F.quill.format(U,D,f.default.sources.USER);F.update(R)}),this.controls.push([U,L])}}},{key:"update",value:function(L){var F=L==null?{}:this.quill.getFormat(L);this.controls.forEach(function(U){var B=a(U,2),q=B[0],D=B[1];if(D.tagName==="SELECT"){var I=void 0;if(L==null)I=null;else if(F[q]==null)I=D.querySelector("option[selected]");else if(!Array.isArray(F[q])){var P=F[q];typeof P=="string"&&(P=P.replace(/\"/g,'\\"')),I=D.querySelector('option[value="'+P+'"]')}I==null?(D.value="",D.selectedIndex=-1):I.selected=!0}else if(L==null)D.classList.remove("ql-active");else if(D.hasAttribute("value")){var M=F[q]===D.getAttribute("value")||F[q]!=null&&F[q].toString()===D.getAttribute("value")||F[q]==null&&!D.getAttribute("value");D.classList.toggle("ql-active",M)}else D.classList.toggle("ql-active",F[q]!=null)})}}]),T}(w.default);N.DEFAULTS={};function _(E,T,A){var L=document.createElement("button");L.setAttribute("type","button"),L.classList.add("ql-"+T),A!=null&&(L.value=A),E.appendChild(L)}function C(E,T){Array.isArray(T[0])||(T=[T]),T.forEach(function(A){var L=document.createElement("span");L.classList.add("ql-formats"),A.forEach(function(F){if(typeof F=="string")_(L,F);else{var U=Object.keys(F)[0],B=F[U];Array.isArray(B)?k(L,U,B):_(L,U,B)}}),E.appendChild(L)})}function k(E,T,A){var L=document.createElement("select");L.classList.add("ql-"+T),A.forEach(function(F){var U=document.createElement("option");F!==!1?U.setAttribute("value",F):U.setAttribute("selected","selected"),L.appendChild(U)}),E.appendChild(L)}N.DEFAULTS={container:null,handlers:{clean:function(){var T=this,A=this.quill.getSelection();if(A!=null)if(A.length==0){var L=this.quill.getFormat();Object.keys(L).forEach(function(F){h.default.query(F,h.default.Scope.INLINE)!=null&&T.quill.format(F,!1)})}else this.quill.removeFormat(A,f.default.sources.USER)},direction:function(T){var A=this.quill.getFormat().align;T==="rtl"&&A==null?this.quill.format("align","right",f.default.sources.USER):!T&&A==="right"&&this.quill.format("align",!1,f.default.sources.USER),this.quill.format("direction",T,f.default.sources.USER)},indent:function(T){var A=this.quill.getSelection(),L=this.quill.getFormat(A),F=parseInt(L.indent||0);if(T==="+1"||T==="-1"){var U=T==="+1"?1:-1;L.direction==="rtl"&&(U*=-1),this.quill.format("indent",F+U,f.default.sources.USER)}},link:function(T){T===!0&&(T=prompt("Enter link URL:")),this.quill.format("link",T,f.default.sources.USER)},list:function(T){var A=this.quill.getSelection(),L=this.quill.getFormat(A);T==="check"?L.list==="checked"||L.list==="unchecked"?this.quill.format("list",!1,f.default.sources.USER):this.quill.format("list","unchecked",f.default.sources.USER):this.quill.format("list",T,f.default.sources.USER)}}},n.default=N,n.addControls=C},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function b(x,w){for(var g=0;g<w.length;g++){var m=w[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(x,m.key,m)}}return function(x,w,g){return w&&b(x.prototype,w),g&&b(x,g),x}}(),o=function b(x,w,g){x===null&&(x=Function.prototype);var m=Object.getOwnPropertyDescriptor(x,w);if(m===void 0){var v=Object.getPrototypeOf(x);return v===null?void 0:b(v,w,g)}else{if("value"in m)return m.value;var y=m.get;return y===void 0?void 0:y.call(g)}},c=s(28),l=u(c);function u(b){return b&&b.__esModule?b:{default:b}}function h(b,x){if(!(b instanceof x))throw new TypeError("Cannot call a class as a function")}function d(b,x){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:b}function f(b,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);b.prototype=Object.create(x&&x.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(b,x):b.__proto__=x)}var p=function(b){f(x,b);function x(w,g){h(this,x);var m=d(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,w));return m.label.innerHTML=g,m.container.classList.add("ql-color-picker"),[].slice.call(m.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(v){v.classList.add("ql-primary")}),m}return a(x,[{key:"buildItem",value:function(g){var m=o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"buildItem",this).call(this,g);return m.style.backgroundColor=g.getAttribute("value")||"",m}},{key:"selectItem",value:function(g,m){o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"selectItem",this).call(this,g,m);var v=this.label.querySelector(".ql-color-label"),y=g&&g.getAttribute("data-value")||"";v&&(v.tagName==="line"?v.style.stroke=y:v.style.fill=y)}}]),x}(l.default);n.default=p},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function b(x,w){for(var g=0;g<w.length;g++){var m=w[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(x,m.key,m)}}return function(x,w,g){return w&&b(x.prototype,w),g&&b(x,g),x}}(),o=function b(x,w,g){x===null&&(x=Function.prototype);var m=Object.getOwnPropertyDescriptor(x,w);if(m===void 0){var v=Object.getPrototypeOf(x);return v===null?void 0:b(v,w,g)}else{if("value"in m)return m.value;var y=m.get;return y===void 0?void 0:y.call(g)}},c=s(28),l=u(c);function u(b){return b&&b.__esModule?b:{default:b}}function h(b,x){if(!(b instanceof x))throw new TypeError("Cannot call a class as a function")}function d(b,x){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:b}function f(b,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);b.prototype=Object.create(x&&x.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(b,x):b.__proto__=x)}var p=function(b){f(x,b);function x(w,g){h(this,x);var m=d(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,w));return m.container.classList.add("ql-icon-picker"),[].forEach.call(m.container.querySelectorAll(".ql-picker-item"),function(v){v.innerHTML=g[v.getAttribute("data-value")||""]}),m.defaultItem=m.container.querySelector(".ql-selected"),m.selectItem(m.defaultItem),m}return a(x,[{key:"selectItem",value:function(g,m){o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"selectItem",this).call(this,g,m),g=g||this.defaultItem,this.label.innerHTML=g.innerHTML}}]),x}(l.default);n.default=p},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function l(u,h){for(var d=0;d<h.length;d++){var f=h[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(u,f.key,f)}}return function(u,h,d){return h&&l(u.prototype,h),d&&l(u,d),u}}();function o(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}var c=function(){function l(u,h){var d=this;o(this,l),this.quill=u,this.boundsContainer=h||document.body,this.root=u.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){d.root.style.marginTop=-1*d.quill.root.scrollTop+"px"}),this.hide()}return a(l,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(h){var d=h.left+h.width/2-this.root.offsetWidth/2,f=h.bottom+this.quill.root.scrollTop;this.root.style.left=d+"px",this.root.style.top=f+"px",this.root.classList.remove("ql-flip");var p=this.boundsContainer.getBoundingClientRect(),b=this.root.getBoundingClientRect(),x=0;if(b.right>p.right&&(x=p.right-b.right,this.root.style.left=d+x+"px"),b.left<p.left&&(x=p.left-b.left,this.root.style.left=d+x+"px"),b.bottom>p.bottom){var w=b.bottom-b.top,g=h.bottom-h.top+w;this.root.style.top=f-g+"px",this.root.classList.add("ql-flip")}return x}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),l}();n.default=c},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function k(E,T){var A=[],L=!0,F=!1,U=void 0;try{for(var B=E[Symbol.iterator](),q;!(L=(q=B.next()).done)&&(A.push(q.value),!(T&&A.length===T));L=!0);}catch(D){F=!0,U=D}finally{try{!L&&B.return&&B.return()}finally{if(F)throw U}}return A}return function(E,T){if(Array.isArray(E))return E;if(Symbol.iterator in Object(E))return k(E,T);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function k(E,T,A){E===null&&(E=Function.prototype);var L=Object.getOwnPropertyDescriptor(E,T);if(L===void 0){var F=Object.getPrototypeOf(E);return F===null?void 0:k(F,T,A)}else{if("value"in L)return L.value;var U=L.get;return U===void 0?void 0:U.call(A)}},c=function(){function k(E,T){for(var A=0;A<T.length;A++){var L=T[A];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(E,L.key,L)}}return function(E,T,A){return T&&k(E.prototype,T),A&&k(E,A),E}}(),l=s(3),u=v(l),h=s(8),d=v(h),f=s(43),p=v(f),b=s(27),x=v(b),w=s(15),g=s(41),m=v(g);function v(k){return k&&k.__esModule?k:{default:k}}function y(k,E){if(!(k instanceof E))throw new TypeError("Cannot call a class as a function")}function j(k,E){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:k}function S(k,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);k.prototype=Object.create(E&&E.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(k,E):k.__proto__=E)}var N=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],_=function(k){S(E,k);function E(T,A){y(this,E),A.modules.toolbar!=null&&A.modules.toolbar.container==null&&(A.modules.toolbar.container=N);var L=j(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,T,A));return L.quill.container.classList.add("ql-snow"),L}return c(E,[{key:"extendToolbar",value:function(A){A.container.classList.add("ql-snow"),this.buildButtons([].slice.call(A.container.querySelectorAll("button")),m.default),this.buildPickers([].slice.call(A.container.querySelectorAll("select")),m.default),this.tooltip=new C(this.quill,this.options.bounds),A.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(L,F){A.handlers.link.call(A,!F.format.link)})}}]),E}(p.default);_.DEFAULTS=(0,u.default)(!0,{},p.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(E){if(E){var T=this.quill.getSelection();if(T==null||T.length==0)return;var A=this.quill.getText(T);/^\S+@\S+\.\S+$/.test(A)&&A.indexOf("mailto:")!==0&&(A="mailto:"+A);var L=this.quill.theme.tooltip;L.edit("link",A)}else this.quill.format("link",!1)}}}}});var C=function(k){S(E,k);function E(T,A){y(this,E);var L=j(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,T,A));return L.preview=L.root.querySelector("a.ql-preview"),L}return c(E,[{key:"listen",value:function(){var A=this;o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(L){A.root.classList.contains("ql-editing")?A.save():A.edit("link",A.preview.textContent),L.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(L){if(A.linkRange!=null){var F=A.linkRange;A.restoreFocus(),A.quill.formatText(F,"link",!1,d.default.sources.USER),delete A.linkRange}L.preventDefault(),A.hide()}),this.quill.on(d.default.events.SELECTION_CHANGE,function(L,F,U){if(L!=null){if(L.length===0&&U===d.default.sources.USER){var B=A.quill.scroll.descendant(x.default,L.index),q=a(B,2),D=q[0],I=q[1];if(D!=null){A.linkRange=new w.Range(L.index-I,D.length());var P=x.default.formats(D.domNode);A.preview.textContent=P,A.preview.setAttribute("href",P),A.show(),A.position(A.quill.getBounds(A.linkRange));return}}else delete A.linkRange;A.hide()}})}},{key:"show",value:function(){o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),E}(f.BaseTooltip);C.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),n.default=_},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var a=s(29),o=X(a),c=s(36),l=s(38),u=s(64),h=s(65),d=X(h),f=s(66),p=X(f),b=s(67),x=X(b),w=s(37),g=s(26),m=s(39),v=s(40),y=s(56),j=X(y),S=s(68),N=X(S),_=s(27),C=X(_),k=s(69),E=X(k),T=s(70),A=X(T),L=s(71),F=X(L),U=s(72),B=X(U),q=s(73),D=X(q),I=s(13),P=X(I),M=s(74),R=X(M),V=s(75),W=X(V),$=s(57),H=X($),K=s(41),G=X(K),z=s(28),Z=X(z),re=s(59),le=X(re),ue=s(60),ve=X(ue),Me=s(61),Ie=X(Me),Y=s(108),J=X(Y),ne=s(62),se=X(ne);function X(he){return he&&he.__esModule?he:{default:he}}o.default.register({"attributors/attribute/direction":l.DirectionAttribute,"attributors/class/align":c.AlignClass,"attributors/class/background":w.BackgroundClass,"attributors/class/color":g.ColorClass,"attributors/class/direction":l.DirectionClass,"attributors/class/font":m.FontClass,"attributors/class/size":v.SizeClass,"attributors/style/align":c.AlignStyle,"attributors/style/background":w.BackgroundStyle,"attributors/style/color":g.ColorStyle,"attributors/style/direction":l.DirectionStyle,"attributors/style/font":m.FontStyle,"attributors/style/size":v.SizeStyle},!0),o.default.register({"formats/align":c.AlignClass,"formats/direction":l.DirectionClass,"formats/indent":u.IndentClass,"formats/background":w.BackgroundStyle,"formats/color":g.ColorStyle,"formats/font":m.FontClass,"formats/size":v.SizeClass,"formats/blockquote":d.default,"formats/code-block":P.default,"formats/header":p.default,"formats/list":x.default,"formats/bold":j.default,"formats/code":I.Code,"formats/italic":N.default,"formats/link":C.default,"formats/script":E.default,"formats/strike":A.default,"formats/underline":F.default,"formats/image":B.default,"formats/video":D.default,"formats/list/item":b.ListItem,"modules/formula":R.default,"modules/syntax":W.default,"modules/toolbar":H.default,"themes/bubble":J.default,"themes/snow":se.default,"ui/icons":G.default,"ui/picker":Z.default,"ui/icon-picker":ve.default,"ui/color-picker":le.default,"ui/tooltip":Ie.default},!0),n.default=o.default},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.IndentClass=void 0;var a=function(){function x(w,g){for(var m=0;m<g.length;m++){var v=g[m];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(w,v.key,v)}}return function(w,g,m){return g&&x(w.prototype,g),m&&x(w,m),w}}(),o=function x(w,g,m){w===null&&(w=Function.prototype);var v=Object.getOwnPropertyDescriptor(w,g);if(v===void 0){var y=Object.getPrototypeOf(w);return y===null?void 0:x(y,g,m)}else{if("value"in v)return v.value;var j=v.get;return j===void 0?void 0:j.call(m)}},c=s(0),l=u(c);function u(x){return x&&x.__esModule?x:{default:x}}function h(x,w){if(!(x instanceof w))throw new TypeError("Cannot call a class as a function")}function d(x,w){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:x}function f(x,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);x.prototype=Object.create(w&&w.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(x,w):x.__proto__=w)}var p=function(x){f(w,x);function w(){return h(this,w),d(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return a(w,[{key:"add",value:function(m,v){if(v==="+1"||v==="-1"){var y=this.value(m)||0;v=v==="+1"?y+1:y-1}return v===0?(this.remove(m),!0):o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"add",this).call(this,m,v)}},{key:"canAdd",value:function(m,v){return o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"canAdd",this).call(this,m,v)||o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"canAdd",this).call(this,m,parseInt(v))}},{key:"value",value:function(m){return parseInt(o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"value",this).call(this,m))||void 0}}]),w}(l.default.Attributor.Class),b=new p("indent","ql-indent",{scope:l.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});n.IndentClass=b},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var a=s(4),o=c(a);function c(f){return f&&f.__esModule?f:{default:f}}function l(f,p){if(!(f instanceof p))throw new TypeError("Cannot call a class as a function")}function u(f,p){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:f}function h(f,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);f.prototype=Object.create(p&&p.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(f,p):f.__proto__=p)}var d=function(f){h(p,f);function p(){return l(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default);d.blotName="blockquote",d.tagName="blockquote",n.default=d},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function p(b,x){for(var w=0;w<x.length;w++){var g=x[w];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(b,g.key,g)}}return function(b,x,w){return x&&p(b.prototype,x),w&&p(b,w),b}}(),o=s(4),c=l(o);function l(p){return p&&p.__esModule?p:{default:p}}function u(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")}function h(p,b){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:p}function d(p,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);p.prototype=Object.create(b&&b.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(p,b):p.__proto__=b)}var f=function(p){d(b,p);function b(){return u(this,b),h(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return a(b,null,[{key:"formats",value:function(w){return this.tagName.indexOf(w.tagName)+1}}]),b}(c.default);f.blotName="header",f.tagName=["H1","H2","H3","H4","H5","H6"],n.default=f},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.ListItem=void 0;var a=function(){function y(j,S){for(var N=0;N<S.length;N++){var _=S[N];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(j,_.key,_)}}return function(j,S,N){return S&&y(j.prototype,S),N&&y(j,N),j}}(),o=function y(j,S,N){j===null&&(j=Function.prototype);var _=Object.getOwnPropertyDescriptor(j,S);if(_===void 0){var C=Object.getPrototypeOf(j);return C===null?void 0:y(C,S,N)}else{if("value"in _)return _.value;var k=_.get;return k===void 0?void 0:k.call(N)}},c=s(0),l=p(c),u=s(4),h=p(u),d=s(25),f=p(d);function p(y){return y&&y.__esModule?y:{default:y}}function b(y,j,S){return j in y?Object.defineProperty(y,j,{value:S,enumerable:!0,configurable:!0,writable:!0}):y[j]=S,y}function x(y,j){if(!(y instanceof j))throw new TypeError("Cannot call a class as a function")}function w(y,j){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j&&(typeof j=="object"||typeof j=="function")?j:y}function g(y,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof j);y.prototype=Object.create(j&&j.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),j&&(Object.setPrototypeOf?Object.setPrototypeOf(y,j):y.__proto__=j)}var m=function(y){g(j,y);function j(){return x(this,j),w(this,(j.__proto__||Object.getPrototypeOf(j)).apply(this,arguments))}return a(j,[{key:"format",value:function(N,_){N===v.blotName&&!_?this.replaceWith(l.default.create(this.statics.scope)):o(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"format",this).call(this,N,_)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():o(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(N,_){return this.parent.isolate(this.offset(this.parent),this.length()),N===this.parent.statics.blotName?(this.parent.replaceWith(N,_),this):(this.parent.unwrap(),o(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"replaceWith",this).call(this,N,_))}}],[{key:"formats",value:function(N){return N.tagName===this.tagName?void 0:o(j.__proto__||Object.getPrototypeOf(j),"formats",this).call(this,N)}}]),j}(h.default);m.blotName="list-item",m.tagName="LI";var v=function(y){g(j,y),a(j,null,[{key:"create",value:function(N){var _=N==="ordered"?"OL":"UL",C=o(j.__proto__||Object.getPrototypeOf(j),"create",this).call(this,_);return(N==="checked"||N==="unchecked")&&C.setAttribute("data-checked",N==="checked"),C}},{key:"formats",value:function(N){if(N.tagName==="OL")return"ordered";if(N.tagName==="UL")return N.hasAttribute("data-checked")?N.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function j(S){x(this,j);var N=w(this,(j.__proto__||Object.getPrototypeOf(j)).call(this,S)),_=function(k){if(k.target.parentNode===S){var E=N.statics.formats(S),T=l.default.find(k.target);E==="checked"?T.format("list","unchecked"):E==="unchecked"&&T.format("list","checked")}};return S.addEventListener("touchstart",_),S.addEventListener("mousedown",_),N}return a(j,[{key:"format",value:function(N,_){this.children.length>0&&this.children.tail.format(N,_)}},{key:"formats",value:function(){return b({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(N,_){if(N instanceof m)o(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"insertBefore",this).call(this,N,_);else{var C=_==null?this.length():_.offset(this),k=this.split(C);k.parent.insertBefore(N,k)}}},{key:"optimize",value:function(N){o(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"optimize",this).call(this,N);var _=this.next;_!=null&&_.prev===this&&_.statics.blotName===this.statics.blotName&&_.domNode.tagName===this.domNode.tagName&&_.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(_.moveChildren(this),_.remove())}},{key:"replace",value:function(N){if(N.statics.blotName!==this.statics.blotName){var _=l.default.create(this.statics.defaultChild);N.moveChildren(_),this.appendChild(_)}o(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"replace",this).call(this,N)}}]),j}(f.default);v.blotName="list",v.scope=l.default.Scope.BLOCK_BLOT,v.tagName=["OL","UL"],v.defaultChild="list-item",v.allowedChildren=[m],n.ListItem=m,n.default=v},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var a=s(56),o=c(a);function c(f){return f&&f.__esModule?f:{default:f}}function l(f,p){if(!(f instanceof p))throw new TypeError("Cannot call a class as a function")}function u(f,p){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:f}function h(f,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);f.prototype=Object.create(p&&p.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(f,p):f.__proto__=p)}var d=function(f){h(p,f);function p(){return l(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default);d.blotName="italic",d.tagName=["EM","I"],n.default=d},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function b(x,w){for(var g=0;g<w.length;g++){var m=w[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(x,m.key,m)}}return function(x,w,g){return w&&b(x.prototype,w),g&&b(x,g),x}}(),o=function b(x,w,g){x===null&&(x=Function.prototype);var m=Object.getOwnPropertyDescriptor(x,w);if(m===void 0){var v=Object.getPrototypeOf(x);return v===null?void 0:b(v,w,g)}else{if("value"in m)return m.value;var y=m.get;return y===void 0?void 0:y.call(g)}},c=s(6),l=u(c);function u(b){return b&&b.__esModule?b:{default:b}}function h(b,x){if(!(b instanceof x))throw new TypeError("Cannot call a class as a function")}function d(b,x){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:b}function f(b,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);b.prototype=Object.create(x&&x.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(b,x):b.__proto__=x)}var p=function(b){f(x,b);function x(){return h(this,x),d(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return a(x,null,[{key:"create",value:function(g){return g==="super"?document.createElement("sup"):g==="sub"?document.createElement("sub"):o(x.__proto__||Object.getPrototypeOf(x),"create",this).call(this,g)}},{key:"formats",value:function(g){if(g.tagName==="SUB")return"sub";if(g.tagName==="SUP")return"super"}}]),x}(l.default);p.blotName="script",p.tagName=["SUB","SUP"],n.default=p},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var a=s(6),o=c(a);function c(f){return f&&f.__esModule?f:{default:f}}function l(f,p){if(!(f instanceof p))throw new TypeError("Cannot call a class as a function")}function u(f,p){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:f}function h(f,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);f.prototype=Object.create(p&&p.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(f,p):f.__proto__=p)}var d=function(f){h(p,f);function p(){return l(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default);d.blotName="strike",d.tagName="S",n.default=d},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var a=s(6),o=c(a);function c(f){return f&&f.__esModule?f:{default:f}}function l(f,p){if(!(f instanceof p))throw new TypeError("Cannot call a class as a function")}function u(f,p){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:f}function h(f,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);f.prototype=Object.create(p&&p.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(f,p):f.__proto__=p)}var d=function(f){h(p,f);function p(){return l(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default);d.blotName="underline",d.tagName="U",n.default=d},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function w(g,m){for(var v=0;v<m.length;v++){var y=m[v];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,y.key,y)}}return function(g,m,v){return m&&w(g.prototype,m),v&&w(g,v),g}}(),o=function w(g,m,v){g===null&&(g=Function.prototype);var y=Object.getOwnPropertyDescriptor(g,m);if(y===void 0){var j=Object.getPrototypeOf(g);return j===null?void 0:w(j,m,v)}else{if("value"in y)return y.value;var S=y.get;return S===void 0?void 0:S.call(v)}},c=s(0),l=h(c),u=s(27);function h(w){return w&&w.__esModule?w:{default:w}}function d(w,g){if(!(w instanceof g))throw new TypeError("Cannot call a class as a function")}function f(w,g){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:w}function p(w,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);w.prototype=Object.create(g&&g.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(w,g):w.__proto__=g)}var b=["alt","height","width"],x=function(w){p(g,w);function g(){return d(this,g),f(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return a(g,[{key:"format",value:function(v,y){b.indexOf(v)>-1?y?this.domNode.setAttribute(v,y):this.domNode.removeAttribute(v):o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"format",this).call(this,v,y)}}],[{key:"create",value:function(v){var y=o(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,v);return typeof v=="string"&&y.setAttribute("src",this.sanitize(v)),y}},{key:"formats",value:function(v){return b.reduce(function(y,j){return v.hasAttribute(j)&&(y[j]=v.getAttribute(j)),y},{})}},{key:"match",value:function(v){return/\.(jpe?g|gif|png)$/.test(v)||/^data:image\/.+;base64/.test(v)}},{key:"sanitize",value:function(v){return(0,u.sanitize)(v,["http","https","data"])?v:"//:0"}},{key:"value",value:function(v){return v.getAttribute("src")}}]),g}(l.default.Embed);x.blotName="image",x.tagName="IMG",n.default=x},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function w(g,m){for(var v=0;v<m.length;v++){var y=m[v];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,y.key,y)}}return function(g,m,v){return m&&w(g.prototype,m),v&&w(g,v),g}}(),o=function w(g,m,v){g===null&&(g=Function.prototype);var y=Object.getOwnPropertyDescriptor(g,m);if(y===void 0){var j=Object.getPrototypeOf(g);return j===null?void 0:w(j,m,v)}else{if("value"in y)return y.value;var S=y.get;return S===void 0?void 0:S.call(v)}},c=s(4),l=s(27),u=h(l);function h(w){return w&&w.__esModule?w:{default:w}}function d(w,g){if(!(w instanceof g))throw new TypeError("Cannot call a class as a function")}function f(w,g){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:w}function p(w,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);w.prototype=Object.create(g&&g.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(w,g):w.__proto__=g)}var b=["height","width"],x=function(w){p(g,w);function g(){return d(this,g),f(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return a(g,[{key:"format",value:function(v,y){b.indexOf(v)>-1?y?this.domNode.setAttribute(v,y):this.domNode.removeAttribute(v):o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"format",this).call(this,v,y)}}],[{key:"create",value:function(v){var y=o(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,v);return y.setAttribute("frameborder","0"),y.setAttribute("allowfullscreen",!0),y.setAttribute("src",this.sanitize(v)),y}},{key:"formats",value:function(v){return b.reduce(function(y,j){return v.hasAttribute(j)&&(y[j]=v.getAttribute(j)),y},{})}},{key:"sanitize",value:function(v){return u.default.sanitize(v)}},{key:"value",value:function(v){return v.getAttribute("src")}}]),g}(c.BlockEmbed);x.blotName="video",x.className="ql-video",x.tagName="IFRAME",n.default=x},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.FormulaBlot=void 0;var a=function(){function v(y,j){for(var S=0;S<j.length;S++){var N=j[S];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(y,N.key,N)}}return function(y,j,S){return j&&v(y.prototype,j),S&&v(y,S),y}}(),o=function v(y,j,S){y===null&&(y=Function.prototype);var N=Object.getOwnPropertyDescriptor(y,j);if(N===void 0){var _=Object.getPrototypeOf(y);return _===null?void 0:v(_,j,S)}else{if("value"in N)return N.value;var C=N.get;return C===void 0?void 0:C.call(S)}},c=s(35),l=p(c),u=s(5),h=p(u),d=s(9),f=p(d);function p(v){return v&&v.__esModule?v:{default:v}}function b(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}function x(v,y){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:v}function w(v,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);v.prototype=Object.create(y&&y.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(v,y):v.__proto__=y)}var g=function(v){w(y,v);function y(){return b(this,y),x(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return a(y,null,[{key:"create",value:function(S){var N=o(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,S);return typeof S=="string"&&(window.katex.render(S,N,{throwOnError:!1,errorColor:"#f00"}),N.setAttribute("data-value",S)),N}},{key:"value",value:function(S){return S.getAttribute("data-value")}}]),y}(l.default);g.blotName="formula",g.className="ql-formula",g.tagName="SPAN";var m=function(v){w(y,v),a(y,null,[{key:"register",value:function(){h.default.register(g,!0)}}]);function y(){b(this,y);var j=x(this,(y.__proto__||Object.getPrototypeOf(y)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return j}return y}(f.default);n.FormulaBlot=g,n.default=m},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.CodeToken=n.CodeBlock=void 0;var a=function(){function S(N,_){for(var C=0;C<_.length;C++){var k=_[C];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(N,k.key,k)}}return function(N,_,C){return _&&S(N.prototype,_),C&&S(N,C),N}}(),o=function S(N,_,C){N===null&&(N=Function.prototype);var k=Object.getOwnPropertyDescriptor(N,_);if(k===void 0){var E=Object.getPrototypeOf(N);return E===null?void 0:S(E,_,C)}else{if("value"in k)return k.value;var T=k.get;return T===void 0?void 0:T.call(C)}},c=s(0),l=x(c),u=s(5),h=x(u),d=s(9),f=x(d),p=s(13),b=x(p);function x(S){return S&&S.__esModule?S:{default:S}}function w(S,N){if(!(S instanceof N))throw new TypeError("Cannot call a class as a function")}function g(S,N){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:S}function m(S,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);S.prototype=Object.create(N&&N.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(S,N):S.__proto__=N)}var v=function(S){m(N,S);function N(){return w(this,N),g(this,(N.__proto__||Object.getPrototypeOf(N)).apply(this,arguments))}return a(N,[{key:"replaceWith",value:function(C){this.domNode.textContent=this.domNode.textContent,this.attach(),o(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"replaceWith",this).call(this,C)}},{key:"highlight",value:function(C){var k=this.domNode.textContent;this.cachedText!==k&&((k.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=C(k),this.domNode.normalize(),this.attach()),this.cachedText=k)}}]),N}(b.default);v.className="ql-syntax";var y=new l.default.Attributor.Class("token","hljs",{scope:l.default.Scope.INLINE}),j=function(S){m(N,S),a(N,null,[{key:"register",value:function(){h.default.register(y,!0),h.default.register(v,!0)}}]);function N(_,C){w(this,N);var k=g(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,_,C));if(typeof k.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var E=null;return k.quill.on(h.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(E),E=setTimeout(function(){k.highlight(),E=null},k.options.interval)}),k.highlight(),k}return a(N,[{key:"highlight",value:function(){var C=this;if(!this.quill.selection.composing){this.quill.update(h.default.sources.USER);var k=this.quill.getSelection();this.quill.scroll.descendants(v).forEach(function(E){E.highlight(C.options.highlight)}),this.quill.update(h.default.sources.SILENT),k!=null&&this.quill.setSelection(k,h.default.sources.SILENT)}}}]),N}(f.default);j.DEFAULTS={highlight:function(){return window.hljs==null?null:function(S){var N=window.hljs.highlightAuto(S);return N.value}}(),interval:1e3},n.CodeBlock=v,n.CodeToken=y,n.default=j},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(r,n){r.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(r,n){r.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(r,n){r.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(r,n){r.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BubbleTooltip=void 0;var a=function N(_,C,k){_===null&&(_=Function.prototype);var E=Object.getOwnPropertyDescriptor(_,C);if(E===void 0){var T=Object.getPrototypeOf(_);return T===null?void 0:N(T,C,k)}else{if("value"in E)return E.value;var A=E.get;return A===void 0?void 0:A.call(k)}},o=function(){function N(_,C){for(var k=0;k<C.length;k++){var E=C[k];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(_,E.key,E)}}return function(_,C,k){return C&&N(_.prototype,C),k&&N(_,k),_}}(),c=s(3),l=w(c),u=s(8),h=w(u),d=s(43),f=w(d),p=s(15),b=s(41),x=w(b);function w(N){return N&&N.__esModule?N:{default:N}}function g(N,_){if(!(N instanceof _))throw new TypeError("Cannot call a class as a function")}function m(N,_){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:N}function v(N,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);N.prototype=Object.create(_&&_.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(N,_):N.__proto__=_)}var y=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],j=function(N){v(_,N);function _(C,k){g(this,_),k.modules.toolbar!=null&&k.modules.toolbar.container==null&&(k.modules.toolbar.container=y);var E=m(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,C,k));return E.quill.container.classList.add("ql-bubble"),E}return o(_,[{key:"extendToolbar",value:function(k){this.tooltip=new S(this.quill,this.options.bounds),this.tooltip.root.appendChild(k.container),this.buildButtons([].slice.call(k.container.querySelectorAll("button")),x.default),this.buildPickers([].slice.call(k.container.querySelectorAll("select")),x.default)}}]),_}(f.default);j.DEFAULTS=(0,l.default)(!0,{},f.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(_){_?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var S=function(N){v(_,N);function _(C,k){g(this,_);var E=m(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,C,k));return E.quill.on(h.default.events.EDITOR_CHANGE,function(T,A,L,F){if(T===h.default.events.SELECTION_CHANGE)if(A!=null&&A.length>0&&F===h.default.sources.USER){E.show(),E.root.style.left="0px",E.root.style.width="",E.root.style.width=E.root.offsetWidth+"px";var U=E.quill.getLines(A.index,A.length);if(U.length===1)E.position(E.quill.getBounds(A));else{var B=U[U.length-1],q=E.quill.getIndex(B),D=Math.min(B.length()-1,A.index+A.length-q),I=E.quill.getBounds(new p.Range(q,D));E.position(I)}}else document.activeElement!==E.textbox&&E.quill.hasFocus()&&E.hide()}),E}return o(_,[{key:"listen",value:function(){var k=this;a(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){k.root.classList.remove("ql-editing")}),this.quill.on(h.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!k.root.classList.contains("ql-hidden")){var E=k.quill.getSelection();E!=null&&k.position(k.quill.getBounds(E))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(k){var E=a(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"position",this).call(this,k),T=this.root.querySelector(".ql-tooltip-arrow");if(T.style.marginLeft="",E===0)return E;T.style.marginLeft=-1*E-T.offsetWidth/2+"px"}}]),_}(d.BaseTooltip);S.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),n.BubbleTooltip=S,n.default=j},function(r,n,s){r.exports=s(63)}]).default})})(M0);var RA=M0.exports,LA=Nt&&Nt.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var a in s)s.hasOwnProperty(a)&&(n[a]=s[a])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),zo=Nt&&Nt.__assign||function(){return zo=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},zo.apply(this,arguments)},MA=Nt&&Nt.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),s=0,t=0;t<r;t++)for(var a=arguments[t],o=0,c=a.length;o<c;o++,s++)n[s]=a[o];return n},Cl=Nt&&Nt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},tr=Cl(O),$A=Cl(ef),ii=Cl(IA),xm=Cl(RA),DA=function(e){LA(t,e);function t(r){var n=e.call(this,r)||this;n.dirtyProps=["modules","formats","bounds","theme","children"],n.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],n.state={generation:0},n.selection=null,n.onEditorChange=function(a,o,c,l){var u,h,d,f;a==="text-change"?(h=(u=n).onEditorChangeText)===null||h===void 0||h.call(u,n.editor.root.innerHTML,o,l,n.unprivilegedEditor):a==="selection-change"&&((f=(d=n).onEditorChangeSelection)===null||f===void 0||f.call(d,o,l,n.unprivilegedEditor))};var s=n.isControlled()?r.value:r.defaultValue;return n.value=s??"",n}return t.prototype.validateProps=function(r){var n;if(tr.default.Children.count(r.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(tr.default.Children.count(r.children)){var s=tr.default.Children.only(r.children);if(((n=s)===null||n===void 0?void 0:n.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&r.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},t.prototype.shouldComponentUpdate=function(r,n){var s=this,a;if(this.validateProps(r),!this.editor||this.state.generation!==n.generation)return!0;if("value"in r){var o=this.getEditorContents(),c=(a=r.value,a??"");this.isEqualValue(c,o)||this.setEditorContents(this.editor,c)}return r.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,r.readOnly),MA(this.cleanProps,this.dirtyProps).some(function(l){return!ii.default(r[l],s.props[l])})},t.prototype.shouldComponentRegenerate=function(r){var n=this;return this.dirtyProps.some(function(s){return!ii.default(r[s],n.props[s])})},t.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},t.prototype.componentWillUnmount=function(){this.destroyEditor()},t.prototype.componentDidUpdate=function(r,n){var s=this;if(this.editor&&this.shouldComponentRegenerate(r)){var a=this.editor.getContents(),o=this.editor.getSelection();this.regenerationSnapshot={delta:a,selection:o},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==n.generation){var c=this.regenerationSnapshot,a=c.delta,l=c.selection;delete this.regenerationSnapshot,this.instantiateEditor();var u=this.editor;u.setContents(a),bm(function(){return s.setEditorSelection(u,l)})}},t.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},t.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},t.prototype.isControlled=function(){return"value"in this.props},t.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},t.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},t.prototype.createEditor=function(r,n){var s=new xm.default(r,n);return n.tabIndex!=null&&this.setEditorTabIndex(s,n.tabIndex),this.hookEditor(s),s},t.prototype.hookEditor=function(r){this.unprivilegedEditor=this.makeUnprivilegedEditor(r),r.on("editor-change",this.onEditorChange)},t.prototype.unhookEditor=function(r){r.off("editor-change",this.onEditorChange)},t.prototype.getEditorContents=function(){return this.value},t.prototype.getEditorSelection=function(){return this.selection},t.prototype.isDelta=function(r){return r&&r.ops},t.prototype.isEqualValue=function(r,n){return this.isDelta(r)&&this.isDelta(n)?ii.default(r.ops,n.ops):ii.default(r,n)},t.prototype.setEditorContents=function(r,n){var s=this;this.value=n;var a=this.getEditorSelection();typeof n=="string"?r.setContents(r.clipboard.convert(n)):r.setContents(n),bm(function(){return s.setEditorSelection(r,a)})},t.prototype.setEditorSelection=function(r,n){if(this.selection=n,n){var s=r.getLength();n.index=Math.max(0,Math.min(n.index,s-1)),n.length=Math.max(0,Math.min(n.length,s-1-n.index)),r.setSelection(n)}},t.prototype.setEditorTabIndex=function(r,n){var s,a;!((a=(s=r)===null||s===void 0?void 0:s.scroll)===null||a===void 0)&&a.domNode&&(r.scroll.domNode.tabIndex=n)},t.prototype.setEditorReadOnly=function(r,n){n?r.disable():r.enable()},t.prototype.makeUnprivilegedEditor=function(r){var n=r;return{getHTML:function(){return n.root.innerHTML},getLength:n.getLength.bind(n),getText:n.getText.bind(n),getContents:n.getContents.bind(n),getSelection:n.getSelection.bind(n),getBounds:n.getBounds.bind(n)}},t.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var r=$A.default.findDOMNode(this.editingArea);if(!r)throw new Error("Cannot find element for editing area");if(r.nodeType===3)throw new Error("Editing area cannot be a text node");return r},t.prototype.renderEditingArea=function(){var r=this,n=this.props,s=n.children,a=n.preserveWhitespace,o=this.state.generation,c={key:o,ref:function(l){r.editingArea=l}};return tr.default.Children.count(s)?tr.default.cloneElement(tr.default.Children.only(s),c):a?tr.default.createElement("pre",zo({},c)):tr.default.createElement("div",zo({},c))},t.prototype.render=function(){var r;return tr.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(r=this.props.className,r??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},t.prototype.onEditorChangeText=function(r,n,s,a){var o,c;if(this.editor){var l=this.isDelta(this.value)?a.getContents():a.getHTML();l!==this.getEditorContents()&&(this.lastDeltaChangeSet=n,this.value=l,(c=(o=this.props).onChange)===null||c===void 0||c.call(o,r,n,s,a))}},t.prototype.onEditorChangeSelection=function(r,n,s){var a,o,c,l,u,h;if(this.editor){var d=this.getEditorSelection(),f=!d&&r,p=d&&!r;ii.default(r,d)||(this.selection=r,(o=(a=this.props).onChangeSelection)===null||o===void 0||o.call(a,r,n,s),f?(l=(c=this.props).onFocus)===null||l===void 0||l.call(c,r,n,s):p&&((h=(u=this.props).onBlur)===null||h===void 0||h.call(u,d,n,s)))}},t.prototype.focus=function(){this.editor&&this.editor.focus()},t.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},t.displayName="React Quill",t.Quill=xm.default,t.defaultProps={theme:"snow",modules:{},readOnly:!1},t}(tr.default.Component);function bm(e){Promise.resolve().then(e)}var FA=DA;const wm=Nm(FA),jm={toolbar:[[{header:[1,2,3,4,5,6,!1]}],[{font:[]}],[{size:["small",!1,"large","huge"]}],["bold","italic","underline","strike"],[{color:[]},{background:[]}],[{script:"sub"},{script:"super"}],[{list:"ordered"},{list:"bullet"}],[{indent:"-1"},{indent:"+1"}],[{align:[]}],["blockquote","code-block"],["link","image","video"],["clean"]]},_m=["header","font","size","bold","italic","underline","strike","color","background","script","list","bullet","indent","align","blockquote","code-block","link","image","video"];function qA(){const{websiteId:e}=Ue(),[t,r]=O.useState([]),[n,s]=O.useState(!0),[a,o]=O.useState(null),[c,l]=O.useState(!1),[u,h]=O.useState({type:"",text:""}),[d,f]=O.useState({policy_type:"privacy",title:"",slug:"",content:"",is_active:!0});O.useEffect(()=>{e&&p()},[e]);const p=async()=>{try{const{data:N,error:_}=await Q.from("policies").select("*").eq("website_id",e).order("policy_type");if(_)throw _;r(N||[])}catch(N){console.error("Error fetching policies:",N)}finally{s(!1)}},b=N=>{l(!1),o({...N})},x=()=>{o(null),l(!0),f({policy_type:"privacy",title:"",slug:"",content:"",is_active:!0})},w=()=>{l(!1),f({policy_type:"privacy",title:"",slug:"",content:"",is_active:!0})},g=N=>N.replace(/className=/g,"class="),m=async()=>{if(a){h({type:"",text:""});try{const N=g(a.content),{data:_,error:C}=await Q.rpc("admin_manage_policy",{operation:"update",policy_id:a.id,policy_data:{title:a.title,content:N,is_active:a.is_active,website_id:e}});if(C)throw C;h({type:"success",text:"Policy updated successfully!"}),o(null),p()}catch(N){console.error("Error saving policy:",N),h({type:"error",text:N.message||"Failed to save policy"})}}},v=async()=>{if(h({type:"",text:""}),!d.title||!d.slug||!d.content){h({type:"error",text:"Please fill all required fields"});return}try{const N=g(d.content),{data:_,error:C}=await Q.rpc("admin_manage_policy",{operation:"insert",policy_data:{policy_type:d.policy_type,title:d.title,slug:d.slug,content:N,is_active:d.is_active,website_id:e}});if(C)throw C;h({type:"success",text:"Policy created successfully!"}),l(!1),f({policy_type:"privacy",title:"",slug:"",content:"",is_active:!0}),p()}catch(N){console.error("Error creating policy:",N),h({type:"error",text:N.message||"Failed to create policy"})}},y=async N=>{try{const{data:_,error:C}=await Q.rpc("admin_manage_policy",{operation:"update",policy_id:N.id,policy_data:{is_active:!N.is_active,website_id:e}});if(C)throw C;p()}catch(_){console.error("Error updating policy status:",_),h({type:"error",text:_.message||"Failed to update status"})}},j=N=>i.jsx(Rs,{size:24,className:"text-blue-600"}),S=N=>({privacy:"Privacy Policy",terms:"Terms & Conditions",refund:"Refund Policy",shipping:"Shipping & Cancellation"})[N]||N;return n?i.jsx(nt,{children:i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):i.jsx(nt,{children:i.jsxs("div",{className:"max-w-6xl mx-auto",children:[i.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Manage Policies"}),i.jsx("p",{className:"text-gray-600",children:"Edit website policies and terms"})]}),!a&&!c&&i.jsxs("button",{onClick:x,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-2xl hover:bg-blue-700 transition-colors",children:[i.jsx(hn,{size:20}),"Add New Policy"]})]}),u.text&&i.jsxs("div",{className:`mb-6 p-4 rounded-2xl flex items-center gap-2 ${u.type==="success"?"bg-green-50 text-green-800":"bg-red-50 text-red-800"}`,children:[u.type==="success"?i.jsx(Et,{size:20}):i.jsx(qn,{size:20}),i.jsx("span",{children:u.text})]}),c?i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6",children:[i.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Create New Policy"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Policy Type *"}),i.jsxs("select",{value:d.policy_type,onChange:N=>f({...d,policy_type:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-2xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[i.jsx("option",{value:"privacy",children:"Privacy Policy"}),i.jsx("option",{value:"terms",children:"Terms & Conditions"}),i.jsx("option",{value:"refund",children:"Refund Policy"}),i.jsx("option",{value:"shipping",children:"Shipping & Cancellation"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Title *"}),i.jsx("input",{type:"text",value:d.title,onChange:N=>f({...d,title:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-2xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Privacy Policy"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"URL Slug *"}),i.jsx("input",{type:"text",value:d.slug,onChange:N=>f({...d,slug:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-2xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., privacy-policy"}),i.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["URL will be: /policy/",d.slug]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Content *"}),i.jsx("div",{className:"border border-gray-300 rounded-2xl overflow-hidden",children:i.jsx(wm,{theme:"snow",value:d.content,onChange:N=>f({...d,content:N}),modules:jm,formats:_m,className:"bg-white",style:{height:"400px",marginBottom:"42px"}})})]}),i.jsx("div",{children:i.jsxs("label",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",checked:d.is_active,onChange:N=>f({...d,is_active:N.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),i.jsx("span",{className:"text-sm font-bold text-gray-700",children:"Active"})]})}),i.jsxs("div",{className:"flex justify-end gap-3",children:[i.jsxs("button",{onClick:w,className:"flex items-center gap-2 px-4 py-2 border border-gray-300 text-gray-700 rounded-2xl hover:bg-gray-50 transition-colors",children:[i.jsx(gt,{size:20}),"Cancel"]}),i.jsxs("button",{onClick:v,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-2xl hover:bg-blue-700 transition-colors",children:[i.jsx(na,{size:20}),"Create Policy"]})]})]})]}):a?i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6",children:[i.jsxs("h2",{className:"text-xl font-semibold mb-4",children:["Edit ",S(a.policy_type)]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Title *"}),i.jsx("input",{type:"text",value:a.title,onChange:N=>o({...a,title:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-2xl focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Content *"}),i.jsx("div",{className:"border border-gray-300 rounded-2xl overflow-hidden",children:i.jsx(wm,{theme:"snow",value:a.content,onChange:N=>o({...a,content:N}),modules:jm,formats:_m,className:"bg-white",style:{height:"400px",marginBottom:"42px"}})}),i.jsx("p",{className:"mt-2 text-sm text-gray-500",children:'Tip: You can paste HTML code directly. Use "class" (or "className" - it will be auto-converted) for Tailwind CSS styling.'})]}),i.jsx("div",{children:i.jsxs("label",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",checked:a.is_active,onChange:N=>o({...a,is_active:N.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),i.jsx("span",{className:"text-sm font-bold text-gray-700",children:"Active"})]})}),i.jsxs("div",{className:"flex justify-end gap-3",children:[i.jsxs("button",{onClick:()=>o(null),className:"flex items-center gap-2 px-4 py-2 border border-gray-300 text-gray-700 rounded-2xl hover:bg-gray-50 transition-colors",children:[i.jsx(gt,{size:20}),"Cancel"]}),i.jsxs("button",{onClick:m,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-2xl hover:bg-blue-700 transition-colors",children:[i.jsx(na,{size:20}),"Save Policy"]})]})]})]}):i.jsx("div",{className:"grid gap-6",children:t.length===0?i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-12 text-center",children:[i.jsx(Rs,{size:48,className:"mx-auto text-gray-400 mb-4"}),i.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Policies Yet"}),i.jsx("p",{className:"text-gray-600 mb-6",children:"Create your first policy to get started"}),i.jsxs("button",{onClick:x,className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-2xl hover:bg-blue-700 transition-colors",children:[i.jsx(hn,{size:20}),"Create First Policy"]})]}):t.map(N=>i.jsx("div",{className:"bg-white rounded-2xl shadow-md p-6",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[j(N.policy_type),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:N.title}),i.jsxs("p",{className:"text-sm text-gray-500 mb-3",children:["Slug: /",N.slug]}),i.jsxs("p",{className:"text-sm text-gray-600 line-clamp-3",children:[N.content.substring(0,200),"..."]}),i.jsx("div",{className:"mt-4",children:i.jsx("button",{onClick:()=>y(N),className:`px-3 py-1 rounded-full text-xs font-bold ${N.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:N.is_active?"Active":"Inactive"})})]})]}),i.jsxs("button",{onClick:()=>b(N),className:"flex items-center gap-2 px-4 py-2 text-blue-600 hover:bg-blue-50 rounded-2xl transition-colors",children:[i.jsx(wy,{size:18}),"Edit"]})]})},N.id))})]})})}const Oc={laser:vf,ink:pf,multi:_y,fast:zu,business:yf,consumable:Tt};function BA(){const[e,t]=O.useState([]),[r,n]=O.useState(!0);O.useEffect(()=>{document.title="All Categories - Modern E-commerce Store",s()},[]);const s=async()=>{n(!0);const{data:a,error:o}=await Q.from("categories").select(`
                id,
                name,
                description,
                products (id)
            `).order("name");o||t(a.map(c=>{var l;return{...c,count:((l=c.products)==null?void 0:l.length)||0}})),n(!1)};return r?i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsx("div",{className:"inline-block h-12 w-12 animate-spin rounded-full border-4 border-gray-200 border-t-primary-600"})}):i.jsxs("div",{className:"bg-white  min-h-screen",children:[i.jsx("section",{className:"py-12 md:py-16 bg-gray-100 ",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-6 lg:px-8 text-center",children:[i.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold text-gray-900  mb-4",children:"Explore All Product Categories"}),i.jsx("p",{className:"text-lg text-gray-600  max-w-2xl mx-auto",children:"Dive into our extensive range of products, organized to help you find exactly what you need."})]})}),i.jsx("section",{className:"py-12 md:py-16",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-6 lg:px-8",children:[i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-5",children:e.map(a=>{const o=a.name.toLowerCase(),c=Object.keys(Oc).find(l=>o.includes(l))?Oc[Object.keys(Oc).find(l=>o.includes(l))]:Tt;return i.jsxs(ae,{to:`/shop?category=${encodeURIComponent(a.name)}`,className:`
                                        group rounded-xl border border-gray-200 
                                        bg-white  p-5 text-center
                                        transition-all duration-200
                                        hover:shadow-lg hover:-translate-y-1
                                    `,children:[i.jsx("div",{className:"mx-auto mb-4 flex h-12 w-12 items-center justify-center rounded-lg border bg-gray-50 ",children:i.jsx(c,{size:26,className:"text-gray-700 "})}),i.jsx("h3",{className:"text-sm font-semibold text-gray-900 ",children:a.name}),i.jsx("p",{className:"mt-1 text-xs text-gray-500  line-clamp-2",children:a.description||"Explore products"}),i.jsxs("span",{className:"mt-3 inline-block rounded-full bg-gray-100  px-4 py-1 text-xs text-gray-600 ",children:[a.count," products"]})]},a.id)})}),e.length===0&&!r&&i.jsx("p",{className:"text-center text-gray-500 mt-8",children:"No categories found."})]})})]})}function UA(){return i.jsxs(c1,{children:[i.jsx(pS,{}),i.jsx(Q2,{children:i.jsx(P_,{children:i.jsx(Z2,{children:i.jsx(G2,{children:i.jsx(K2,{children:i.jsx(J2,{children:i.jsx(X2,{children:i.jsxs(Hh,{children:[i.jsx(xe,{path:"/admin/login",element:i.jsx(FS,{})}),i.jsx(xe,{path:"/admin/dashboard",element:i.jsx(er,{children:i.jsx(BS,{})})}),i.jsx(xe,{path:"/admin/products",element:i.jsx(er,{children:i.jsx(zS,{})})}),i.jsx(xe,{path:"/admin/categories",element:i.jsx(er,{children:i.jsx(HS,{})})}),i.jsx(xe,{path:"/admin/orders",element:i.jsx(er,{children:i.jsx(VS,{})})}),i.jsx(xe,{path:"/admin/users",element:i.jsx(er,{children:i.jsx(WS,{})})}),i.jsx(xe,{path:"/admin/inquiries",element:i.jsx(er,{children:i.jsx(GS,{})})}),i.jsx(xe,{path:"/admin/payments",element:i.jsx(er,{children:i.jsx(KS,{})})}),i.jsx(xe,{path:"/admin/brand",element:i.jsx(er,{children:i.jsx(iT,{})})}),i.jsx(xe,{path:"/admin/faqs",element:i.jsx(er,{children:i.jsx(aT,{})})}),i.jsx(xe,{path:"/admin/policies",element:i.jsx(er,{children:i.jsx(qA,{})})}),i.jsx(xe,{path:"*",element:i.jsxs("div",{className:"flex flex-col min-h-screen",children:[i.jsx(fS,{}),i.jsx("main",{className:"flex-1",children:i.jsxs(Hh,{children:[i.jsx(xe,{path:"/",element:i.jsx(bS,{})}),i.jsx(xe,{path:"/shop",element:i.jsx(Pp,{})}),i.jsx(xe,{path:"/shop/category/:categorySlug",element:i.jsx(Pp,{})}),i.jsx(xe,{path:"/categories",element:i.jsx(BA,{})}),i.jsx(xe,{path:"/shop/:id",element:i.jsx(wS,{})}),i.jsx(xe,{path:"/faq",element:i.jsx(jS,{})}),i.jsx(xe,{path:"/policy/:slug",element:i.jsx(_S,{})}),i.jsx(xe,{path:"/about",element:i.jsx(NS,{})}),i.jsx(xe,{path:"/cart",element:i.jsx(SS,{})}),i.jsx(xe,{path:"/checkout",element:i.jsx(PS,{})}),i.jsx(xe,{path:"/orders",element:i.jsx(AS,{})}),i.jsx(xe,{path:"/wishlist",element:i.jsx(DS,{})}),i.jsx(xe,{path:"/order-success",element:i.jsx(IS,{})}),i.jsx(xe,{path:"/contact",element:i.jsx(RS,{})}),i.jsx(xe,{path:"/login",element:i.jsx(LS,{})}),i.jsx(xe,{path:"/signup",element:i.jsx(MS,{})}),i.jsx(xe,{path:"/profile",element:i.jsx($S,{})})]})}),i.jsx(hS,{})]})})]})})})})})})})}),"    "]})}Pc.createRoot(document.getElementById("root")).render(i.jsx(oe.StrictMode,{children:i.jsx(UA,{})}));
