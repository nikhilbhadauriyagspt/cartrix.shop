function Sy(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var bt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Np(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var kp={exports:{}},jo={},Sp={exports:{}},ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Va=Symbol.for("react.element"),Ey=Symbol.for("react.portal"),Oy=Symbol.for("react.fragment"),Ty=Symbol.for("react.strict_mode"),Ay=Symbol.for("react.profiler"),Cy=Symbol.for("react.provider"),Py=Symbol.for("react.context"),Ry=Symbol.for("react.forward_ref"),Iy=Symbol.for("react.suspense"),Ly=Symbol.for("react.memo"),$y=Symbol.for("react.lazy"),Ud=Symbol.iterator;function Dy(e){return e===null||typeof e!="object"?null:(e=Ud&&e[Ud]||e["@@iterator"],typeof e=="function"?e:null)}var Ep={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Op=Object.assign,Tp={};function ks(e,t,r){this.props=e,this.context=t,this.refs=Tp,this.updater=r||Ep}ks.prototype.isReactComponent={};ks.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ks.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ap(){}Ap.prototype=ks.prototype;function wu(e,t,r){this.props=e,this.context=t,this.refs=Tp,this.updater=r||Ep}var _u=wu.prototype=new Ap;_u.constructor=wu;Op(_u,ks.prototype);_u.isPureReactComponent=!0;var qd=Array.isArray,Cp=Object.prototype.hasOwnProperty,ju={current:null},Pp={key:!0,ref:!0,__self:!0,__source:!0};function Rp(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Cp.call(t,n)&&!Pp.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Va,type:e,key:i,ref:o,props:s,_owner:ju.current}}function My(e,t){return{$$typeof:Va,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Nu(e){return typeof e=="object"&&e!==null&&e.$$typeof===Va}function Fy(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Bd=/\/+/g;function il(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Fy(""+e.key):t.toString(36)}function Ei(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Va:case Ey:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+il(o,0):n,qd(s)?(r="",e!=null&&(r=e.replace(Bd,"$&/")+"/"),Ei(s,t,r,"",function(d){return d})):s!=null&&(Nu(s)&&(s=My(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Bd,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",qd(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+il(i,l);o+=Ei(i,t,r,c,s)}else if(c=Dy(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+il(i,l++),o+=Ei(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ni(e,t,r){if(e==null)return e;var n=[],s=0;return Ei(e,n,"","",function(i){return t.call(r,i,s++)}),n}function Uy(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ot={current:null},Oi={transition:null},qy={ReactCurrentDispatcher:ot,ReactCurrentBatchConfig:Oi,ReactCurrentOwner:ju};function Ip(){throw Error("act(...) is not supported in production builds of React.")}ge.Children={map:ni,forEach:function(e,t,r){ni(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return ni(e,function(){t++}),t},toArray:function(e){return ni(e,function(t){return t})||[]},only:function(e){if(!Nu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ge.Component=ks;ge.Fragment=Oy;ge.Profiler=Ay;ge.PureComponent=wu;ge.StrictMode=Ty;ge.Suspense=Iy;ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qy;ge.act=Ip;ge.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Op({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=ju.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Cp.call(t,c)&&!Pp.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:Va,type:e.type,key:s,ref:i,props:n,_owner:o}};ge.createContext=function(e){return e={$$typeof:Py,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Cy,_context:e},e.Consumer=e};ge.createElement=Rp;ge.createFactory=function(e){var t=Rp.bind(null,e);return t.type=e,t};ge.createRef=function(){return{current:null}};ge.forwardRef=function(e){return{$$typeof:Ry,render:e}};ge.isValidElement=Nu;ge.lazy=function(e){return{$$typeof:$y,_payload:{_status:-1,_result:e},_init:Uy}};ge.memo=function(e,t){return{$$typeof:Ly,type:e,compare:t===void 0?null:t}};ge.startTransition=function(e){var t=Oi.transition;Oi.transition={};try{e()}finally{Oi.transition=t}};ge.unstable_act=Ip;ge.useCallback=function(e,t){return ot.current.useCallback(e,t)};ge.useContext=function(e){return ot.current.useContext(e)};ge.useDebugValue=function(){};ge.useDeferredValue=function(e){return ot.current.useDeferredValue(e)};ge.useEffect=function(e,t){return ot.current.useEffect(e,t)};ge.useId=function(){return ot.current.useId()};ge.useImperativeHandle=function(e,t,r){return ot.current.useImperativeHandle(e,t,r)};ge.useInsertionEffect=function(e,t){return ot.current.useInsertionEffect(e,t)};ge.useLayoutEffect=function(e,t){return ot.current.useLayoutEffect(e,t)};ge.useMemo=function(e,t){return ot.current.useMemo(e,t)};ge.useReducer=function(e,t,r){return ot.current.useReducer(e,t,r)};ge.useRef=function(e){return ot.current.useRef(e)};ge.useState=function(e){return ot.current.useState(e)};ge.useSyncExternalStore=function(e,t,r){return ot.current.useSyncExternalStore(e,t,r)};ge.useTransition=function(){return ot.current.useTransition()};ge.version="18.3.1";Sp.exports=ge;var O=Sp.exports;const fe=Np(O),Zl=Sy({__proto__:null,default:fe},[O]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var By=O,zy=Symbol.for("react.element"),Hy=Symbol.for("react.fragment"),Wy=Object.prototype.hasOwnProperty,Vy=By.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ky={key:!0,ref:!0,__self:!0,__source:!0};function Lp(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)Wy.call(t,n)&&!Ky.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:zy,type:e,key:i,ref:o,props:s,_owner:Vy.current}}jo.Fragment=Hy;jo.jsx=Lp;jo.jsxs=Lp;kp.exports=jo;var a=kp.exports,Xl={},$p={exports:{}},Nt={},Dp={exports:{}},Mp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(H,U){var I=H.length;H.push(U);e:for(;0<I;){var A=I-1>>>1,L=H[A];if(0<s(L,U))H[A]=U,H[I]=L,I=A;else break e}}function r(H){return H.length===0?null:H[0]}function n(H){if(H.length===0)return null;var U=H[0],I=H.pop();if(I!==U){H[0]=I;e:for(var A=0,L=H.length,D=L>>>1;A<D;){var W=2*(A+1)-1,z=H[W],M=W+1,q=H[M];if(0>s(z,I))M<L&&0>s(q,z)?(H[A]=q,H[M]=I,A=M):(H[A]=z,H[W]=I,A=W);else if(M<L&&0>s(q,I))H[A]=q,H[M]=I,A=M;else break e}}return U}function s(H,U){var I=H.sortIndex-U.sortIndex;return I!==0?I:H.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],h=1,f=null,u=3,p=!1,b=!1,x=!1,w=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(H){for(var U=r(d);U!==null;){if(U.callback===null)n(d);else if(U.startTime<=H)n(d),U.sortIndex=U.expirationTime,t(c,U);else break;U=r(d)}}function v(H){if(x=!1,y(H),!b)if(r(c)!==null)b=!0,F(_);else{var U=r(d);U!==null&&B(v,U.startTime-H)}}function _(H,U){b=!1,x&&(x=!1,m(S),S=-1),p=!0;var I=u;try{for(y(U),f=r(c);f!==null&&(!(f.expirationTime>U)||H&&!E());){var A=f.callback;if(typeof A=="function"){f.callback=null,u=f.priorityLevel;var L=A(f.expirationTime<=U);U=e.unstable_now(),typeof L=="function"?f.callback=L:f===r(c)&&n(c),y(U)}else n(c);f=r(c)}if(f!==null)var D=!0;else{var W=r(d);W!==null&&B(v,W.startTime-U),D=!1}return D}finally{f=null,u=I,p=!1}}var N=!1,j=null,S=-1,R=5,k=-1;function E(){return!(e.unstable_now()-k<R)}function T(){if(j!==null){var H=e.unstable_now();k=H;var U=!0;try{U=j(!0,H)}finally{U?P():(N=!1,j=null)}}else N=!1}var P;if(typeof g=="function")P=function(){g(T)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,$=C.port2;C.port1.onmessage=T,P=function(){$.postMessage(null)}}else P=function(){w(T,0)};function F(H){j=H,N||(N=!0,P())}function B(H,U){S=w(function(){H(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_continueExecution=function(){b||p||(b=!0,F(_))},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return u},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(H){switch(u){case 1:case 2:case 3:var U=3;break;default:U=u}var I=u;u=U;try{return H()}finally{u=I}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(H,U){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var I=u;u=H;try{return U()}finally{u=I}},e.unstable_scheduleCallback=function(H,U,I){var A=e.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?A+I:A):I=A,H){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=I+L,H={id:h++,callback:U,priorityLevel:H,startTime:I,expirationTime:L,sortIndex:-1},I>A?(H.sortIndex=I,t(d,H),r(c)===null&&H===r(d)&&(x?(m(S),S=-1):x=!0,B(v,I-A))):(H.sortIndex=L,t(c,H),b||p||(b=!0,F(_))),H},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(H){var U=u;return function(){var I=u;u=U;try{return H.apply(this,arguments)}finally{u=I}}}})(Mp);Dp.exports=Mp;var Gy=Dp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jy=O,jt=Gy;function Z(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Fp=new Set,ga={};function Ln(e,t){ms(e,t),ms(e+"Capture",t)}function ms(e,t){for(ga[e]=t,e=0;e<t.length;e++)Fp.add(t[e])}var mr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ec=Object.prototype.hasOwnProperty,Qy=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,zd={},Hd={};function Yy(e){return ec.call(Hd,e)?!0:ec.call(zd,e)?!1:Qy.test(e)?Hd[e]=!0:(zd[e]=!0,!1)}function Zy(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Xy(e,t,r,n){if(t===null||typeof t>"u"||Zy(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function lt(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Ze={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ze[e]=new lt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ze[t]=new lt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ze[e]=new lt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ze[e]=new lt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ze[e]=new lt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ze[e]=new lt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ze[e]=new lt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ze[e]=new lt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ze[e]=new lt(e,5,!1,e.toLowerCase(),null,!1,!1)});var ku=/[\-:]([a-z])/g;function Su(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ku,Su);Ze[t]=new lt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ku,Su);Ze[t]=new lt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ku,Su);Ze[t]=new lt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ze[e]=new lt(e,1,!1,e.toLowerCase(),null,!1,!1)});Ze.xlinkHref=new lt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ze[e]=new lt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Eu(e,t,r,n){var s=Ze.hasOwnProperty(t)?Ze[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Xy(t,r,s,n)&&(r=null),n||s===null?Yy(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var wr=Jy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,si=Symbol.for("react.element"),Gn=Symbol.for("react.portal"),Jn=Symbol.for("react.fragment"),Ou=Symbol.for("react.strict_mode"),tc=Symbol.for("react.profiler"),Up=Symbol.for("react.provider"),qp=Symbol.for("react.context"),Tu=Symbol.for("react.forward_ref"),rc=Symbol.for("react.suspense"),nc=Symbol.for("react.suspense_list"),Au=Symbol.for("react.memo"),Ar=Symbol.for("react.lazy"),Bp=Symbol.for("react.offscreen"),Wd=Symbol.iterator;function Ms(e){return e===null||typeof e!="object"?null:(e=Wd&&e[Wd]||e["@@iterator"],typeof e=="function"?e:null)}var Pe=Object.assign,ol;function Gs(e){if(ol===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);ol=t&&t[1]||""}return`
`+ol+e}var ll=!1;function cl(e,t){if(!e||ll)return"";ll=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{ll=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Gs(e):""}function ev(e){switch(e.tag){case 5:return Gs(e.type);case 16:return Gs("Lazy");case 13:return Gs("Suspense");case 19:return Gs("SuspenseList");case 0:case 2:case 15:return e=cl(e.type,!1),e;case 11:return e=cl(e.type.render,!1),e;case 1:return e=cl(e.type,!0),e;default:return""}}function sc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Jn:return"Fragment";case Gn:return"Portal";case tc:return"Profiler";case Ou:return"StrictMode";case rc:return"Suspense";case nc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case qp:return(e.displayName||"Context")+".Consumer";case Up:return(e._context.displayName||"Context")+".Provider";case Tu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Au:return t=e.displayName||null,t!==null?t:sc(e.type)||"Memo";case Ar:t=e._payload,e=e._init;try{return sc(e(t))}catch{}}return null}function tv(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return sc(t);case 8:return t===Ou?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Xr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function zp(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function rv(e){var t=zp(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ai(e){e._valueTracker||(e._valueTracker=rv(e))}function Hp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=zp(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Fi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ac(e,t){var r=t.checked;return Pe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Vd(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Xr(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Wp(e,t){t=t.checked,t!=null&&Eu(e,"checked",t,!1)}function ic(e,t){Wp(e,t);var r=Xr(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?oc(e,t.type,r):t.hasOwnProperty("defaultValue")&&oc(e,t.type,Xr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Kd(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function oc(e,t,r){(t!=="number"||Fi(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Js=Array.isArray;function os(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Xr(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function lc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Z(91));return Pe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Gd(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Z(92));if(Js(r)){if(1<r.length)throw Error(Z(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Xr(r)}}function Vp(e,t){var r=Xr(t.value),n=Xr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Jd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Kp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function cc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Kp(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ii,Gp=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ii=ii||document.createElement("div"),ii.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ii.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ya(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ra={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nv=["Webkit","ms","Moz","O"];Object.keys(ra).forEach(function(e){nv.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ra[t]=ra[e]})});function Jp(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||ra.hasOwnProperty(e)&&ra[e]?(""+t).trim():t+"px"}function Qp(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Jp(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var sv=Pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function uc(e,t){if(t){if(sv[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Z(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Z(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Z(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Z(62))}}function dc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fc=null;function Cu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var hc=null,ls=null,cs=null;function Qd(e){if(e=Ja(e)){if(typeof hc!="function")throw Error(Z(280));var t=e.stateNode;t&&(t=Oo(t),hc(e.stateNode,e.type,t))}}function Yp(e){ls?cs?cs.push(e):cs=[e]:ls=e}function Zp(){if(ls){var e=ls,t=cs;if(cs=ls=null,Qd(e),t)for(e=0;e<t.length;e++)Qd(t[e])}}function Xp(e,t){return e(t)}function em(){}var ul=!1;function tm(e,t,r){if(ul)return e(t,r);ul=!0;try{return Xp(e,t,r)}finally{ul=!1,(ls!==null||cs!==null)&&(em(),Zp())}}function va(e,t){var r=e.stateNode;if(r===null)return null;var n=Oo(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Z(231,t,typeof r));return r}var pc=!1;if(mr)try{var Fs={};Object.defineProperty(Fs,"passive",{get:function(){pc=!0}}),window.addEventListener("test",Fs,Fs),window.removeEventListener("test",Fs,Fs)}catch{pc=!1}function av(e,t,r,n,s,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(h){this.onError(h)}}var na=!1,Ui=null,qi=!1,mc=null,iv={onError:function(e){na=!0,Ui=e}};function ov(e,t,r,n,s,i,o,l,c){na=!1,Ui=null,av.apply(iv,arguments)}function lv(e,t,r,n,s,i,o,l,c){if(ov.apply(this,arguments),na){if(na){var d=Ui;na=!1,Ui=null}else throw Error(Z(198));qi||(qi=!0,mc=d)}}function $n(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function rm(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Yd(e){if($n(e)!==e)throw Error(Z(188))}function cv(e){var t=e.alternate;if(!t){if(t=$n(e),t===null)throw Error(Z(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Yd(s),e;if(i===n)return Yd(s),t;i=i.sibling}throw Error(Z(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(Z(189))}}if(r.alternate!==n)throw Error(Z(190))}if(r.tag!==3)throw Error(Z(188));return r.stateNode.current===r?e:t}function nm(e){return e=cv(e),e!==null?sm(e):null}function sm(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=sm(e);if(t!==null)return t;e=e.sibling}return null}var am=jt.unstable_scheduleCallback,Zd=jt.unstable_cancelCallback,uv=jt.unstable_shouldYield,dv=jt.unstable_requestPaint,De=jt.unstable_now,fv=jt.unstable_getCurrentPriorityLevel,Pu=jt.unstable_ImmediatePriority,im=jt.unstable_UserBlockingPriority,Bi=jt.unstable_NormalPriority,hv=jt.unstable_LowPriority,om=jt.unstable_IdlePriority,No=null,tr=null;function pv(e){if(tr&&typeof tr.onCommitFiberRoot=="function")try{tr.onCommitFiberRoot(No,e,void 0,(e.current.flags&128)===128)}catch{}}var Vt=Math.clz32?Math.clz32:yv,mv=Math.log,gv=Math.LN2;function yv(e){return e>>>=0,e===0?32:31-(mv(e)/gv|0)|0}var oi=64,li=4194304;function Qs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function zi(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=Qs(l):(i&=o,i!==0&&(n=Qs(i)))}else o=r&~s,o!==0?n=Qs(o):i!==0&&(n=Qs(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Vt(t),s=1<<r,n|=e[r],t&=~s;return n}function vv(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xv(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Vt(i),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=vv(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function gc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function lm(){var e=oi;return oi<<=1,!(oi&4194240)&&(oi=64),e}function dl(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Ka(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Vt(t),e[t]=r}function bv(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Vt(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function Ru(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Vt(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var xe=0;function cm(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var um,Iu,dm,fm,hm,yc=!1,ci=[],Br=null,zr=null,Hr=null,xa=new Map,ba=new Map,Rr=[],wv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Xd(e,t){switch(e){case"focusin":case"focusout":Br=null;break;case"dragenter":case"dragleave":zr=null;break;case"mouseover":case"mouseout":Hr=null;break;case"pointerover":case"pointerout":xa.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ba.delete(t.pointerId)}}function Us(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Ja(t),t!==null&&Iu(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function _v(e,t,r,n,s){switch(t){case"focusin":return Br=Us(Br,e,t,r,n,s),!0;case"dragenter":return zr=Us(zr,e,t,r,n,s),!0;case"mouseover":return Hr=Us(Hr,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return xa.set(i,Us(xa.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,ba.set(i,Us(ba.get(i)||null,e,t,r,n,s)),!0}return!1}function pm(e){var t=gn(e.target);if(t!==null){var r=$n(t);if(r!==null){if(t=r.tag,t===13){if(t=rm(r),t!==null){e.blockedOn=t,hm(e.priority,function(){dm(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ti(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=vc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);fc=n,r.target.dispatchEvent(n),fc=null}else return t=Ja(r),t!==null&&Iu(t),e.blockedOn=r,!1;t.shift()}return!0}function ef(e,t,r){Ti(e)&&r.delete(t)}function jv(){yc=!1,Br!==null&&Ti(Br)&&(Br=null),zr!==null&&Ti(zr)&&(zr=null),Hr!==null&&Ti(Hr)&&(Hr=null),xa.forEach(ef),ba.forEach(ef)}function qs(e,t){e.blockedOn===t&&(e.blockedOn=null,yc||(yc=!0,jt.unstable_scheduleCallback(jt.unstable_NormalPriority,jv)))}function wa(e){function t(s){return qs(s,e)}if(0<ci.length){qs(ci[0],e);for(var r=1;r<ci.length;r++){var n=ci[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Br!==null&&qs(Br,e),zr!==null&&qs(zr,e),Hr!==null&&qs(Hr,e),xa.forEach(t),ba.forEach(t),r=0;r<Rr.length;r++)n=Rr[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Rr.length&&(r=Rr[0],r.blockedOn===null);)pm(r),r.blockedOn===null&&Rr.shift()}var us=wr.ReactCurrentBatchConfig,Hi=!0;function Nv(e,t,r,n){var s=xe,i=us.transition;us.transition=null;try{xe=1,Lu(e,t,r,n)}finally{xe=s,us.transition=i}}function kv(e,t,r,n){var s=xe,i=us.transition;us.transition=null;try{xe=4,Lu(e,t,r,n)}finally{xe=s,us.transition=i}}function Lu(e,t,r,n){if(Hi){var s=vc(e,t,r,n);if(s===null)wl(e,t,n,Wi,r),Xd(e,n);else if(_v(s,e,t,r,n))n.stopPropagation();else if(Xd(e,n),t&4&&-1<wv.indexOf(e)){for(;s!==null;){var i=Ja(s);if(i!==null&&um(i),i=vc(e,t,r,n),i===null&&wl(e,t,n,Wi,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else wl(e,t,n,null,r)}}var Wi=null;function vc(e,t,r,n){if(Wi=null,e=Cu(n),e=gn(e),e!==null)if(t=$n(e),t===null)e=null;else if(r=t.tag,r===13){if(e=rm(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Wi=e,null}function mm(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fv()){case Pu:return 1;case im:return 4;case Bi:case hv:return 16;case om:return 536870912;default:return 16}default:return 16}}var Dr=null,$u=null,Ai=null;function gm(){if(Ai)return Ai;var e,t=$u,r=t.length,n,s="value"in Dr?Dr.value:Dr.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return Ai=s.slice(e,1<n?1-n:void 0)}function Ci(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ui(){return!0}function tf(){return!1}function kt(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ui:tf,this.isPropagationStopped=tf,this}return Pe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ui)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ui)},persist:function(){},isPersistent:ui}),t}var Ss={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Du=kt(Ss),Ga=Pe({},Ss,{view:0,detail:0}),Sv=kt(Ga),fl,hl,Bs,ko=Pe({},Ga,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Bs&&(Bs&&e.type==="mousemove"?(fl=e.screenX-Bs.screenX,hl=e.screenY-Bs.screenY):hl=fl=0,Bs=e),fl)},movementY:function(e){return"movementY"in e?e.movementY:hl}}),rf=kt(ko),Ev=Pe({},ko,{dataTransfer:0}),Ov=kt(Ev),Tv=Pe({},Ga,{relatedTarget:0}),pl=kt(Tv),Av=Pe({},Ss,{animationName:0,elapsedTime:0,pseudoElement:0}),Cv=kt(Av),Pv=Pe({},Ss,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Rv=kt(Pv),Iv=Pe({},Ss,{data:0}),nf=kt(Iv),Lv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$v={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Dv[e])?!!t[e]:!1}function Mu(){return Mv}var Fv=Pe({},Ga,{key:function(e){if(e.key){var t=Lv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ci(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?$v[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mu,charCode:function(e){return e.type==="keypress"?Ci(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ci(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Uv=kt(Fv),qv=Pe({},ko,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sf=kt(qv),Bv=Pe({},Ga,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mu}),zv=kt(Bv),Hv=Pe({},Ss,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wv=kt(Hv),Vv=Pe({},ko,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Kv=kt(Vv),Gv=[9,13,27,32],Fu=mr&&"CompositionEvent"in window,sa=null;mr&&"documentMode"in document&&(sa=document.documentMode);var Jv=mr&&"TextEvent"in window&&!sa,ym=mr&&(!Fu||sa&&8<sa&&11>=sa),af=" ",of=!1;function vm(e,t){switch(e){case"keyup":return Gv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Qn=!1;function Qv(e,t){switch(e){case"compositionend":return xm(t);case"keypress":return t.which!==32?null:(of=!0,af);case"textInput":return e=t.data,e===af&&of?null:e;default:return null}}function Yv(e,t){if(Qn)return e==="compositionend"||!Fu&&vm(e,t)?(e=gm(),Ai=$u=Dr=null,Qn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ym&&t.locale!=="ko"?null:t.data;default:return null}}var Zv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Zv[e.type]:t==="textarea"}function bm(e,t,r,n){Yp(n),t=Vi(t,"onChange"),0<t.length&&(r=new Du("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var aa=null,_a=null;function Xv(e){Cm(e,0)}function So(e){var t=Xn(e);if(Hp(t))return e}function ex(e,t){if(e==="change")return t}var wm=!1;if(mr){var ml;if(mr){var gl="oninput"in document;if(!gl){var cf=document.createElement("div");cf.setAttribute("oninput","return;"),gl=typeof cf.oninput=="function"}ml=gl}else ml=!1;wm=ml&&(!document.documentMode||9<document.documentMode)}function uf(){aa&&(aa.detachEvent("onpropertychange",_m),_a=aa=null)}function _m(e){if(e.propertyName==="value"&&So(_a)){var t=[];bm(t,_a,e,Cu(e)),tm(Xv,t)}}function tx(e,t,r){e==="focusin"?(uf(),aa=t,_a=r,aa.attachEvent("onpropertychange",_m)):e==="focusout"&&uf()}function rx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return So(_a)}function nx(e,t){if(e==="click")return So(t)}function sx(e,t){if(e==="input"||e==="change")return So(t)}function ax(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Gt=typeof Object.is=="function"?Object.is:ax;function ja(e,t){if(Gt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!ec.call(t,s)||!Gt(e[s],t[s]))return!1}return!0}function df(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ff(e,t){var r=df(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=df(r)}}function jm(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?jm(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Nm(){for(var e=window,t=Fi();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Fi(e.document)}return t}function Uu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function ix(e){var t=Nm(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&jm(r.ownerDocument.documentElement,r)){if(n!==null&&Uu(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=ff(r,i);var o=ff(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ox=mr&&"documentMode"in document&&11>=document.documentMode,Yn=null,xc=null,ia=null,bc=!1;function hf(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;bc||Yn==null||Yn!==Fi(n)||(n=Yn,"selectionStart"in n&&Uu(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ia&&ja(ia,n)||(ia=n,n=Vi(xc,"onSelect"),0<n.length&&(t=new Du("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Yn)))}function di(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Zn={animationend:di("Animation","AnimationEnd"),animationiteration:di("Animation","AnimationIteration"),animationstart:di("Animation","AnimationStart"),transitionend:di("Transition","TransitionEnd")},yl={},km={};mr&&(km=document.createElement("div").style,"AnimationEvent"in window||(delete Zn.animationend.animation,delete Zn.animationiteration.animation,delete Zn.animationstart.animation),"TransitionEvent"in window||delete Zn.transitionend.transition);function Eo(e){if(yl[e])return yl[e];if(!Zn[e])return e;var t=Zn[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in km)return yl[e]=t[r];return e}var Sm=Eo("animationend"),Em=Eo("animationiteration"),Om=Eo("animationstart"),Tm=Eo("transitionend"),Am=new Map,pf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function tn(e,t){Am.set(e,t),Ln(t,[e])}for(var vl=0;vl<pf.length;vl++){var xl=pf[vl],lx=xl.toLowerCase(),cx=xl[0].toUpperCase()+xl.slice(1);tn(lx,"on"+cx)}tn(Sm,"onAnimationEnd");tn(Em,"onAnimationIteration");tn(Om,"onAnimationStart");tn("dblclick","onDoubleClick");tn("focusin","onFocus");tn("focusout","onBlur");tn(Tm,"onTransitionEnd");ms("onMouseEnter",["mouseout","mouseover"]);ms("onMouseLeave",["mouseout","mouseover"]);ms("onPointerEnter",["pointerout","pointerover"]);ms("onPointerLeave",["pointerout","pointerover"]);Ln("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ln("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ln("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ln("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ln("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ln("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ys="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ux=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ys));function mf(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,lv(n,t,void 0,e),e.currentTarget=null}function Cm(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;mf(s,l,d),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;mf(s,l,d),i=c}}}if(qi)throw e=mc,qi=!1,mc=null,e}function Ne(e,t){var r=t[kc];r===void 0&&(r=t[kc]=new Set);var n=e+"__bubble";r.has(n)||(Pm(t,e,2,!1),r.add(n))}function bl(e,t,r){var n=0;t&&(n|=4),Pm(r,e,n,t)}var fi="_reactListening"+Math.random().toString(36).slice(2);function Na(e){if(!e[fi]){e[fi]=!0,Fp.forEach(function(r){r!=="selectionchange"&&(ux.has(r)||bl(r,!1,e),bl(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[fi]||(t[fi]=!0,bl("selectionchange",!1,t))}}function Pm(e,t,r,n){switch(mm(t)){case 1:var s=Nv;break;case 4:s=kv;break;default:s=Lu}r=s.bind(null,t,r,e),s=void 0,!pc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function wl(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=gn(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}tm(function(){var d=i,h=Cu(r),f=[];e:{var u=Am.get(e);if(u!==void 0){var p=Du,b=e;switch(e){case"keypress":if(Ci(r)===0)break e;case"keydown":case"keyup":p=Uv;break;case"focusin":b="focus",p=pl;break;case"focusout":b="blur",p=pl;break;case"beforeblur":case"afterblur":p=pl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=rf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Ov;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=zv;break;case Sm:case Em:case Om:p=Cv;break;case Tm:p=Wv;break;case"scroll":p=Sv;break;case"wheel":p=Kv;break;case"copy":case"cut":case"paste":p=Rv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=sf}var x=(t&4)!==0,w=!x&&e==="scroll",m=x?u!==null?u+"Capture":null:u;x=[];for(var g=d,y;g!==null;){y=g;var v=y.stateNode;if(y.tag===5&&v!==null&&(y=v,m!==null&&(v=va(g,m),v!=null&&x.push(ka(g,v,y)))),w)break;g=g.return}0<x.length&&(u=new p(u,b,null,r,h),f.push({event:u,listeners:x}))}}if(!(t&7)){e:{if(u=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",u&&r!==fc&&(b=r.relatedTarget||r.fromElement)&&(gn(b)||b[gr]))break e;if((p||u)&&(u=h.window===h?h:(u=h.ownerDocument)?u.defaultView||u.parentWindow:window,p?(b=r.relatedTarget||r.toElement,p=d,b=b?gn(b):null,b!==null&&(w=$n(b),b!==w||b.tag!==5&&b.tag!==6)&&(b=null)):(p=null,b=d),p!==b)){if(x=rf,v="onMouseLeave",m="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(x=sf,v="onPointerLeave",m="onPointerEnter",g="pointer"),w=p==null?u:Xn(p),y=b==null?u:Xn(b),u=new x(v,g+"leave",p,r,h),u.target=w,u.relatedTarget=y,v=null,gn(h)===d&&(x=new x(m,g+"enter",b,r,h),x.target=y,x.relatedTarget=w,v=x),w=v,p&&b)t:{for(x=p,m=b,g=0,y=x;y;y=Mn(y))g++;for(y=0,v=m;v;v=Mn(v))y++;for(;0<g-y;)x=Mn(x),g--;for(;0<y-g;)m=Mn(m),y--;for(;g--;){if(x===m||m!==null&&x===m.alternate)break t;x=Mn(x),m=Mn(m)}x=null}else x=null;p!==null&&gf(f,u,p,x,!1),b!==null&&w!==null&&gf(f,w,b,x,!0)}}e:{if(u=d?Xn(d):window,p=u.nodeName&&u.nodeName.toLowerCase(),p==="select"||p==="input"&&u.type==="file")var _=ex;else if(lf(u))if(wm)_=sx;else{_=rx;var N=tx}else(p=u.nodeName)&&p.toLowerCase()==="input"&&(u.type==="checkbox"||u.type==="radio")&&(_=nx);if(_&&(_=_(e,d))){bm(f,_,r,h);break e}N&&N(e,u,d),e==="focusout"&&(N=u._wrapperState)&&N.controlled&&u.type==="number"&&oc(u,"number",u.value)}switch(N=d?Xn(d):window,e){case"focusin":(lf(N)||N.contentEditable==="true")&&(Yn=N,xc=d,ia=null);break;case"focusout":ia=xc=Yn=null;break;case"mousedown":bc=!0;break;case"contextmenu":case"mouseup":case"dragend":bc=!1,hf(f,r,h);break;case"selectionchange":if(ox)break;case"keydown":case"keyup":hf(f,r,h)}var j;if(Fu)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Qn?vm(e,r)&&(S="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(ym&&r.locale!=="ko"&&(Qn||S!=="onCompositionStart"?S==="onCompositionEnd"&&Qn&&(j=gm()):(Dr=h,$u="value"in Dr?Dr.value:Dr.textContent,Qn=!0)),N=Vi(d,S),0<N.length&&(S=new nf(S,e,null,r,h),f.push({event:S,listeners:N}),j?S.data=j:(j=xm(r),j!==null&&(S.data=j)))),(j=Jv?Qv(e,r):Yv(e,r))&&(d=Vi(d,"onBeforeInput"),0<d.length&&(h=new nf("onBeforeInput","beforeinput",null,r,h),f.push({event:h,listeners:d}),h.data=j))}Cm(f,t)})}function ka(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Vi(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=va(e,r),i!=null&&n.unshift(ka(e,i,s)),i=va(e,t),i!=null&&n.push(ka(e,i,s))),e=e.return}return n}function Mn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function gf(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&d!==null&&(l=d,s?(c=va(r,i),c!=null&&o.unshift(ka(r,c,l))):s||(c=va(r,i),c!=null&&o.push(ka(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var dx=/\r\n?/g,fx=/\u0000|\uFFFD/g;function yf(e){return(typeof e=="string"?e:""+e).replace(dx,`
`).replace(fx,"")}function hi(e,t,r){if(t=yf(t),yf(e)!==t&&r)throw Error(Z(425))}function Ki(){}var wc=null,_c=null;function jc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Nc=typeof setTimeout=="function"?setTimeout:void 0,hx=typeof clearTimeout=="function"?clearTimeout:void 0,vf=typeof Promise=="function"?Promise:void 0,px=typeof queueMicrotask=="function"?queueMicrotask:typeof vf<"u"?function(e){return vf.resolve(null).then(e).catch(mx)}:Nc;function mx(e){setTimeout(function(){throw e})}function _l(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),wa(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);wa(t)}function Wr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function xf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Es=Math.random().toString(36).slice(2),er="__reactFiber$"+Es,Sa="__reactProps$"+Es,gr="__reactContainer$"+Es,kc="__reactEvents$"+Es,gx="__reactListeners$"+Es,yx="__reactHandles$"+Es;function gn(e){var t=e[er];if(t)return t;for(var r=e.parentNode;r;){if(t=r[gr]||r[er]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=xf(e);e!==null;){if(r=e[er])return r;e=xf(e)}return t}e=r,r=e.parentNode}return null}function Ja(e){return e=e[er]||e[gr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Xn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Z(33))}function Oo(e){return e[Sa]||null}var Sc=[],es=-1;function rn(e){return{current:e}}function Se(e){0>es||(e.current=Sc[es],Sc[es]=null,es--)}function je(e,t){es++,Sc[es]=e.current,e.current=t}var en={},rt=rn(en),dt=rn(!1),Nn=en;function gs(e,t){var r=e.type.contextTypes;if(!r)return en;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function ft(e){return e=e.childContextTypes,e!=null}function Gi(){Se(dt),Se(rt)}function bf(e,t,r){if(rt.current!==en)throw Error(Z(168));je(rt,t),je(dt,r)}function Rm(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(Z(108,tv(e)||"Unknown",s));return Pe({},r,n)}function Ji(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||en,Nn=rt.current,je(rt,e),je(dt,dt.current),!0}function wf(e,t,r){var n=e.stateNode;if(!n)throw Error(Z(169));r?(e=Rm(e,t,Nn),n.__reactInternalMemoizedMergedChildContext=e,Se(dt),Se(rt),je(rt,e)):Se(dt),je(dt,r)}var lr=null,To=!1,jl=!1;function Im(e){lr===null?lr=[e]:lr.push(e)}function vx(e){To=!0,Im(e)}function nn(){if(!jl&&lr!==null){jl=!0;var e=0,t=xe;try{var r=lr;for(xe=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}lr=null,To=!1}catch(s){throw lr!==null&&(lr=lr.slice(e+1)),am(Pu,nn),s}finally{xe=t,jl=!1}}return null}var ts=[],rs=0,Qi=null,Yi=0,Tt=[],At=0,kn=null,ur=1,dr="";function ln(e,t){ts[rs++]=Yi,ts[rs++]=Qi,Qi=e,Yi=t}function Lm(e,t,r){Tt[At++]=ur,Tt[At++]=dr,Tt[At++]=kn,kn=e;var n=ur;e=dr;var s=32-Vt(n)-1;n&=~(1<<s),r+=1;var i=32-Vt(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,ur=1<<32-Vt(t)+s|r<<s|n,dr=i+e}else ur=1<<i|r<<s|n,dr=e}function qu(e){e.return!==null&&(ln(e,1),Lm(e,1,0))}function Bu(e){for(;e===Qi;)Qi=ts[--rs],ts[rs]=null,Yi=ts[--rs],ts[rs]=null;for(;e===kn;)kn=Tt[--At],Tt[At]=null,dr=Tt[--At],Tt[At]=null,ur=Tt[--At],Tt[At]=null}var _t=null,wt=null,Ee=!1,Ht=null;function $m(e,t){var r=Ct(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function _f(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,_t=e,wt=Wr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,_t=e,wt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=kn!==null?{id:ur,overflow:dr}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ct(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,_t=e,wt=null,!0):!1;default:return!1}}function Ec(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Oc(e){if(Ee){var t=wt;if(t){var r=t;if(!_f(e,t)){if(Ec(e))throw Error(Z(418));t=Wr(r.nextSibling);var n=_t;t&&_f(e,t)?$m(n,r):(e.flags=e.flags&-4097|2,Ee=!1,_t=e)}}else{if(Ec(e))throw Error(Z(418));e.flags=e.flags&-4097|2,Ee=!1,_t=e}}}function jf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;_t=e}function pi(e){if(e!==_t)return!1;if(!Ee)return jf(e),Ee=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!jc(e.type,e.memoizedProps)),t&&(t=wt)){if(Ec(e))throw Dm(),Error(Z(418));for(;t;)$m(e,t),t=Wr(t.nextSibling)}if(jf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Z(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){wt=Wr(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}wt=null}}else wt=_t?Wr(e.stateNode.nextSibling):null;return!0}function Dm(){for(var e=wt;e;)e=Wr(e.nextSibling)}function ys(){wt=_t=null,Ee=!1}function zu(e){Ht===null?Ht=[e]:Ht.push(e)}var xx=wr.ReactCurrentBatchConfig;function zs(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Z(309));var n=r.stateNode}if(!n)throw Error(Z(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(Z(284));if(!r._owner)throw Error(Z(290,e))}return e}function mi(e,t){throw e=Object.prototype.toString.call(t),Error(Z(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Nf(e){var t=e._init;return t(e._payload)}function Mm(e){function t(m,g){if(e){var y=m.deletions;y===null?(m.deletions=[g],m.flags|=16):y.push(g)}}function r(m,g){if(!e)return null;for(;g!==null;)t(m,g),g=g.sibling;return null}function n(m,g){for(m=new Map;g!==null;)g.key!==null?m.set(g.key,g):m.set(g.index,g),g=g.sibling;return m}function s(m,g){return m=Jr(m,g),m.index=0,m.sibling=null,m}function i(m,g,y){return m.index=y,e?(y=m.alternate,y!==null?(y=y.index,y<g?(m.flags|=2,g):y):(m.flags|=2,g)):(m.flags|=1048576,g)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function l(m,g,y,v){return g===null||g.tag!==6?(g=Al(y,m.mode,v),g.return=m,g):(g=s(g,y),g.return=m,g)}function c(m,g,y,v){var _=y.type;return _===Jn?h(m,g,y.props.children,v,y.key):g!==null&&(g.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Ar&&Nf(_)===g.type)?(v=s(g,y.props),v.ref=zs(m,g,y),v.return=m,v):(v=Mi(y.type,y.key,y.props,null,m.mode,v),v.ref=zs(m,g,y),v.return=m,v)}function d(m,g,y,v){return g===null||g.tag!==4||g.stateNode.containerInfo!==y.containerInfo||g.stateNode.implementation!==y.implementation?(g=Cl(y,m.mode,v),g.return=m,g):(g=s(g,y.children||[]),g.return=m,g)}function h(m,g,y,v,_){return g===null||g.tag!==7?(g=jn(y,m.mode,v,_),g.return=m,g):(g=s(g,y),g.return=m,g)}function f(m,g,y){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Al(""+g,m.mode,y),g.return=m,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case si:return y=Mi(g.type,g.key,g.props,null,m.mode,y),y.ref=zs(m,null,g),y.return=m,y;case Gn:return g=Cl(g,m.mode,y),g.return=m,g;case Ar:var v=g._init;return f(m,v(g._payload),y)}if(Js(g)||Ms(g))return g=jn(g,m.mode,y,null),g.return=m,g;mi(m,g)}return null}function u(m,g,y,v){var _=g!==null?g.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return _!==null?null:l(m,g,""+y,v);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case si:return y.key===_?c(m,g,y,v):null;case Gn:return y.key===_?d(m,g,y,v):null;case Ar:return _=y._init,u(m,g,_(y._payload),v)}if(Js(y)||Ms(y))return _!==null?null:h(m,g,y,v,null);mi(m,y)}return null}function p(m,g,y,v,_){if(typeof v=="string"&&v!==""||typeof v=="number")return m=m.get(y)||null,l(g,m,""+v,_);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case si:return m=m.get(v.key===null?y:v.key)||null,c(g,m,v,_);case Gn:return m=m.get(v.key===null?y:v.key)||null,d(g,m,v,_);case Ar:var N=v._init;return p(m,g,y,N(v._payload),_)}if(Js(v)||Ms(v))return m=m.get(y)||null,h(g,m,v,_,null);mi(g,v)}return null}function b(m,g,y,v){for(var _=null,N=null,j=g,S=g=0,R=null;j!==null&&S<y.length;S++){j.index>S?(R=j,j=null):R=j.sibling;var k=u(m,j,y[S],v);if(k===null){j===null&&(j=R);break}e&&j&&k.alternate===null&&t(m,j),g=i(k,g,S),N===null?_=k:N.sibling=k,N=k,j=R}if(S===y.length)return r(m,j),Ee&&ln(m,S),_;if(j===null){for(;S<y.length;S++)j=f(m,y[S],v),j!==null&&(g=i(j,g,S),N===null?_=j:N.sibling=j,N=j);return Ee&&ln(m,S),_}for(j=n(m,j);S<y.length;S++)R=p(j,m,S,y[S],v),R!==null&&(e&&R.alternate!==null&&j.delete(R.key===null?S:R.key),g=i(R,g,S),N===null?_=R:N.sibling=R,N=R);return e&&j.forEach(function(E){return t(m,E)}),Ee&&ln(m,S),_}function x(m,g,y,v){var _=Ms(y);if(typeof _!="function")throw Error(Z(150));if(y=_.call(y),y==null)throw Error(Z(151));for(var N=_=null,j=g,S=g=0,R=null,k=y.next();j!==null&&!k.done;S++,k=y.next()){j.index>S?(R=j,j=null):R=j.sibling;var E=u(m,j,k.value,v);if(E===null){j===null&&(j=R);break}e&&j&&E.alternate===null&&t(m,j),g=i(E,g,S),N===null?_=E:N.sibling=E,N=E,j=R}if(k.done)return r(m,j),Ee&&ln(m,S),_;if(j===null){for(;!k.done;S++,k=y.next())k=f(m,k.value,v),k!==null&&(g=i(k,g,S),N===null?_=k:N.sibling=k,N=k);return Ee&&ln(m,S),_}for(j=n(m,j);!k.done;S++,k=y.next())k=p(j,m,S,k.value,v),k!==null&&(e&&k.alternate!==null&&j.delete(k.key===null?S:k.key),g=i(k,g,S),N===null?_=k:N.sibling=k,N=k);return e&&j.forEach(function(T){return t(m,T)}),Ee&&ln(m,S),_}function w(m,g,y,v){if(typeof y=="object"&&y!==null&&y.type===Jn&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case si:e:{for(var _=y.key,N=g;N!==null;){if(N.key===_){if(_=y.type,_===Jn){if(N.tag===7){r(m,N.sibling),g=s(N,y.props.children),g.return=m,m=g;break e}}else if(N.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Ar&&Nf(_)===N.type){r(m,N.sibling),g=s(N,y.props),g.ref=zs(m,N,y),g.return=m,m=g;break e}r(m,N);break}else t(m,N);N=N.sibling}y.type===Jn?(g=jn(y.props.children,m.mode,v,y.key),g.return=m,m=g):(v=Mi(y.type,y.key,y.props,null,m.mode,v),v.ref=zs(m,g,y),v.return=m,m=v)}return o(m);case Gn:e:{for(N=y.key;g!==null;){if(g.key===N)if(g.tag===4&&g.stateNode.containerInfo===y.containerInfo&&g.stateNode.implementation===y.implementation){r(m,g.sibling),g=s(g,y.children||[]),g.return=m,m=g;break e}else{r(m,g);break}else t(m,g);g=g.sibling}g=Cl(y,m.mode,v),g.return=m,m=g}return o(m);case Ar:return N=y._init,w(m,g,N(y._payload),v)}if(Js(y))return b(m,g,y,v);if(Ms(y))return x(m,g,y,v);mi(m,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,g!==null&&g.tag===6?(r(m,g.sibling),g=s(g,y),g.return=m,m=g):(r(m,g),g=Al(y,m.mode,v),g.return=m,m=g),o(m)):r(m,g)}return w}var vs=Mm(!0),Fm=Mm(!1),Zi=rn(null),Xi=null,ns=null,Hu=null;function Wu(){Hu=ns=Xi=null}function Vu(e){var t=Zi.current;Se(Zi),e._currentValue=t}function Tc(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function ds(e,t){Xi=e,Hu=ns=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ut=!0),e.firstContext=null)}function Rt(e){var t=e._currentValue;if(Hu!==e)if(e={context:e,memoizedValue:t,next:null},ns===null){if(Xi===null)throw Error(Z(308));ns=e,Xi.dependencies={lanes:0,firstContext:e}}else ns=ns.next=e;return t}var yn=null;function Ku(e){yn===null?yn=[e]:yn.push(e)}function Um(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Ku(t)):(r.next=s.next,s.next=r),t.interleaved=r,yr(e,n)}function yr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Cr=!1;function Gu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qm(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function fr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vr(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ye&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,yr(e,r)}return s=n.interleaved,s===null?(t.next=t,Ku(n)):(t.next=s.next,s.next=t),n.interleaved=t,yr(e,r)}function Pi(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Ru(e,r)}}function kf(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function eo(e,t,r,n){var s=e.updateQueue;Cr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var h=e.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==o&&(l===null?h.firstBaseUpdate=d:l.next=d,h.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;o=0,h=d=c=null,l=i;do{var u=l.lane,p=l.eventTime;if((n&u)===u){h!==null&&(h=h.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var b=e,x=l;switch(u=t,p=r,x.tag){case 1:if(b=x.payload,typeof b=="function"){f=b.call(p,f,u);break e}f=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=x.payload,u=typeof b=="function"?b.call(p,f,u):b,u==null)break e;f=Pe({},f,u);break e;case 2:Cr=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,u=s.effects,u===null?s.effects=[l]:u.push(l))}else p={eventTime:p,lane:u,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(d=h=p,c=f):h=h.next=p,o|=u;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;u=l,l=u.next,u.next=null,s.lastBaseUpdate=u,s.shared.pending=null}}while(!0);if(h===null&&(c=f),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=h,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);En|=o,e.lanes=o,e.memoizedState=f}}function Sf(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(Z(191,s));s.call(n)}}}var Qa={},rr=rn(Qa),Ea=rn(Qa),Oa=rn(Qa);function vn(e){if(e===Qa)throw Error(Z(174));return e}function Ju(e,t){switch(je(Oa,t),je(Ea,e),je(rr,Qa),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:cc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=cc(t,e)}Se(rr),je(rr,t)}function xs(){Se(rr),Se(Ea),Se(Oa)}function Bm(e){vn(Oa.current);var t=vn(rr.current),r=cc(t,e.type);t!==r&&(je(Ea,e),je(rr,r))}function Qu(e){Ea.current===e&&(Se(rr),Se(Ea))}var Ae=rn(0);function to(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Nl=[];function Yu(){for(var e=0;e<Nl.length;e++)Nl[e]._workInProgressVersionPrimary=null;Nl.length=0}var Ri=wr.ReactCurrentDispatcher,kl=wr.ReactCurrentBatchConfig,Sn=0,Ce=null,ze=null,Ve=null,ro=!1,oa=!1,Ta=0,bx=0;function Xe(){throw Error(Z(321))}function Zu(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Gt(e[r],t[r]))return!1;return!0}function Xu(e,t,r,n,s,i){if(Sn=i,Ce=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ri.current=e===null||e.memoizedState===null?Nx:kx,e=r(n,s),oa){i=0;do{if(oa=!1,Ta=0,25<=i)throw Error(Z(301));i+=1,Ve=ze=null,t.updateQueue=null,Ri.current=Sx,e=r(n,s)}while(oa)}if(Ri.current=no,t=ze!==null&&ze.next!==null,Sn=0,Ve=ze=Ce=null,ro=!1,t)throw Error(Z(300));return e}function ed(){var e=Ta!==0;return Ta=0,e}function Xt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ve===null?Ce.memoizedState=Ve=e:Ve=Ve.next=e,Ve}function It(){if(ze===null){var e=Ce.alternate;e=e!==null?e.memoizedState:null}else e=ze.next;var t=Ve===null?Ce.memoizedState:Ve.next;if(t!==null)Ve=t,ze=e;else{if(e===null)throw Error(Z(310));ze=e,e={memoizedState:ze.memoizedState,baseState:ze.baseState,baseQueue:ze.baseQueue,queue:ze.queue,next:null},Ve===null?Ce.memoizedState=Ve=e:Ve=Ve.next=e}return Ve}function Aa(e,t){return typeof t=="function"?t(e):t}function Sl(e){var t=It(),r=t.queue;if(r===null)throw Error(Z(311));r.lastRenderedReducer=e;var n=ze,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=o=null,c=null,d=i;do{var h=d.lane;if((Sn&h)===h)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var f={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,Ce.lanes|=h,En|=h}d=d.next}while(d!==null&&d!==i);c===null?o=n:c.next=l,Gt(n,t.memoizedState)||(ut=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,Ce.lanes|=i,En|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function El(e){var t=It(),r=t.queue;if(r===null)throw Error(Z(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Gt(i,t.memoizedState)||(ut=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function zm(){}function Hm(e,t){var r=Ce,n=It(),s=t(),i=!Gt(n.memoizedState,s);if(i&&(n.memoizedState=s,ut=!0),n=n.queue,td(Km.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Ve!==null&&Ve.memoizedState.tag&1){if(r.flags|=2048,Ca(9,Vm.bind(null,r,n,s,t),void 0,null),Ke===null)throw Error(Z(349));Sn&30||Wm(r,t,s)}return s}function Wm(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ce.updateQueue,t===null?(t={lastEffect:null,stores:null},Ce.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Vm(e,t,r,n){t.value=r,t.getSnapshot=n,Gm(t)&&Jm(e)}function Km(e,t,r){return r(function(){Gm(t)&&Jm(e)})}function Gm(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Gt(e,r)}catch{return!0}}function Jm(e){var t=yr(e,1);t!==null&&Kt(t,e,1,-1)}function Ef(e){var t=Xt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Aa,lastRenderedState:e},t.queue=e,e=e.dispatch=jx.bind(null,Ce,e),[t.memoizedState,e]}function Ca(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ce.updateQueue,t===null?(t={lastEffect:null,stores:null},Ce.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Qm(){return It().memoizedState}function Ii(e,t,r,n){var s=Xt();Ce.flags|=e,s.memoizedState=Ca(1|t,r,void 0,n===void 0?null:n)}function Ao(e,t,r,n){var s=It();n=n===void 0?null:n;var i=void 0;if(ze!==null){var o=ze.memoizedState;if(i=o.destroy,n!==null&&Zu(n,o.deps)){s.memoizedState=Ca(t,r,i,n);return}}Ce.flags|=e,s.memoizedState=Ca(1|t,r,i,n)}function Of(e,t){return Ii(8390656,8,e,t)}function td(e,t){return Ao(2048,8,e,t)}function Ym(e,t){return Ao(4,2,e,t)}function Zm(e,t){return Ao(4,4,e,t)}function Xm(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function eg(e,t,r){return r=r!=null?r.concat([e]):null,Ao(4,4,Xm.bind(null,t,e),r)}function rd(){}function tg(e,t){var r=It();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Zu(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function rg(e,t){var r=It();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Zu(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function ng(e,t,r){return Sn&21?(Gt(r,t)||(r=lm(),Ce.lanes|=r,En|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ut=!0),e.memoizedState=r)}function wx(e,t){var r=xe;xe=r!==0&&4>r?r:4,e(!0);var n=kl.transition;kl.transition={};try{e(!1),t()}finally{xe=r,kl.transition=n}}function sg(){return It().memoizedState}function _x(e,t,r){var n=Gr(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},ag(e))ig(t,r);else if(r=Um(e,t,r,n),r!==null){var s=at();Kt(r,e,n,s),og(r,t,n)}}function jx(e,t,r){var n=Gr(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(ag(e))ig(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,Gt(l,o)){var c=t.interleaved;c===null?(s.next=s,Ku(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=Um(e,t,s,n),r!==null&&(s=at(),Kt(r,e,n,s),og(r,t,n))}}function ag(e){var t=e.alternate;return e===Ce||t!==null&&t===Ce}function ig(e,t){oa=ro=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function og(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Ru(e,r)}}var no={readContext:Rt,useCallback:Xe,useContext:Xe,useEffect:Xe,useImperativeHandle:Xe,useInsertionEffect:Xe,useLayoutEffect:Xe,useMemo:Xe,useReducer:Xe,useRef:Xe,useState:Xe,useDebugValue:Xe,useDeferredValue:Xe,useTransition:Xe,useMutableSource:Xe,useSyncExternalStore:Xe,useId:Xe,unstable_isNewReconciler:!1},Nx={readContext:Rt,useCallback:function(e,t){return Xt().memoizedState=[e,t===void 0?null:t],e},useContext:Rt,useEffect:Of,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ii(4194308,4,Xm.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ii(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ii(4,2,e,t)},useMemo:function(e,t){var r=Xt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Xt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=_x.bind(null,Ce,e),[n.memoizedState,e]},useRef:function(e){var t=Xt();return e={current:e},t.memoizedState=e},useState:Ef,useDebugValue:rd,useDeferredValue:function(e){return Xt().memoizedState=e},useTransition:function(){var e=Ef(!1),t=e[0];return e=wx.bind(null,e[1]),Xt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Ce,s=Xt();if(Ee){if(r===void 0)throw Error(Z(407));r=r()}else{if(r=t(),Ke===null)throw Error(Z(349));Sn&30||Wm(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,Of(Km.bind(null,n,i,e),[e]),n.flags|=2048,Ca(9,Vm.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Xt(),t=Ke.identifierPrefix;if(Ee){var r=dr,n=ur;r=(n&~(1<<32-Vt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Ta++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=bx++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},kx={readContext:Rt,useCallback:tg,useContext:Rt,useEffect:td,useImperativeHandle:eg,useInsertionEffect:Ym,useLayoutEffect:Zm,useMemo:rg,useReducer:Sl,useRef:Qm,useState:function(){return Sl(Aa)},useDebugValue:rd,useDeferredValue:function(e){var t=It();return ng(t,ze.memoizedState,e)},useTransition:function(){var e=Sl(Aa)[0],t=It().memoizedState;return[e,t]},useMutableSource:zm,useSyncExternalStore:Hm,useId:sg,unstable_isNewReconciler:!1},Sx={readContext:Rt,useCallback:tg,useContext:Rt,useEffect:td,useImperativeHandle:eg,useInsertionEffect:Ym,useLayoutEffect:Zm,useMemo:rg,useReducer:El,useRef:Qm,useState:function(){return El(Aa)},useDebugValue:rd,useDeferredValue:function(e){var t=It();return ze===null?t.memoizedState=e:ng(t,ze.memoizedState,e)},useTransition:function(){var e=El(Aa)[0],t=It().memoizedState;return[e,t]},useMutableSource:zm,useSyncExternalStore:Hm,useId:sg,unstable_isNewReconciler:!1};function Ut(e,t){if(e&&e.defaultProps){t=Pe({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Ac(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Pe({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Co={isMounted:function(e){return(e=e._reactInternals)?$n(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=at(),s=Gr(e),i=fr(n,s);i.payload=t,r!=null&&(i.callback=r),t=Vr(e,i,s),t!==null&&(Kt(t,e,s,n),Pi(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=at(),s=Gr(e),i=fr(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Vr(e,i,s),t!==null&&(Kt(t,e,s,n),Pi(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=at(),n=Gr(e),s=fr(r,n);s.tag=2,t!=null&&(s.callback=t),t=Vr(e,s,n),t!==null&&(Kt(t,e,n,r),Pi(t,e,n))}};function Tf(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!ja(r,n)||!ja(s,i):!0}function lg(e,t,r){var n=!1,s=en,i=t.contextType;return typeof i=="object"&&i!==null?i=Rt(i):(s=ft(t)?Nn:rt.current,n=t.contextTypes,i=(n=n!=null)?gs(e,s):en),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Co,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Af(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Co.enqueueReplaceState(t,t.state,null)}function Cc(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Gu(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Rt(i):(i=ft(t)?Nn:rt.current,s.context=gs(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Ac(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Co.enqueueReplaceState(s,s.state,null),eo(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function bs(e,t){try{var r="",n=t;do r+=ev(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Ol(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Pc(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Ex=typeof WeakMap=="function"?WeakMap:Map;function cg(e,t,r){r=fr(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){ao||(ao=!0,Bc=n),Pc(e,t)},r}function ug(e,t,r){r=fr(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Pc(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Pc(e,t),typeof n!="function"&&(Kr===null?Kr=new Set([this]):Kr.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Cf(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Ex;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=qx.bind(null,e,t,r),t.then(e,e))}function Pf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Rf(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=fr(-1,1),t.tag=2,Vr(r,t,1))),r.lanes|=1),e)}var Ox=wr.ReactCurrentOwner,ut=!1;function st(e,t,r,n){t.child=e===null?Fm(t,null,r,n):vs(t,e.child,r,n)}function If(e,t,r,n,s){r=r.render;var i=t.ref;return ds(t,s),n=Xu(e,t,r,n,i,s),r=ed(),e!==null&&!ut?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,vr(e,t,s)):(Ee&&r&&qu(t),t.flags|=1,st(e,t,n,s),t.child)}function Lf(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!ud(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,dg(e,t,i,n,s)):(e=Mi(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:ja,r(o,n)&&e.ref===t.ref)return vr(e,t,s)}return t.flags|=1,e=Jr(i,n),e.ref=t.ref,e.return=t,t.child=e}function dg(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(ja(i,n)&&e.ref===t.ref)if(ut=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(ut=!0);else return t.lanes=e.lanes,vr(e,t,s)}return Rc(e,t,r,n,s)}function fg(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},je(as,yt),yt|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,je(as,yt),yt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,je(as,yt),yt|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,je(as,yt),yt|=n;return st(e,t,s,r),t.child}function hg(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Rc(e,t,r,n,s){var i=ft(r)?Nn:rt.current;return i=gs(t,i),ds(t,s),r=Xu(e,t,r,n,i,s),n=ed(),e!==null&&!ut?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,vr(e,t,s)):(Ee&&n&&qu(t),t.flags|=1,st(e,t,r,s),t.child)}function $f(e,t,r,n,s){if(ft(r)){var i=!0;Ji(t)}else i=!1;if(ds(t,s),t.stateNode===null)Li(e,t),lg(t,r,n),Cc(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=Rt(d):(d=ft(r)?Nn:rt.current,d=gs(t,d));var h=r.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==d)&&Af(t,o,n,d),Cr=!1;var u=t.memoizedState;o.state=u,eo(t,n,o,s),c=t.memoizedState,l!==n||u!==c||dt.current||Cr?(typeof h=="function"&&(Ac(t,r,h,n),c=t.memoizedState),(l=Cr||Tf(t,r,l,n,u,c,d))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=d,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,qm(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:Ut(t.type,l),o.props=d,f=t.pendingProps,u=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Rt(c):(c=ft(r)?Nn:rt.current,c=gs(t,c));var p=r.getDerivedStateFromProps;(h=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||u!==c)&&Af(t,o,n,c),Cr=!1,u=t.memoizedState,o.state=u,eo(t,n,o,s);var b=t.memoizedState;l!==f||u!==b||dt.current||Cr?(typeof p=="function"&&(Ac(t,r,p,n),b=t.memoizedState),(d=Cr||Tf(t,r,d,n,u,b,c)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,b,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,b,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&u===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&u===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=b),o.props=n,o.state=b,o.context=c,n=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&u===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&u===e.memoizedState||(t.flags|=1024),n=!1)}return Ic(e,t,r,n,i,s)}function Ic(e,t,r,n,s,i){hg(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&wf(t,r,!1),vr(e,t,i);n=t.stateNode,Ox.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=vs(t,e.child,null,i),t.child=vs(t,null,l,i)):st(e,t,l,i),t.memoizedState=n.state,s&&wf(t,r,!0),t.child}function pg(e){var t=e.stateNode;t.pendingContext?bf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&bf(e,t.context,!1),Ju(e,t.containerInfo)}function Df(e,t,r,n,s){return ys(),zu(s),t.flags|=256,st(e,t,r,n),t.child}var Lc={dehydrated:null,treeContext:null,retryLane:0};function $c(e){return{baseLanes:e,cachePool:null,transitions:null}}function mg(e,t,r){var n=t.pendingProps,s=Ae.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),je(Ae,s&1),e===null)return Oc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Io(o,n,0,null),e=jn(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=$c(r),t.memoizedState=Lc,e):nd(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Tx(e,t,o,n,l,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Jr(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Jr(l,i):(i=jn(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?$c(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=Lc,n}return i=e.child,e=i.sibling,n=Jr(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function nd(e,t){return t=Io({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function gi(e,t,r,n){return n!==null&&zu(n),vs(t,e.child,null,r),e=nd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Tx(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=Ol(Error(Z(422))),gi(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=Io({mode:"visible",children:n.children},s,0,null),i=jn(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&vs(t,e.child,null,o),t.child.memoizedState=$c(o),t.memoizedState=Lc,i);if(!(t.mode&1))return gi(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(Z(419)),n=Ol(i,n,void 0),gi(e,t,o,n)}if(l=(o&e.childLanes)!==0,ut||l){if(n=Ke,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,yr(e,s),Kt(n,e,s,-1))}return cd(),n=Ol(Error(Z(421))),gi(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Bx.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,wt=Wr(s.nextSibling),_t=t,Ee=!0,Ht=null,e!==null&&(Tt[At++]=ur,Tt[At++]=dr,Tt[At++]=kn,ur=e.id,dr=e.overflow,kn=t),t=nd(t,n.children),t.flags|=4096,t)}function Mf(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Tc(e.return,t,r)}function Tl(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function gg(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(st(e,t,n.children,r),n=Ae.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Mf(e,r,t);else if(e.tag===19)Mf(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(je(Ae,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&to(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Tl(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&to(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Tl(t,!0,r,null,i);break;case"together":Tl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Li(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function vr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),En|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Z(153));if(t.child!==null){for(e=t.child,r=Jr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Jr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Ax(e,t,r){switch(t.tag){case 3:pg(t),ys();break;case 5:Bm(t);break;case 1:ft(t.type)&&Ji(t);break;case 4:Ju(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;je(Zi,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(je(Ae,Ae.current&1),t.flags|=128,null):r&t.child.childLanes?mg(e,t,r):(je(Ae,Ae.current&1),e=vr(e,t,r),e!==null?e.sibling:null);je(Ae,Ae.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return gg(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),je(Ae,Ae.current),n)break;return null;case 22:case 23:return t.lanes=0,fg(e,t,r)}return vr(e,t,r)}var yg,Dc,vg,xg;yg=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Dc=function(){};vg=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,vn(rr.current);var i=null;switch(r){case"input":s=ac(e,s),n=ac(e,n),i=[];break;case"select":s=Pe({},s,{value:void 0}),n=Pe({},n,{value:void 0}),i=[];break;case"textarea":s=lc(e,s),n=lc(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Ki)}uc(r,n);var o;r=null;for(d in s)if(!n.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var l=s[d];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(ga.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in n){var c=n[d];if(l=s!=null?s[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(ga.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Ne("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};xg=function(e,t,r,n){r!==n&&(t.flags|=4)};function Hs(e,t){if(!Ee)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function et(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Cx(e,t,r){var n=t.pendingProps;switch(Bu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return et(t),null;case 1:return ft(t.type)&&Gi(),et(t),null;case 3:return n=t.stateNode,xs(),Se(dt),Se(rt),Yu(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(pi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ht!==null&&(Wc(Ht),Ht=null))),Dc(e,t),et(t),null;case 5:Qu(t);var s=vn(Oa.current);if(r=t.type,e!==null&&t.stateNode!=null)vg(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Z(166));return et(t),null}if(e=vn(rr.current),pi(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[er]=t,n[Sa]=i,e=(t.mode&1)!==0,r){case"dialog":Ne("cancel",n),Ne("close",n);break;case"iframe":case"object":case"embed":Ne("load",n);break;case"video":case"audio":for(s=0;s<Ys.length;s++)Ne(Ys[s],n);break;case"source":Ne("error",n);break;case"img":case"image":case"link":Ne("error",n),Ne("load",n);break;case"details":Ne("toggle",n);break;case"input":Vd(n,i),Ne("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Ne("invalid",n);break;case"textarea":Gd(n,i),Ne("invalid",n)}uc(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&hi(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&hi(n.textContent,l,e),s=["children",""+l]):ga.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ne("scroll",n)}switch(r){case"input":ai(n),Kd(n,i,!0);break;case"textarea":ai(n),Jd(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Ki)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Kp(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[er]=t,e[Sa]=n,yg(e,t,!1,!1),t.stateNode=e;e:{switch(o=dc(r,n),r){case"dialog":Ne("cancel",e),Ne("close",e),s=n;break;case"iframe":case"object":case"embed":Ne("load",e),s=n;break;case"video":case"audio":for(s=0;s<Ys.length;s++)Ne(Ys[s],e);s=n;break;case"source":Ne("error",e),s=n;break;case"img":case"image":case"link":Ne("error",e),Ne("load",e),s=n;break;case"details":Ne("toggle",e),s=n;break;case"input":Vd(e,n),s=ac(e,n),Ne("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Pe({},n,{value:void 0}),Ne("invalid",e);break;case"textarea":Gd(e,n),s=lc(e,n),Ne("invalid",e);break;default:s=n}uc(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?Qp(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Gp(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&ya(e,c):typeof c=="number"&&ya(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ga.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ne("scroll",e):c!=null&&Eu(e,i,c,o))}switch(r){case"input":ai(e),Kd(e,n,!1);break;case"textarea":ai(e),Jd(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Xr(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?os(e,!!n.multiple,i,!1):n.defaultValue!=null&&os(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ki)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return et(t),null;case 6:if(e&&t.stateNode!=null)xg(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Z(166));if(r=vn(Oa.current),vn(rr.current),pi(t)){if(n=t.stateNode,r=t.memoizedProps,n[er]=t,(i=n.nodeValue!==r)&&(e=_t,e!==null))switch(e.tag){case 3:hi(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&hi(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[er]=t,t.stateNode=n}return et(t),null;case 13:if(Se(Ae),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ee&&wt!==null&&t.mode&1&&!(t.flags&128))Dm(),ys(),t.flags|=98560,i=!1;else if(i=pi(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(Z(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Z(317));i[er]=t}else ys(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;et(t),i=!1}else Ht!==null&&(Wc(Ht),Ht=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Ae.current&1?He===0&&(He=3):cd())),t.updateQueue!==null&&(t.flags|=4),et(t),null);case 4:return xs(),Dc(e,t),e===null&&Na(t.stateNode.containerInfo),et(t),null;case 10:return Vu(t.type._context),et(t),null;case 17:return ft(t.type)&&Gi(),et(t),null;case 19:if(Se(Ae),i=t.memoizedState,i===null)return et(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)Hs(i,!1);else{if(He!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=to(e),o!==null){for(t.flags|=128,Hs(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return je(Ae,Ae.current&1|2),t.child}e=e.sibling}i.tail!==null&&De()>ws&&(t.flags|=128,n=!0,Hs(i,!1),t.lanes=4194304)}else{if(!n)if(e=to(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Hs(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ee)return et(t),null}else 2*De()-i.renderingStartTime>ws&&r!==1073741824&&(t.flags|=128,n=!0,Hs(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=De(),t.sibling=null,r=Ae.current,je(Ae,n?r&1|2:r&1),t):(et(t),null);case 22:case 23:return ld(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?yt&1073741824&&(et(t),t.subtreeFlags&6&&(t.flags|=8192)):et(t),null;case 24:return null;case 25:return null}throw Error(Z(156,t.tag))}function Px(e,t){switch(Bu(t),t.tag){case 1:return ft(t.type)&&Gi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return xs(),Se(dt),Se(rt),Yu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Qu(t),null;case 13:if(Se(Ae),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Z(340));ys()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Se(Ae),null;case 4:return xs(),null;case 10:return Vu(t.type._context),null;case 22:case 23:return ld(),null;case 24:return null;default:return null}}var yi=!1,tt=!1,Rx=typeof WeakSet=="function"?WeakSet:Set,se=null;function ss(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Le(e,t,n)}else r.current=null}function Mc(e,t,r){try{r()}catch(n){Le(e,t,n)}}var Ff=!1;function Ix(e,t){if(wc=Hi,e=Nm(),Uu(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,d=0,h=0,f=e,u=null;t:for(;;){for(var p;f!==r||s!==0&&f.nodeType!==3||(l=o+s),f!==i||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)u=f,f=p;for(;;){if(f===e)break t;if(u===r&&++d===s&&(l=o),u===i&&++h===n&&(c=o),(p=f.nextSibling)!==null)break;f=u,u=f.parentNode}f=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(_c={focusedElem:e,selectionRange:r},Hi=!1,se=t;se!==null;)if(t=se,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,se=e;else for(;se!==null;){t=se;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var x=b.memoizedProps,w=b.memoizedState,m=t.stateNode,g=m.getSnapshotBeforeUpdate(t.elementType===t.type?x:Ut(t.type,x),w);m.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Z(163))}}catch(v){Le(t,t.return,v)}if(e=t.sibling,e!==null){e.return=t.return,se=e;break}se=t.return}return b=Ff,Ff=!1,b}function la(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Mc(t,r,i)}s=s.next}while(s!==n)}}function Po(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Fc(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function bg(e){var t=e.alternate;t!==null&&(e.alternate=null,bg(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[er],delete t[Sa],delete t[kc],delete t[gx],delete t[yx])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function wg(e){return e.tag===5||e.tag===3||e.tag===4}function Uf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||wg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Uc(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ki));else if(n!==4&&(e=e.child,e!==null))for(Uc(e,t,r),e=e.sibling;e!==null;)Uc(e,t,r),e=e.sibling}function qc(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(qc(e,t,r),e=e.sibling;e!==null;)qc(e,t,r),e=e.sibling}var Qe=null,Bt=!1;function Tr(e,t,r){for(r=r.child;r!==null;)_g(e,t,r),r=r.sibling}function _g(e,t,r){if(tr&&typeof tr.onCommitFiberUnmount=="function")try{tr.onCommitFiberUnmount(No,r)}catch{}switch(r.tag){case 5:tt||ss(r,t);case 6:var n=Qe,s=Bt;Qe=null,Tr(e,t,r),Qe=n,Bt=s,Qe!==null&&(Bt?(e=Qe,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Qe.removeChild(r.stateNode));break;case 18:Qe!==null&&(Bt?(e=Qe,r=r.stateNode,e.nodeType===8?_l(e.parentNode,r):e.nodeType===1&&_l(e,r),wa(e)):_l(Qe,r.stateNode));break;case 4:n=Qe,s=Bt,Qe=r.stateNode.containerInfo,Bt=!0,Tr(e,t,r),Qe=n,Bt=s;break;case 0:case 11:case 14:case 15:if(!tt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Mc(r,t,o),s=s.next}while(s!==n)}Tr(e,t,r);break;case 1:if(!tt&&(ss(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Le(r,t,l)}Tr(e,t,r);break;case 21:Tr(e,t,r);break;case 22:r.mode&1?(tt=(n=tt)||r.memoizedState!==null,Tr(e,t,r),tt=n):Tr(e,t,r);break;default:Tr(e,t,r)}}function qf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Rx),t.forEach(function(n){var s=zx.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Mt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Qe=l.stateNode,Bt=!1;break e;case 3:Qe=l.stateNode.containerInfo,Bt=!0;break e;case 4:Qe=l.stateNode.containerInfo,Bt=!0;break e}l=l.return}if(Qe===null)throw Error(Z(160));_g(i,o,s),Qe=null,Bt=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){Le(s,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)jg(t,e),t=t.sibling}function jg(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Mt(t,e),Jt(e),n&4){try{la(3,e,e.return),Po(3,e)}catch(x){Le(e,e.return,x)}try{la(5,e,e.return)}catch(x){Le(e,e.return,x)}}break;case 1:Mt(t,e),Jt(e),n&512&&r!==null&&ss(r,r.return);break;case 5:if(Mt(t,e),Jt(e),n&512&&r!==null&&ss(r,r.return),e.flags&32){var s=e.stateNode;try{ya(s,"")}catch(x){Le(e,e.return,x)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Wp(s,i),dc(l,o);var d=dc(l,i);for(o=0;o<c.length;o+=2){var h=c[o],f=c[o+1];h==="style"?Qp(s,f):h==="dangerouslySetInnerHTML"?Gp(s,f):h==="children"?ya(s,f):Eu(s,h,f,d)}switch(l){case"input":ic(s,i);break;case"textarea":Vp(s,i);break;case"select":var u=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?os(s,!!i.multiple,p,!1):u!==!!i.multiple&&(i.defaultValue!=null?os(s,!!i.multiple,i.defaultValue,!0):os(s,!!i.multiple,i.multiple?[]:"",!1))}s[Sa]=i}catch(x){Le(e,e.return,x)}}break;case 6:if(Mt(t,e),Jt(e),n&4){if(e.stateNode===null)throw Error(Z(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(x){Le(e,e.return,x)}}break;case 3:if(Mt(t,e),Jt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{wa(t.containerInfo)}catch(x){Le(e,e.return,x)}break;case 4:Mt(t,e),Jt(e);break;case 13:Mt(t,e),Jt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(id=De())),n&4&&qf(e);break;case 22:if(h=r!==null&&r.memoizedState!==null,e.mode&1?(tt=(d=tt)||h,Mt(t,e),tt=d):Mt(t,e),Jt(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!h&&e.mode&1)for(se=e,h=e.child;h!==null;){for(f=se=h;se!==null;){switch(u=se,p=u.child,u.tag){case 0:case 11:case 14:case 15:la(4,u,u.return);break;case 1:ss(u,u.return);var b=u.stateNode;if(typeof b.componentWillUnmount=="function"){n=u,r=u.return;try{t=n,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(x){Le(n,r,x)}}break;case 5:ss(u,u.return);break;case 22:if(u.memoizedState!==null){zf(f);continue}}p!==null?(p.return=u,se=p):zf(f)}h=h.sibling}e:for(h=null,f=e;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Jp("display",o))}catch(x){Le(e,e.return,x)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(x){Le(e,e.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Mt(t,e),Jt(e),n&4&&qf(e);break;case 21:break;default:Mt(t,e),Jt(e)}}function Jt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(wg(r)){var n=r;break e}r=r.return}throw Error(Z(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(ya(s,""),n.flags&=-33);var i=Uf(e);qc(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=Uf(e);Uc(e,l,o);break;default:throw Error(Z(161))}}catch(c){Le(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Lx(e,t,r){se=e,Ng(e)}function Ng(e,t,r){for(var n=(e.mode&1)!==0;se!==null;){var s=se,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||yi;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||tt;l=yi;var d=tt;if(yi=o,(tt=c)&&!d)for(se=s;se!==null;)o=se,c=o.child,o.tag===22&&o.memoizedState!==null?Hf(s):c!==null?(c.return=o,se=c):Hf(s);for(;i!==null;)se=i,Ng(i),i=i.sibling;se=s,yi=l,tt=d}Bf(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,se=i):Bf(e)}}function Bf(e){for(;se!==null;){var t=se;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:tt||Po(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!tt)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Ut(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Sf(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Sf(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var h=d.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&wa(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Z(163))}tt||t.flags&512&&Fc(t)}catch(u){Le(t,t.return,u)}}if(t===e){se=null;break}if(r=t.sibling,r!==null){r.return=t.return,se=r;break}se=t.return}}function zf(e){for(;se!==null;){var t=se;if(t===e){se=null;break}var r=t.sibling;if(r!==null){r.return=t.return,se=r;break}se=t.return}}function Hf(e){for(;se!==null;){var t=se;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Po(4,t)}catch(c){Le(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){Le(t,s,c)}}var i=t.return;try{Fc(t)}catch(c){Le(t,i,c)}break;case 5:var o=t.return;try{Fc(t)}catch(c){Le(t,o,c)}}}catch(c){Le(t,t.return,c)}if(t===e){se=null;break}var l=t.sibling;if(l!==null){l.return=t.return,se=l;break}se=t.return}}var $x=Math.ceil,so=wr.ReactCurrentDispatcher,sd=wr.ReactCurrentOwner,Pt=wr.ReactCurrentBatchConfig,ye=0,Ke=null,qe=null,Ye=0,yt=0,as=rn(0),He=0,Pa=null,En=0,Ro=0,ad=0,ca=null,ct=null,id=0,ws=1/0,ir=null,ao=!1,Bc=null,Kr=null,vi=!1,Mr=null,io=0,ua=0,zc=null,$i=-1,Di=0;function at(){return ye&6?De():$i!==-1?$i:$i=De()}function Gr(e){return e.mode&1?ye&2&&Ye!==0?Ye&-Ye:xx.transition!==null?(Di===0&&(Di=lm()),Di):(e=xe,e!==0||(e=window.event,e=e===void 0?16:mm(e.type)),e):1}function Kt(e,t,r,n){if(50<ua)throw ua=0,zc=null,Error(Z(185));Ka(e,r,n),(!(ye&2)||e!==Ke)&&(e===Ke&&(!(ye&2)&&(Ro|=r),He===4&&Ir(e,Ye)),ht(e,n),r===1&&ye===0&&!(t.mode&1)&&(ws=De()+500,To&&nn()))}function ht(e,t){var r=e.callbackNode;xv(e,t);var n=zi(e,e===Ke?Ye:0);if(n===0)r!==null&&Zd(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Zd(r),t===1)e.tag===0?vx(Wf.bind(null,e)):Im(Wf.bind(null,e)),px(function(){!(ye&6)&&nn()}),r=null;else{switch(cm(n)){case 1:r=Pu;break;case 4:r=im;break;case 16:r=Bi;break;case 536870912:r=om;break;default:r=Bi}r=Pg(r,kg.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function kg(e,t){if($i=-1,Di=0,ye&6)throw Error(Z(327));var r=e.callbackNode;if(fs()&&e.callbackNode!==r)return null;var n=zi(e,e===Ke?Ye:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=oo(e,n);else{t=n;var s=ye;ye|=2;var i=Eg();(Ke!==e||Ye!==t)&&(ir=null,ws=De()+500,_n(e,t));do try{Fx();break}catch(l){Sg(e,l)}while(!0);Wu(),so.current=i,ye=s,qe!==null?t=0:(Ke=null,Ye=0,t=He)}if(t!==0){if(t===2&&(s=gc(e),s!==0&&(n=s,t=Hc(e,s))),t===1)throw r=Pa,_n(e,0),Ir(e,n),ht(e,De()),r;if(t===6)Ir(e,n);else{if(s=e.current.alternate,!(n&30)&&!Dx(s)&&(t=oo(e,n),t===2&&(i=gc(e),i!==0&&(n=i,t=Hc(e,i))),t===1))throw r=Pa,_n(e,0),Ir(e,n),ht(e,De()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(Z(345));case 2:cn(e,ct,ir);break;case 3:if(Ir(e,n),(n&130023424)===n&&(t=id+500-De(),10<t)){if(zi(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){at(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Nc(cn.bind(null,e,ct,ir),t);break}cn(e,ct,ir);break;case 4:if(Ir(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-Vt(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=De()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*$x(n/1960))-n,10<n){e.timeoutHandle=Nc(cn.bind(null,e,ct,ir),n);break}cn(e,ct,ir);break;case 5:cn(e,ct,ir);break;default:throw Error(Z(329))}}}return ht(e,De()),e.callbackNode===r?kg.bind(null,e):null}function Hc(e,t){var r=ca;return e.current.memoizedState.isDehydrated&&(_n(e,t).flags|=256),e=oo(e,t),e!==2&&(t=ct,ct=r,t!==null&&Wc(t)),e}function Wc(e){ct===null?ct=e:ct.push.apply(ct,e)}function Dx(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Gt(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ir(e,t){for(t&=~ad,t&=~Ro,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Vt(t),n=1<<r;e[r]=-1,t&=~n}}function Wf(e){if(ye&6)throw Error(Z(327));fs();var t=zi(e,0);if(!(t&1))return ht(e,De()),null;var r=oo(e,t);if(e.tag!==0&&r===2){var n=gc(e);n!==0&&(t=n,r=Hc(e,n))}if(r===1)throw r=Pa,_n(e,0),Ir(e,t),ht(e,De()),r;if(r===6)throw Error(Z(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,cn(e,ct,ir),ht(e,De()),null}function od(e,t){var r=ye;ye|=1;try{return e(t)}finally{ye=r,ye===0&&(ws=De()+500,To&&nn())}}function On(e){Mr!==null&&Mr.tag===0&&!(ye&6)&&fs();var t=ye;ye|=1;var r=Pt.transition,n=xe;try{if(Pt.transition=null,xe=1,e)return e()}finally{xe=n,Pt.transition=r,ye=t,!(ye&6)&&nn()}}function ld(){yt=as.current,Se(as)}function _n(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,hx(r)),qe!==null)for(r=qe.return;r!==null;){var n=r;switch(Bu(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Gi();break;case 3:xs(),Se(dt),Se(rt),Yu();break;case 5:Qu(n);break;case 4:xs();break;case 13:Se(Ae);break;case 19:Se(Ae);break;case 10:Vu(n.type._context);break;case 22:case 23:ld()}r=r.return}if(Ke=e,qe=e=Jr(e.current,null),Ye=yt=t,He=0,Pa=null,ad=Ro=En=0,ct=ca=null,yn!==null){for(t=0;t<yn.length;t++)if(r=yn[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}yn=null}return e}function Sg(e,t){do{var r=qe;try{if(Wu(),Ri.current=no,ro){for(var n=Ce.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}ro=!1}if(Sn=0,Ve=ze=Ce=null,oa=!1,Ta=0,sd.current=null,r===null||r.return===null){He=1,Pa=t,qe=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=Ye,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,h=l,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var u=h.alternate;u?(h.updateQueue=u.updateQueue,h.memoizedState=u.memoizedState,h.lanes=u.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=Pf(o);if(p!==null){p.flags&=-257,Rf(p,o,l,i,t),p.mode&1&&Cf(i,d,t),t=p,c=d;var b=t.updateQueue;if(b===null){var x=new Set;x.add(c),t.updateQueue=x}else b.add(c);break e}else{if(!(t&1)){Cf(i,d,t),cd();break e}c=Error(Z(426))}}else if(Ee&&l.mode&1){var w=Pf(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Rf(w,o,l,i,t),zu(bs(c,l));break e}}i=c=bs(c,l),He!==4&&(He=2),ca===null?ca=[i]:ca.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var m=cg(i,c,t);kf(i,m);break e;case 1:l=c;var g=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Kr===null||!Kr.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t;var v=ug(i,l,t);kf(i,v);break e}}i=i.return}while(i!==null)}Tg(r)}catch(_){t=_,qe===r&&r!==null&&(qe=r=r.return);continue}break}while(!0)}function Eg(){var e=so.current;return so.current=no,e===null?no:e}function cd(){(He===0||He===3||He===2)&&(He=4),Ke===null||!(En&268435455)&&!(Ro&268435455)||Ir(Ke,Ye)}function oo(e,t){var r=ye;ye|=2;var n=Eg();(Ke!==e||Ye!==t)&&(ir=null,_n(e,t));do try{Mx();break}catch(s){Sg(e,s)}while(!0);if(Wu(),ye=r,so.current=n,qe!==null)throw Error(Z(261));return Ke=null,Ye=0,He}function Mx(){for(;qe!==null;)Og(qe)}function Fx(){for(;qe!==null&&!uv();)Og(qe)}function Og(e){var t=Cg(e.alternate,e,yt);e.memoizedProps=e.pendingProps,t===null?Tg(e):qe=t,sd.current=null}function Tg(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Px(r,t),r!==null){r.flags&=32767,qe=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{He=6,qe=null;return}}else if(r=Cx(r,t,yt),r!==null){qe=r;return}if(t=t.sibling,t!==null){qe=t;return}qe=t=e}while(t!==null);He===0&&(He=5)}function cn(e,t,r){var n=xe,s=Pt.transition;try{Pt.transition=null,xe=1,Ux(e,t,r,n)}finally{Pt.transition=s,xe=n}return null}function Ux(e,t,r,n){do fs();while(Mr!==null);if(ye&6)throw Error(Z(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Z(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(bv(e,i),e===Ke&&(qe=Ke=null,Ye=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||vi||(vi=!0,Pg(Bi,function(){return fs(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Pt.transition,Pt.transition=null;var o=xe;xe=1;var l=ye;ye|=4,sd.current=null,Ix(e,r),jg(r,e),ix(_c),Hi=!!wc,_c=wc=null,e.current=r,Lx(r),dv(),ye=l,xe=o,Pt.transition=i}else e.current=r;if(vi&&(vi=!1,Mr=e,io=s),i=e.pendingLanes,i===0&&(Kr=null),pv(r.stateNode),ht(e,De()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(ao)throw ao=!1,e=Bc,Bc=null,e;return io&1&&e.tag!==0&&fs(),i=e.pendingLanes,i&1?e===zc?ua++:(ua=0,zc=e):ua=0,nn(),null}function fs(){if(Mr!==null){var e=cm(io),t=Pt.transition,r=xe;try{if(Pt.transition=null,xe=16>e?16:e,Mr===null)var n=!1;else{if(e=Mr,Mr=null,io=0,ye&6)throw Error(Z(331));var s=ye;for(ye|=4,se=e.current;se!==null;){var i=se,o=i.child;if(se.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(se=d;se!==null;){var h=se;switch(h.tag){case 0:case 11:case 15:la(8,h,i)}var f=h.child;if(f!==null)f.return=h,se=f;else for(;se!==null;){h=se;var u=h.sibling,p=h.return;if(bg(h),h===d){se=null;break}if(u!==null){u.return=p,se=u;break}se=p}}}var b=i.alternate;if(b!==null){var x=b.child;if(x!==null){b.child=null;do{var w=x.sibling;x.sibling=null,x=w}while(x!==null)}}se=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,se=o;else e:for(;se!==null;){if(i=se,i.flags&2048)switch(i.tag){case 0:case 11:case 15:la(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,se=m;break e}se=i.return}}var g=e.current;for(se=g;se!==null;){o=se;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,se=y;else e:for(o=g;se!==null;){if(l=se,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Po(9,l)}}catch(_){Le(l,l.return,_)}if(l===o){se=null;break e}var v=l.sibling;if(v!==null){v.return=l.return,se=v;break e}se=l.return}}if(ye=s,nn(),tr&&typeof tr.onPostCommitFiberRoot=="function")try{tr.onPostCommitFiberRoot(No,e)}catch{}n=!0}return n}finally{xe=r,Pt.transition=t}}return!1}function Vf(e,t,r){t=bs(r,t),t=cg(e,t,1),e=Vr(e,t,1),t=at(),e!==null&&(Ka(e,1,t),ht(e,t))}function Le(e,t,r){if(e.tag===3)Vf(e,e,r);else for(;t!==null;){if(t.tag===3){Vf(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Kr===null||!Kr.has(n))){e=bs(r,e),e=ug(t,e,1),t=Vr(t,e,1),e=at(),t!==null&&(Ka(t,1,e),ht(t,e));break}}t=t.return}}function qx(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=at(),e.pingedLanes|=e.suspendedLanes&r,Ke===e&&(Ye&r)===r&&(He===4||He===3&&(Ye&130023424)===Ye&&500>De()-id?_n(e,0):ad|=r),ht(e,t)}function Ag(e,t){t===0&&(e.mode&1?(t=li,li<<=1,!(li&130023424)&&(li=4194304)):t=1);var r=at();e=yr(e,t),e!==null&&(Ka(e,t,r),ht(e,r))}function Bx(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Ag(e,r)}function zx(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Z(314))}n!==null&&n.delete(t),Ag(e,r)}var Cg;Cg=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||dt.current)ut=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return ut=!1,Ax(e,t,r);ut=!!(e.flags&131072)}else ut=!1,Ee&&t.flags&1048576&&Lm(t,Yi,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Li(e,t),e=t.pendingProps;var s=gs(t,rt.current);ds(t,r),s=Xu(null,t,n,e,s,r);var i=ed();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ft(n)?(i=!0,Ji(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Gu(t),s.updater=Co,t.stateNode=s,s._reactInternals=t,Cc(t,n,e,r),t=Ic(null,t,n,!0,i,r)):(t.tag=0,Ee&&i&&qu(t),st(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Li(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=Wx(n),e=Ut(n,e),s){case 0:t=Rc(null,t,n,e,r);break e;case 1:t=$f(null,t,n,e,r);break e;case 11:t=If(null,t,n,e,r);break e;case 14:t=Lf(null,t,n,Ut(n.type,e),r);break e}throw Error(Z(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ut(n,s),Rc(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ut(n,s),$f(e,t,n,s,r);case 3:e:{if(pg(t),e===null)throw Error(Z(387));n=t.pendingProps,i=t.memoizedState,s=i.element,qm(e,t),eo(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=bs(Error(Z(423)),t),t=Df(e,t,n,r,s);break e}else if(n!==s){s=bs(Error(Z(424)),t),t=Df(e,t,n,r,s);break e}else for(wt=Wr(t.stateNode.containerInfo.firstChild),_t=t,Ee=!0,Ht=null,r=Fm(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ys(),n===s){t=vr(e,t,r);break e}st(e,t,n,r)}t=t.child}return t;case 5:return Bm(t),e===null&&Oc(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,jc(n,s)?o=null:i!==null&&jc(n,i)&&(t.flags|=32),hg(e,t),st(e,t,o,r),t.child;case 6:return e===null&&Oc(t),null;case 13:return mg(e,t,r);case 4:return Ju(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=vs(t,null,n,r):st(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ut(n,s),If(e,t,n,s,r);case 7:return st(e,t,t.pendingProps,r),t.child;case 8:return st(e,t,t.pendingProps.children,r),t.child;case 12:return st(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,je(Zi,n._currentValue),n._currentValue=o,i!==null)if(Gt(i.value,o)){if(i.children===s.children&&!dt.current){t=vr(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=fr(-1,r&-r),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var h=d.pending;h===null?c.next=c:(c.next=h.next,h.next=c),d.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Tc(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Z(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Tc(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}st(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,ds(t,r),s=Rt(s),n=n(s),t.flags|=1,st(e,t,n,r),t.child;case 14:return n=t.type,s=Ut(n,t.pendingProps),s=Ut(n.type,s),Lf(e,t,n,s,r);case 15:return dg(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ut(n,s),Li(e,t),t.tag=1,ft(n)?(e=!0,Ji(t)):e=!1,ds(t,r),lg(t,n,s),Cc(t,n,s,r),Ic(null,t,n,!0,e,r);case 19:return gg(e,t,r);case 22:return fg(e,t,r)}throw Error(Z(156,t.tag))};function Pg(e,t){return am(e,t)}function Hx(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ct(e,t,r,n){return new Hx(e,t,r,n)}function ud(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Wx(e){if(typeof e=="function")return ud(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Tu)return 11;if(e===Au)return 14}return 2}function Jr(e,t){var r=e.alternate;return r===null?(r=Ct(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Mi(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")ud(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Jn:return jn(r.children,s,i,t);case Ou:o=8,s|=8;break;case tc:return e=Ct(12,r,t,s|2),e.elementType=tc,e.lanes=i,e;case rc:return e=Ct(13,r,t,s),e.elementType=rc,e.lanes=i,e;case nc:return e=Ct(19,r,t,s),e.elementType=nc,e.lanes=i,e;case Bp:return Io(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Up:o=10;break e;case qp:o=9;break e;case Tu:o=11;break e;case Au:o=14;break e;case Ar:o=16,n=null;break e}throw Error(Z(130,e==null?e:typeof e,""))}return t=Ct(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function jn(e,t,r,n){return e=Ct(7,e,n,t),e.lanes=r,e}function Io(e,t,r,n){return e=Ct(22,e,n,t),e.elementType=Bp,e.lanes=r,e.stateNode={isHidden:!1},e}function Al(e,t,r){return e=Ct(6,e,null,t),e.lanes=r,e}function Cl(e,t,r){return t=Ct(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vx(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=dl(0),this.expirationTimes=dl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dl(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function dd(e,t,r,n,s,i,o,l,c){return e=new Vx(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ct(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gu(i),e}function Kx(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Gn,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Rg(e){if(!e)return en;e=e._reactInternals;e:{if($n(e)!==e||e.tag!==1)throw Error(Z(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ft(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Z(171))}if(e.tag===1){var r=e.type;if(ft(r))return Rm(e,r,t)}return t}function Ig(e,t,r,n,s,i,o,l,c){return e=dd(r,n,!0,e,s,i,o,l,c),e.context=Rg(null),r=e.current,n=at(),s=Gr(r),i=fr(n,s),i.callback=t??null,Vr(r,i,s),e.current.lanes=s,Ka(e,s,n),ht(e,n),e}function Lo(e,t,r,n){var s=t.current,i=at(),o=Gr(s);return r=Rg(r),t.context===null?t.context=r:t.pendingContext=r,t=fr(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Vr(s,t,o),e!==null&&(Kt(e,s,o,i),Pi(e,s,o)),o}function lo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Kf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function fd(e,t){Kf(e,t),(e=e.alternate)&&Kf(e,t)}function Gx(){return null}var Lg=typeof reportError=="function"?reportError:function(e){console.error(e)};function hd(e){this._internalRoot=e}$o.prototype.render=hd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Z(409));Lo(e,t,null,null)};$o.prototype.unmount=hd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;On(function(){Lo(null,e,null,null)}),t[gr]=null}};function $o(e){this._internalRoot=e}$o.prototype.unstable_scheduleHydration=function(e){if(e){var t=fm();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Rr.length&&t!==0&&t<Rr[r].priority;r++);Rr.splice(r,0,e),r===0&&pm(e)}};function pd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Do(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Gf(){}function Jx(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var d=lo(o);i.call(d)}}var o=Ig(t,n,e,0,null,!1,!1,"",Gf);return e._reactRootContainer=o,e[gr]=o.current,Na(e.nodeType===8?e.parentNode:e),On(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var d=lo(c);l.call(d)}}var c=dd(e,0,!1,null,null,!1,!1,"",Gf);return e._reactRootContainer=c,e[gr]=c.current,Na(e.nodeType===8?e.parentNode:e),On(function(){Lo(t,c,r,n)}),c}function Mo(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=lo(o);l.call(c)}}Lo(t,o,e,s)}else o=Jx(r,t,e,s,n);return lo(o)}um=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Qs(t.pendingLanes);r!==0&&(Ru(t,r|1),ht(t,De()),!(ye&6)&&(ws=De()+500,nn()))}break;case 13:On(function(){var n=yr(e,1);if(n!==null){var s=at();Kt(n,e,1,s)}}),fd(e,1)}};Iu=function(e){if(e.tag===13){var t=yr(e,134217728);if(t!==null){var r=at();Kt(t,e,134217728,r)}fd(e,134217728)}};dm=function(e){if(e.tag===13){var t=Gr(e),r=yr(e,t);if(r!==null){var n=at();Kt(r,e,t,n)}fd(e,t)}};fm=function(){return xe};hm=function(e,t){var r=xe;try{return xe=e,t()}finally{xe=r}};hc=function(e,t,r){switch(t){case"input":if(ic(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Oo(n);if(!s)throw Error(Z(90));Hp(n),ic(n,s)}}}break;case"textarea":Vp(e,r);break;case"select":t=r.value,t!=null&&os(e,!!r.multiple,t,!1)}};Xp=od;em=On;var Qx={usingClientEntryPoint:!1,Events:[Ja,Xn,Oo,Yp,Zp,od]},Ws={findFiberByHostInstance:gn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Yx={bundleType:Ws.bundleType,version:Ws.version,rendererPackageName:Ws.rendererPackageName,rendererConfig:Ws.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:wr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=nm(e),e===null?null:e.stateNode},findFiberByHostInstance:Ws.findFiberByHostInstance||Gx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xi.isDisabled&&xi.supportsFiber)try{No=xi.inject(Yx),tr=xi}catch{}}Nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Qx;Nt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!pd(t))throw Error(Z(200));return Kx(e,t,null,r)};Nt.createRoot=function(e,t){if(!pd(e))throw Error(Z(299));var r=!1,n="",s=Lg;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=dd(e,1,!1,null,null,r,!1,n,s),e[gr]=t.current,Na(e.nodeType===8?e.parentNode:e),new hd(t)};Nt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Z(188)):(e=Object.keys(e).join(","),Error(Z(268,e)));return e=nm(t),e=e===null?null:e.stateNode,e};Nt.flushSync=function(e){return On(e)};Nt.hydrate=function(e,t,r){if(!Do(t))throw Error(Z(200));return Mo(null,e,t,!0,r)};Nt.hydrateRoot=function(e,t,r){if(!pd(e))throw Error(Z(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=Lg;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=Ig(t,null,e,1,r??null,s,!1,i,o),e[gr]=t.current,Na(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new $o(t)};Nt.render=function(e,t,r){if(!Do(t))throw Error(Z(200));return Mo(null,e,t,!1,r)};Nt.unmountComponentAtNode=function(e){if(!Do(e))throw Error(Z(40));return e._reactRootContainer?(On(function(){Mo(null,null,e,!1,function(){e._reactRootContainer=null,e[gr]=null})}),!0):!1};Nt.unstable_batchedUpdates=od;Nt.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Do(r))throw Error(Z(200));if(e==null||e._reactInternals===void 0)throw Error(Z(38));return Mo(e,t,r,!1,n)};Nt.version="18.3.1-next-f1338f8080-20240426";function $g(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($g)}catch(e){console.error(e)}}$g(),$p.exports=Nt;var md=$p.exports,Jf=md;Xl.createRoot=Jf.createRoot,Xl.hydrateRoot=Jf.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ra(){return Ra=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ra.apply(this,arguments)}var Fr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Fr||(Fr={}));const Qf="popstate";function Zx(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:o,hash:l}=n.location;return Vc("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:co(s)}return eb(t,r,null,e)}function Me(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function gd(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Xx(){return Math.random().toString(36).substr(2,8)}function Yf(e,t){return{usr:e.state,key:e.key,idx:t}}function Vc(e,t,r,n){return r===void 0&&(r=null),Ra({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Os(t):t,{state:r,key:t&&t.key||n||Xx()})}function co(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Os(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function eb(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,l=Fr.Pop,c=null,d=h();d==null&&(d=0,o.replaceState(Ra({},o.state,{idx:d}),""));function h(){return(o.state||{idx:null}).idx}function f(){l=Fr.Pop;let w=h(),m=w==null?null:w-d;d=w,c&&c({action:l,location:x.location,delta:m})}function u(w,m){l=Fr.Push;let g=Vc(x.location,w,m);d=h()+1;let y=Yf(g,d),v=x.createHref(g);try{o.pushState(y,"",v)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;s.location.assign(v)}i&&c&&c({action:l,location:x.location,delta:1})}function p(w,m){l=Fr.Replace;let g=Vc(x.location,w,m);d=h();let y=Yf(g,d),v=x.createHref(g);o.replaceState(y,"",v),i&&c&&c({action:l,location:x.location,delta:0})}function b(w){let m=s.location.origin!=="null"?s.location.origin:s.location.href,g=typeof w=="string"?w:co(w);return g=g.replace(/ $/,"%20"),Me(m,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,m)}let x={get action(){return l},get location(){return e(s,o)},listen(w){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Qf,f),c=w,()=>{s.removeEventListener(Qf,f),c=null}},createHref(w){return t(s,w)},createURL:b,encodeLocation(w){let m=b(w);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:u,replace:p,go(w){return o.go(w)}};return x}var Zf;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Zf||(Zf={}));function tb(e,t,r){return r===void 0&&(r="/"),rb(e,t,r)}function rb(e,t,r,n){let s=typeof t=="string"?Os(t):t,i=yd(s.pathname||"/",r);if(i==null)return null;let o=Dg(e);nb(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=mb(i);l=fb(o[c],d)}return l}function Dg(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Me(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=Qr([n,c.relativePath]),h=r.concat(c);i.children&&i.children.length>0&&(Me(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Dg(i.children,t,h,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:ub(d,i.index),routesMeta:h})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of Mg(i.path))s(i,o,c)}),t}function Mg(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=Mg(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function nb(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:db(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const sb=/^:[\w-]+$/,ab=3,ib=2,ob=1,lb=10,cb=-2,Xf=e=>e==="*";function ub(e,t){let r=e.split("/"),n=r.length;return r.some(Xf)&&(n+=cb),t&&(n+=ib),r.filter(s=>!Xf(s)).reduce((s,i)=>s+(sb.test(i)?ab:i===""?ob:lb),n)}function db(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function fb(e,t,r){let{routesMeta:n}=e,s={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],d=l===n.length-1,h=i==="/"?t:t.slice(i.length)||"/",f=hb({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},h),u=c.route;if(!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:Qr([i,f.pathname]),pathnameBase:bb(Qr([i,f.pathnameBase])),route:u}),f.pathnameBase!=="/"&&(i=Qr([i,f.pathnameBase]))}return o}function hb(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=pb(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((d,h,f)=>{let{paramName:u,isOptional:p}=h;if(u==="*"){let x=l[f]||"";o=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const b=l[f];return p&&!b?d[u]=void 0:d[u]=(b||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:e}}function pb(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),gd(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function mb(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return gd(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function yd(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const gb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yb=e=>gb.test(e);function vb(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Os(e):e,i;if(r)if(yb(r))i=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),gd(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?i=eh(r.substring(1),"/"):i=eh(r,t)}else i=t;return{pathname:i,search:wb(n),hash:_b(s)}}function eh(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Pl(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function xb(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function vd(e,t){let r=xb(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function xd(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=Os(e):(s=Ra({},e),Me(!s.pathname||!s.pathname.includes("?"),Pl("?","pathname","search",s)),Me(!s.pathname||!s.pathname.includes("#"),Pl("#","pathname","hash",s)),Me(!s.search||!s.search.includes("#"),Pl("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let u=o.split("/");for(;u[0]==="..";)u.shift(),f-=1;s.pathname=u.join("/")}l=f>=0?t[f]:"/"}let c=vb(s,l),d=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||h)&&(c.pathname+="/"),c}const Qr=e=>e.join("/").replace(/\/\/+/g,"/"),bb=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),wb=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,_b=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function jb(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Fg=["post","put","patch","delete"];new Set(Fg);const Nb=["get",...Fg];new Set(Nb);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ia(){return Ia=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ia.apply(this,arguments)}const bd=O.createContext(null),kb=O.createContext(null),sn=O.createContext(null),Fo=O.createContext(null),_r=O.createContext({outlet:null,matches:[],isDataRoute:!1}),Ug=O.createContext(null);function Sb(e,t){let{relative:r}=t===void 0?{}:t;Ts()||Me(!1);let{basename:n,navigator:s}=O.useContext(sn),{hash:i,pathname:o,search:l}=zg(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Qr([n,o])),s.createHref({pathname:c,search:l,hash:i})}function Ts(){return O.useContext(Fo)!=null}function jr(){return Ts()||Me(!1),O.useContext(Fo).location}function qg(e){O.useContext(sn).static||O.useLayoutEffect(e)}function St(){let{isDataRoute:e}=O.useContext(_r);return e?Fb():Eb()}function Eb(){Ts()||Me(!1);let e=O.useContext(bd),{basename:t,future:r,navigator:n}=O.useContext(sn),{matches:s}=O.useContext(_r),{pathname:i}=jr(),o=JSON.stringify(vd(s,r.v7_relativeSplatPath)),l=O.useRef(!1);return qg(()=>{l.current=!0}),O.useCallback(function(d,h){if(h===void 0&&(h={}),!l.current)return;if(typeof d=="number"){n.go(d);return}let f=xd(d,JSON.parse(o),i,h.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Qr([t,f.pathname])),(h.replace?n.replace:n.push)(f,h.state,h)},[t,n,o,i,e])}function Bg(){let{matches:e}=O.useContext(_r),t=e[e.length-1];return t?t.params:{}}function zg(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=O.useContext(sn),{matches:s}=O.useContext(_r),{pathname:i}=jr(),o=JSON.stringify(vd(s,n.v7_relativeSplatPath));return O.useMemo(()=>xd(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function Ob(e,t){return Tb(e,t)}function Tb(e,t,r,n){Ts()||Me(!1);let{navigator:s}=O.useContext(sn),{matches:i}=O.useContext(_r),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=jr(),h;if(t){var f;let w=typeof t=="string"?Os(t):t;c==="/"||(f=w.pathname)!=null&&f.startsWith(c)||Me(!1),h=w}else h=d;let u=h.pathname||"/",p=u;if(c!=="/"){let w=c.replace(/^\//,"").split("/");p="/"+u.replace(/^\//,"").split("/").slice(w.length).join("/")}let b=tb(e,{pathname:p}),x=Ib(b&&b.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:Qr([c,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:Qr([c,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,r,n);return t&&x?O.createElement(Fo.Provider,{value:{location:Ia({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Fr.Pop}},x):x}function Ab(){let e=Mb(),t=jb(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},t),r?O.createElement("pre",{style:s},r):null,null)}const Cb=O.createElement(Ab,null);class Pb extends O.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?O.createElement(_r.Provider,{value:this.props.routeContext},O.createElement(Ug.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Rb(e){let{routeContext:t,match:r,children:n}=e,s=O.useContext(bd);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),O.createElement(_r.Provider,{value:t},n)}function Ib(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let h=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);h>=0||Me(!1),o=o.slice(0,Math.min(o.length,h+1))}let c=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let h=0;h<o.length;h++){let f=o[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=h),f.route.id){let{loaderData:u,errors:p}=r,b=f.route.loader&&u[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||b){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((h,f,u)=>{let p,b=!1,x=null,w=null;r&&(p=l&&f.route.id?l[f.route.id]:void 0,x=f.route.errorElement||Cb,c&&(d<0&&u===0?(Ub("route-fallback"),b=!0,w=null):d===u&&(b=!0,w=f.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,u+1)),g=()=>{let y;return p?y=x:b?y=w:f.route.Component?y=O.createElement(f.route.Component,null):f.route.element?y=f.route.element:y=h,O.createElement(Rb,{match:f,routeContext:{outlet:h,matches:m,isDataRoute:r!=null},children:y})};return r&&(f.route.ErrorBoundary||f.route.errorElement||u===0)?O.createElement(Pb,{location:r.location,revalidation:r.revalidation,component:x,error:p,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()},null)}var Hg=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Hg||{}),Wg=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Wg||{});function Lb(e){let t=O.useContext(bd);return t||Me(!1),t}function $b(e){let t=O.useContext(kb);return t||Me(!1),t}function Db(e){let t=O.useContext(_r);return t||Me(!1),t}function Vg(e){let t=Db(),r=t.matches[t.matches.length-1];return r.route.id||Me(!1),r.route.id}function Mb(){var e;let t=O.useContext(Ug),r=$b(),n=Vg();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function Fb(){let{router:e}=Lb(Hg.UseNavigateStable),t=Vg(Wg.UseNavigateStable),r=O.useRef(!1);return qg(()=>{r.current=!0}),O.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Ia({fromRouteId:t},i)))},[e,t])}const th={};function Ub(e,t,r){th[e]||(th[e]=!0)}function qb(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Bb(e){let{to:t,replace:r,state:n,relative:s}=e;Ts()||Me(!1);let{future:i,static:o}=O.useContext(sn),{matches:l}=O.useContext(_r),{pathname:c}=jr(),d=St(),h=xd(t,vd(l,i.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(h);return O.useEffect(()=>d(JSON.parse(f),{replace:r,state:n,relative:s}),[d,f,s,r,n]),null}function be(e){Me(!1)}function zb(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Fr.Pop,navigator:i,static:o=!1,future:l}=e;Ts()&&Me(!1);let c=t.replace(/^\/*/,"/"),d=O.useMemo(()=>({basename:c,navigator:i,static:o,future:Ia({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=Os(n));let{pathname:h="/",search:f="",hash:u="",state:p=null,key:b="default"}=n,x=O.useMemo(()=>{let w=yd(h,c);return w==null?null:{location:{pathname:w,search:f,hash:u,state:p,key:b},navigationType:s}},[c,h,f,u,p,b,s]);return x==null?null:O.createElement(sn.Provider,{value:d},O.createElement(Fo.Provider,{children:r,value:x}))}function rh(e){let{children:t,location:r}=e;return Ob(Kc(t),r)}new Promise(()=>{});function Kc(e,t){t===void 0&&(t=[]);let r=[];return O.Children.forEach(e,(n,s)=>{if(!O.isValidElement(n))return;let i=[...t,s];if(n.type===O.Fragment){r.push.apply(r,Kc(n.props.children,i));return}n.type!==be&&Me(!1),!n.props.index||!n.props.children||Me(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Kc(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gc(){return Gc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gc.apply(this,arguments)}function Hb(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function Wb(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Vb(e,t){return e.button===0&&(!t||t==="_self")&&!Wb(e)}function Jc(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function Kb(e,t){let r=Jc(e);return t&&t.forEach((n,s)=>{r.has(s)||t.getAll(s).forEach(i=>{r.append(s,i)})}),r}const Gb=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Jb="6";try{window.__reactRouterVersion=Jb}catch{}const Qb="startTransition",nh=Zl[Qb];function Yb(e){let{basename:t,children:r,future:n,window:s}=e,i=O.useRef();i.current==null&&(i.current=Zx({window:s,v5Compat:!0}));let o=i.current,[l,c]=O.useState({action:o.action,location:o.location}),{v7_startTransition:d}=n||{},h=O.useCallback(f=>{d&&nh?nh(()=>c(f)):c(f)},[c,d]);return O.useLayoutEffect(()=>o.listen(h),[o,h]),O.useEffect(()=>qb(n),[n]),O.createElement(zb,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const Zb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Xb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ce=O.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:h,viewTransition:f}=t,u=Hb(t,Gb),{basename:p}=O.useContext(sn),b,x=!1;if(typeof d=="string"&&Xb.test(d)&&(b=d,Zb))try{let y=new URL(window.location.href),v=d.startsWith("//")?new URL(y.protocol+d):new URL(d),_=yd(v.pathname,p);v.origin===y.origin&&_!=null?d=_+v.search+v.hash:x=!0}catch{}let w=Sb(d,{relative:s}),m=ew(d,{replace:o,state:l,target:c,preventScrollReset:h,relative:s,viewTransition:f});function g(y){n&&n(y),y.defaultPrevented||m(y)}return O.createElement("a",Gc({},u,{href:b||w,onClick:x||i?n:g,ref:r,target:c}))});var sh;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(sh||(sh={}));var ah;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(ah||(ah={}));function ew(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=St(),d=jr(),h=zg(e,{relative:o});return O.useCallback(f=>{if(Vb(f,r)){f.preventDefault();let u=n!==void 0?n:co(d)===co(h);c(e,{replace:u,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,h,n,s,r,e,i,o,l])}function Kg(e){let t=O.useRef(Jc(e)),r=O.useRef(!1),n=jr(),s=O.useMemo(()=>Kb(n.search,r.current?null:t.current),[n.search]),i=St(),o=O.useCallback((l,c)=>{const d=Jc(typeof l=="function"?l(s):l);r.current=!0,i("?"+d,c)},[i,s]);return[s,o]}function Uo(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function tw(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(h){try{d(n.next(h))}catch(f){o(f)}}function c(h){try{d(n.throw(h))}catch(f){o(f)}}function d(h){h.done?i(h.value):s(h.value).then(l,c)}d((n=n.apply(e,t||[])).next())})}const rw=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class wd extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class nw extends wd{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class ih extends wd{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class oh extends wd{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Qc;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Qc||(Qc={}));class sw{constructor(t,{headers:r={},customFetch:n,region:s=Qc.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=rw(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return tw(this,arguments,void 0,function*(r,n={}){var s;let i,o;try{const{headers:l,method:c,body:d,signal:h,timeout:f}=n;let u={},{region:p}=n;p||(p=this.region);const b=new URL(`${this.url}/${r}`);p&&p!=="any"&&(u["x-region"]=p,b.searchParams.set("forceFunctionRegion",p));let x;d&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",x=d):typeof d=="string"?(u["Content-Type"]="text/plain",x=d):typeof FormData<"u"&&d instanceof FormData?x=d:(u["Content-Type"]="application/json",x=JSON.stringify(d)):x=d;let w=h;f&&(o=new AbortController,i=setTimeout(()=>o.abort(),f),h?(w=o.signal,h.addEventListener("abort",()=>o.abort())):w=o.signal);const m=yield this.fetch(b.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),l),body:x,signal:w}).catch(_=>{throw new nw(_)}),g=m.headers.get("x-relay-error");if(g&&g==="true")throw new ih(m);if(!m.ok)throw new oh(m);let y=((s=m.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),v;return y==="application/json"?v=yield m.json():y==="application/octet-stream"||y==="application/pdf"?v=yield m.blob():y==="text/event-stream"?v=m:y==="multipart/form-data"?v=yield m.formData():v=yield m.text(),{data:v,error:null,response:m}}catch(l){return{data:null,error:l,response:l instanceof oh||l instanceof ih?l.context:void 0}}finally{i&&clearTimeout(i)}})}}var aw=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},iw=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let o=null,l=null,c=null,d=i.status,h=i.statusText;if(i.ok){var f,u;if(r.method!=="HEAD"){var p;const m=await i.text();m===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((p=r.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?l=m:l=JSON.parse(m))}const x=(f=r.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),w=(u=i.headers.get("content-range"))===null||u===void 0?void 0:u.split("/");x&&w&&w.length>1&&(c=parseInt(w[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(l)&&(l.length>1?(o={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,c=null,d=406,h="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var b;const x=await i.text();try{o=JSON.parse(x),Array.isArray(o)&&i.status===404&&(l=[],o=null,d=200,h="OK")}catch{i.status===404&&x===""?(d=204,h="No Content"):o={message:x}}if(o&&r.isMaybeSingle&&(!(o==null||(b=o.details)===null||b===void 0)&&b.includes("0 rows"))&&(o=null,d=200,h="OK"),o&&r.shouldThrowOnError)throw new aw(o)}return{error:o,data:l,count:c,status:d,statusText:h}});return this.shouldThrowOnError||(s=s.catch(i=>{var o;let l="";const c=i==null?void 0:i.cause;if(c){var d,h,f,u;const b=(d=c==null?void 0:c.message)!==null&&d!==void 0?d:"",x=(h=c==null?void 0:c.code)!==null&&h!==void 0?h:"";l=`${(f=i==null?void 0:i.name)!==null&&f!==void 0?f:"FetchError"}: ${i==null?void 0:i.message}`,l+=`

Caused by: ${(u=c==null?void 0:c.name)!==null&&u!==void 0?u:"Error"}: ${b}`,x&&(l+=` (${x})`),c!=null&&c.stack&&(l+=`
${c.stack}`)}else{var p;l=(p=i==null?void 0:i.stack)!==null&&p!==void 0?p:""}return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:l,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},ow=class extends iw{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:s=n}={}){const i=s?`${s}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:s=!1,format:i="text"}={}){var o;const l=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${c}"; options=${l};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const lh=new RegExp("[,()]");var Wn=class extends ow{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&lh.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&lh.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let s="";n==="plain"?s="pl":n==="phrase"?s="ph":n==="websearch"&&(s="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},lw=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n}select(e,t){const{head:r=!1,count:n}=t??{},s=r?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),n&&this.headers.append("Prefer",`count=${n}`),new Wn({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const s="POST";if(t&&this.headers.append("Prefer",`count=${t}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const i=e.reduce((o,l)=>o.concat(Object.keys(l)),[]);if(i.length>0){const o=[...new Set(i)].map(l=>`"${l}"`);this.url.searchParams.set("columns",o.join(","))}}return new Wn({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}={}){var i;const o="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),n&&this.headers.append("Prefer",`count=${n}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(l.length>0){const c=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new Wn({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:t}={}){var r;const n="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new Wn({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new Wn({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},cw=class Gg{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new lw(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Gg(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){var o;let l;const c=new URL(`${this.url}/rpc/${t}`);let d;n||s?(l=n?"HEAD":"GET",Object.entries(r).filter(([f,u])=>u!==void 0).map(([f,u])=>[f,Array.isArray(u)?`{${u.join(",")}}`:`${u}`]).forEach(([f,u])=>{c.searchParams.append(f,u)})):(l="POST",d=r);const h=new Headers(this.headers);return i&&h.set("Prefer",`count=${i}`),new Wn({method:l,url:c,headers:h,schema:this.schemaName,body:d,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class uw{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const dw="2.89.0",fw=`realtime-js/${dw}`,Jg="1.0.0",hw="2.0.0",ch=Jg,Yc=1e4,pw=1e3,mw=100;var Pr;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Pr||(Pr={}));var Be;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Be||(Be={}));var zt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(zt||(zt={}));var Zc;(function(e){e.websocket="websocket"})(Zc||(Zc={}));var hn;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(hn||(hn={}));class gw{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,r,n){var s,i;const o=t.topic,l=(s=t.ref)!==null&&s!==void 0?s:"",c=(i=t.join_ref)!==null&&i!==void 0?i:"",d=t.payload.event,h=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},f=Object.keys(h).length===0?"":JSON.stringify(h);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`userEvent length ${d.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const u=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+o.length+d.length+f.length,p=new ArrayBuffer(this.HEADER_LENGTH+u);let b=new DataView(p),x=0;b.setUint8(x++,this.KINDS.userBroadcastPush),b.setUint8(x++,c.length),b.setUint8(x++,l.length),b.setUint8(x++,o.length),b.setUint8(x++,d.length),b.setUint8(x++,f.length),b.setUint8(x++,r),Array.from(c,m=>b.setUint8(x++,m.charCodeAt(0))),Array.from(l,m=>b.setUint8(x++,m.charCodeAt(0))),Array.from(o,m=>b.setUint8(x++,m.charCodeAt(0))),Array.from(d,m=>b.setUint8(x++,m.charCodeAt(0))),Array.from(f,m=>b.setUint8(x++,m.charCodeAt(0)));var w=new Uint8Array(p.byteLength+n.byteLength);return w.set(new Uint8Array(p),0),w.set(new Uint8Array(n),p.byteLength),w.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[s,i,o,l,c]=n;return r({join_ref:s,ref:i,topic:o,event:l,payload:c})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,s)}}_decodeUserBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+4;const d=n.decode(t.slice(c,c+s));c=c+s;const h=n.decode(t.slice(c,c+i));c=c+i;const f=n.decode(t.slice(c,c+o));c=c+o;const u=t.slice(c,t.byteLength),p=l===this.JSON_ENCODING?JSON.parse(n.decode(u)):u,b={type:this.BROADCAST_EVENT,event:h,payload:p};return o>0&&(b.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:d,event:this.BROADCAST_EVENT,payload:b}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class Qg{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var _e;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(_e||(_e={}));const uh=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=yw(o,e,t,s),i),{}):{}},yw=(e,t,r,n)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,o=r[e];return i&&!n.includes(i)?Yg(i,o):Xc(o)},Yg=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return ww(t,r)}switch(e){case _e.bool:return vw(t);case _e.float4:case _e.float8:case _e.int2:case _e.int4:case _e.int8:case _e.numeric:case _e.oid:return xw(t);case _e.json:case _e.jsonb:return bw(t);case _e.timestamp:return _w(t);case _e.abstime:case _e.date:case _e.daterange:case _e.int4range:case _e.int8range:case _e.money:case _e.reltime:case _e.text:case _e.time:case _e.timestamptz:case _e.timetz:case _e.tsrange:case _e.tstzrange:return Xc(t);default:return Xc(t)}},Xc=e=>e,vw=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},xw=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},bw=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},ww=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>Yg(t,l))}return e},_w=e=>typeof e=="string"?e.replace(" ","T"):e,Zg=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Rl{constructor(t,r,n={},s=Yc){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var dh;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(dh||(dh={}));class da{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=da.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=da.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=da.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(d,h)=>{o[d]||(c[d]=h)}),this.map(o,(d,h)=>{const f=i[d];if(f){const u=h.map(w=>w.presence_ref),p=f.map(w=>w.presence_ref),b=h.filter(w=>p.indexOf(w.presence_ref)<0),x=f.filter(w=>u.indexOf(w.presence_ref)<0);b.length>0&&(l[d]=b),x.length>0&&(c[d]=x)}else l[d]=h}),this.syncDiff(i,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var d;const h=(d=t[l])!==null&&d!==void 0?d:[];if(t[l]=this.cloneDeep(c),h.length>0){const f=t[l].map(p=>p.presence_ref),u=h.filter(p=>f.indexOf(p.presence_ref)<0);t[l].unshift(...u)}n(l,h,c)}),this.map(o,(l,c)=>{let d=t[l];if(!d)return;const h=c.map(f=>f.presence_ref);d=d.filter(f=>h.indexOf(f.presence_ref)<0),t[l]=d,s(l,d,c),d.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var fh;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(fh||(fh={}));var fa;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(fa||(fa={}));var or;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(or||(or={}));class is{constructor(t,r={config:{}},n){var s,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Be.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Rl(this,zt.join,this.params,this.timeout),this.rejoinTimer=new Qg(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Be.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Be.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Be.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Be.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Be.errored,this.rejoinTimer.scheduleTimeout())}),this._on(zt.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new da(this),this.broadcastEndpointURL=Zg(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Be.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,d=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&s!==void 0?s:[],h=!!this.bindings[fa.PRESENCE]&&this.bindings[fa.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},u={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:h}),postgres_changes:d,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(or.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(or.CLOSED)),this.updateJoinPayload(Object.assign({config:u},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var b;if(this.socket._isManualToken()||this.socket.setAuth(),p===void 0){t==null||t(or.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,w=(b=x==null?void 0:x.length)!==null&&b!==void 0?b:0,m=[];for(let g=0;g<w;g++){const y=x[g],{filter:{event:v,schema:_,table:N,filter:j}}=y,S=p&&p[g];if(S&&S.event===v&&is.isFilterValueEqual(S.schema,_)&&is.isFilterValueEqual(S.table,N)&&is.isFilterValueEqual(S.filter,j))m.push(Object.assign(Object.assign({},y),{id:S.id}));else{this.unsubscribe(),this.state=Be.errored,t==null||t(or.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,t&&t(or.SUBSCRIBED);return}}).receive("error",p=>{this.state=Be.errored,t==null||t(or.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(or.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Be.joined&&t===fa.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var s;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const d=await l.json();c=d.error||d.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=d.body)===null||s===void 0?void 0:s.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const d=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Be.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(zt.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Rl(this,zt.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Be.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Rl(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>mw){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:d,join:h}=zt;if(n&&[l,c,d,h].indexOf(o)>=0&&n!==this._joinRef())return;let u=this._onMessage(o,r,n);if(r&&!u)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var b,x,w;return((b=p.filter)===null||b===void 0?void 0:b.event)==="*"||((w=(x=p.filter)===null||x===void 0?void 0:x.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(p=>p.callback(u,n)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var b,x,w,m,g,y;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const v=p.id,_=(b=p.filter)===null||b===void 0?void 0:b.event;return v&&((x=r.ids)===null||x===void 0?void 0:x.includes(v))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const v=(g=(m=p==null?void 0:p.filter)===null||m===void 0?void 0:m.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return v==="*"||v===((y=r==null?void 0:r.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof u=="object"&&"ids"in u){const b=u.data,{schema:x,table:w,commit_timestamp:m,type:g,errors:y}=b;u=Object.assign(Object.assign({},{schema:x,table:w,commit_timestamp:m,eventType:g,new:{},old:{},errors:y}),this._getPayloadRecords(b))}p.callback(u,n)})}_isClosed(){return this.state===Be.closed}_isJoined(){return this.state===Be.joined}_isJoining(){return this.state===Be.joining}_isLeaving(){return this.state===Be.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&is.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(zt.close,{},t)}_onError(t){this._on(zt.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Be.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=uh(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=uh(t.columns,t.old_record)),r}}const Il=()=>{},bi={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},jw=[1e3,2e3,5e3,1e4],Nw=1e4,kw=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Sw{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Yc,this.transport=null,this.heartbeatIntervalMs=bi.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Il,this.ref=0,this.reconnectTimer=null,this.vsn=ch,this.logger=Il,this.conn=null,this.sendBuffer=[],this.serializer=new gw,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Zc.websocket}`,this.httpEndpoint=Zg(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=uw.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Pr.connecting:return hn.Connecting;case Pr.open:return hn.Open;case Pr.closing:return hn.Closing;default:return hn.Closed}}isConnected(){return this.connectionState()===hn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new is(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(pw,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},bi.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:o}=r,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${s} ${l}`.trim(),i),this.channels.filter(d=>d._isMember(n)).forEach(d=>d._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Pr.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Pr.open||this.conn.readyState===Pr.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(zt.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([kw],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const i={access_token:r,version:fw};r&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(zt.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Qg(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},bi.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,i,o,l,c,d,h,f,u,p;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Yc,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:bi.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:Il,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:ch,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=t==null?void 0:t.reconnectAfterMs)!==null&&d!==void 0?d:b=>jw[b-1]||Nw,this.vsn){case Jg:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:(b,x)=>x(JSON.stringify(b)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(b,x)=>x(JSON.parse(b));break;case hw:this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:this.serializer.encode.bind(this.serializer),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var La=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Ew(e,t,r){const n=new URL(t,e);if(r)for(const[s,i]of Object.entries(r))i!==void 0&&n.searchParams.set(s,i);return n.toString()}async function Ow(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function Tw(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:i,headers:o}){const l=Ew(e.baseUrl,n,s),c=await Ow(e.auth),d=await t(l,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...c,...o},body:i?JSON.stringify(i):void 0}),h=await d.text(),f=(d.headers.get("content-type")||"").includes("application/json"),u=f&&h?JSON.parse(h):h;if(!d.ok){const p=f?u:void 0,b=p==null?void 0:p.error;throw new La((b==null?void 0:b.message)??`Request failed with status ${d.status}`,{status:d.status,icebergType:b==null?void 0:b.type,icebergCode:b==null?void 0:b.code,details:p})}return{status:d.status,headers:d.headers,data:u}}}}function wi(e){return e.join("")}var Aw=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:wi(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${wi(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${wi(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${wi(e.namespace)}`}),!0}catch(t){if(t instanceof La&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof La&&r.status===409)return;throw r}}};function Fn(e){return e.join("")}var Cw=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Fn(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Fn(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Fn(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Fn(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Fn(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Fn(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof La&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof La&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},Pw=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=Tw({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new Aw(this.client,t),this.tableOps=new Cw(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},qo=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function Te(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var Rw=class extends qo{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},eu=class extends qo{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const _d=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Iw=()=>Response,tu=e=>{if(Array.isArray(e))return e.map(r=>tu(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=tu(n)}),t},Lw=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},$w=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function $a(e){"@babel/helpers - typeof";return $a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$a(e)}function Dw(e,t){if($a(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($a(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mw(e){var t=Dw(e,"string");return $a(t)=="symbol"?t:t+""}function Fw(e,t,r){return(t=Mw(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function le(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hh(Object(r),!0).forEach(function(n){Fw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hh(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const Ll=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},Uw=async(e,t,r)=>{e instanceof await Iw()&&!(r!=null&&r.noResolveJson)?e.json().then(n=>{const s=e.status||500,i=(n==null?void 0:n.statusCode)||s+"";t(new Rw(Ll(n),s,i))}).catch(n=>{t(new eu(Ll(n),n))}):t(new eu(Ll(e),e))},qw=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(Lw(n)?(s.headers=le({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),le(le({},s),r))};async function Ya(e,t,r,n,s,i){return new Promise((o,l)=>{e(r,qw(t,n,s,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>Uw(c,l,n))})}async function Da(e,t,r,n){return Ya(e,"GET",t,r,n)}async function qt(e,t,r,n,s){return Ya(e,"POST",t,n,s,r)}async function ru(e,t,r,n,s){return Ya(e,"PUT",t,n,s,r)}async function Bw(e,t,r,n){return Ya(e,"HEAD",t,le(le({},r),{},{noResolveJson:!0}),n)}async function jd(e,t,r,n,s){return Ya(e,"DELETE",t,n,s,r)}var zw=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Te(t))return{data:null,error:t};throw t}}};let Xg;Xg=Symbol.toStringTag;var Hw=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[Xg]="BlobDownloadBuilder",this.promise=null}asStream(){return new zw(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Te(t))return{data:null,error:t};throw t}}};const Ww={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ph={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Vw=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=_d(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,r,n){var s=this;try{let i;const o=le(le({},ph),n);let l=le(le({},s.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",s.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),c&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(c))):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=s.toBase64(s.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),n!=null&&n.headers&&(l=le(le({},l),n.headers));const d=s._removeEmptyFolders(t),h=s._getFinalPath(d),f=await(e=="PUT"?ru:qt)(s.fetch,`${s.url}/object/${h}`,i,le({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:d,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(Te(i))return{data:null,error:i};throw i}}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var s=this;const i=s._removeEmptyFolders(e),o=s._getFinalPath(i),l=new URL(s.url+`/object/upload/sign/${o}`);l.searchParams.set("token",t);try{let c;const d=le({upsert:ph.upsert},n),h=le(le({},s.headers),{"x-upsert":String(d.upsert)});return typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",d.cacheControl)):(c=r,h["cache-control"]=`max-age=${d.cacheControl}`,h["content-type"]=d.contentType),{data:{path:i,fullPath:(await ru(s.fetch,l.toString(),c,{headers:h})).Key},error:null}}catch(c){if(s.shouldThrowOnError)throw c;if(Te(c))return{data:null,error:c};throw c}}async createSignedUploadUrl(e,t){var r=this;try{let n=r._getFinalPath(e);const s=le({},r.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const i=await qt(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(r.url+i.url),l=o.searchParams.get("token");if(!l)throw new qo("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Te(n))return{data:null,error:n};throw n}}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;try{return{data:await qt(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Te(s))return{data:null,error:s};throw s}}async copy(e,t,r){var n=this;try{return{data:{path:(await qt(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Te(s))return{data:null,error:s};throw s}}async createSignedUrl(e,t,r){var n=this;try{let s=n._getFinalPath(e),i=await qt(n.fetch,`${n.url}/object/sign/${s}`,le({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${n.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Te(s))return{data:null,error:s};throw s}}async createSignedUrls(e,t,r){var n=this;try{const s=await qt(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>le(le({},o),{},{signedUrl:o.signedURL?encodeURI(`${n.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Te(s))return{data:null,error:s};throw s}}download(e,t){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=n?`?${n}`:"",i=this._getFinalPath(e),o=()=>Da(this.fetch,`${this.url}/${r}/${i}${s}`,{headers:this.headers,noResolveJson:!0});return new Hw(o,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);try{return{data:tu(await Da(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Te(n))return{data:null,error:n};throw n}}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await Bw(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Te(n)&&n instanceof eu){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&n.push(s);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});o!==""&&n.push(o);let l=n.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${l}`)}}}async remove(e){var t=this;try{return{data:await jd(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Te(r))return{data:null,error:r};throw r}}async list(e,t,r){var n=this;try{const s=le(le(le({},Ww),t),{},{prefix:e||""});return{data:await qt(n.fetch,`${n.url}/object/list/${n.bucketId}`,s,{headers:n.headers},r),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Te(s))return{data:null,error:s};throw s}}async listV2(e,t){var r=this;try{const n=le({},e);return{data:await qt(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Te(n))return{data:null,error:n};throw n}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const e0="2.89.0",t0={"X-Client-Info":`storage-js/${e0}`};var Kw=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1;const s=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=le(le({},t0),t),this.fetch=_d(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const r=t.listBucketOptionsToQueryString(e);return{data:await Da(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Te(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await Da(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Te(r))return{data:null,error:r};throw r}}async createBucket(e,t={public:!1}){var r=this;try{return{data:await qt(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Te(n))return{data:null,error:n};throw n}}async updateBucket(e,t){var r=this;try{return{data:await ru(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Te(n))return{data:null,error:n};throw n}}async emptyBucket(e){var t=this;try{return{data:await qt(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Te(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await jd(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Te(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},Gw=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=le(le({},t0),t),this.fetch=_d(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await qt(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Te(r))return{data:null,error:r};throw r}}async listBuckets(e){var t=this;try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),s=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return{data:await Da(t.fetch,s,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Te(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await jd(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Te(r))return{data:null,error:r};throw r}}from(e){var t=this;if(!$w(e))throw new qo("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new Pw({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(s,i){const o=s[i];return typeof o!="function"?o:async(...l)=>{try{return{data:await o.apply(s,l),error:null}}catch(c){if(n)throw c;return{data:null,error:c}}}}})}};const Nd={"X-Client-Info":`storage-js/${e0}`,"Content-Type":"application/json"};var r0=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function vt(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var $l=class extends r0{constructor(e,t,r){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Jw=class extends r0{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const kd=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Qw=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},mh=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Yw=async(e,t,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const n=e.status||500,s=e;if(typeof s.json=="function")s.json().then(i=>{const o=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||n+"";t(new $l(mh(i),n,o))}).catch(()=>{const i=n+"";t(new $l(s.statusText||`HTTP ${n} error`,n,i))});else{const i=n+"";t(new $l(s.statusText||`HTTP ${n} error`,n,i))}}else t(new Jw(mh(e),e))},Zw=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(Qw(n)?(s.headers=le({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,le(le({},s),r)):s};async function Xw(e,t,r,n,s,i){return new Promise((o,l)=>{e(r,Zw(t,n,s,i)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const d=c.headers.get("content-type");return!d||!d.includes("application/json")?{}:c.json()}).then(c=>o(c)).catch(c=>Yw(c,l,n))})}async function xt(e,t,r,n,s){return Xw(e,"POST",t,n,s,r)}var e1=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=le(le({},Nd),t),this.fetch=kd(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await xt(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(vt(r))return{data:null,error:r};throw r}}async getIndex(e,t){var r=this;try{return{data:await xt(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(vt(n))return{data:null,error:n};throw n}}async listIndexes(e){var t=this;try{return{data:await xt(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(vt(r))return{data:null,error:r};throw r}}async deleteIndex(e,t){var r=this;try{return{data:await xt(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(vt(n))return{data:null,error:n};throw n}}},t1=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=le(le({},Nd),t),this.fetch=kd(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await xt(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(vt(r))return{data:null,error:r};throw r}}async getVectors(e){var t=this;try{return{data:await xt(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(vt(r))return{data:null,error:r};throw r}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await xt(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(vt(r))return{data:null,error:r};throw r}}async queryVectors(e){var t=this;try{return{data:await xt(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(vt(r))return{data:null,error:r};throw r}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await xt(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(vt(r))return{data:null,error:r};throw r}}},r1=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=le(le({},Nd),t),this.fetch=kd(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await xt(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(vt(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await xt(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(vt(r))return{data:null,error:r};throw r}}async listBuckets(e={}){var t=this;try{return{data:await xt(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(vt(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await xt(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(vt(r))return{data:null,error:r};throw r}}},n1=class extends r1{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new s1(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},s1=class extends e1{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,le(le({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,le(le({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new a1(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},a1=class extends t1{constructor(e,t,r,n,s){super(e,t,s),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,le(le({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,le(le({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,le(le({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,le(le({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,le(le({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},i1=class extends Kw{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new Vw(this.url,this.headers,e,this.fetch)}get vectors(){return new n1(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Gw(this.url+"/iceberg",this.headers,this.fetch)}};const n0="2.89.0",Vn=30*1e3,nu=3,Dl=nu*Vn,o1="http://localhost:9999",l1="supabase.auth.token",c1={"X-Client-Info":`gotrue-js/${n0}`},su="X-Supabase-Api-Version",s0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},u1=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,d1=10*60*1e3;class Ma extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function ae(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class f1 extends Ma{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function h1(e){return ae(e)&&e.name==="AuthApiError"}class pn extends Ma{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Nr extends Ma{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class gt extends Nr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function p1(e){return ae(e)&&e.name==="AuthSessionMissingError"}class Un extends Nr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class _i extends Nr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ji extends Nr{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function m1(e){return ae(e)&&e.name==="AuthImplicitGrantRedirectError"}class gh extends Nr{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class g1 extends Nr{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class au extends Nr{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Ml(e){return ae(e)&&e.name==="AuthRetryableFetchError"}class yh extends Nr{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class iu extends Nr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const uo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),vh=` 	
\r=`.split(""),y1=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<vh.length;t+=1)e[vh[t].charCodeAt(0)]=-2;for(let t=0;t<uo.length;t+=1)e[uo[t].charCodeAt(0)]=t;return e})();function xh(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(uo[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(uo[n]),t.queuedBits-=6}}function a0(e,t,r){const n=y1[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function bh(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{b1(o,n,r)};for(let o=0;o<e.length;o+=1)a0(e.charCodeAt(o),s,i);return t.join("")}function v1(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function x1(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}v1(n,t)}}function b1(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function hs(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)a0(e.charCodeAt(s),r,n);return new Uint8Array(t)}function w1(e){const t=[];return x1(e,r=>t.push(r)),new Uint8Array(t)}function xn(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>xh(s,r,n)),xh(null,r,n),t.join("")}function _1(e){return Math.round(Date.now()/1e3)+e}function j1(){return Symbol("auth-callback")}const Je=()=>typeof window<"u"&&typeof document<"u",an={tested:!1,writable:!1},i0=()=>{if(!Je())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(an.tested)return an.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),an.tested=!0,an.writable=!0}catch{an.tested=!0,an.writable=!1}return an.writable};function N1(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const o0=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),k1=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Kn=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},on=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ge=async(e,t)=>{await e.removeItem(t)};class Bo{constructor(){this.promise=new Bo.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Bo.promiseConstructor=Promise;function Fl(e){const t=e.split(".");if(t.length!==3)throw new iu("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!u1.test(t[n]))throw new iu("JWT not in base64url format");return{header:JSON.parse(bh(t[0])),payload:JSON.parse(bh(t[1])),signature:hs(t[2]),raw:{header:t[0],payload:t[1]}}}async function S1(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function E1(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function O1(e){return("0"+e.toString(16)).substr(-2)}function T1(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,O1).join("")}async function A1(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function C1(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await A1(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function qn(e,t,r=!1){const n=T1();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Kn(e,`${t}-code-verifier`,s);const i=await C1(n);return[i,n===i?"plain":"s256"]}const P1=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function R1(e){const t=e.headers.get(su);if(!t||!t.match(P1))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function I1(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function L1(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const $1=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Bn(e){if(!$1.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ul(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function D1(e,t){return new Proxy(e,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,s)}})}function wh(e){return JSON.parse(JSON.stringify(e))}const un=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),M1=[502,503,504];async function _h(e){var t;if(!k1(e))throw new au(un(e),0);if(M1.includes(e.status))throw new au(un(e),e.status);let r;try{r=await e.json()}catch(i){throw new pn(un(i),i)}let n;const s=R1(e);if(s&&s.getTime()>=s0["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new yh(un(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new gt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new yh(un(r),e.status,r.weak_password.reasons);throw new f1(un(r),e.status||500,n)}const F1=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function oe(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[su]||(i[su]=s0["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await U1(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function U1(e,t,r,n,s,i){const o=F1(t,n,s,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new au(un(c),0)}if(l.ok||await _h(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await _h(c)}}function Ft(e){var t;let r=null;z1(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=_1(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function jh(e){const t=Ft(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Lr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function q1(e){return{data:e,error:null}}function B1(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,o=Uo(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function Nh(e){return e}function z1(e){return e.access_token&&e.refresh_token&&e.expires_in}const ql=["global","local","others"];class H1{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=o0(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=ql[0]){if(ql.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ql.join(", ")}`);try{return await oe(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await oe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Lr})}catch(n){if(ae(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Uo(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await oe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:B1,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ae(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await oe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Lr})}catch(r){if(ae(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},h=await oe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Nh});if(h.error)throw h.error;const f=await h.json(),u=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(b=>{const x=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(b.split(";")[1].split("=")[1]);d[`${w}Page`]=x}),d.total=parseInt(u)),{data:Object.assign(Object.assign({},f),d),error:null}}catch(d){if(ae(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){Bn(t);try{return await oe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Lr})}catch(r){if(ae(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Bn(t);try{return await oe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Lr})}catch(n){if(ae(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Bn(t);try{return await oe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Lr})}catch(n){if(ae(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Bn(t.userId);try{const{data:r,error:n}=await oe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Bn(t.userId),Bn(t.id);try{return{data:await oe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,s,i,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},h=await oe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Nh});if(h.error)throw h.error;const f=await h.json(),u=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(b=>{const x=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(b.split(";")[1].split("=")[1]);d[`${w}Page`]=x}),d.total=parseInt(u)),{data:Object.assign(Object.assign({},f),d),error:null}}catch(d){if(ae(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(t){try{return await oe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await oe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await oe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ae(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await oe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await oe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ae(r))return{data:null,error:r};throw r}}}function kh(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const zn={debug:!!(globalThis&&i0()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class l0 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class W1 extends l0{}async function V1(e,t,r){zn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),zn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){zn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{zn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw zn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new W1(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(zn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function K1(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function c0(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function G1(e){return parseInt(e,16)}function J1(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function Q1(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:c,resources:d,scheme:h,uri:f,version:u}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(u!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${u}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=c0(e.address),b=h?`${h}://${n}`:n,x=e.statement?`${e.statement}
`:"",w=`${b} wants you to sign in with your Ethereum account:
${p}

${x}`;let m=`URI: ${f}
Version: ${u}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(m+=`
Expiration Time: ${s.toISOString()}`),l&&(m+=`
Not Before: ${l.toISOString()}`),c&&(m+=`
Request ID: ${c}`),d){let g=`
Resources:`;for(const y of d){if(!y||typeof y!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${y}`);g+=`
- ${y}`}m+=g}return`${w}
${m}`}class Ue extends Error{constructor({message:t,code:r,cause:n,name:s}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class fo extends Ue{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function Y1({error:e,options:t}){var r,n,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ue({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Ue({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Ue({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Ue({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Ue({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Ue({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Ue({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Ue({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(u0(o)){if(i.rp.id!==o)return new Ue({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ue({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Ue({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Ue({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ue({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function Z1({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ue({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Ue({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(u0(n)){if(r.rpId!==n)return new Ue({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ue({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Ue({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ue({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class X1{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const e_=new X1;function t_(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,s=Uo(e,["challenge","user","excludeCredentials"]),i=hs(t).buffer,o=Object.assign(Object.assign({},r),{id:hs(r.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:i,user:o});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const d=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},d),{id:hs(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return l}function r_(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Uo(e,["challenge","allowCredentials"]),s=hs(t).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const l=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},l),{id:hs(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function n_(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:xn(new Uint8Array(e.response.attestationObject)),clientDataJSON:xn(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function s_(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:xn(new Uint8Array(s.authenticatorData)),clientDataJSON:xn(new Uint8Array(s.clientDataJSON)),signature:xn(new Uint8Array(s.signature)),userHandle:s.userHandle?xn(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function u0(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Sh(){var e,t;return!!(Je()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function a_(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new fo("Browser returned unexpected credential type",t)}:{data:null,error:new fo("Empty credential response",t)}}catch(t){return{data:null,error:Y1({error:t,options:e})}}}async function i_(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new fo("Browser returned unexpected credential type",t)}:{data:null,error:new fo("Empty credential response",t)}}catch(t){return{data:null,error:Z1({error:t,options:e})}}}const o_={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},l_={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function ho(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(t(o)){const l=n[i];t(l)?n[i]=ho(l,o):n[i]=ho(o)}else n[i]=o}return n}function c_(e,t){return ho(o_,e,t||{})}function u_(e,t){return ho(l_,e,t||{})}class d_{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:s},i){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:l};const c=s??e_.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:d}=o.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${n}`),d.displayName||(d.displayName=d.name)}switch(o.webauthn.type){case"create":{const d=c_(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:h,error:f}=await a_({publicKey:d,signal:c});return h?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:h}},error:null}:{data:null,error:f}}case"request":{const d=u_(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:h,error:f}=await i_(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:d,signal:c}));return h?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:h}},error:null}:{data:null,error:f}}}}catch(o){return ae(o)?{data:null,error:o}:{data:null,error:new pn("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new Ma("rpId is required for WebAuthn authentication")};try{if(!Sh())return{data:null,error:new pn("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(o){return ae(o)?{data:null,error:o}:{data:null,error:new pn("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new Ma("rpId is required for WebAuthn registration")};try{if(!Sh())return{data:null,error:new pn("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(h=>{var f;return(f=h.data)===null||f===void 0?void 0:f.all.find(u=>u.factor_type==="webauthn"&&u.friendly_name===t&&u.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h==null?void 0:h.id}):void 0),{data:null,error:l};const{data:c,error:d}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:d}}catch(o){return ae(o)?{data:null,error:o}:{data:null,error:new pn("Unexpected error in register",o)}}}}K1();const f_={url:o1,storageKey:l1,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:c1,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Eh(e,t,r){return await r()}const Hn={};class Fa{get jwks(){var t,r;return(r=(t=Hn[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Hn[this.storageKey]=Object.assign(Object.assign({},Hn[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Hn[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Hn[this.storageKey]=Object.assign(Object.assign({},Hn[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},f_),t);if(this.storageKey=i.storageKey,this.instanceID=(r=Fa.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Fa.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Je()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new H1({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=o0(i.fetch),this.lock=i.lock||Eh,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:this.persistSession&&Je()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=V1:this.lock=Eh,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new d_(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:i0()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=kh(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=kh(this.memoryStorage)),Je()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${n0}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(Je()&&(r=N1(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Je()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),m1(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ae(r)?this._returnResult({error:r}):this._returnResult({error:new pn("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Ft}),{data:o,error:l}=i;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:d,session:c},error:null})}catch(i){if(ae(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:h,password:f,options:u}=t;let p=null,b=null;this.flowType==="pkce"&&([p,b]=await qn(this.storage,this.storageKey)),i=await oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:u==null?void 0:u.emailRedirectTo,body:{email:h,password:f,data:(r=u==null?void 0:u.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:p,code_challenge_method:b},xform:Ft})}else if("phone"in t){const{phone:h,password:f,options:u}=t;i=await oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:f,data:(n=u==null?void 0:u.data)!==null&&n!==void 0?n:{},channel:(s=u==null?void 0:u.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:Ft})}else throw new _i("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return await Ge(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:d,session:c},error:null})}catch(i){if(await Ge(this.storage,`${this.storageKey}-code-verifier`),ae(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:jh})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:jh})}else throw new _i("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new Un;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(ae(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,i,o,l,c,d,h,f,u;let p,b;if("message"in t)p=t.message,b=t.signature;else{const{chain:x,wallet:w,statement:m,options:g}=t;let y;if(Je())if(typeof w=="object")y=w;else{const R=window;if("ethereum"in R&&typeof R.ethereum=="object"&&"request"in R.ethereum&&typeof R.ethereum.request=="function")y=R.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=w}const v=new URL((r=g==null?void 0:g.url)!==null&&r!==void 0?r:window.location.href),_=await y.request({method:"eth_requestAccounts"}).then(R=>R).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!_||_.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const N=c0(_[0]);let j=(n=g==null?void 0:g.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!j){const R=await y.request({method:"eth_chainId"});j=G1(R)}const S={domain:v.host,address:N,statement:m,uri:v.href,version:"1",chainId:j,nonce:(s=g==null?void 0:g.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=g==null?void 0:g.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=g==null?void 0:g.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=g==null?void 0:g.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(d=g==null?void 0:g.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(h=g==null?void 0:g.signInWithEthereum)===null||h===void 0?void 0:h.resources};p=Q1(S),b=await y.request({method:"personal_sign",params:[J1(p),N]})}try{const{data:x,error:w}=await oe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:b},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(u=t.options)===null||u===void 0?void 0:u.captchaToken}}:null),xform:Ft});if(w)throw w;if(!x||!x.session||!x.user){const m=new Un;return this._returnResult({data:{user:null,session:null},error:m})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:w})}catch(x){if(ae(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async signInWithSolana(t){var r,n,s,i,o,l,c,d,h,f,u,p;let b,x;if("message"in t)b=t.message,x=t.signature;else{const{chain:w,wallet:m,statement:g,options:y}=t;let v;if(Je())if(typeof m=="object")v=m;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))v=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof m!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=m}const _=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in v&&v.signIn){const N=await v.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),g?{statement:g}:null));let j;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")j=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)j=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)b=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),x=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in v)||typeof v.signMessage!="function"||!("publicKey"in v)||typeof v!="object"||!v.publicKey||!("toBase58"in v.publicKey)||typeof v.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${_.host} wants you to sign in with your Solana account:`,v.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(s=(n=y==null?void 0:y.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=y==null?void 0:y.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((o=y==null?void 0:y.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((l=y==null?void 0:y.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((c=y==null?void 0:y.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((d=y==null?void 0:y.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((f=(h=y==null?void 0:y.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||f===void 0)&&f.length?["Resources",...y.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const N=await v.signMessage(new TextEncoder().encode(b),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=N}}try{const{data:w,error:m}=await oe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:xn(x)},!((u=t.options)===null||u===void 0)&&u.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Ft});if(m)throw m;if(!w||!w.session||!w.user){const g=new Un;return this._returnResult({data:{user:null,session:null},error:g})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:m})}catch(w){if(ae(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async _exchangeCodeForSession(t){const r=await on(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new g1;const{data:i,error:o}=await oe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Ft});if(await Ge(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const l=new Un;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(await Ge(this.storage,`${this.storageKey}-code-verifier`),ae(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=t,l=await oe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ft}),{data:c,error:d}=l;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!c||!c.session||!c.user){const h=new Un;return this._returnResult({data:{user:null,session:null},error:h})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:d})}catch(r){if(ae(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,s,i,o;try{if("email"in t){const{email:l,options:c}=t;let d=null,h=null;this.flowType==="pkce"&&([d,h]=await qn(this.storage,this.storageKey));const{error:f}=await oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:h},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:l,options:c}=t,{data:d,error:h}=await oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:h})}throw new _i("You must provide either an email or phone number.")}catch(l){if(await Ge(this.storage,`${this.storageKey}-code-verifier`),ae(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await oe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Ft});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,d=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:d,session:c},error:null})}catch(s){if(ae(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var r,n,s,i,o;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await qn(this.storage,this.storageKey));const d=await oe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:q1});return!((i=d.data)===null||i===void 0)&&i.url&&Je()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(d.data.url),this._returnResult(d)}catch(l){if(await Ge(this.storage,`${this.storageKey}-code-verifier`),ae(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new gt;const{error:s}=await oe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(ae(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:o}=await oe(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:o,error:l}=await oe(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l})}throw new _i("You must provide either an email or phone number and a type")}catch(r){if(ae(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await on(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Dl:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await on(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=Ul()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=D1(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Lr}):await this._useSession(async r=>{var n,s,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new gt}:await oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Lr})})}catch(r){if(ae(r))return p1(r)&&(await this._removeSession(),await Ge(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new gt;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await qn(this.storage,this.storageKey));const{data:d,error:h}=await oe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Lr});if(h)throw h;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await Ge(this.storage,`${this.storageKey}-code-verifier`),ae(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new gt;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=Fl(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(ae(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new gt;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(ae(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!Je())throw new ji("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ji(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new gh("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ji("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new gh("No code detected.");const{data:g,error:y}=await this._exchangeCodeForSession(t.code);if(y)throw y;const v=new URL(window.location.href);return v.searchParams.delete("code"),window.history.replaceState(window.history.state,"",v.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:d}=t;if(!i||!l||!o||!d)throw new ji("No session defined in URL");const h=Math.round(Date.now()/1e3),f=parseInt(l);let u=h+f;c&&(u=parseInt(c));const p=u-h;p*1e3<=Vn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const b=u-f;h-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,u,h):h-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,u,h);const{data:x,error:w}=await this._getUser(i);if(w)throw w;const m={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:u,refresh_token:o,token_type:d,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:m,redirectType:t.type},error:null})}catch(n){if(ae(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await on(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({error:i});const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(h1(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await Ge(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=j1(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await qn(this.storage,this.storageKey,!0));try{return await oe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await Ge(this.storage,`${this.storageKey}-code-verifier`),ae(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(ae(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,l,c,d,h;const{data:f,error:u}=i;if(u)throw u;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await oe(this.fetch,"GET",p,{headers:this.headers,jwt:(h=(d=f.session)===null||d===void 0?void 0:d.access_token)!==null&&h!==void 0?h:void 0})});if(s)throw s;return Je()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(ae(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:o,provider:l,token:c,access_token:d,nonce:h}=t,f=await oe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:d,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Ft}),{data:u,error:p}=f;return p?this._returnResult({data:{user:null,session:null},error:p}):!u||!u.session||!u.user?this._returnResult({data:{user:null,session:null},error:new Un}):(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("USER_UPDATED",u.session)),this._returnResult({data:u,error:p}))}catch(s){if(await Ge(this.storage,`${this.storageKey}-code-verifier`),ae(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await oe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(ae(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await E1(async s=>(s>0&&await S1(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await oe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ft})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Ml(i)&&Date.now()+o-n<Vn})}catch(n){if(this._debug(r,"error",n),ae(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Je()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await on(this.storage,this.storageKey);if(s&&this.userStorage){let o=await on(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Kn(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:Ul()}else if(s&&!s.user&&!s.user){const o=await on(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Ge(this.storage,this.storageKey+"-user"),await Kn(this.storage,this.storageKey,s)):s.user=Ul()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Dl;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Dl}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Ml(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new gt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Bo;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new gt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),ae(i)){const o={data:null,error:i};return Ml(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Ge(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Kn(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=wh(s);await Kn(this.storage,this.storageKey,i)}else{const s=wh(r);await Kn(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Ge(this.storage,this.storageKey),await Ge(this.storage,this.storageKey+"-code-verifier"),await Ge(this.storage,this.storageKey+"-user"),this.userStorage&&await Ge(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Je()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Vn);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Vn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Vn}ms, refresh threshold is ${nu} ticks`),s<=nu&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof l0)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Je()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await qn(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await oe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ae(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:d}=await oe(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return d?this._returnResult({data:null,error:d}):(t.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(ae(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?n_(t.webauthn.credential_response):s_(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await oe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if(ae(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await oe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:t_(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:r_(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(ae(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Fl(n.access_token);let o=null;i.aal&&(o=i.aal);let l=o;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const d=i.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:d},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await oe(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new gt})})}catch(r){if(ae(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new gt});const o=await oe(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Je()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new gt});const o=await oe(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Je()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await oe(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new gt})})}catch(t){if(ae(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await oe(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new gt})})}catch(r){if(ae(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+d1>s)return n;const{data:i,error:o}=await oe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:b}=await this.getSession();if(b||!p.session)return this._returnResult({data:null,error:b});n=p.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:c}}=Fl(n);r!=null&&r.allowExpired||I1(i.exp);const d=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!d){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:i,header:s,signature:o},error:null}}const h=L1(s.alg),f=await crypto.subtle.importKey("jwk",d,h,!0,["verify"]);if(!await crypto.subtle.verify(h,f,o,w1(`${l}.${c}`)))throw new iu("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}}}Fa.nextInstanceID={};const h_=Fa,p_="2.89.0";let Zs="";typeof Deno<"u"?Zs="deno":typeof document<"u"?Zs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Zs="react-native":Zs="node";const m_={"X-Client-Info":`supabase-js-${Zs}/${p_}`},g_={headers:m_},y_={schema:"public"},v_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},x_={};function Ua(e){"@babel/helpers - typeof";return Ua=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ua(e)}function b_(e,t){if(Ua(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ua(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function w_(e){var t=b_(e,"string");return Ua(t)=="symbol"?t:t+""}function __(e,t,r){return(t=w_(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Oh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ie(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Oh(Object(r),!0).forEach(function(n){__(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Oh(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const j_=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),N_=()=>Headers,k_=(e,t,r)=>{const n=j_(r),s=N_();return async(i,o)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let d=new s(o==null?void 0:o.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),n(i,Ie(Ie({},o),{},{headers:d}))}};function S_(e){return e.endsWith("/")?e:e+"/"}function E_(e,t){var r,n;const{db:s,auth:i,realtime:o,global:l}=e,{db:c,auth:d,realtime:h,global:f}=t,u={db:Ie(Ie({},c),s),auth:Ie(Ie({},d),i),realtime:Ie(Ie({},h),o),storage:{},global:Ie(Ie(Ie({},f),l),{},{headers:Ie(Ie({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?u.accessToken=e.accessToken:delete u.accessToken,u}function O_(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(S_(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var T_=class extends h_{constructor(e){super(e)}},A_=class{constructor(e,t,r){var n,s;this.supabaseUrl=e,this.supabaseKey=t;const i=O_(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const o=`sb-${i.hostname.split(".")[0]}-auth-token`,l={db:y_,realtime:x_,auth:Ie(Ie({},v_),{},{storageKey:o}),global:g_},c=E_(r??{},l);if(this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(s=c.global.headers)!==null&&s!==void 0?s:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var d;this.auth=this._initSupabaseAuthClient((d=c.auth)!==null&&d!==void 0?d:{},this.headers,c.global.fetch)}this.fetch=k_(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Ie({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&this.accessToken().then(h=>this.realtime.setAuth(h)).catch(h=>console.warn("Failed to set initial Realtime auth token:",h)),this.rest=new cw(new URL("rest/v1",i).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new i1(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new sw(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,storageKey:i,flowType:o,lock:l,debug:c,throwOnError:d},h,f){const u={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new T_({url:this.authUrl.href,headers:Ie(Ie({},u),h),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,flowType:o,lock:l,debug:c,throwOnError:d,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Sw(this.realtimeUrl.href,Ie(Ie({},e),{},{params:Ie(Ie({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const C_=(e,t,r)=>new A_(e,t,r);function P_(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}P_()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const R_="https://uiugcaaffkaaqmydvjuj.supabase.co",I_="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVpdWdjYWFmZmthYXFteWR2anVqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njc2MzI3ODgsImV4cCI6MjA4MzIwODc4OH0.b8zapu6FDQUILxgBLSjQB443vzdeVl-hIEdkZXmTa9I",X=C_(R_,I_),d0=O.createContext({}),kr=()=>{const e=O.useContext(d0);if(!e)throw new Error("useAuth must be used within AuthProvider");return e},L_=({children:e})=>{const[t,r]=O.useState(null),[n,s]=O.useState(!0);O.useEffect(()=>{(async()=>{try{const f=new Promise((b,x)=>setTimeout(()=>x(new Error("Auth timeout")),5e3)),u=X.auth.getSession(),{data:{session:p}}=await Promise.race([u,f]);r((p==null?void 0:p.user)??null)}catch(f){console.error("Auth initialization error:",f),r(null)}finally{s(!1)}})();const{data:{subscription:h}}=X.auth.onAuthStateChange((f,u)=>{(async()=>r((u==null?void 0:u.user)??null))()});return()=>h.unsubscribe()},[]);const c={user:t,loading:n,signUp:async(d,h,f={},u=null)=>{const{data:p,error:b}=await X.auth.signUp({email:d,password:h,options:{data:f}});if(b)throw b;if(p.user&&u)try{await X.from("user_website_registrations").insert([{user_id:p.user.id,website_id:u}])}catch(x){console.error("Error tracking user registration:",x)}return p},signIn:async(d,h)=>{const{data:f,error:u}=await X.auth.signInWithPassword({email:d,password:h});if(u)throw u;return f},signOut:async()=>{const{error:d}=await X.auth.signOut();if(d)throw d}};return a.jsx(d0.Provider,{value:c,children:e})},f0=O.createContext({}),zo=()=>{const e=O.useContext(f0);if(!e)throw new Error("useAdminAuth must be used within AdminAuthProvider");return e},$_=({children:e})=>{const[t,r]=O.useState(null),[n,s]=O.useState(!0);O.useEffect(()=>{i()},[]);const i=()=>{try{const f=localStorage.getItem("admin_session");if(f){const u=JSON.parse(f);new Date(u.expiresAt)>new Date?r(u):localStorage.removeItem("admin_session")}}catch(f){console.error("Error checking admin session:",f),localStorage.removeItem("admin_session")}finally{s(!1)}},h={admin:t,loading:n,login:async(f,u)=>{try{const{data:p,error:b}=await X.rpc("verify_admin_password",{admin_email:f,admin_password:u});if(b)throw b;if(!p||p.length===0)throw new Error("Invalid email or password");const x=p[0];await X.rpc("update_admin_last_login",{admin_id:x.id});const w=new Date;w.setHours(w.getHours()+8);const m={id:x.id,email:x.email,name:x.name,expiresAt:w.toISOString()};return localStorage.setItem("admin_session",JSON.stringify(m)),r(m),{success:!0}}catch(p){return console.error("Login error:",p),{success:!1,error:p.message}}},logout:()=>{localStorage.removeItem("admin_session"),r(null)},updateAdminEmail:async f=>{try{const{error:u}=await X.from("admins").update({email:f,updated_at:new Date().toISOString()}).eq("id",t.id);if(u)throw u;const p={...t,email:f};return localStorage.setItem("admin_session",JSON.stringify(p)),r(p),{success:!0}}catch(u){return console.error("Update email error:",u),{success:!1,error:u.message}}},updateAdminPassword:async f=>{try{const{data:u,error:p}=await X.rpc("update_admin_password",{admin_id:t.id,new_password:f});if(p)throw p;return{success:!0}}catch(u){return console.error("Update password error:",u),{success:!1,error:u.message}}},isAuthenticated:!!t};return a.jsx(f0.Provider,{value:h,children:e})},h0=O.createContext({}),As=()=>{const e=O.useContext(h0);if(!e)throw new Error("useCart must be used within CartProvider");return e},D_=()=>{let e=localStorage.getItem("guest_session_id");return e||(e=`guest_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,localStorage.setItem("guest_session_id",e)),e},M_=({children:e})=>{const{user:t}=kr(),[r,n]=O.useState([]),[s,i]=O.useState(!1),[o]=O.useState(D_());O.useEffect(()=>{t?l():c()},[t]);const l=async()=>{try{await X.rpc("merge_guest_cart_to_user",{p_session_id:o,p_user_id:t.id}),await h()}catch(g){console.error("Error merging guest cart:",g),await h()}},c=async()=>{i(!0);try{const{data:g,error:y}=await X.from("cart_items").select(`
          *,
          products (*)
        `).eq("session_id",o);if(y)throw y;n(g||[])}catch(g){console.error("Error fetching guest cart:",g),d()}finally{i(!1)}},d=()=>{try{const g=localStorage.getItem("cart");g&&n(JSON.parse(g))}catch(g){console.error("Error loading local cart:",g)}},h=async()=>{if(t){i(!0);try{const{data:g,error:y}=await X.from("cart_items").select(`
          *,
          products (*)
        `).eq("user_id",t.id);if(y)throw y;n(g||[])}catch(g){console.error("Error fetching cart:",g)}finally{i(!1)}}},f=async(g,y=1)=>{try{if(!t){const _=r.find(N=>N.product_id===g);if(_){const{error:N}=await X.from("cart_items").update({quantity:_.quantity+y,updated_at:new Date().toISOString()}).eq("id",_.id);if(N)throw N}else{const{error:N}=await X.from("cart_items").insert([{session_id:o,product_id:g,quantity:y}]);if(N)throw N}await c();return}const v=r.find(_=>_.product_id===g);if(v){const{error:_}=await X.from("cart_items").update({quantity:v.quantity+y,updated_at:new Date().toISOString()}).eq("id",v.id);if(_)throw _}else{const{error:_}=await X.from("cart_items").insert([{user_id:t.id,product_id:g,quantity:y}]);if(_)throw _}await h()}catch(v){throw console.error("Error adding to cart:",v),v}},u=async(g,y)=>{if(y<=0){await p(g);return}try{const{error:v}=await X.from("cart_items").update({quantity:y,updated_at:new Date().toISOString()}).eq("id",g);if(v)throw v;t?await h():await c()}catch(v){throw console.error("Error updating quantity:",v),v}},p=async g=>{try{const{error:y}=await X.from("cart_items").delete().eq("id",g);if(y)throw y;t?await h():await c()}catch(y){throw console.error("Error removing from cart:",y),y}},m={cartItems:r,loading:s,addToCart:f,updateQuantity:u,removeFromCart:p,clearCart:async()=>{try{if(!t){const{error:y}=await X.from("cart_items").delete().eq("session_id",o);if(y)throw y;n([]);return}const{error:g}=await X.from("cart_items").delete().eq("user_id",t.id);if(g)throw g;n([])}catch(g){throw console.error("Error clearing cart:",g),g}},getCartTotal:()=>r.reduce((g,y)=>g+parseFloat(y.products.price)*y.quantity,0),getCartCount:()=>r.reduce((g,y)=>g+y.quantity,0),fetchCart:h,sessionId:o};return a.jsx(h0.Provider,{value:m,children:e})},p0=O.createContext();function F_({children:e}){const[t,r]=O.useState(null),[n,s]=O.useState([]),[i,o]=O.useState(!0);O.useEffect(()=>{l()},[]);const l=async()=>{try{const{data:h,error:f}=await X.from("websites").select("*").eq("is_active",!0);if(f)throw f;s(h||[]);const u="8a11596e-2ede-47ea-af43-b40688eacff0";let p=h==null?void 0:h.find(b=>b.id===u);!p&&(h==null?void 0:h.length)>0&&(console.warn(`Website with ID ${u} not found. Falling back to the first available website.`),p=h[0]),r(p)}catch(h){console.error("Error initializing website:",h),r({id:"00000000-0000-0000-0000-000000000001",name:"Main Store",domain:"mainstore.com",is_active:!0,config:{}})}finally{o(!1)}},d={currentWebsite:t,websites:n,loading:i,switchWebsite:h=>{const f=n.find(u=>u.id===h);f&&(r(f),localStorage.setItem("selected_website_id",h))},websiteId:(t==null?void 0:t.id)||"00000000-0000-0000-0000-000000000001"};return i?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):a.jsx(p0.Provider,{value:d,children:e})}function We(){const e=O.useContext(p0);if(!e)throw new Error("useWebsite must be used within WebsiteProvider");return e}const m0=O.createContext();function U_({children:e}){const[t,r]=O.useState({brand_name:"Printer Pro",brand_logo:"",contact_email:"info@printerpro.com",contact_phone:"+1-234-567-8900",address:""}),[n,s]=O.useState(!0),{websiteId:i}=We();O.useEffect(()=>{i&&o()},[i]);const o=async()=>{try{const c=new Promise((u,p)=>setTimeout(()=>p(new Error("Timeout")),5e3)),d=X.from("site_settings").select("*").eq("website_id",i).maybeSingle(),{data:h,error:f}=await Promise.race([d,c]);if(f)throw f;h&&r(h)}catch(c){console.error("Error fetching site settings:",c)}finally{s(!1)}},l=()=>{o()};return a.jsx(m0.Provider,{value:{settings:t,loading:n,refreshSettings:l},children:e})}function Za(){const e=O.useContext(m0);if(!e)throw new Error("useSiteSettings must be used within SiteSettingsProvider");return e}function Qt({children:e}){const{admin:t,loading:r}=zo();return r?a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-sky-600"})}):t?e:a.jsx(Bb,{to:"/admin/login",replace:!0})}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var q_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B_=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ee=(e,t)=>{const r=O.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...d},h)=>O.createElement("svg",{ref:h,...q_,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${B_(e)}`,l].join(" "),...d},[...t.map(([f,u])=>O.createElement(f,u)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tn=ee("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g0=ee("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y0=ee("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z_=ee("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v0=ee("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=ee("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qa=ee("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const po=ee("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ps=ee("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H_=ee("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ba=ee("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W_=ee("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _s=ee("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V_=ee("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K_=ee("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x0=ee("Droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Th=ee("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yr=ee("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G_=ee("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const za=ee("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sd=ee("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ah=ee("Gem",[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J_=ee("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q_=ee("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ch=ee("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b0=ee("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y_=ee("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z_=ee("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X_=ee("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ej=ee("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tj=ee("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rj=ee("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nj=ee("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const An=ee("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sj=ee("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ou=ee("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=ee("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w0=ee("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _0=ee("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ed=ee("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j0=ee("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=ee("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aj=ee("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N0=ee("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ij=ee("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Od=ee("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oj=ee("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cn=ee("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Td=ee("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lj=ee("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=ee("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xr=ee("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cj=ee("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k0=ee("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S0=ee("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pn=ee("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ad=ee("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hr=ee("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uj=ee("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E0=ee("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mo=ee("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dj=ee("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bl=ee("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fj=ee("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hj=ee("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=ee("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pj=ee("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mj=ee("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rn=ee("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gj=ee("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O0=ee("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yj=ee("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bn=ee("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cd=ee("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ha=ee("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=ee("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T0=ee("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function vj(){const[e,t]=O.useState(!0),[r,n]=O.useState(null),[s,i]=O.useState(!0),{websiteId:o}=We();O.useEffect(()=>{l()},[o]);const l=async()=>{try{if(!o)return;const{data:c,error:d}=await X.from("site_settings").select("announcement_text, announcement_enabled").eq("website_id",o).maybeSingle();if(d)throw d;c&&c.announcement_enabled&&c.announcement_text&&n(c.announcement_text)}catch(c){console.error("Error fetching announcement:",c)}finally{i(!1)}};return s||!e||!r?null:a.jsx("div",{className:"bg-gradient-to-r from-primary-700 via-primary-600 to-accent-600 text-white py-3 px-4 relative shadow-lg",children:a.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-center text-center",children:[a.jsx("p",{className:"text-sm font-bold whitespace-pre-line",children:r}),a.jsx("button",{onClick:()=>t(!1),className:"absolute right-4 top-1/2 -translate-y-1/2 hover:bg-white/20 p-1.5 rounded-xl transition-all","aria-label":"Close announcement",children:a.jsx($t,{className:"w-4 h-4"})})]})})}const xj=()=>{const{user:e}=kr(),[t,r]=O.useState(!1),[n,s]=O.useState(!0);O.useEffect(()=>{e?i():(r(!1),s(!1))},[e]);const i=async()=>{try{const{data:o,error:l}=await X.from("user_roles").select("role").eq("user_id",e.id).maybeSingle();if(l)throw l;r((o==null?void 0:o.role)==="admin")}catch(o){console.error("Error checking admin status:",o),r(!1)}finally{s(!1)}};return{isAdmin:t,loading:n}};function lu({placeholder:e="Search products...",variant:t="default"}){const[r,n]=O.useState(""),[s,i]=O.useState([]),[o,l]=O.useState(!1),[c,d]=O.useState(!1),h=O.useRef(null),f=St();O.useEffect(()=>{const y=v=>{h.current&&!h.current.contains(v.target)&&l(!1)};return document.addEventListener("mousedown",y),()=>document.removeEventListener("mousedown",y)},[]),O.useEffect(()=>{const y=setTimeout(()=>{r.length>=2?u():(i([]),l(!1))},300);return()=>clearTimeout(y)},[r]);const u=async()=>{d(!0);try{const{data:y,error:v}=await X.from("products").select("id, name, price, image_url, description").or(`name.ilike.*${r}*,description.ilike.*${r}*`);if(v)throw v;i(y||[]),l(!0)}catch(y){console.error("Search error:",y)}finally{d(!1)}},p=()=>{n(""),i([]),l(!1)},b=()=>{l(!1),n("")},x=y=>{y.key==="Enter"&&r.length>=2&&(f(`/shop?search=${encodeURIComponent(r)}`),l(!1),n(""))},w=s.length>0,m=t==="hero"?"w-full pl-12 pr-12 py-4 text-lg rounded-full border-2 border-gray-200 focus:border-primary-500 focus:ring-4 focus:ring-primary-100 outline-none transition-all shadow-lg":"w-full pl-10 pr-10 py-2.5 text-sm rounded-full border-2 border-gray-200 focus:border-primary-500 focus:ring-2 focus:ring-primary-100 outline-none transition-all bg-white",g=t==="hero"?"w-6 h-6":"w-5 h-5";return a.jsxs("div",{ref:h,className:"relative w-full",children:[a.jsxs("div",{className:"relative",children:[a.jsx(xr,{className:`absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 ${g}`}),a.jsx("input",{type:"text",value:r,onChange:y=>n(y.target.value),onKeyDown:x,placeholder:e,className:m}),r&&a.jsx("button",{onClick:p,className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx($t,{className:g})})]}),o&&r.length>=2&&a.jsxs("div",{className:"absolute top-full mt-2 w-full bg-white rounded-3xl shadow-2xl border-2 border-primary-200 max-h-[400px] overflow-y-auto z-50",children:[c?a.jsx("div",{className:"p-6 text-center",children:a.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):w?a.jsx("div",{className:"py-2",children:a.jsxs("div",{children:[a.jsxs("div",{className:"px-4 py-2 text-xs font-bold text-gray-500 uppercase tracking-wide flex items-center",children:[a.jsx(it,{className:"w-4 h-4 mr-2 text-primary-500"}),"Products (",s.length,")"]}),s.map(y=>a.jsxs(ce,{to:`/shop/${y.id}`,onClick:b,className:"flex items-center px-4 py-3 hover:bg-primary-50 transition-colors border-l-4 border-transparent hover:border-primary-500 rounded-2xl mx-2",children:[a.jsx("img",{src:y.image_url,alt:y.name,className:"w-14 h-14 object-cover rounded-2xl mr-3 flex-shrink-0 shadow-md"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-bold text-gray-900 truncate",children:y.name}),a.jsx("p",{className:"text-sm text-gray-600 truncate",children:y.description})]}),a.jsxs("span",{className:"ml-3 font-extrabold text-primary-600 flex-shrink-0 text-lg",children:["$",parseFloat(y.price).toFixed(2)]})]},y.id))]})}):a.jsxs("div",{className:"p-6 text-center text-gray-500",children:[a.jsx(xr,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),a.jsx("p",{className:"font-bold",children:"No results found"}),a.jsx("p",{className:"text-sm mt-1",children:"Try searching for something else or press Enter to see all results"})]}),r.length>=2&&a.jsx("div",{className:"border-t-2 border-primary-100 p-3 text-center",children:a.jsxs("button",{onClick:()=>{f(`/shop?search=${encodeURIComponent(r)}`),l(!1),n("")},className:"text-sm text-primary-600 hover:text-primary-700 font-bold",children:['View all results for "',r,'" in Shop']})})]})]})}const bj=()=>a.jsx("div",{className:"hidden md:block bg-gradient-to-r from-blue-700/95 via-indigo-700/95 to-blue-700/95 text-white text-sm py-2 shadow-sm",children:a.jsx("div",{className:" w-full mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2.5 font-medium tracking-wide",children:[a.jsx("div",{className:"bg-white/20 p-1.5 rounded-full",children:a.jsx(ij,{size:18})}),a.jsxs("span",{children:["Flat ",a.jsx("strong",{children:"15% OFF"})," on First Order - Code: ",a.jsx("strong",{children:"PRINT15"})]})]}),a.jsxs("div",{className:"flex items-center gap-8 lg:gap-12 text-xs font-medium",children:[a.jsxs("div",{className:"flex items-center gap-2 group",children:[a.jsx(Rn,{size:16,className:"group-hover:scale-110 transition-transform"}),a.jsx("span",{children:"Free Shipping Above 999"})]}),a.jsxs("div",{className:"flex items-center gap-2 group",children:[a.jsx(b0,{size:16,className:"group-hover:scale-110 transition-transform"}),a.jsx("span",{children:"247 Support"})]}),a.jsxs("div",{className:"flex items-center gap-2 group",children:[a.jsx(S0,{size:16,className:"group-hover:scale-110 transition-transform"}),a.jsx("span",{children:"2 Year Warranty"})]}),a.jsxs("div",{className:"flex items-center gap-2 group  lg:flex",children:[a.jsx(J_,{size:16,className:"group-hover:scale-110 transition-transform"}),a.jsx("span",{children:"Free Gift on 5000+"})]})]})]})})});function wj(){var b;const{user:e,signOut:t}=kr(),{getCartCount:r}=As(),{settings:n}=Za(),{isAdmin:s}=xj(),[i,o]=O.useState(!1),[l,c]=O.useState(!1),d=O.useRef(null),h=jr(),f=r(),u=[{path:"/",label:"Home"},{path:"/about",label:"About"},{path:"/shop",label:"Shop"},{path:"/shop?category=Ink%2C%20Toner%20%26%20Paper",label:"Inks & Toners"},{path:"/faq",label:"Faq"},{path:"/contact",label:"Contact"}],p=x=>x==="/"?h.pathname==="/":h.pathname.startsWith(x);return O.useEffect(()=>{const x=w=>{d.current&&!d.current.contains(w.target)&&c(!1)};return document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[]),a.jsxs(a.Fragment,{children:[a.jsx(bj,{}),a.jsxs("header",{className:`
        bg-white/70 dark:bg-gray-950/70 
        backdrop-blur-xl 
        border-b border-gray-200/50 dark:border-gray-800/50
        sticky top-0 z-50 transition-all duration-300
      `,children:[a.jsx("div",{className:"w-full mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex items-center justify-between h-16 md:h-18",children:[a.jsx(ce,{to:"/",className:"flex items-center gap-2.5 group flex-shrink-0",children:n.brand_logo?a.jsx("img",{src:n.brand_logo,alt:n.brand_name||"Brand",className:"h-9 w-auto relative z-10"}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-blue-500 to-indigo-500 rounded-full blur opacity-40 group-hover:opacity-70 transition-opacity"}),a.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",className:"text-blue-600 dark:text-blue-500 relative",children:[a.jsx("path",{d:"M17 10V8a5 5 0 0 0-10 0v2"}),a.jsx("rect",{x:"3",y:"10",width:"18",height:"11",rx:"2"})]})]}),a.jsxs("span",{className:"text-2xl font-black tracking-tight text-gray-900 dark:text-white",children:[n.brand_name||"Printer",a.jsx("span",{className:"text-blue-600 dark:text-blue-500"})]})]})}),a.jsx("nav",{className:"hidden lg:flex items-center gap-10",children:u.map(x=>{const w=p(x.path),m=x.isSpecial;return a.jsxs(ce,{to:x.path,className:`
                      group relative px-2 py-1.5 rounded-lg transition-all duration-300 text-sm font-medium
                      ${w?"text-blue-600 dark:text-blue-400 font-semibold":"text-gray-700 dark:text-gray-200 hover:text-blue-600 dark:hover:text-blue-400"}
                      ${m?"animate-pulse-slow":""}
                    `,children:[m&&a.jsx("span",{className:"absolute inset-0 rounded-lg bg-gradient-to-r from-red-500/10 via-orange-500/10 to-red-500/10 opacity-0 group-hover:opacity-100 animate-pulse-slow transition-opacity duration-700 pointer-events-none"}),a.jsx("span",{className:`relative z-10 ${m?"text-orange-600 dark:text-orange-500 font-bold tracking-wide":""}`,children:x.label}),a.jsx("span",{className:`
                      absolute -bottom-1 left-0 h-[2.5px] rounded-full transition-all duration-500 ease-out
                      ${m?"bg-gradient-to-r from-orange-500 via-red-500 to-orange-500 w-full animate-gradient-x":"bg-blue-600 dark:bg-blue-500"}
                      ${w||m?"w-full":"w-0 group-hover:w-full"}
                    `})]},x.path)})}),a.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[a.jsx("div",{className:"relative hidden md:block group",children:a.jsx("div",{className:"w-64 lg:w-80 xl:w-96",children:a.jsx(lu,{placeholder:"Search printers, ink, toner...",className:`
                      w-full h-10 pl-11 pr-4
                      bg-white/60 dark:bg-gray-900/60
                      border border-gray-300/70 dark:border-gray-700/70
                      rounded-full text-sm
                      focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500/30
                      transition-all duration-300 group-hover:shadow-sm
                    `})})}),a.jsxs(ce,{to:"/cart",className:"relative p-2.5 rounded-full bg-gray-100 dark:bg-gray-800/50 hover:bg-gray-200 dark:hover:bg-gray-700 transition-all duration-200",children:[a.jsx(hr,{className:"h-5 w-5 sm:h-6 sm:w-6 text-gray-700 dark:text-gray-300"}),f>0&&a.jsx("span",{className:`
                    absolute -top-1 -right-1 min-w-[18px] h-5 px-1.5
                    flex items-center justify-center
                    bg-red-600 text-white text-[10px] font-bold
                    rounded-full border-2 border-white dark:border-gray-950
                    scale-100 hover:scale-110 transition-transform
                  `,children:f})]}),a.jsxs("div",{className:"relative",ref:d,children:[a.jsx("button",{onClick:()=>c(!l),className:"p-2.5 rounded-full bg-gray-100 dark:bg-gray-800/50 hover:bg-gray-200 dark:hover:bg-gray-700 transition-all duration-200","aria-label":"User menu",children:a.jsx(bn,{className:"h-5 w-5 sm:h-6 sm:w-6 text-gray-700 dark:text-gray-300"})}),l&&a.jsx("div",{className:`
                    absolute right-0 top-full mt-2 w-64 sm:w-72
                    bg-white dark:bg-gray-900
                    rounded-xl shadow-2xl border border-gray-200 dark:border-gray-800
                    overflow-hidden z-50 animate-in fade-in slide-in-from-top-2 duration-150
                  `,children:e?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"py-3 px-4 border-b border-gray-100 dark:border-gray-800",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 dark:bg-blue-900 flex items-center justify-center",children:a.jsx(bn,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900 dark:text-white truncate",children:(b=e.email)==null?void 0:b.split("@")[0]}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.email})]})]})}),a.jsxs("div",{className:"py-1",children:[s&&a.jsxs(ce,{to:"/admin/dashboard",onClick:()=>c(!1),className:"flex items-center gap-3 px-5 py-2.5 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[a.jsx(Pn,{size:18}),a.jsx("span",{children:"Admin Panel"})]}),a.jsxs(ce,{to:"/profile",onClick:()=>c(!1),className:"flex items-center gap-3 px-5 py-2.5 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[a.jsx(bn,{size:18}),a.jsx("span",{children:"My Profile"})]}),a.jsxs(ce,{to:"/orders",onClick:()=>c(!1),className:"flex items-center gap-3 px-5 py-2.5 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[a.jsx(it,{size:18}),a.jsx("span",{children:"My Orders"})]}),a.jsx("hr",{className:"my-1 border-gray-200 dark:border-gray-800"}),a.jsxs("button",{onClick:()=>{t(),c(!1)},className:"w-full text-left flex items-center gap-3 px-5 py-2.5 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-950/30 transition-colors",children:[a.jsx(ou,{size:18}),a.jsx("span",{children:"Sign Out"})]})]})]}):a.jsxs("div",{className:"py-2",children:[a.jsxs("div",{className:"text-center py-3 px-4",children:[a.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Welcome!"}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Login to save cart & track orders"})]}),a.jsxs("div",{className:"py-1",children:[a.jsxs(ce,{to:"/login",onClick:()=>c(!1),className:"flex items-center gap-3 px-5 py-2.5 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[a.jsx(sj,{size:18}),a.jsx("span",{children:"Sign In"})]}),a.jsxs(ce,{to:"/signup",onClick:()=>c(!1),className:"flex items-center gap-3 px-5 py-2.5 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[a.jsx(yj,{size:18}),a.jsx("span",{children:"Create Account"})]})]})]})})]}),a.jsx("button",{onClick:()=>o(!i),className:"lg:hidden p-2.5 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:i?a.jsx($t,{className:"h-6 w-6"}):a.jsx(_0,{className:"h-6 w-6"})})]})]})}),i&&a.jsx("div",{className:"lg:hidden border-t border-gray-200 dark:border-gray-800 bg-white/95 dark:bg-gray-950/95 backdrop-blur-lg",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-5",children:[a.jsx("div",{className:"mb-6",children:a.jsx(lu,{placeholder:"Search products...",className:"w-full"})}),a.jsx("nav",{className:"flex flex-col gap-2",children:u.map(x=>a.jsxs(ce,{to:x.path,onClick:()=>o(!1),className:`flex items-center px-4 py-3 rounded-xl text-base font-medium transition-colors ${p(x.path)?"bg-blue-50 dark:bg-blue-950/50 text-blue-700 dark:text-blue-300":"hover:bg-gray-100 dark:hover:bg-gray-800"}`,children:[x.label,x.isSpecial&&a.jsx("span",{className:"ml-2 px-2 py-0.5 text-xs font-bold bg-gradient-to-r from-red-500 to-orange-500 text-white rounded",children:"HOT"})]},x.path))}),a.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200 dark:border-gray-800",children:e?a.jsxs("div",{className:"space-y-2",children:[s&&a.jsxs(ce,{to:"/admin/dashboard",onClick:()=>o(!1),className:"flex items-center gap-3 px-4 py-3 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-800",children:[a.jsx(Pn,{size:20}),a.jsx("span",{children:"Admin Panel"})]}),a.jsxs(ce,{to:"/profile",onClick:()=>o(!1),className:"flex items-center gap-3 px-4 py-3 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-800",children:[a.jsx(bn,{size:20}),a.jsx("span",{children:"My Profile"})]}),a.jsxs(ce,{to:"/orders",onClick:()=>o(!1),className:"flex items-center gap-3 px-4 py-3 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-800",children:[a.jsx(it,{size:20}),a.jsx("span",{children:"My Orders"})]}),a.jsxs("button",{onClick:()=>{t(),o(!1)},className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-red-600 hover:bg-red-50 dark:hover:bg-red-950/30",children:[a.jsx(ou,{size:20}),a.jsx("span",{children:"Sign Out"})]})]}):a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx(ce,{to:"/login",onClick:()=>o(!1),className:"py-3 px-4 rounded-xl text-center border border-gray-300 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-800",children:"Sign In"}),a.jsx(ce,{to:"/signup",onClick:()=>o(!1),className:"py-3 px-4 rounded-xl text-center bg-blue-600 text-white hover:bg-blue-700",children:"Sign Up"})]})})]})})]}),a.jsx("style",{jsx:!0,global:!0,children:`
        @keyframes pulse-slow {
          0%, 100% { opacity: 0.7; transform: scale(1); }
          50% { opacity: 1; transform: scale(1.03); }
        }
        @keyframes bounce-small {
          0%, 100% { transform: translateY(0); }
          50% { transform: translateY(-3px); }
        }
        @keyframes gradient-x {
          0% { background-position: 0% 50%; }
          50% { background-position: 100% 50%; }
          100% { background-position: 0% 50%; }
        }
        .animate-pulse-slow { animation: pulse-slow 3s ease-in-out infinite; }
        .animate-bounce-small { animation: bounce-small 2s ease-in-out infinite; }
        .animate-gradient-x { 
          background-size: 200% 200%; 
          animation: gradient-x 6s ease infinite; 
        }
      `})]})}function _j(){const{settings:e}=Za(),t=new Date().getFullYear(),r=[{to:"/about",label:"About Us"},{to:"/shop",label:"Shop"},{to:"/faq",label:"FAQ"},{to:"/contact",label:"Contact"}],n=[{to:"/policy/privacy-policy",label:"Privacy Policy"},{to:"/policy/terms-conditions",label:"Terms & Conditions"},{to:"/policy/refund-policy",label:"Refund Policy"}];return a.jsx("footer",{className:"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 py-10 md:py-12 border-t border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-6 lg:px-8",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-8 lg:gap-12 pb-8",children:[a.jsxs("div",{className:"lg:col-span-2",children:[a.jsx(ce,{to:"/",className:"flex items-center mb-5",children:e.brand_logo?a.jsx("img",{src:e.brand_logo,alt:e.brand_name||"Brand Logo",className:"h-8 w-auto"}):a.jsx("span",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e.brand_name||"PriTory"})}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 leading-relaxed mb-6",children:"Your source for innovative solutions and reliable products."}),a.jsx("h3",{className:"text-md font-semibold text-gray-800 dark:text-white mb-3",children:"Join Our Newsletter"}),a.jsxs("form",{className:"flex",children:[a.jsx("input",{type:"email",placeholder:"Enter your email",className:"flex-grow px-4 py-2 rounded-l-md bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-white text-sm border border-gray-300 dark:border-gray-600 focus:outline-none focus:ring-2 focus:ring-primary-500"}),a.jsx("button",{type:"submit",className:"bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-r-md text-sm font-medium transition-colors duration-200",children:"Subscribe"})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-md font-semibold text-gray-800 dark:text-white mb-4",children:"Quick Links"}),a.jsxs("ul",{className:"space-y-3",children:[r.map(s=>a.jsx("li",{children:a.jsx(ce,{to:s.to,className:"text-gray-600 dark:text-gray-400 hover:text-primary-600 dark:hover:text-primary-400 transition-colors duration-200 text-sm",children:s.label})},s.to)),a.jsx("li",{children:a.jsx(ce,{to:"/categories",className:"text-gray-600 dark:text-gray-400 hover:text-primary-600 dark:hover:text-primary-400 transition-colors duration-200 text-sm",children:"All Categories"})})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-md font-semibold text-gray-800 dark:text-white mb-4",children:"Legal"}),a.jsx("ul",{className:"space-y-3",children:n.map(s=>a.jsx("li",{children:a.jsx(ce,{to:s.to,className:"text-gray-600 dark:text-gray-400 hover:text-primary-600 dark:hover:text-primary-400 transition-colors duration-200 text-sm",children:s.label})},s.to))})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-md font-semibold text-gray-800 dark:text-white mb-4",children:"Contact"}),a.jsxs("ul",{className:"space-y-3 mb-6",children:[e.address&&a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx(w0,{className:"w-4 h-4 text-gray-500 dark:text-gray-400 flex-shrink-0 mt-0.5"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 leading-relaxed",children:e.address})]}),e.contact_email&&a.jsxs("li",{className:"flex items-center gap-3",children:[a.jsx(Cs,{className:"w-4 h-4 text-gray-500 dark:text-gray-400 flex-shrink-0"}),a.jsx("a",{href:`mailto:${e.contact_email}`,className:"text-sm text-gray-600 dark:text-gray-400 hover:text-primary-600 dark:hover:text-primary-400 transition-colors duration-200",children:e.contact_email})]}),e.contact_phone&&a.jsxs("li",{className:"flex items-center gap-3",children:[a.jsx(Od,{className:"w-4 h-4 text-gray-500 dark:text-gray-400 flex-shrink-0"}),a.jsx("a",{href:`tel:${e.contact_phone}`,className:"text-sm text-gray-600 dark:text-gray-400 hover:text-primary-600 dark:hover:text-primary-400 transition-colors duration-200",children:e.contact_phone})]})]}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsx("a",{href:"#",className:"text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors duration-200","aria-label":"Facebook",children:a.jsx(G_,{className:"w-5 h-5"})}),a.jsx("a",{href:"#",className:"text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors duration-200","aria-label":"Instagram",children:a.jsx(X_,{className:"w-5 h-5"})}),a.jsx("a",{href:"#",className:"text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors duration-200","aria-label":"Twitter",children:a.jsx(gj,{className:"w-5 h-5"})}),a.jsx("a",{href:"#",className:"text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors duration-200","aria-label":"LinkedIn",children:a.jsx(rj,{className:"w-5 h-5"})})]})]})]}),a.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6 text-center",children:a.jsxs("p",{className:"text-sm text-gray-500",children:[" ",t," ",e.brand_name||"PriTory",". All rights reserved."]})})]})})}function jj(){const{pathname:e}=jr();return O.useEffect(()=>{window.scrollTo(0,0)},[e]),null}const zl={laser:Td,ink:x0,multi:k0,fast:T0,business:Pn,consumable:it};function Nj(){const{websiteId:e}=We(),[t,r]=O.useState([]),[n,s]=O.useState(!0);O.useEffect(()=>{i()},[]);const i=async()=>{s(!0);const{data:o,error:l}=await X.from("categories").select(`
        id,
        name,
        description,
        products (id)
      `).order("name").limit(10);l||r(o.map(c=>{var d;return{...c,count:((d=c.products)==null?void 0:d.length)||0}}).filter(c=>c.count>0)),s(!1)};return n?a.jsx("section",{className:"py-20 bg-gray-50 text-center",children:a.jsx("div",{className:"inline-block h-12 w-12 animate-spin rounded-full border-4 border-gray-200 border-t-primary-600"})}):a.jsx("section",{className:"py-10  bg-gray-50 dark:bg-gray-950",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-6 lg:px-8 ",children:[a.jsxs("div",{className:"text-center mb-14",children:[a.jsx("h2",{className:"text-3xl md:text-5xl font-extrabold text-gray-900 dark:text-white",children:"Find Your Perfect Product"}),a.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400 max-w-2xl mx-auto",children:"Explore categories tailored to every need"})]}),a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4  gap-5",children:t.map(o=>{const l=o.name.toLowerCase(),c=Object.keys(zl).find(d=>l.includes(d))?zl[Object.keys(zl).find(d=>l.includes(d))]:it;return a.jsxs(ce,{to:`/shop?category=${encodeURIComponent(o.name)}`,className:`\r
                  group rounded-xl border border-gray-200 dark:border-gray-800\r
                  bg-white dark:bg-gray-900 p-5 text-center\r
                  transition-all duration-200\r
                  hover:shadow-lg hover:-translate-y-1\r
                `,children:[a.jsx("div",{className:"mx-auto mb-4 flex h-12 w-12 items-center justify-center rounded-lg border bg-gray-50 dark:bg-gray-800",children:a.jsx(c,{size:26,className:"text-gray-700 dark:text-gray-300"})}),a.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:o.name}),a.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400 line-clamp-2",children:o.description||"Explore products"}),a.jsxs("span",{className:"mt-3 inline-block rounded-full bg-gray-100 dark:bg-gray-800 px-4 py-1 text-xs text-gray-600 dark:text-gray-400",children:[o.count," products"]})]},o.id)})}),t.length===10&&a.jsx("div",{className:"text-center mt-12",children:a.jsxs(ce,{to:"/categories",className:"inline-flex items-center justify-center px-8 py-3 border-2 border-primary-600 text-primary-700 font-semibold rounded-full shadow-md hover:bg-primary-50 transition-all duration-300 transform hover:scale-105",children:["Explore All Categories ",a.jsx(ps,{className:"ml-2 w-5 h-5"})]})})]})})}function kj(){const[e,t]=O.useState([]),[r,n]=O.useState(!0),[s,i]=O.useState(new Set),{addToCart:o}=As();O.useEffect(()=>{document.title="Home - Modern E-commerce Store",l()},[]);const l=async()=>{try{const d=new Promise((p,b)=>setTimeout(()=>b(new Error("Timeout")),8e3)),h=X.from("products").select(`
          *,
          categories (name)
        `).order("created_at",{ascending:!1}).limit(12),{data:f,error:u}=await Promise.race([h,d]);if(u)throw u;t(f||[])}catch(d){console.error("Error fetching featured products:",d),t([])}finally{n(!1)}},c=async(d,h)=>{h&&(h.preventDefault(),h.stopPropagation());try{await o(d.id,1),i(f=>new Set(f).add(d.id)),setTimeout(()=>{i(f=>{const u=new Set(f);return u.delete(d.id),u})},2e3)}catch(f){console.error("Error adding to cart:",f)}};return a.jsxs("div",{className:"bg-white",children:[a.jsxs("section",{className:"relative min-h-screen flex items-center overflow-hidden bg-gradient-to-br from-primary-50 via-white to-primary-50 dark:from-gray-950 dark:via-gray-900 dark:to-gray-950 py-16 md:py-0",children:[a.jsxs("div",{className:"absolute inset-0 z-0 opacity-30 dark:opacity-15 pointer-events-none",children:[a.jsx("div",{className:"absolute -top-40 -right-40 w-96 h-96 bg-primary-400 rounded-full blur-3xl animate-blob-slow"}),a.jsx("div",{className:"absolute -bottom-40 -left-40 w-96 h-96 bg-primary-500 rounded-full blur-3xl animate-blob-slow animation-delay-4000"})]}),a.jsx("div",{className:"container mx-auto px-6 lg:px-12 relative z-10",children:a.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 lg:gap-16 items-center",children:[a.jsxs("div",{className:"text-center lg:text-left",children:[a.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-primary-100/70 dark:bg-primary-900/40 backdrop-blur-sm mb-6 mx-auto lg:mx-0",children:[a.jsx(uj,{size:18,className:"text-primary-600 dark:text-primary-400"}),a.jsx("span",{className:"text-sm font-medium text-primary-700 dark:text-primary-300",children:"Next-Gen Printing Technology 2026"})]}),a.jsxs("h1",{className:"text-5xl sm:text-6xl lg:text-7xl font-black tracking-tight leading-tight mb-8",children:[a.jsx("span",{className:"text-gray-900 dark:text-white",children:"Print Smarter."}),a.jsx("br",{}),a.jsx("span",{className:"bg-gradient-to-r from-primary-600 via-primary-600 to-primary-600 bg-clip-text text-transparent",children:"Print Better."})]}),a.jsxs("p",{className:"text-xl sm:text-2xl text-gray-700 dark:text-gray-300 max-w-3xl mx-auto lg:mx-0  leading-relaxed",children:["Professional-grade printers. Lightning-fast speeds.",a.jsx("span",{className:"font-semibold text-primary-600 dark:text-primary-400",children:" Zero compromises."})]}),a.jsx("div",{className:"my-5 max-w-3xl mx-auto",children:a.jsx(lu,{placeholder:"Search for products..."})}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-5 justify-center lg:justify-start",children:[a.jsxs("a",{href:"/printers",className:`
                  group relative px-10 py-3 rounded-full font-bold text-md
                  bg-gradient-to-r from-primary-600 to-primary-700 text-white
                  flex items-center justify-center gap-3
                `,children:["Explore Printers",a.jsx(Td,{className:"group-hover:rotate-12 transition-transform",size:24})]}),a.jsx("a",{href:"/compare",className:`
                  px-10 py-3 rounded-full font-bold text-md
                  border-2 border-primary-500/70 text-primary-700 dark:text-primary-300
                `,children:"Compare Models "})]}),a.jsx("div",{className:"mt-12 ",children:a.jsxs("div",{className:`
    flex flex-wrap justify-center lg:justify-start gap-6 sm:gap-10 
    px-7 py-5 rounded-2xl 
    bg-gradient-to-r from-green-50/70 to-emerald-50/70 
    dark:from-green-950/40 dark:to-emerald-950/40
    backdrop-blur-md 
    border border-green-200/60 dark:border-green-800/40
    shadow-md shadow-green-200/30 dark:shadow-green-900/20
  `,children:[a.jsxs("div",{className:"flex items-center gap-2.5",children:[a.jsx("div",{className:"w-9 h-9 rounded-xl bg-green-500/20 flex items-center justify-center text-green-600 dark:text-green-400",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"currentColor",children:a.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})})}),a.jsx("span",{className:"text-sm font-medium text-gray-800 dark:text-gray-200",children:"2 Year Warranty"})]}),a.jsxs("div",{className:"flex items-center gap-2.5",children:[a.jsx("div",{className:"w-9 h-9 rounded-xl bg-green-500/20 flex items-center justify-center text-green-600 dark:text-green-400",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:a.jsx("polyline",{points:"22 12 18 12 15 21 9 3 6 12 2 12"})})}),a.jsx("span",{className:"text-sm font-medium text-gray-800 dark:text-gray-200",children:"Free Shipping 999+"})]}),a.jsxs("div",{className:"flex items-center gap-2.5",children:[a.jsx("div",{className:"w-9 h-9 rounded-xl bg-green-500/20 flex items-center justify-center text-green-600 dark:text-green-400",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:a.jsx("path",{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"})})}),a.jsx("span",{className:"text-sm font-medium text-gray-800 dark:text-gray-200",children:"247 Expert Support"})]})]})})]}),a.jsx("div",{className:"relative hidden lg:block",children:a.jsxs("div",{className:"relative z-10",children:[a.jsxs("div",{className:"relative rounded-3xl overflow-hidden shadow-2xl shadow-blue-600/20 transform hover:scale-[1.03] transition-transform duration-500",children:[a.jsx("img",{src:"https://images.unsplash.com/photo-1580894894513-541e068a3e2b?auto=format&fit=crop&w=1200&q=80",alt:"Modern professional printer",className:"w-full h-auto object-cover aspect-[4/3] brightness-95"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/30 via-transparent to-transparent"})]}),a.jsx("div",{className:"absolute -top-12 -right-12 w-64 h-64 rounded-2xl overflow-hidden border-8 border-white/80 shadow-xl transform rotate-6",children:a.jsx("img",{src:"assets/hero/hero1.jpg",alt:"Printer detail",className:"w-full h-full object-cover"})}),a.jsx("div",{className:"absolute -bottom-16 -left-16 w-56 h-56 rounded-2xl overflow-hidden border-8 border-white/80 shadow-xl transform -rotate-6",children:a.jsx("img",{src:"assets/hero/hero2.jpg",alt:"Fast printing",className:"w-full h-full object-cover"})})]})}),a.jsx("div",{className:"lg:hidden mt-12 mx-auto max-w-md",children:a.jsx("div",{className:"rounded-3xl overflow-hidden shadow-2xl shadow-primary-600/20",children:a.jsx("img",{src:"assets/hero/hero1.jpg",alt:"Modern professional printer",className:"w-full h-auto object-cover"})})})]})}),a.jsx("style",{jsx:!0,global:!0,children:`
        @keyframes blob-slow {
          0%   { transform: translate(0, 0) scale(1); }
          33%  { transform: translate(120px, 80px) scale(1.15); }
          66%  { transform: translate(-80px, 140px) scale(0.95); }
          100% { transform: translate(0, 0) scale(1); }
        }
        .animate-blob-slow {
          animation: blob-slow 20s infinite ease-in-out;
        }
        .animation-delay-4000 {
          animation-delay: 5s;
        }
      `})]}),a.jsx("section",{className:"py-12 bg-gray-50",children:a.jsx("div",{className:"max-w-7xl mx-auto border-b border-gray-200 pb-10 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-10 text-center",children:[a.jsxs("div",{className:"flex text-start gap-5 border-gray-200 border-r",children:[a.jsx("div",{className:"w-14 h-14  mb-4 flex items-center justify-center rounded-full bg-primary-50",children:a.jsx(Rn,{className:"w-7 h-7 text-primary-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:"Fast & Free Shipping"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Quick delivery with no extra cost."})]})]}),a.jsxs("div",{className:" flex text-start gap-5 border-gray-200 border-r",children:[a.jsx("div",{className:"w-14 h-14  mb-4 flex items-center justify-center rounded-full bg-primary-50",children:a.jsx(Pn,{className:"w-7 h-7 text-primary-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:"Secure Payments"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Encrypted & safe payment system."})]})]}),a.jsxs("div",{className:"flex text-start gap-5",children:[a.jsx("div",{className:"w-14 h-14  mb-4 flex items-center justify-center rounded-full bg-primary-50",children:a.jsx(b0,{className:"w-7 h-7 text-primary-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:"24/7 Support"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Were always here to help you."})]})]})]})})}),a.jsx(Nj,{}),a.jsx("section",{className:"py-16 bg-white",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsxs("h2",{className:"text-3xl md:text-4xl font-extrabold text-gray-900 mb-4",children:["What ",a.jsx("span",{className:"text-primary-700",children:"We Offer"})]}),a.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Our commitment is to provide a comprehensive and satisfying experience."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[a.jsxs("div",{className:"p-6 rounded-xl shadow-md border border-gray-100 bg-gray-50 flex flex-col items-center text-center hover:shadow-lg transition-all duration-300",children:[a.jsx(tj,{className:"w-10 h-10 text-accent-600 mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Curated Selection"}),a.jsx("p",{className:"text-gray-600 text-sm",children:"Hand-picked products for quality and value."})]}),a.jsxs("div",{className:"p-6 rounded-xl shadow-md border border-gray-100 bg-gray-50 flex flex-col items-center text-center hover:shadow-lg transition-all duration-300",children:[a.jsx(mj,{className:"w-10 h-10 text-accent-600 mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Competitive Pricing"}),a.jsx("p",{className:"text-gray-600 text-sm",children:"Great prices on all our items, everyday."})]}),a.jsxs("div",{className:"p-6 rounded-xl shadow-md border border-gray-100 bg-gray-50 flex flex-col items-center text-center hover:shadow-lg transition-all duration-300",children:[a.jsx(Pn,{className:"w-10 h-10 text-accent-600 mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Quality Guarantee"}),a.jsx("p",{className:"text-gray-600 text-sm",children:"Shop with confidence, knowing you're getting the best."})]}),a.jsxs("div",{className:"p-6 rounded-xl shadow-md border border-gray-100 bg-gray-50 flex flex-col items-center text-center hover:shadow-lg transition-all duration-300",children:[a.jsx(Cd,{className:"w-10 h-10 text-accent-600 mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Dedicated Support"}),a.jsx("p",{className:"text-gray-600 text-sm",children:"Our friendly team is always ready to help you."})]})]})]})}),a.jsx("section",{className:"py-16 bg-gradient-to-br from-gray-50 to-white",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsxs("h2",{className:"text-3xl md:text-4xl font-extrabold text-gray-900 mb-4",children:["Our ",a.jsx("span",{className:"text-primary-700",children:"Featured Products"})]}),a.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Hand-picked selections that combine quality, innovation, and value."})]}),r?a.jsx("div",{className:"text-center py-16",children:a.jsx("div",{className:"inline-block animate-spin rounded-full h-16 w-16 border-4 border-gray-200 border-t-primary-600"})}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:e.map(d=>{var h;return a.jsxs(ce,{to:`/shop/${d.id}`,className:"group relative bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300 flex flex-col",children:[a.jsxs("div",{className:"relative h-48 bg-gray-50 flex items-center justify-center overflow-hidden",children:[a.jsx("img",{src:d.image_url||"/placeholder-image.jpg",alt:d.name,className:"max-h-full max-w-full object-contain transition-transform duration-500 group-hover:scale-105"}),a.jsx("div",{className:"absolute top-3 left-3 bg-green-500 text-white text-xs font-bold px-2 py-1 rounded-full",children:"In Stock"})]}),a.jsxs("div",{className:"p-5 flex flex-col flex-grow",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2 line-clamp-2",children:d.name}),a.jsx("p",{className:"text-gray-500 text-sm mb-3",children:((h=d.categories)==null?void 0:h.name)||"Category"}),a.jsxs("div",{className:"flex items-center mb-3",children:[[...Array(5)].map((f,u)=>a.jsx(mo,{className:`w-4 h-4 ${u<4?"text-yellow-400 fill-yellow-400":"text-gray-300"}`},u)),a.jsx("span",{className:"text-sm text-gray-600 ml-2",children:"4.0"})]}),a.jsxs("div",{className:"flex items-center justify-between mt-auto",children:[a.jsxs("span",{className:"text-xl font-bold text-gray-900",children:["$",parseFloat(d.price).toFixed(2)]}),a.jsxs("button",{onClick:f=>c(d,f),className:`px-4 py-2 rounded-full text-sm font-medium transition-all duration-300 flex items-center gap-2 ${s.has(d.id)?"bg-green-600 text-white":"bg-primary-600 text-white hover:bg-primary-700"}`,children:[s.has(d.id)?a.jsx(Lt,{className:"w-4 h-4"}):a.jsx(hr,{className:"w-4 h-4"}),a.jsx("span",{className:"hidden sm:inline",children:s.has(d.id)?"Added":"Add"})]})]})]})]},d.id)})}),a.jsx("div",{className:"text-center mt-12",children:a.jsxs(ce,{to:"/shop",className:"inline-flex items-center justify-center px-8 py-3 border-2 border-primary-600 text-primary-700 font-semibold rounded-full shadow-md hover:bg-primary-50 transition-all duration-300 transform hover:scale-105",children:["View All Products ",a.jsx(ps,{className:"ml-2 w-5 h-5"})]})})]})]})}),a.jsx("section",{className:"py-16 bg-gray-50",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsxs("h2",{className:"text-3xl md:text-4xl font-extrabold text-gray-900 mb-4",children:["How It ",a.jsx("span",{className:"text-primary-700",children:"Works"})]}),a.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Simple steps to get your favorite products delivered to your door."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[a.jsxs("div",{className:"relative p-8 bg-white rounded-xl shadow-md border border-gray-100 flex flex-col items-center text-center",children:[a.jsx("div",{className:"absolute -top-6 left-1/2 -translate-x-1/2 bg-primary-600 text-white w-12 h-12 flex items-center justify-center rounded-full text-xl font-bold border-4 border-white shadow-lg",children:"1"}),a.jsx(hr,{className:"w-16 h-16 text-primary-600 mt-8 mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Browse & Select"}),a.jsx("p",{className:"text-gray-600",children:"Explore our wide range of products and add your favorites to the cart."})]}),a.jsxs("div",{className:"relative p-8 bg-white rounded-xl shadow-md border border-gray-100 flex flex-col items-center text-center",children:[a.jsx("div",{className:"absolute -top-6 left-1/2 -translate-x-1/2 bg-primary-600 text-white w-12 h-12 flex items-center justify-center rounded-full text-xl font-bold border-4 border-white shadow-lg",children:"2"}),a.jsx(_s,{className:"w-16 h-16 text-primary-600 mt-8 mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Secure Checkout"}),a.jsx("p",{className:"text-gray-600",children:"Complete your purchase with our secure and easy checkout process."})]}),a.jsxs("div",{className:"relative p-8 bg-white rounded-xl shadow-md border border-gray-100 flex flex-col items-center text-center",children:[a.jsx("div",{className:"absolute -top-6 left-1/2 -translate-x-1/2 bg-primary-600 text-white w-12 h-12 flex items-center justify-center rounded-full text-xl font-bold border-4 border-white shadow-lg",children:"3"}),a.jsx(Rn,{className:"w-16 h-16 text-primary-600 mt-8 mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Fast Delivery"}),a.jsx("p",{className:"text-gray-600",children:"Sit back and relax while we deliver your order right to your doorstep."})]}),a.jsxs("div",{className:"relative p-8 bg-white rounded-xl shadow-md border border-gray-100 flex flex-col items-center text-center",children:[a.jsx("div",{className:"absolute -top-6 left-1/2 -translate-x-1/2 bg-primary-600 text-white w-12 h-12 flex items-center justify-center rounded-full text-xl font-bold border-4 border-white shadow-lg",children:"4"}),a.jsx(Lt,{className:"w-16 h-16 text-primary-600 mt-8 mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Enjoy Your Product"}),a.jsx("p",{className:"text-gray-600",children:"Receive your product and enjoy our quality assurance and support."})]})]})]})}),a.jsx("section",{className:"py-16 bg-white",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12 items-center",children:[a.jsxs("div",{className:"md:order-2",children:[a.jsxs("h2",{className:"text-3xl md:text-4xl font-extrabold text-gray-900 mb-6",children:["Our Story: ",a.jsx("span",{className:"text-primary-700",children:"Passion & Purpose"})]}),a.jsx("p",{className:"text-lg text-gray-700 mb-6 leading-relaxed",children:"Founded with a vision to revolutionize the online shopping experience, our store is more than just a marketplace. We believe in providing not just products, but solutions that enrich your life. Our journey began with a simple idea: to connect people with high-quality goods backed by integrity and exceptional service."}),a.jsxs(ce,{to:"/about",className:"inline-flex items-center justify-center px-8 py-3 border-2 border-primary-600 text-primary-700 font-semibold rounded-full shadow-md hover:bg-primary-50 transition-all duration-300 transform hover:scale-105",children:["Learn More ",a.jsx(ps,{className:"ml-2 w-5 h-5"})]})]}),a.jsx("div",{className:"md:order-1",children:a.jsx("img",{src:"assets/about/aboutus.png",alt:"About Us",className:"rounded-xl shadow-2xl w-full h-auto object-cover"})})]})})}),a.jsx("section",{className:"py-20 bg-primary-600 text-white",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[a.jsxs("h2",{className:"text-3xl md:text-5xl font-extrabold mb-6",children:["Ready to Start Your ",a.jsx("span",{className:"text-yellow-300",children:"Shopping Journey?"})]}),a.jsx("p",{className:"text-lg text-primary-100 mb-10 max-w-2xl mx-auto",children:"Browse our extensive catalog and find exactly what you need with confidence and ease."}),a.jsxs(ce,{to:"/shop",className:"inline-flex items-center justify-center px-10 py-4 bg-white text-primary-700 font-bold rounded-full shadow-lg hover:bg-gray-100 transition-all duration-300 transform hover:scale-105",children:["Explore Products ",a.jsx(g0,{className:"ml-3 w-5 h-5"})]})]})})]})}function Sj(){var C;const{id:e}=Bg(),t=St(),{addToCart:r}=As(),[n,s]=O.useState(null),[i,o]=O.useState([]),[l,c]=O.useState(1),[d,h]=O.useState(!0),[f,u]=O.useState(!1),[p,b]=O.useState(!1),[x,w]=O.useState(0),[m,g]=O.useState("specifications"),[y,v]=O.useState(!1);O.useEffect(()=>{s(null),o([]),h(!0),w(0),c(1),window.scrollTo(0,0),_()},[e]);const _=async()=>{try{const{data:$,error:F}=await X.from("products").select("*, categories(*)").eq("id",e).maybeSingle();if(F)throw F;if(!$){t("/shop");return}s($),N($.category_id,$.id),document.title=`${$.name} - Premium Printers`}catch($){console.error("Error fetching product:",$),t("/shop")}finally{h(!1)}},N=async($,F)=>{try{const{data:B}=await X.from("products").select("*, categories(*)").eq("category_id",$).neq("id",F).limit(4);o(B||[])}catch(B){console.error("Error fetching related products:",B)}},j=async()=>{u(!0);try{await r(n.id,l),b(!0),setTimeout(()=>b(!1),3e3)}catch($){console.error("Error adding to cart:",$)}finally{u(!1)}},S=async()=>{await j(),setTimeout(()=>t("/checkout"),500)};if(d)return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsx("div",{className:"text-gray-600",children:"Loading product details..."})});if(!n)return null;const R=Array.isArray(n.images)&&n.images.length>0?n.images:[n.image_url||"/placeholder-printer.jpg"],k=n.discount_price&&parseFloat(n.discount_price)<parseFloat(n.price),E=k?n.discount_price:n.price,T=k?Math.round((parseFloat(n.price)-parseFloat(n.discount_price))/parseFloat(n.price)*100):0,P=typeof n.specifications=="object"?n.specifications:{};return a.jsx("div",{className:"min-h-screen bg-gray-50",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-12",children:[a.jsxs("nav",{className:"flex items-center gap-2 text-sm text-gray-600 mb-10",children:[a.jsxs(ce,{to:"/",className:"hover:text-gray-900 flex items-center gap-1",children:[a.jsx(Z_,{className:"w-4 h-4"})," Home"]}),a.jsx(ps,{className:"w-4 h-4"}),a.jsx(ce,{to:"/shop",className:"hover:text-gray-900",children:"Shop"}),n.categories&&a.jsxs(a.Fragment,{children:[a.jsx(ps,{className:"w-4 h-4"}),a.jsx("span",{className:"text-gray-500",children:n.categories.name})]}),a.jsx(ps,{className:"w-4 h-4"}),a.jsx("span",{className:"text-gray-900 font-medium",children:n.name})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16 mb-0",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"aspect-square rounded-2xl overflow-hidden bg-white border border-gray-100",children:a.jsx("img",{src:R[x],alt:n.name,className:"w-full h-full object-contain p-10",loading:"lazy"})}),R.length>1&&a.jsx("div",{className:"flex gap-4 overflow-x-auto pb-2",children:R.map(($,F)=>a.jsx("button",{onClick:()=>w(F),className:`flex-shrink-0 w-24 h-24 rounded-xl overflow-hidden border-2 transition-all ${x===F?"border-primary-600 shadow-md":"border-gray-200 hover:border-gray-300"}`,children:a.jsx("img",{src:$,alt:`Thumbnail ${F+1}`,className:"w-full h-full object-cover"})},F))})]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-sm text-gray-500 font-medium mb-3",children:((C=n.categories)==null?void 0:C.name)||"Printer"}),a.jsx("h1",{className:"text-4xl font-semibold text-gray-900 mb-6",children:n.name}),a.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[a.jsx("div",{className:"flex",children:[...Array(5)].map(($,F)=>a.jsx(mo,{className:`w-5 h-5 ${F<4?"text-amber-400 fill-amber-400":"text-gray-200"}`},F))}),a.jsx("span",{className:"text-sm text-gray-600",children:"4.8  127 reviews"})]}),a.jsx("div",{className:"mb-10",children:a.jsxs("div",{className:"flex items-baseline gap-4",children:[a.jsxs("span",{className:"text-4xl font-semibold text-gray-900",children:["$",parseFloat(E).toFixed(2)]}),k&&a.jsxs(a.Fragment,{children:[a.jsxs("span",{className:"text-2xl text-gray-500 line-through",children:["$",parseFloat(n.price).toFixed(2)]}),a.jsxs("span",{className:"text-sm font-semibold text-white bg-red-600 px-4 py-1.5 rounded-full",children:[T,"% OFF"]})]})]})}),a.jsxs("div",{className:"mb-10 text-gray-700 leading-relaxed",children:[a.jsx("p",{className:y?"":"line-clamp-5",children:n.description||"High-quality laser printer with advanced features, reliable performance, and excellent print quality."}),n.description&&n.description.length>250&&a.jsx("button",{onClick:()=>v(!y),className:"text-primary-600 text-sm font-medium mt-4 hover:text-primary-700",children:y?"Show less":"Read more"})]}),a.jsxs("div",{className:"flex items-center gap-6 mb-10",children:[a.jsx("span",{className:"text-gray-700 font-medium",children:"Quantity"}),a.jsxs("div",{className:"flex items-center border border-gray-300 rounded-xl",children:[a.jsx("button",{onClick:()=>c(Math.max(1,l-1)),disabled:l<=1,className:"p-4 hover:bg-gray-50 disabled:opacity-50",children:a.jsx(j0,{className:"w-4 h-4"})}),a.jsx("span",{className:"w-16 text-center font-medium text-lg",children:l}),a.jsx("button",{onClick:()=>c(l+1),className:"p-4 hover:bg-gray-50",children:a.jsx(Cn,{className:"w-4 h-4"})})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-5 mb-10",children:[a.jsx("button",{onClick:j,disabled:f,className:`flex-1 py-5 px-8 rounded-xl font-medium transition-all flex items-center justify-center gap-4 shadow-md ${p?"bg-green-600 text-white":"border-2 border-primary-600 text-primary-600 hover:bg-primary-600 hover:text-white"}`,children:p?a.jsxs(a.Fragment,{children:[a.jsx(qa,{className:"w-6 h-6"})," Added to Cart"]}):a.jsxs(a.Fragment,{children:[a.jsx(hr,{className:"w-6 h-6"}),f?"Adding...":"Add to Cart"]})}),a.jsx("button",{onClick:S,className:"flex-1 py-5 px-8 rounded-xl bg-gray-900 text-white font-medium hover:bg-gray-800 transition-all shadow-md",children:"Buy Now"})]})]})]}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 pt-8 pb-8 border-t border-gray-200",children:[{icon:Rn,title:"Free Shipping",desc:"On orders over $100"},{icon:Pn,title:"1-Year Warranty",desc:"Full Coverage"},{icon:lj,title:"30-Day Returns",desc:"Easy & Free"},{icon:An,title:"Secure Payment",desc:"100% Protected"}].map(($,F)=>a.jsxs("div",{className:"text-center",children:[a.jsx($.icon,{className:"w-10 h-10 text-gray-600 mx-auto mb-4"}),a.jsx("p",{className:"font-medium text-gray-800",children:$.title}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:$.desc})]},F))}),a.jsxs("div",{className:" pt-12",children:[a.jsx("div",{className:"flex gap-12 border-b border-gray-200 mb-10",children:["Specifications","Warranty","Reviews"].map($=>a.jsx("button",{onClick:()=>g($.toLowerCase()),className:`pb-4 text-base font-medium transition-colors ${m===$.toLowerCase()?"text-primary-600 border-b-2 border-primary-600":"text-gray-600 hover:text-gray-800"}`,children:$},$))}),a.jsxs("div",{className:"py-10",children:[m==="specifications"&&a.jsxs("div",{className:"space-y-10",children:[n.description&&a.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 p-8",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Product Description"}),a.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-line",children:n.description})]}),Object.keys(P).length>0&&a.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 p-8",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Technical Specifications"}),a.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:Object.entries(P).map(([$,F])=>a.jsxs("div",{className:"flex justify-between py-4 border-b border-gray-100",children:[a.jsx("span",{className:"text-gray-600 capitalize",children:$.replace(/_/g," ")}),a.jsx("span",{className:"font-medium text-gray-900",children:F})]},$))})]})]}),m==="warranty"&&a.jsxs("div",{className:" text-gray-700 space-y-5 bg-white rounded-2xl border border-gray-100 p-8",children:[a.jsx("p",{children:"This printer comes with a standard 1-year manufacturer warranty covering defects in materials and workmanship."}),a.jsx("ul",{className:"space-y-4",children:["Parts & Labor Coverage","Free Technical Support","Fast Replacement Service","Extended Warranty Available"].map($=>a.jsxs("li",{className:"flex items-center gap-4",children:[a.jsx(qa,{className:"w-6 h-6 text-green-600 flex-shrink-0"}),a.jsx("span",{children:$})]},$))})]}),m==="reviews"&&a.jsxs("div",{className:"text-center py-16 bg-white rounded-2xl border border-gray-100",children:[a.jsx("div",{className:"text-6xl font-bold text-gray-900 mb-4",children:"4.8"}),a.jsx("div",{className:"flex justify-center gap-1 mb-6",children:[...Array(5)].map(($,F)=>a.jsx(mo,{className:"w-10 h-10 text-amber-400 fill-amber-400"},F))}),a.jsx("p",{className:"text-gray-600 text-lg",children:"Based on 127 customer reviews"})]})]})]}),i.length>0&&a.jsxs("div",{className:"mt-24",children:[a.jsx("h2",{className:"text-3xl font-semibold text-gray-900 mb-10",children:"You May Also Like"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:i.map($=>a.jsxs(ce,{to:`/shop/${$.id}`,className:"group bg-white rounded-2xl overflow-hidden border border-gray-100 hover:shadow-xl transition-all duration-500",children:[a.jsx("div",{className:"aspect-square bg-gray-50 overflow-hidden",children:a.jsx("img",{src:$.image_url||"/placeholder-printer.jpg",alt:$.name,className:"w-full h-full object-contain p-10 group-hover:scale-105 transition-transform duration-700"})}),a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"font-medium text-gray-900 line-clamp-2 mb-4 group-hover:text-primary-600 transition",children:$.name}),a.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:["$",parseFloat($.price).toFixed(2)]})]})]},$.id))})]})]})})}function Ej(){const[e,t]=O.useState([]),[r,n]=O.useState(null),[s,i]=O.useState(!0),{websiteId:o}=We();O.useEffect(()=>{document.title="FAQ - Frequently Asked Questions";const d=(h,f)=>{let u=document.querySelector(`meta[name="${h}"]`);u||(u=document.createElement("meta"),u.setAttribute("name",h),document.head.appendChild(u)),u.setAttribute("content",f)};d("description","Find answers to frequently asked questions about our printers, delivery, returns, and more. Get quick help with common queries."),d("keywords","FAQ, frequently asked questions, printer help, printer support, printer questions, delivery information, return policy"),o&&l()},[o]);const l=async()=>{try{const{data:d,error:h}=await X.from("faqs").select("*").eq("is_active",!0).eq("website_id",o).order("display_order");if(h)throw h;t(d||[])}catch(d){console.error("Error fetching FAQs:",d)}finally{i(!1)}},c=d=>{n(r===d?null:d)};return s?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading FAQs..."})]})}):a.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[a.jsx("section",{className:"bg-primary-50 dark:bg-gray-800 py-16 md:py-20 text-center",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-6 lg:px-8",children:[a.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold text-gray-900 dark:text-white mb-4",children:"Frequently Asked Questions"}),a.jsx("p",{className:"text-lg md:text-xl text-gray-700 dark:text-gray-300 max-w-2xl mx-auto",children:"Find quick answers to your questions about our products, orders, shipping, and more."})]})}),a.jsxs("div",{className:"max-w-4xl mx-auto px-6 lg:px-8 py-12 md:py-16",children:[a.jsxs("div",{className:"mb-10 text-gray-700 dark:text-gray-300 leading-relaxed",children:[a.jsx("p",{className:"text-lg mb-4",children:"Welcome to our FAQ section! We've compiled a list of common questions to help you find the information you need quickly. If you can't find an answer here, please don't hesitate to reach out to our customer support team."}),a.jsx("p",{className:"text-md",children:"Our goal is to ensure a smooth and enjoyable experience with our products and services, from browsing to after-sales support."})]}),s?a.jsxs("div",{className:"flex items-center justify-center py-10",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),a.jsx("p",{className:"ml-4 text-gray-600 dark:text-gray-400",children:"Loading FAQs..."})]}):e.length===0?a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-8 text-center border border-gray-100 dark:border-gray-700",children:a.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-lg",children:"No FAQs available at the moment. Please check back later or contact support."})}):a.jsx("div",{className:"space-y-4",children:e.map((d,h)=>a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden",children:[a.jsxs("button",{onClick:()=>c(h),className:"w-full px-6 py-4 flex items-center justify-between text-left hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-200",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white pr-4 flex items-start",children:[a.jsxs("span",{className:"flex-shrink-0 mr-3 text-primary-600 font-bold",children:[h+1,"."]}),d.question]}),r===h?a.jsx(H_,{className:"flex-shrink-0 text-primary-600",size:24}):a.jsx(po,{className:"flex-shrink-0 text-gray-500 dark:text-gray-400",size:24})]}),r===h&&a.jsx("div",{className:"px-6 pb-5 text-gray-700 dark:text-gray-300 leading-relaxed border-t border-gray-100 dark:border-gray-700 pt-4",children:d.answer})]},d.id))}),a.jsxs("div",{className:"mt-16 text-center bg-white dark:bg-gray-800 rounded-xl shadow-md p-8 border border-gray-100 dark:border-gray-700",children:[a.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900 dark:text-white mb-4",children:"Still Have Questions?"}),a.jsx("p",{className:"text-lg text-gray-700 dark:text-gray-300 max-w-xl mx-auto mb-6",children:"If you couldn't find the answer you were looking for, our friendly support team is here to help!"}),a.jsxs(ce,{to:"/contact",className:"inline-flex items-center justify-center px-8 py-3 border border-primary-600 text-primary-700 dark:text-primary-300 font-semibold rounded-full shadow-md hover:bg-primary-50 dark:hover:bg-primary-900/20 transition-all duration-300 transform hover:scale-105",children:["Contact Us ",a.jsx(po,{className:"ml-2 w-5 h-5 rotate-[-90deg]"})]})]})]})]})}function Oj(){const{slug:e}=Bg(),{websiteId:t}=We(),r=St(),[n,s]=O.useState(null),[i,o]=O.useState(!0);O.useEffect(()=>{t&&l()},[e,t]),O.useEffect(()=>{if(n){document.title=`${n.title} - Store Policy`;const c=(d,h)=>{let f=document.querySelector(`meta[name="${d}"]`);f||(f=document.createElement("meta"),f.setAttribute("name",d),document.head.appendChild(f)),f.setAttribute("content",h)};c("description",n.title),c("keywords",`${n.title}, store policy, terms, printer store policy`)}},[n]);const l=async()=>{try{const{data:c,error:d}=await X.from("policies").select("*").eq("slug",e).eq("is_active",!0).eq("website_id",t).maybeSingle();if(d)throw d;if(!c){r("/");return}s(c)}catch(c){console.error("Error fetching policy:",c),r("/")}finally{o(!1)}};return i?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-2-b-2 border-2-primary-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}):n?a.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:a.jsx("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl border-2-2 border-2-gray-100 p-8 md:p-12",children:[a.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:n.title}),a.jsxs("div",{className:"text-sm text-gray-500 mb-8",children:["Last updated: ",new Date(n.updated_at).toLocaleDateString()]}),a.jsx("div",{className:`prose prose-slate prose-lg max-w-none
                       prose-headings:font-bold prose-headings:text-gray-900
                       prose-h1:text-3xl prose-h2:text-2xl prose-h3:text-xl
                       prose-p:text-gray-700 prose-p:leading-relaxed
                       prose-a:text-primary-600 prose-a:no-underline hover:prose-a:underline
                       prose-strong:text-gray-900 prose-strong:font-semibold
                       prose-ul:list-disc prose-ul:pl-6 prose-ul:space-y-2
                       prose-ol:list-decimal prose-ol:pl-6 prose-ol:space-y-2
                       prose-li:text-gray-700
                       prose-blockquote:border-l-4 prose-blockquote:border-2-primary-500 prose-blockquote:pl-4 prose-blockquote:italic`,dangerouslySetInnerHTML:{__html:n.content}})]})})}):null}function Tj(){const[e]=Kg(),[t,r]=O.useState([]),[n,s]=O.useState([]),[i,o]=O.useState("all"),[l,c]=O.useState("all"),[d,h]=O.useState("featured"),[f,u]=O.useState(""),[p,b]=O.useState("grid"),[x,w]=O.useState(!0),[m,g]=O.useState(new Set),[y,v]=O.useState(!1),[_,N]=O.useState(!1),{addToCart:j}=As(),{websiteId:S}=We();O.useEffect(()=>{document.title="Shop - Premium Printers & Accessories";const C=e.get("search");C&&u(C)},[e]),O.useEffect(()=>{(async()=>{if(!S)return;const $=await R(),F=e.get("category");if(F&&$.length>0){const B=$.find(H=>H.name.toLowerCase()===F.toLowerCase());o(B?B.id:"all")}else o("all");N(!0)})()},[S,e.get("category")]),O.useEffect(()=>{S&&_&&k()},[i,l,d,f,S,_]);const R=async()=>{try{const{data:C}=await X.from("categories").select("*").order("name");return s(C||[]),C||[]}catch(C){return console.error("Error fetching categories:",C),[]}},k=async()=>{w(!0);try{let C=X.from("products").select("*, categories(*)");if(i!=="all"&&(C=C.eq("category_id",i)),f&&(C=C.or(`name.ilike.%${f}%,description.ilike.%${f}%`)),l!=="all"){const[F,B]=l.split("-");C=C.gte("price",F),B&&(C=C.lte("price",B))}d==="price-low"?C=C.order("price",{ascending:!0}):d==="price-high"?C=C.order("price",{ascending:!1}):d==="newest"?C=C.order("created_at",{ascending:!1}):C=C.order("created_at",{ascending:!1});const{data:$}=await C;r($||[])}catch(C){console.error("Error fetching products:",C)}finally{w(!1)}},E=async(C,$)=>{$.preventDefault(),$.stopPropagation();try{await j(C.id,1),g(F=>new Set(F).add(C.id)),setTimeout(()=>{g(F=>{const B=new Set(F);return B.delete(C.id),B})},2e3)}catch(F){console.error("Error adding to cart:",F)}},T=()=>{o("all"),c("all"),h("featured")},P=i!=="all"||l!=="all";return a.jsxs(a.Fragment,{children:[a.jsx("section",{className:"bg-gradient-to-r from-primary-600 to-primary-800 text-white py-20",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-6 text-center",children:[a.jsx("h1",{className:"text-5xl md:text-6xl font-bold mb-6",children:"Find Your Perfect Printer"}),a.jsx("p",{className:"text-xl mb-10 opacity-90",children:"Premium quality  Fast shipping  Expert support"}),a.jsx("div",{className:"max-w-2xl mx-auto",children:a.jsxs("div",{className:"relative",children:[a.jsx(xr,{className:"absolute left-5 top-1/2 -translate-y-1/2 h-6 w-6 text-primary-200"}),a.jsx("input",{type:"text",placeholder:"Search by model, brand, or feature...",className:"w-full pl-14 pr-6 py-5 rounded-2xl text-gray-900 text-lg focus:outline-none focus:ring-4 focus:ring-white/30",value:f,onChange:C=>u(C.target.value)})]})})]})}),a.jsx("div",{className:"max-w-7xl mx-auto px-6 py-12",children:a.jsxs("div",{className:"flex flex-col lg:flex-row gap-10",children:[a.jsx("aside",{className:"hidden lg:block w-72 flex-shrink-0",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-7 sticky top-20",children:[a.jsxs("div",{className:"flex items-center justify-between mb-7",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Filters"}),P&&a.jsx("button",{onClick:T,className:"text-sm font-medium text-primary-600 hover:text-primary-700 transition-colors",children:"Clear all"})]}),a.jsxs("div",{className:"mb-8",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(Ch,{className:"w-4 h-4 text-gray-500"}),a.jsx("h4",{className:"text-base font-medium text-gray-800",children:"Category"})]}),a.jsxs("div",{className:"space-y-2.5",children:[a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[a.jsxs("div",{className:"relative flex items-center justify-center",children:[a.jsx("input",{type:"radio",name:"category",value:"all",checked:i==="all",onChange:C=>o(C.target.value),className:"peer h-5 w-5 opacity-0 absolute cursor-pointer"}),a.jsx("div",{className:"absolute w-5 h-5 rounded-full border-2 border-gray-300 peer-checked:border-primary-600 transition-colors"}),a.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-primary-600 scale-0 peer-checked:scale-100 transition-transform duration-200"})]}),a.jsx("span",{className:"text-gray-700 text-sm group-hover:text-gray-900 transition-colors",children:"All Printers"})]}),n.map(C=>a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[a.jsxs("div",{className:"relative flex items-center justify-center",children:[a.jsx("input",{type:"radio",name:"category",value:C.id,checked:i===C.id,onChange:$=>o($.target.value),className:"peer h-5 w-5 opacity-0 absolute cursor-pointer"}),a.jsx("div",{className:"absolute w-5 h-5 rounded-full border-2 border-gray-300 peer-checked:border-primary-600 transition-colors"}),a.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-primary-600 scale-0 peer-checked:scale-100 transition-transform duration-200"})]}),a.jsx("span",{className:"text-gray-700 text-sm group-hover:text-gray-900 transition-colors",children:C.name})]},C.id))]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx("svg",{className:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsx("h4",{className:"text-base font-medium text-gray-800",children:"Price Range"})]}),a.jsxs("select",{value:l,onChange:C=>c(C.target.value),className:"w-full px-4 py-3 rounded-xl border border-gray-200 text-gray-700 text-sm focus:border-primary-500 focus:outline-none focus:ring-2 focus:ring-primary-100 transition-all",children:[a.jsx("option",{value:"all",children:"All Prices"}),a.jsx("option",{value:"0-200",children:"Under $200"}),a.jsx("option",{value:"200-500",children:"$200  $500"}),a.jsx("option",{value:"500-1000",children:"$500  $1000"}),a.jsx("option",{value:"1000",children:"$1000+"})]})]})]})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-6 mb-10 sticky top-20 z-50 p-2 rounded-xl bg-white",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold",children:"All Products"}),a.jsxs("p",{className:"text-gray-600 mt-2",children:[t.length," printers available"]})]}),a.jsxs("div",{className:"flex items-center gap-4 w-full sm:w-auto",children:[a.jsxs("select",{value:d,onChange:C=>h(C.target.value),className:"px-5 py-3 rounded-xl border border-gray-300 focus:border-primary-500 focus:outline-none",children:[a.jsx("option",{value:"featured",children:"Featured"}),a.jsx("option",{value:"newest",children:"Newest First"}),a.jsx("option",{value:"price-low",children:"Price: Low to High"}),a.jsx("option",{value:"price-high",children:"Price: High to Low"})]}),a.jsxs("div",{className:"flex bg-gray-100 rounded-xl p-1",children:[a.jsx("button",{onClick:()=>b("grid"),className:`p-3 rounded-lg ${p==="grid"?"bg-white shadow-sm":""}`,children:a.jsx(Ch,{className:"w-5 h-5"})}),a.jsx("button",{onClick:()=>b("list"),className:`p-3 rounded-lg ${p==="list"?"bg-white shadow-sm":""}`,children:a.jsx(nj,{className:"w-5 h-5"})})]}),a.jsxs("button",{onClick:()=>v(!0),className:"lg:hidden flex items-center gap-2 px-5 py-3 bg-primary-600 text-white rounded-xl",children:[a.jsx(Sd,{className:"w-5 h-5"}),"Filters",P&&a.jsx("span",{className:"bg-white text-primary-600 text-xs px-2 py-1 rounded-full",children:"!"})]})]})]}),x?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[...Array(6)].map((C,$)=>a.jsx("div",{className:"bg-gray-100 rounded-3xl h-96 animate-pulse"},$))}):t.length===0?a.jsxs("div",{className:"text-center py-20",children:[a.jsx("div",{className:"bg-gray-100 w-32 h-32 rounded-full mx-auto mb-8 flex items-center justify-center",children:a.jsx(xr,{className:"w-16 h-16 text-gray-400"})}),a.jsx("h3",{className:"text-2xl font-semibold mb-4",children:"No printers found"}),a.jsx("p",{className:"text-gray-600",children:"Try adjusting your filters or search query"})]}):a.jsx("div",{className:p==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8":"space-y-6",children:t.map(C=>{var $;return a.jsxs(ce,{to:`/shop/${C.id}`,className:"group bg-white rounded-2xl overflow-hidden shadow-sm hover:shadow-xl transition-all duration-500 flex flex-col h-full border border-gray-100",children:[a.jsxs("div",{className:"relative bg-gray-50/50 overflow-hidden",children:[a.jsx("img",{src:C.image_url||"/placeholder-printer.jpg",alt:C.name,className:"w-full h-72 object-contain p-8 group-hover:scale-105 transition-transform duration-700",loading:"lazy"}),a.jsx("div",{className:"absolute top-4 left-4 bg-white/80 backdrop-blur-sm text-green-700 text-xs font-medium px-3 py-1.5 rounded-full shadow-sm",children:"In Stock"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500 flex items-end p-6",children:a.jsx("button",{onClick:F=>E(C,F),className:`w-full py-3 rounded-xl font-medium text-sm flex items-center justify-center gap-2 transition-all ${m.has(C.id)?"bg-green-600 text-white":"bg-white/90 text-gray-800 hover:bg-white"}`,children:m.has(C.id)?a.jsxs(a.Fragment,{children:[a.jsx(qa,{className:"w-5 h-5"}),"Added"]}):a.jsxs(a.Fragment,{children:[a.jsx(hr,{className:"w-5 h-5"}),"Add to Cart"]})})})]}),a.jsxs("div",{className:"p-7 flex flex-col flex-grow",children:[a.jsx("p",{className:"text-gray-500 text-sm font-medium mb-2",children:(($=C.categories)==null?void 0:$.name)||"Printer"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 line-clamp-2 mb-4 group-hover:text-primary-600 transition-colors",children:C.name}),a.jsxs("div",{className:"flex items-center gap-2 mb-5",children:[a.jsx("div",{className:"flex",children:[...Array(5)].map((F,B)=>a.jsx(mo,{className:`w-4 h-4 ${B<4?"text-amber-400 fill-amber-400":"text-gray-200"}`},B))}),a.jsx("span",{className:"text-sm text-gray-500",children:"4.5"})]}),a.jsxs("div",{className:"mt-auto flex items-center justify-between",children:[a.jsxs("span",{className:"text-2xl font-semibold text-gray-900",children:["$",parseFloat(C.price).toFixed(2)]}),a.jsxs("button",{onClick:F=>E(C,F),className:`px-5 py-2.5 rounded-xl text-sm font-medium transition-all flex items-center gap-2 ${m.has(C.id)?"bg-green-600 text-white":"border border-gray-300 text-gray-700 hover:border-primary-500 hover:text-primary-600"}`,children:[m.has(C.id)?a.jsx(qa,{className:"w-4 h-4"}):a.jsx(hr,{className:"w-4 h-4"}),a.jsx("span",{className:"hidden sm:inline",children:m.has(C.id)?"Added":"Add"})]})]})]})]},C.id)})})]})]})}),y&&a.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 lg:hidden",onClick:()=>v(!1),children:a.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-white rounded-t-3xl p-8 max-h-[80vh] overflow-y-auto",onClick:C=>C.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsx("h3",{className:"text-2xl font-bold",children:"Filters"}),a.jsx("button",{onClick:()=>v(!1),children:a.jsx($t,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"space-y-10",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-lg mb-5",children:"Category"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[a.jsx("input",{type:"radio",name:"mobile-category",value:"all",checked:i==="all",onChange:C=>o(C.target.value),className:"w-5 h-5 text-primary-600"}),a.jsx("span",{children:"All Printers"})]}),n.map(C=>a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[a.jsx("input",{type:"radio",name:"mobile-category",value:C.id,checked:i===C.id,onChange:$=>o($.target.value),className:"w-5 h-5 text-primary-600"}),a.jsx("span",{children:C.name})]},C.id))]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-lg mb-5",children:"Price Range"}),a.jsxs("select",{value:l,onChange:C=>c(C.target.value),className:"w-full px-4 py-3 rounded-xl border border-gray-300",children:[a.jsx("option",{value:"all",children:"All Prices"}),a.jsx("option",{value:"0-200",children:"Under $200"}),a.jsx("option",{value:"200-500",children:"$200  $500"}),a.jsx("option",{value:"500-1000",children:"$500  $1000"}),a.jsx("option",{value:"1000",children:"$1000+"})]})]}),a.jsx("button",{onClick:()=>v(!1),className:"w-full py-4 bg-primary-600 text-white rounded-xl font-semibold text-lg",children:"Apply Filters"})]})]})})]})}function Aj(){const{settings:e}=Za();return O.useEffect(()=>{document.title=`About Us - ${e.brand_name||"Premium Printers"}`;const t=(r,n)=>{let s=document.querySelector(`meta[name="${r}"]`);s||(s=document.createElement("meta"),s.setAttribute("name",r),document.head.appendChild(s)),s.setAttribute("content",n)};t("description","Discover our journey in delivering top-quality printers and printing solutions. Trusted by businesses and homes worldwide for reliability and innovation."),t("keywords","about us, printer company, printing solutions, quality printers, e-commerce printers")},[e]),a.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-200",children:[a.jsxs("section",{className:"relative overflow-hidden pt-24 pb-16 md:pt-32 md:pb-24 bg-gradient-to-br from-primary-500 to-primary-700 text-white",children:[a.jsxs("div",{className:"absolute inset-0 z-0",children:[a.jsx("img",{src:"assets/about/aboutus.png",alt:"About Us Background",className:"w-full h-full object-cover opacity-20"}),a.jsx("div",{className:"absolute inset-0 bg-black/40"})]}),a.jsxs("div",{className:"relative max-w-7xl mx-auto px-6 lg:px-8 text-center z-10",children:[a.jsx("h1",{className:"text-4xl md:text-6xl font-extrabold mb-4 drop-shadow-md animate-fade-in-down",children:"Our Journey, Our Passion"}),a.jsx("p",{className:"text-xl md:text-2xl max-w-3xl mx-auto opacity-90 drop-shadow animate-fade-in delay-200",children:"Your comprehensive partner for Printers, Accessories, and Ink."})]})]}),a.jsx("section",{className:"py-16 md:py-24 bg-white dark:bg-gray-800",children:a.jsx("div",{className:"max-w-7xl mx-auto px-6 lg:px-8",children:a.jsxs("div",{className:"grid lg:grid-cols-2 gap-16 items-center",children:[a.jsx("div",{className:"space-y-10",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 dark:text-white mb-4",children:"Who We Are"}),a.jsxs("p",{className:"text-lg text-gray-700 dark:text-gray-300 leading-relaxed",children:["Founded on the principle of transforming printing experiences, ",e.brand_name," began with a simple yet powerful idea: to connect individuals and businesses with the most reliable, efficient, and innovative printing technology available. We've grown from a vision into a trusted name, known for our commitment to quality and customer success across a wide range of products including **printers, essential accessories, and a diverse selection of ink and toner cartridges.**"]})]})}),a.jsx("div",{className:"lg:pl-16",children:a.jsxs("div",{className:"relative h-96 w-full rounded-2xl overflow-hidden shadow-2xl bg-primary-100 dark:bg-primary-900 border border-primary-200 dark:border-primary-700 transform rotate-3 hover:rotate-0 transition-transform duration-500",children:[a.jsx("img",{src:"assets/about/aboutus.png",alt:"Modern Printing Facility",className:"absolute inset-0 w-full h-full object-cover"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-primary-600/60 to-transparent"}),a.jsx("div",{className:"absolute bottom-6 left-6 text-white text-2xl font-bold",children:"Innovation in Every Detail"})]})})]})})}),a.jsx("section",{className:"py-16 md:py-24 bg-white dark:bg-gray-900",children:a.jsxs("div",{className:"container mx-auto px-6 lg:px-8",children:[a.jsx("h2",{className:`
          text-3xl sm:text-4xl font-extrabold text-center
          text-gray-900 dark:text-white
          mb-12
        `,children:"What We Do: Our Purpose"}),a.jsxs("div",{className:`
          grid grid-cols-1 md:grid-cols-2 gap-12 lg:gap-16
        `,children:[a.jsxs("div",{className:`
            flex flex-col items-center text-center
            p-8 rounded-xl shadow-lg border border-gray-100 dark:border-gray-800
            bg-gray-50 dark:bg-gray-950
            transform hover:scale-[1.02] transition-transform duration-300 ease-in-out
          `,children:[a.jsx("div",{className:`
              p-4 rounded-full bg-blue-100 dark:bg-blue-900
              text-blue-600 dark:text-blue-400
              mb-6
              shadow-md
            `,children:a.jsx(Bl,{size:36})}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Our Mission"}),a.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed max-w-md",children:"To empower individuals and businesses with cutting-edge printing solutions that foster creativity, enhance productivity, and deliver unparalleled quality. We strive to make advanced technology accessible and intuitive for everyone."})]}),a.jsxs("div",{className:`
            flex flex-col items-center text-center
            p-8 rounded-xl shadow-lg border border-gray-100 dark:border-gray-800
            bg-gray-50 dark:bg-gray-950
            transform hover:scale-[1.02] transition-transform duration-300 ease-in-out
          `,children:[a.jsx("div",{className:`
              p-4 rounded-full bg-indigo-100 dark:bg-indigo-900
              text-indigo-600 dark:text-indigo-400
              mb-6
              shadow-md
            `,children:a.jsx(Yr,{size:36})}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Our Vision"}),a.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed max-w-md",children:"To be the leading global provider of innovative printing technology, recognized for our commitment to sustainability, exceptional customer service, and continuous advancement in the digital and physical printing landscape."})]})]}),a.jsxs("div",{className:"mt-16 md:mt-24 text-center",children:[a.jsx("h3",{className:"text-3xl font-extrabold text-gray-900 dark:text-white mb-10",children:"Our Core Values"}),a.jsxs("div",{className:`
            grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8
          `,children:[a.jsxs("div",{className:`
              flex flex-col items-center p-6 rounded-xl shadow-md border border-gray-100 dark:border-gray-800
              bg-gray-50 dark:bg-gray-950
              hover:shadow-lg transform hover:-translate-y-1 transition-all duration-300 ease-in-out
            `,children:[a.jsx("div",{className:`
                p-3 rounded-full bg-emerald-100 dark:bg-emerald-900
                text-emerald-600 dark:text-emerald-400
                mb-4
              `,children:a.jsx(Ah,{size:28})}),a.jsx("h4",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Innovation"}),a.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Constantly seeking new ways to improve and deliver cutting-edge solutions."})]}),a.jsxs("div",{className:`
              flex flex-col items-center p-6 rounded-xl shadow-md border border-gray-100 dark:border-gray-800
              bg-gray-50 dark:bg-gray-950
              hover:shadow-lg transform hover:-translate-y-1 transition-all duration-300 ease-in-out
            `,children:[a.jsx("div",{className:`
                p-3 rounded-full bg-amber-100 dark:bg-amber-900
                text-amber-600 dark:text-amber-400
                mb-4
              `,children:a.jsx(Bl,{size:28})}),a.jsx("h4",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Quality"}),a.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Committed to excellence in every product and service we offer."})]}),a.jsxs("div",{className:`
              flex flex-col items-center p-6 rounded-xl shadow-md border border-gray-100 dark:border-gray-800
              bg-gray-50 dark:bg-gray-950
              hover:shadow-lg transform hover:-translate-y-1 transition-all duration-300 ease-in-out
            `,children:[a.jsx("div",{className:`
                p-3 rounded-full bg-purple-100 dark:bg-purple-900
                text-purple-600 dark:text-purple-400
                mb-4
              `,children:a.jsx(Yr,{size:28})}),a.jsx("h4",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Customer Focus"}),a.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Placing our customers at the heart of everything we do."})]}),a.jsxs("div",{className:`
              flex flex-col items-center p-6 rounded-xl shadow-md border border-gray-100 dark:border-gray-800
              bg-gray-50 dark:bg-gray-950
              hover:shadow-lg transform hover:-translate-y-1 transition-all duration-300 ease-in-out
            `,children:[a.jsxs("div",{className:`
                p-3 rounded-full bg-cyan-100 dark:bg-cyan-900
                text-cyan-600 dark:text-cyan-400
                mb-4
              `,children:[a.jsx(Ah,{size:28})," "]}),a.jsx("h4",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Integrity"}),a.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Upholding the highest standards of ethics and transparency."})]}),a.jsxs("div",{className:`
              flex flex-col items-center p-6 rounded-xl shadow-md border border-gray-100 dark:border-gray-800
              bg-gray-50 dark:bg-gray-950
              hover:shadow-lg transform hover:-translate-y-1 transition-all duration-300 ease-in-out
            `,children:[a.jsxs("div",{className:`
                p-3 rounded-full bg-pink-100 dark:bg-pink-900
                text-pink-600 dark:text-pink-400
                mb-4
              `,children:[a.jsx(Bl,{size:28})," "]}),a.jsx("h4",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Sustainability"}),a.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Committed to environmentally responsible practices and products."})]}),a.jsxs("div",{className:`
              flex flex-col items-center p-6 rounded-xl shadow-md border border-gray-100 dark:border-gray-800
              bg-gray-50 dark:bg-gray-950
              hover:shadow-lg transform hover:-translate-y-1 transition-all duration-300 ease-in-out
            `,children:[a.jsxs("div",{className:`
                p-3 rounded-full bg-lime-100 dark:bg-lime-900
                text-lime-600 dark:text-lime-400
                mb-4
              `,children:[a.jsx(Yr,{size:28})," "]}),a.jsx("h4",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Collaboration"}),a.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Working together to achieve shared goals and foster a supportive environment."})]})]})]})]})}),a.jsx("section",{className:"py-16 md:py-24 bg-white dark:bg-gray-800",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-6 lg:px-8 text-center",children:[a.jsx("h2",{className:"text-4xl font-extrabold mb-12",children:"Our Impact in Numbers"}),a.jsxs("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-8",children:[a.jsxs("div",{className:"p-4",children:[a.jsx("h3",{className:"text-5xl md:text-6xl font-extrabold text-primary-600 mb-2",children:"50K+"}),a.jsx("p",{className:"text-lg text-gray-700 dark:text-gray-300",children:"Happy Customers"})]}),a.jsxs("div",{className:"p-4",children:[a.jsx("h3",{className:"text-5xl md:text-6xl font-extrabold text-primary-600 mb-2",children:"15+"}),a.jsx("p",{className:"text-lg text-gray-700 dark:text-gray-300",children:"Years of Experience"})]}),a.jsxs("div",{className:"p-4",children:[a.jsx("h3",{className:"text-5xl md:text-6xl font-extrabold text-primary-600 mb-2",children:"99%"}),a.jsx("p",{className:"text-lg text-gray-700 dark:text-gray-300",children:"Satisfaction Rate"})]}),a.jsxs("div",{className:"p-4",children:[a.jsx("h3",{className:"text-5xl md:text-6xl font-extrabold text-primary-600 mb-2",children:"100+"}),a.jsx("p",{className:"text-lg text-gray-700 dark:text-gray-300",children:"Brands Offered"})]})]})]})})]})}function Cj(){const e=St(),{cartItems:t,updateQuantity:r,removeFromCart:n,getCartTotal:s,loading:i}=As();if(O.useEffect(()=>{document.title="Shopping Cart"},[]),i)return a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsx("div",{className:"text-gray-500",children:"Loading your cart..."})});if(t.length===0)return a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-6",children:a.jsxs("div",{className:"text-center max-w-md",children:[a.jsx("div",{className:"w-32 h-32 bg-gray-100 rounded-full mx-auto mb-8 flex items-center justify-center",children:a.jsx(Ad,{className:"w-16 h-16 text-gray-300"})}),a.jsx("h2",{className:"text-2xl font-medium text-gray-900 mb-4",children:"Your cart is empty"}),a.jsx("p",{className:"text-gray-600 mb-8",children:"Looks like you haven't added anything yet."}),a.jsx(ce,{to:"/shop",className:"inline-flex items-center px-8 py-4 bg-gray-900 text-white font-medium rounded-xl hover:bg-gray-800 transition",children:"Continue Shopping"})]})});const o=s(),l=o>=500?0:49.99,c=o+l;return a.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[a.jsx("h1",{className:"text-3xl font-semibold text-gray-900 mb-10",children:"Shopping Cart"}),a.jsxs("div",{className:"grid lg:grid-cols-3 gap-10",children:[a.jsx("div",{className:"lg:col-span-2 space-y-6",children:t.map(d=>a.jsx("div",{className:"bg-white rounded-2xl border border-gray-100 p-6 hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex gap-6",children:[a.jsx(ce,{to:`/shop/${d.products.id}`,className:"flex-shrink-0",children:a.jsx("div",{className:"w-32 h-32 bg-gray-50 rounded-xl overflow-hidden border border-gray-200",children:a.jsx("img",{src:d.products.image_url||"/placeholder-printer.jpg",alt:d.products.name,className:"w-full h-full object-contain p-4"})})}),a.jsxs("div",{className:"flex-1",children:[a.jsx(ce,{to:`/shop/${d.products.id}`,children:a.jsx("h3",{className:"text-lg font-medium text-gray-900 hover:text-primary-600 transition",children:d.products.name})}),a.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("span",{className:"text-2xl font-semibold text-gray-900",children:["$",parseFloat(d.products.price).toFixed(2)]}),d.quantity>1&&a.jsxs("span",{className:"text-sm text-gray-500 ml-3",children:[" ",d.quantity," = $",(d.products.price*d.quantity).toFixed(2)]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"flex items-center border border-gray-200 rounded-xl",children:[a.jsx("button",{onClick:()=>r(d.id,d.quantity-1),className:"p-3 hover:bg-gray-50",children:a.jsx(j0,{className:"w-4 h-4"})}),a.jsx("span",{className:"w-12 text-center font-medium",children:d.quantity}),a.jsx("button",{onClick:()=>r(d.id,d.quantity+1),className:"p-3 hover:bg-gray-50",children:a.jsx(Cn,{className:"w-4 h-4"})})]}),a.jsx("button",{onClick:()=>n(d.id),className:"p-3 text-gray-400 hover:text-red-600 bg-red-50 rounded-xl transition",children:a.jsx(Ns,{className:"w-4 h-4"})})]})]})]})]})},d.id))}),a.jsx("div",{className:"lg:col-span-1",children:a.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 p-8 sticky top-24",children:[a.jsx("h2",{className:"text-xl font-medium text-gray-900 mb-6",children:"Order Summary"}),o<500&&a.jsxs("div",{className:"mb-6 p-4 bg-primary-50 rounded-xl",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("span",{className:"text-sm font-medium text-primary-700 flex items-center gap-2",children:[a.jsx(Rn,{className:"w-4 h-4"}),"Free Shipping"]}),a.jsxs("span",{className:"text-sm text-gray-600",children:["Add $",(500-o).toFixed(2)," more"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-primary-600 h-2 rounded-full transition-all",style:{width:`${o/500*100}%`}})})]}),a.jsxs("div",{className:"space-y-4 mb-8",children:[a.jsxs("div",{className:"flex justify-between text-gray-700",children:[a.jsx("span",{children:"Subtotal"}),a.jsxs("span",{className:"font-medium",children:["$",o.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-gray-700",children:[a.jsx("span",{children:"Shipping"}),a.jsx("span",{className:`font-medium ${l===0?"text-green-600":""}`,children:l===0?"Free":`$${l.toFixed(2)}`})]}),a.jsx("div",{className:"border-t border-gray-200 pt-4",children:a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-lg font-medium text-gray-900",children:"Total"}),a.jsxs("span",{className:"text-2xl font-semibold text-gray-900",children:["$",c.toFixed(2)]})]})})]}),a.jsx("button",{onClick:()=>e("/checkout"),className:"w-full py-4 bg-gray-900 text-white font-medium rounded-xl hover:bg-gray-800 transition",children:"Proceed to Checkout"}),a.jsx(ce,{to:"/shop",className:"block text-center text-primary-600 hover:text-primary-700 font-medium mt-5",children:"Continue Shopping"})]})})]})]})})}const Pj=()=>new Promise(e=>{const t=document.createElement("script");t.src="https://checkout.razorpay.com/v1/checkout.js",t.onload=()=>e(!0),t.onerror=()=>e(!1),document.body.appendChild(t)}),Rj=e=>new Promise(t=>{if(window.paypal){t(!0);return}const r=document.createElement("script");r.src=`https://www.paypal.com/sdk/js?client-id=${e}&currency=USD&disable-funding=credit,card&intent=capture`,r.onload=()=>t(!0),r.onerror=()=>t(!1),r.setAttribute("data-sdk-integration-source","button-factory"),document.body.appendChild(r)}),Ij=async(e,t,r)=>{try{const{data:{session:n}}=await X.auth.getSession(),s=(n==null?void 0:n.access_token)||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVpdWdjYWFmZmthYXFteWR2anVqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njc2MzI3ODgsImV4cCI6MjA4MzIwODc4OH0.b8zapu6FDQUILxgBLSjQB443vzdeVl-hIEdkZXmTa9I",i=await fetch("https://uiugcaaffkaaqmydvjuj.supabase.co/functions/v1/process-payment",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify({orderId:e,amount:t,currency:"USD",paymentMethod:r})});if(!i.ok)throw new Error("Payment initiation failed");return await i.json()}catch(n){throw console.error("Payment initiation error:",n),n}},Ph=async(e,t,r,n,s=null)=>{try{const{data:{session:i}}=await X.auth.getSession(),o=(i==null?void 0:i.access_token)||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVpdWdjYWFmZmthYXFteWR2anVqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njc2MzI3ODgsImV4cCI6MjA4MzIwODc4OH0.b8zapu6FDQUILxgBLSjQB443vzdeVl-hIEdkZXmTa9I",l={orderId:e,paymentId:t,signature:r,gateway:n};s&&(l.gatewayOrderId=s);const c=await fetch("https://uiugcaaffkaaqmydvjuj.supabase.co/functions/v1/verify-payment",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`},body:JSON.stringify(l)});if(!c.ok)throw new Error("Payment verification failed");return await c.json()}catch(i){throw console.error("Payment verification error:",i),i}},Lj=async(e,t)=>{if(!await Pj())throw new Error("Failed to load Razorpay SDK");return new Promise((n,s)=>{const i={key:e.key,amount:e.amount,currency:e.currency,order_id:e.orderId,name:"LaserProGuide",description:"Product Purchase",prefill:{name:t.fullName,email:t.email,contact:t.phone},theme:{color:"#3b82f6"},handler:async function(l){n({paymentId:l.razorpay_payment_id,orderId:l.razorpay_order_id,signature:l.razorpay_signature})},modal:{ondismiss:function(){s(new Error("Payment cancelled by user"))}}};new window.Razorpay(i).open()})},$j=async(e,t)=>{const{data:r}=await X.from("payment_settings").select("*").eq("gateway_name","PayPal").eq("is_enabled",!0).maybeSingle();if(!r)throw new Error("PayPal not configured");if(!await Rj(r.api_key))throw new Error("Failed to load PayPal SDK");return new Promise((s,i)=>{const o=document.createElement("div");o.style.position="fixed",o.style.top="0",o.style.left="0",o.style.width="100%",o.style.height="100%",o.style.backgroundColor="rgba(0, 0, 0, 0.5)",o.style.zIndex="9999",o.style.display="flex",o.style.alignItems="center",o.style.justifyContent="center";const l=document.createElement("div");l.id="paypal-button-container",l.style.backgroundColor="white",l.style.padding="30px",l.style.borderRadius="12px",l.style.boxShadow="0 10px 40px rgba(0, 0, 0, 0.2)",l.style.maxWidth="400px",l.style.width="90%";const c=document.createElement("h3");c.textContent="Complete Payment with PayPal",c.style.marginBottom="20px",c.style.fontSize="18px",c.style.fontWeight="bold",c.style.textAlign="center",c.style.color="#1f2937";const d=document.createElement("div");d.id="paypal-buttons-wrapper";const h=document.createElement("button");h.textContent="Cancel",h.style.marginTop="15px",h.style.width="100%",h.style.padding="10px",h.style.backgroundColor="#f3f4f6",h.style.border="none",h.style.borderRadius="6px",h.style.fontSize="14px",h.style.fontWeight="500",h.style.color="#374151",h.style.cursor="pointer",h.onclick=()=>{f(),i(new Error("Payment cancelled by user"))},l.appendChild(c),l.appendChild(d),l.appendChild(h),o.appendChild(l),document.body.appendChild(o);const f=()=>{document.body.contains(o)&&document.body.removeChild(o)};window.paypal.Buttons({style:{layout:"vertical",color:"blue",shape:"rect",label:"pay",height:45},createOrder:()=>e.orderId,onApprove:async u=>{try{f(),s({paymentId:u.orderID,orderId:u.orderID})}catch(p){f(),i(p)}},onError:u=>{f(),i(new Error("PayPal payment failed"))},onCancel:()=>{f(),i(new Error("Payment cancelled by user"))}}).render("#paypal-buttons-wrapper")})};function Dj(){const{user:e}=kr(),{cartItems:t,getCartTotal:r,clearCart:n}=As(),{websiteId:s}=We(),i=St(),[o,l]=O.useState(!1),[c,d]=O.useState([]),[h,f]=O.useState(""),[u,p]=O.useState({fullName:"",email:"",phone:"",address:"",city:"",state:"",zipCode:"",country:"United States"}),b=r(),x=0,w=b+x;O.useEffect(()=>{document.title="Checkout - Complete Your Order";const v=(_,N)=>{let j=document.querySelector(`meta[name="${_}"]`);j||(j=document.createElement("meta"),j.setAttribute("name",_),document.head.appendChild(j)),j.setAttribute("content",N)};v("description","Complete your purchase securely. Enter your shipping information and choose your preferred payment method."),v("keywords","checkout, secure payment, order completion, shipping information, payment methods, buy printers"),m(),e!=null&&e.email&&p(_=>({..._,email:e.email}))},[e]);const m=async()=>{try{const{data:v,error:_}=await X.from("payment_methods").select("*").eq("is_enabled",!0).order("display_order");if(_)throw _;d(v||[]),v&&v.length>0&&f(v[0].method_name)}catch(v){console.error("Error fetching payment methods:",v)}};if(t.length===0)return i("/cart"),null;const g=v=>{p({...u,[v.target.name]:v.target.value})},y=async v=>{if(v.preventDefault(),!h){alert("Please select a payment method");return}l(!0);try{const _=c.find(P=>P.method_name===h),N=(_==null?void 0:_.method_type)==="cod",j={total_amount:w,status:"pending",payment_method:h,payment_status:"pending",shipping_address:u,website_id:s};e?(j.user_id=e.id,j.is_guest=!1):(j.is_guest=!0,j.guest_name=u.fullName,j.guest_email=u.email,j.guest_phone=u.phone);const{data:S,error:R}=await X.from("orders").insert([j]).select().single();if(R)throw R;const k=t.map(P=>({order_id:S.id,product_id:P.product_id,quantity:P.quantity,price:P.products.price})),{error:E}=await X.from("order_items").insert(k);if(E)throw E;if(N){await n(),i(`/order-success?orderId=${S.id}`);return}const T=await Ij(S.id,w,h);if(T.gateway==="razorpay"){const P=await Lj(T,u);if((await Ph(S.id,P.paymentId,P.signature,"razorpay",P.orderId)).verified)await n(),i(`/order-success?orderId=${S.id}`);else throw new Error("Payment verification failed")}else if(T.gateway==="paypal"){const P=await $j(T,u);if((await Ph(S.id,P.paymentId,null,"paypal")).verified)await n(),i(`/order-success?orderId=${S.id}`);else throw new Error("Payment verification failed")}else if(T.gateway==="stripe"){alert("Stripe payment requires card integration. Please use Cash on Delivery, Razorpay, or PayPal."),l(!1);return}}catch(_){console.error("Error processing order:",_),alert(_.message||"Failed to process order. Please try again.")}finally{l(!1)}};return a.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:a.jsxs("div",{className:"max-w-5xl mx-auto px-6",children:[a.jsx("h1",{className:"text-3xl font-semibold text-gray-900 mb-10",children:"Checkout"}),a.jsxs("div",{className:"grid lg:grid-cols-3 gap-10",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[a.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 p-8",children:[a.jsx("h2",{className:"text-xl font-medium text-gray-900 mb-6",children:"Shipping Address"}),a.jsxs("form",{onSubmit:y,className:"grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),a.jsx("input",{type:"text",name:"fullName",required:!0,value:u.fullName,onChange:g,className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-primary-500 focus:outline-none transition"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),a.jsx("input",{type:"email",name:"email",required:!0,value:u.email,onChange:g,className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-primary-500 focus:outline-none transition"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),a.jsx("input",{type:"tel",name:"phone",required:!0,value:u.phone,onChange:g,className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-primary-500 focus:outline-none transition"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Street Address"}),a.jsx("input",{type:"text",name:"address",required:!0,value:u.address,onChange:g,className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-primary-500 focus:outline-none transition"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City"}),a.jsx("input",{type:"text",name:"city",required:!0,value:u.city,onChange:g,className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-primary-500 focus:outline-none transition"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"State"}),a.jsx("input",{type:"text",name:"state",required:!0,value:u.state,onChange:g,className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-primary-500 focus:outline-none transition"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ZIP Code"}),a.jsx("input",{type:"text",name:"zipCode",required:!0,value:u.zipCode,onChange:g,className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-primary-500 focus:outline-none transition"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Country"}),a.jsx("input",{type:"text",name:"country",required:!0,value:u.country,onChange:g,className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-primary-500 focus:outline-none transition"})]})]})]}),a.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 p-8",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx(_s,{className:"w-6 h-6 text-gray-700"}),a.jsx("h2",{className:"text-xl font-medium text-gray-900",children:"Payment Method"})]}),a.jsx("div",{className:"space-y-4",children:c.length===0?a.jsx("p",{className:"text-gray-500 text-center py-8",children:"Loading payment options..."}):c.map(v=>a.jsxs("label",{className:`flex items-center gap-4 p-5 rounded-xl border cursor-pointer transition-all ${h===v.method_name?"border-primary-600 bg-primary-50":"border-gray-200 hover:border-gray-300"}`,children:[a.jsx("input",{type:"radio",name:"payment",value:v.method_name,checked:h===v.method_name,onChange:_=>f(_.target.value),className:"w-5 h-5 text-primary-600"}),a.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[v.method_type==="cod"?a.jsx(y0,{className:"w-6 h-6 text-green-600"}):a.jsx(_s,{className:"w-6 h-6 text-gray-700"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:v.method_name}),v.method_type==="cod"&&a.jsx("p",{className:"text-sm text-gray-600",children:"Pay when you receive your order"})]})]})]},v.id))}),a.jsxs("div",{className:"mt-8 p-4 bg-gray-50 rounded-xl flex items-center gap-3",children:[a.jsx(An,{className:"w-5 h-5 text-gray-600"}),a.jsx("p",{className:"text-sm text-gray-700",children:"Your payment information is encrypted and secure"})]}),a.jsx("button",{type:"submit",onClick:y,disabled:o||!h,className:"w-full mt-8 py-4 bg-gray-900 text-white font-medium rounded-xl hover:bg-gray-800 transition disabled:opacity-50",children:o?"Processing Order...":`Place Order  $${w.toFixed(2)}`})]})]}),a.jsx("div",{className:"lg:col-span-1",children:a.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 p-8 sticky top-24",children:[a.jsx("h2",{className:"text-xl font-medium text-gray-900 mb-6",children:"Order Summary"}),a.jsx("div",{className:"space-y-4 mb-6",children:t.map(v=>a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsxs("span",{className:"text-gray-600",children:[v.products.name,"  ",v.quantity]}),a.jsxs("span",{className:"font-medium",children:["$",(v.products.price*v.quantity).toFixed(2)]})]},v.id))}),a.jsxs("div",{className:"border-t border-gray-200 pt-6 space-y-4",children:[a.jsxs("div",{className:"flex justify-between text-gray-700",children:[a.jsx("span",{children:"Subtotal"}),a.jsxs("span",{className:"font-medium",children:["$",b.toFixed(2)]})]}),a.jsxs("div",{className:"flex items-center justify-between text-gray-700",children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(Rn,{className:"w-4 h-4"})," Shipping"]}),a.jsx("span",{className:"font-medium text-green-600",children:"Free"})]}),b<500&&x>0,a.jsx("div",{className:"border-t border-gray-200 pt-6",children:a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-lg font-medium text-gray-900",children:"Total"}),a.jsxs("span",{className:"text-2xl font-semibold text-gray-900",children:["$",w.toFixed(2)]})]})})]})]})})]})]})})}function Mj(){const{user:e}=kr(),{websiteId:t}=We(),[r,n]=O.useState([]),[s,i]=O.useState(!0);O.useEffect(()=>{document.title="My Orders - Order History";const h=(f,u)=>{let p=document.querySelector(`meta[name="${f}"]`);p||(p=document.createElement("meta"),p.setAttribute("name",f),document.head.appendChild(p)),p.setAttribute("content",u)};h("description","View your order history, track shipments, and manage your purchases. Access all your printer orders in one place."),h("keywords","my orders, order history, track order, order status, purchase history, view orders"),e&&t&&o()},[e,t]);const o=async()=>{try{const{data:h,error:f}=await X.from("orders").select(`
          *,
          order_items (
            *,
            products (*)
          )
        `).eq("user_id",e.id).eq("website_id",t).order("created_at",{ascending:!1});if(f)throw f;n(h||[])}catch(h){console.error("Error fetching orders:",h)}finally{i(!1)}};if(!e)return a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4",children:a.jsxs("div",{className:"text-center",children:[a.jsx(it,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Please Sign In"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"You need to sign in to view your orders"}),a.jsx(ce,{to:"/login",className:"btn-primary",children:"Sign In"})]})});if(s)return a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})});const l=h=>{switch(h){case"completed":return a.jsx(Lt,{className:"w-5 h-5 text-green-600"});case"processing":return a.jsx(Ba,{className:"w-5 h-5 text-primary-600"});case"cancelled":return a.jsx(Ha,{className:"w-5 h-5 text-red-600"});default:return a.jsx(Ba,{className:"w-5 h-5 text-yellow-600"})}},c=h=>{switch(h){case"completed":return"bg-green-100 text-green-800";case"processing":return"bg-primary-100 text-primary-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-yellow-100 text-yellow-800"}},d=h=>{switch(h){case"completed":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"failed":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return a.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-8",children:"My Orders"}),r.length===0?a.jsxs("div",{className:"text-center py-12 bg-white rounded-3xl",children:[a.jsx(it,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"No Orders Yet"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Start shopping to place your first order"}),a.jsx(ce,{to:"/shop",className:"btn-primary",children:"Browse Products"})]}):a.jsx("div",{className:"space-y-6",children:r.map(h=>a.jsxs("div",{className:"bg-white rounded-3xl shadow-xl overflow-hidden",children:[a.jsx("div",{className:"p-6 border-b border-gray-200",children:a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Order ID"}),a.jsx("p",{className:"font-mono text-sm font-bold",children:h.id.slice(0,8)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Date"}),a.jsx("p",{className:"font-bold",children:new Date(h.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Total"}),a.jsxs("p",{className:"text-xl font-bold text-primary-600",children:["$",parseFloat(h.total_amount).toFixed(2)]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[l(h.status),a.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-bold ${c(h.status)}`,children:h.status.charAt(0).toUpperCase()+h.status.slice(1)})]})]})}),a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Order Items"}),a.jsx("div",{className:"space-y-4",children:h.order_items.map(f=>a.jsxs("div",{className:"flex items-center gap-4",children:[f.products?a.jsxs(a.Fragment,{children:[a.jsx("img",{src:f.products.image_url||"/assets/images/placeholder.png",alt:f.products.name,className:"w-20 h-20 object-cover rounded-2xl",onError:u=>{u.target.src="/assets/images/placeholder.png"}}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-bold text-gray-900",children:f.products.name}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Quantity: ",f.quantity]})]})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-20 h-20 bg-gray-200 rounded-2xl flex items-center justify-center",children:a.jsx(it,{className:"w-8 h-8 text-gray-400"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-bold text-gray-900",children:"Product Unavailable"}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Quantity: ",f.quantity]})]})]}),a.jsxs("p",{className:"font-semibold text-gray-900",children:["$",(parseFloat(f.price)*f.quantity).toFixed(2)]})]},f.id))}),a.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200 grid md:grid-cols-2 gap-6",children:[h.shipping_address&&a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Shipping Address"}),a.jsxs("p",{className:"text-gray-600 text-sm",children:[h.shipping_address.fullName,a.jsx("br",{}),h.shipping_address.address,a.jsx("br",{}),h.shipping_address.city,", ",h.shipping_address.state," ",h.shipping_address.zipCode,a.jsx("br",{}),h.shipping_address.country]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Payment Details"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[h.payment_method==="Cash on Delivery"?a.jsx(y0,{className:"w-4 h-4 text-green-600"}):a.jsx(_s,{className:"w-4 h-4 text-primary-600"}),a.jsx("span",{className:"text-gray-600",children:"Method:"}),a.jsx("span",{className:"font-bold",children:h.payment_method||"N/A"})]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Status:"}),a.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-bold ${d(h.payment_status)}`,children:h.payment_status?h.payment_status.charAt(0).toUpperCase()+h.payment_status.slice(1):"N/A"})]})]})]})]})]})]},h.id))})]})})}function Fj(){const{user:e,signUp:t}=kr(),r=St(),[n]=Kg(),s=n.get("orderId"),[i,o]=O.useState(null),[l,c]=O.useState(!0),[d,h]=O.useState(!1),[f,u]=O.useState(!1),[p,b]=O.useState({email:"",password:"",confirmPassword:"",name:""});O.useEffect(()=>{document.title="Order Success - Thank You!";const m=(g,y)=>{let v=document.querySelector(`meta[name="${g}"]`);v||(v=document.createElement("meta"),v.setAttribute("name",g),document.head.appendChild(v)),v.setAttribute("content",y)};m("description","Order successfully placed! Thank you for your purchase. Check your email for order confirmation and tracking details."),m("keywords","order success, order confirmation, thank you, purchase complete, order placed"),s&&x()},[s]);const x=async()=>{try{const{data:m,error:g}=await X.from("orders").select("*").eq("id",s).maybeSingle();if(g)throw g;o(m),m!=null&&m.is_guest&&b(y=>({...y,email:m.guest_email,name:m.guest_name}))}catch(m){console.error("Error fetching order:",m)}finally{c(!1)}},w=async m=>{if(m.preventDefault(),p.password!==p.confirmPassword){alert("Passwords do not match");return}if(p.password.length<6){alert("Password must be at least 6 characters");return}h(!0);try{await t(p.email,p.password),i&&await X.rpc("convert_guest_order_to_user",{p_order_id:i.id,p_user_id:e.id}),alert("Account created successfully! You can now track your orders."),r("/orders")}catch(g){console.error("Error creating account:",g),alert(g.message||"Failed to create account")}finally{h(!1)}};return l?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):a.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:a.jsx("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 md:p-12",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx(Lt,{className:"w-20 h-20 text-green-500 mx-auto mb-4"}),a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Order Placed Successfully!"}),a.jsx("p",{className:"text-gray-600",children:"Thank you for your order. We've received your order and will process it shortly."})]}),i&&a.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 mb-8",children:[a.jsx("h2",{className:"font-semibold text-gray-900 mb-3",children:"Order Details"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Order Number:"}),a.jsx("span",{className:"font-bold text-gray-900",children:i.id.slice(0,8).toUpperCase()})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Total Amount:"}),a.jsxs("span",{className:"font-bold text-gray-900",children:["$",parseFloat(i.total_amount).toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Payment Method:"}),a.jsx("span",{className:"font-bold text-gray-900",children:i.payment_method})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Status:"}),a.jsx("span",{className:"font-bold text-green-600 capitalize",children:i.status})]})]})]}),!e&&(i==null?void 0:i.is_guest)&&!f&&a.jsxs("div",{className:"bg-primary-50 border-2-2 border-2-primary-200 rounded-xl p-6 mb-8",children:[a.jsx("h3",{className:"font-semibold text-primary-900 mb-2",children:"Create an Account to Track Your Order"}),a.jsx("p",{className:"text-primary-700 text-sm mb-4",children:"Create an account to easily track your orders, save your addresses, and enjoy a faster checkout experience next time."}),a.jsxs("button",{onClick:()=>u(!0),className:"bg-gradient-to-r from-primary-600 to-primary-500 text-white px-6 py-3 rounded-2xl font-bold hover:from-primary-700 hover:to-primary-600 transition flex items-center gap-2",children:["Create Account",a.jsx(g0,{className:"w-4 h-4"})]})]}),!e&&f&&a.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6 mb-8",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Create Your Account"}),a.jsxs("form",{onSubmit:w,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(bn,{className:"w-4 h-4"}),"Name"]})}),a.jsx("input",{type:"text",value:p.name,onChange:m=>b({...p,name:m.target.value}),className:"input-field",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Cs,{className:"w-4 h-4"}),"Email"]})}),a.jsx("input",{type:"email",value:p.email,onChange:m=>b({...p,email:m.target.value}),className:"input-field",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(An,{className:"w-4 h-4"}),"Password"]})}),a.jsx("input",{type:"password",value:p.password,onChange:m=>b({...p,password:m.target.value}),className:"input-field",required:!0,minLength:6})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(An,{className:"w-4 h-4"}),"Confirm Password"]})}),a.jsx("input",{type:"password",value:p.confirmPassword,onChange:m=>b({...p,confirmPassword:m.target.value}),className:"input-field",required:!0,minLength:6})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{type:"submit",disabled:d,className:"flex-1 bg-gradient-to-r from-primary-600 to-primary-500 text-white py-3 rounded-2xl font-bold hover:from-primary-700 hover:to-primary-600 transition disabled:opacity-50",children:d?"Creating Account...":"Create Account"}),a.jsx("button",{type:"button",onClick:()=>u(!1),className:"flex-1 bg-gray-200 text-gray-700 py-3 rounded-2xl font-bold hover:bg-gray-300 transition",children:"Skip"})]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsxs(ce,{to:"/shop",className:"flex-1 bg-gradient-to-r from-primary-600 to-primary-500 text-white py-3 px-6 rounded-2xl font-bold hover:from-primary-700 hover:to-primary-600 transition text-center flex items-center justify-center gap-2",children:[a.jsx(Ad,{className:"w-5 h-5"}),"Continue Shopping"]}),e&&a.jsx(ce,{to:"/orders",className:"flex-1 bg-gray-200 text-gray-700 py-3 px-6 rounded-2xl font-bold hover:bg-gray-300 transition text-center",children:"View Orders"})]})]})})})}function Uj(){const{settings:e}=Za(),{websiteId:t}=We(),[r,n]=O.useState({name:"",email:"",phone:"",subject:"",message:""}),[s,i]=O.useState(!1),[o,l]=O.useState(!1),[c,d]=O.useState("");O.useEffect(()=>{document.title="Contact Us - Get In Touch"},[]);const h=u=>{n({...r,[u.target.name]:u.target.value})},f=async u=>{u.preventDefault(),i(!0),d(""),l(!1);try{const{error:p}=await X.from("contact_submissions").insert([{...r,website_id:t}]);if(p)throw p;l(!0),n({name:"",email:"",phone:"",subject:"",message:""}),setTimeout(()=>l(!1),6e3)}catch(p){d("Unable to send message. Please try again."),console.error(p)}finally{i(!1)}};return a.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-200",children:[a.jsxs("section",{className:"relative py-20 md:py-24 bg-gradient-to-br from-primary-50 to-primary-100 dark:from-gray-800 dark:to-gray-900 overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 z-0 opacity-20 dark:opacity-10",children:a.jsxs("svg",{className:"w-full h-full",fill:"none",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid slice",children:[a.jsx("path",{d:"M0 0h100v100H0z",fill:"url(#grid)"}),a.jsx("defs",{children:a.jsx("pattern",{id:"grid",width:"10",height:"10",patternUnits:"userSpaceOnUse",children:a.jsx("path",{d:"M10 0L0 0 0 10",fill:"none",stroke:"currentColor",strokeOpacity:"0.1",strokeWidth:"0.5"})})})]})}),a.jsxs("div",{className:"relative max-w-4xl mx-auto px-6 lg:px-8 text-center z-10",children:[a.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold text-gray-900 dark:text-white mb-4",children:"Let's Connect"}),a.jsx("p",{className:"text-lg md:text-xl text-gray-700 dark:text-gray-300 max-w-2xl mx-auto",children:"We're here to help with any questions, feedback, or support you need."})]})]}),a.jsxs("div",{className:"max-w-4xl mx-auto px-6 lg:px-8 py-12 md:py-16",children:[a.jsxs("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-8 mb-12",children:[e.contact_email&&a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6 border border-gray-100 dark:border-gray-700 text-center",children:[a.jsx(Cs,{className:"w-10 h-10 text-primary-600 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Email Us"}),a.jsx("a",{href:`mailto:${e.contact_email}`,className:"text-primary-600 hover:text-primary-700 font-medium break-words",children:e.contact_email})]}),e.contact_phone&&a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6 border border-gray-100 dark:border-gray-700 text-center",children:[a.jsx(Od,{className:"w-10 h-10 text-primary-600 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Call Us"}),a.jsx("a",{href:`tel:${e.contact_phone}`,className:"text-primary-600 hover:text-primary-700 font-medium",children:e.contact_phone})]}),e.address&&a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6 border border-gray-100 dark:border-gray-700 text-center lg:col-span-1 sm:col-span-2",children:[a.jsx(w0,{className:"w-10 h-10 text-primary-600 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Visit Us"}),a.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed",children:e.address})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-8 md:p-10 mb-12 border border-gray-100 dark:border-gray-700",children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white text-center mb-8",children:"Send Us a Message"}),o&&a.jsxs("div",{className:"mb-6 p-4 bg-green-50 dark:bg-green-900/30 border border-green-200 dark:border-green-700 rounded-lg flex items-center gap-3 text-green-700 dark:text-green-300",children:[a.jsx(qa,{className:"w-5 h-5 flex-shrink-0"}),a.jsx("p",{className:"text-sm font-medium",children:"Message sent successfully! We'll reply within 24-48 hours."})]}),c&&a.jsx("div",{className:"mb-6 p-4 bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-700 rounded-lg text-red-700 dark:text-red-300 text-sm",children:c}),a.jsxs("form",{onSubmit:f,className:"space-y-6",children:[a.jsxs("div",{className:"grid sm:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Name"}),a.jsx("input",{type:"text",id:"name",name:"name",required:!0,value:r.name,onChange:h,placeholder:"Your full name",className:"w-full px-4 py-2.5 rounded-lg border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email"}),a.jsx("input",{type:"email",id:"email",name:"email",required:!0,value:r.email,onChange:h,placeholder:"your@example.com",className:"w-full px-4 py-2.5 rounded-lg border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-500"})]})]}),a.jsxs("div",{className:"grid sm:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Phone (Optional)"}),a.jsx("input",{type:"tel",id:"phone",name:"phone",value:r.phone,onChange:h,placeholder:"+1 (123) 456-7890",className:"w-full px-4 py-2.5 rounded-lg border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Subject"}),a.jsx("input",{type:"text",id:"subject",name:"subject",required:!0,value:r.subject,onChange:h,placeholder:"Regarding your order / General inquiry",className:"w-full px-4 py-2.5 rounded-lg border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-500"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Message"}),a.jsx("textarea",{id:"message",name:"message",required:!0,rows:"5",value:r.message,onChange:h,placeholder:"How can we assist you today?",className:"w-full px-4 py-2.5 rounded-lg border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-500 resize-y"})]}),a.jsx("button",{type:"submit",disabled:s,className:"w-full py-3 px-6 bg-primary-600 text-white font-semibold rounded-lg hover:bg-primary-700 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 shadow-md",children:s?"Sending...":a.jsxs(a.Fragment,{children:[a.jsx(cj,{className:"w-5 h-5"}),"Send Message"]})})]})]})]})]})}function qj(){const[e,t]=O.useState(""),[r,n]=O.useState(""),[s,i]=O.useState(""),[o,l]=O.useState(!1),{signIn:c}=kr(),d=St();O.useEffect(()=>{document.title="Login - Access Your Account";const f=(u,p)=>{let b=document.querySelector(`meta[name="${u}"]`);b||(b=document.createElement("meta"),b.setAttribute("name",u),document.head.appendChild(b)),b.setAttribute("content",p)};f("description","Login to your account to access your orders, wishlist, and personalized shopping experience."),f("keywords","login, sign in, account access, user login, member login, customer login")},[]);const h=async f=>{f.preventDefault(),i(""),l(!0);try{await c(e,r),d("/")}catch(u){i(u.message||"Failed to sign in")}finally{l(!1)}};return a.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 dark:bg-gray-950 p-4 relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 z-0 opacity-20 dark:opacity-10",children:a.jsxs("svg",{className:"w-full h-full",fill:"none",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid slice",children:[a.jsx("path",{d:"M0 0h100v100H0z",fill:"url(#pattern-login)"}),a.jsx("defs",{children:a.jsx("pattern",{id:"pattern-login",width:"10",height:"10",patternUnits:"userSpaceOnUse",children:a.jsx("circle",{cx:"1",cy:"1",r:"1",fill:"currentColor",stroke:"none",strokeWidth:"0",opacity:"0.1"})})})]})}),a.jsx("div",{className:"absolute top-0 left-0 w-80 h-80 bg-primary-400 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob"}),a.jsx("div",{className:"absolute top-0 right-0 w-80 h-80 bg-accent-400 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob animation-delay-2000"}),a.jsx("div",{className:"absolute bottom-10 left-1/4 w-80 h-80 bg-primary-300 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob animation-delay-4000"}),a.jsxs("div",{className:"relative z-10 max-w-md w-full bg-white dark:bg-gray-800 rounded-2xl shadow-2xl backdrop-blur-md bg-opacity-90 dark:bg-opacity-90 p-8 md:p-10 border border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h2",{className:"text-4xl font-extrabold text-gray-900 dark:text-white mb-2",children:"Welcome Back!"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-lg",children:"Sign in to your account"})]}),s&&a.jsx("div",{className:"mb-6 p-4 bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-700 rounded-lg text-red-700 dark:text-red-300 text-sm",children:s}),a.jsxs("form",{onSubmit:h,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-800 dark:text-gray-200 mb-2",children:"Email Address"}),a.jsx("input",{id:"email",type:"email",required:!0,value:e,onChange:f=>t(f.target.value),className:"w-full px-4 py-2.5 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-500 transition-all duration-200",placeholder:"you@example.com"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-800 dark:text-gray-200 mb-2",children:"Password"}),a.jsx("input",{id:"password",type:"password",required:!0,value:r,onChange:f=>n(f.target.value),className:"w-full px-4 py-2.5 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-500 transition-all duration-200",placeholder:""})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{id:"remember_me",name:"remember_me",type:"checkbox",className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded dark:bg-gray-700 dark:border-gray-600"}),a.jsx("label",{htmlFor:"remember_me",className:"ml-2 block text-gray-700 dark:text-gray-300",children:"Remember me"})]}),a.jsx(ce,{to:"/forgot-password",className:"font-medium text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300",children:"Forgot password?"})]}),a.jsx("button",{type:"submit",disabled:o,className:"w-full py-3 px-4 rounded-lg bg-primary-600 text-white text-lg font-semibold hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-md",children:o?"Signing In...":"Sign In"})]}),a.jsxs("p",{className:"mt-8 text-center text-gray-700 dark:text-gray-300 text-base",children:["Don't have an account?"," ",a.jsx(ce,{to:"/signup",className:"font-bold text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300",children:"Sign Up"})]})]}),a.jsx("style",{jsx:!0,global:!0,children:`
        @keyframes blob {
          0% {
            transform: translate(0px, 0px) scale(1);
          }
          33% {
            transform: translate(30px, -50px) scale(1.1);
          }
          66% {
            transform: translate(-20px, 20px) scale(0.9);
          }
          100% {
            transform: translate(0px, 0px) scale(1);
          }
        }
        .animate-blob {
          animation: blob 7s infinite cubic-bezier(0.68, -0.55, 0.27, 1.55);
        }
        .animation-delay-2000 { animation-delay: 2s; }
        .animation-delay-4000 { animation-delay: 4s; }
      `})]})}function Bj(){const[e,t]=O.useState(""),[r,n]=O.useState(""),[s,i]=O.useState(""),[o,l]=O.useState(""),[c,d]=O.useState(""),[h,f]=O.useState(!1),{signUp:u}=kr(),{websiteId:p}=We(),b=St();O.useEffect(()=>{document.title="Sign Up - Create Your Account";const w=(m,g)=>{let y=document.querySelector(`meta[name="${m}"]`);y||(y=document.createElement("meta"),y.setAttribute("name",m),document.head.appendChild(y)),y.setAttribute("content",g)};w("description","Create your account to start shopping for premium printers and enjoy exclusive offers and benefits."),w("keywords","sign up, create account, register, new account, join, membership, customer registration")},[]);const x=async w=>{if(w.preventDefault(),d(""),!e.trim()){d("Name is required");return}if(s!==o){d("Passwords do not match");return}if(s.length<6){d("Password must be at least 6 characters");return}f(!0);try{await u(r,s,{full_name:e},p),b("/")}catch(m){d(m.message||"Failed to create account")}finally{f(!1)}};return a.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 dark:bg-gray-950 p-4 relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 z-0 opacity-20 dark:opacity-10",children:a.jsxs("svg",{className:"w-full h-full",fill:"none",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid slice",children:[a.jsx("path",{d:"M0 0h100v100H0z",fill:"url(#pattern-signup)"}),a.jsx("defs",{children:a.jsx("pattern",{id:"pattern-signup",width:"10",height:"10",patternUnits:"userSpaceOnUse",children:a.jsx("rect",{x:"0",y:"0",width:"2",height:"2",fill:"currentColor",stroke:"none",strokeWidth:"0",opacity:"0.1"})})})]})}),a.jsx("div",{className:"absolute top-0 right-0 w-80 h-80 bg-accent-400 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob"}),a.jsx("div",{className:"absolute bottom-10 left-0 w-80 h-80 bg-primary-300 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob animation-delay-2000"}),a.jsx("div",{className:"absolute top-1/4 left-1/4 w-80 h-80 bg-accent-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob animation-delay-4000"}),a.jsxs("div",{className:"relative z-10 max-w-4xl w-full bg-white dark:bg-gray-800 rounded-2xl shadow-2xl backdrop-blur-md bg-opacity-90 dark:bg-opacity-90 p-8 md:p-10 border border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h2",{className:"text-4xl font-extrabold text-gray-900 dark:text-white mb-2",children:"Create Your Account"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-lg",children:"Join us today and explore premium products"})]}),c&&a.jsx("div",{className:"mb-6 p-4 bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-700 rounded-lg text-red-700 dark:text-red-300 text-sm",children:c}),a.jsxs("form",{onSubmit:x,className:"space-y-6",children:[a.jsxs("div",{className:"flex gap-5",children:[a.jsxs("div",{className:"w-full",children:[a.jsx("label",{htmlFor:"name",className:"block text-sm font-semibold text-gray-800 dark:text-gray-200 mb-2",children:"Full Name *"}),a.jsx("input",{id:"name",type:"text",required:!0,value:e,onChange:w=>t(w.target.value),className:"w-full px-4 py-2.5 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-500 transition-all duration-200",placeholder:"John Doe"})]}),a.jsxs("div",{className:"w-full",children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-800 dark:text-gray-200 mb-2",children:"Email Address *"}),a.jsx("input",{id:"email",type:"email",required:!0,value:r,onChange:w=>n(w.target.value),className:"w-full px-4 py-2.5 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-500 transition-all duration-200",placeholder:"you@example.com"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-800 dark:text-gray-200 mb-2",children:"Password *"}),a.jsx("input",{id:"password",type:"password",required:!0,value:s,onChange:w=>i(w.target.value),className:"w-full px-4 py-2.5 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-500 transition-all duration-200",placeholder:""})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-semibold text-gray-800 dark:text-gray-200 mb-2",children:"Confirm Password *"}),a.jsx("input",{id:"confirmPassword",type:"password",required:!0,value:o,onChange:w=>l(w.target.value),className:"w-full px-4 py-2.5 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-500 transition-all duration-200",placeholder:""})]}),a.jsx("button",{type:"submit",disabled:h,className:"w-full py-3 px-4 rounded-lg bg-primary-600 text-white text-lg font-semibold hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-md",children:h?"Creating Account...":"Sign Up"})]}),a.jsxs("p",{className:"mt-8 text-center text-gray-700 dark:text-gray-300 text-base",children:["Already have an account?"," ",a.jsx(ce,{to:"/login",className:"font-bold text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300",children:"Sign In"})]})]}),a.jsx("style",{jsx:!0,global:!0,children:`
        @keyframes blob {
          0% {
            transform: translate(0px, 0px) scale(1);
          }
          33% {
            transform: translate(30px, -50px) scale(1.1);
          }
          66% {
            transform: translate(-20px, 20px) scale(0.9);
          }
          100% {
            transform: translate(0px, 0px) scale(1);
          }
        }
        .animate-blob {
          animation: blob 7s infinite cubic-bezier(0.68, -0.55, 0.27, 1.55);
        }
        .animation-delay-2000 { animation-delay: 2s; }
        .animation-delay-4000 { animation-delay: 4s; }
      `})]})}function zj(){const{user:e}=kr(),t=St(),[r,n]=O.useState(!1),[s,i]=O.useState(""),[o,l]=O.useState(""),[c,d]=O.useState({fullName:"",email:""});O.useEffect(()=>{document.title="My Profile - Account Settings";const b=(x,w)=>{let m=document.querySelector(`meta[name="${x}"]`);m||(m=document.createElement("meta"),m.setAttribute("name",x),document.head.appendChild(m)),m.setAttribute("content",w)};b("description","Manage your account settings, update your profile information and change your password."),b("keywords","profile, account settings, user profile, update profile, change password, account management")},[]);const[h,f]=O.useState({currentPassword:"",newPassword:"",confirmPassword:""});O.useEffect(()=>{var b;if(!e){t("/login");return}d({fullName:((b=e.user_metadata)==null?void 0:b.full_name)||"",email:e.email||""})},[e,t]);const u=async b=>{b.preventDefault(),l(""),i(""),n(!0);try{const{error:x}=await X.auth.updateUser({email:c.email,data:{full_name:c.fullName}});if(x)throw x;i("Profile updated successfully!"),setTimeout(()=>i(""),3e3)}catch(x){l(x.message||"Failed to update profile")}finally{n(!1)}},p=async b=>{if(b.preventDefault(),l(""),i(""),h.newPassword!==h.confirmPassword){l("New passwords do not match");return}if(h.newPassword.length<6){l("Password must be at least 6 characters");return}n(!0);try{const{error:x}=await X.auth.updateUser({password:h.newPassword});if(x)throw x;i("Password updated successfully!"),f({currentPassword:"",newPassword:"",confirmPassword:""}),setTimeout(()=>i(""),3e3)}catch(x){l(x.message||"Failed to update password")}finally{n(!1)}};return e?a.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:a.jsxs("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"My Profile"}),a.jsx("p",{className:"text-gray-600",children:"Manage your account settings and preferences"})]}),o&&a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-2xl p-4 mb-6 flex items-start gap-3",children:[a.jsx(Tn,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),a.jsx("p",{className:"text-red-700",children:o})]}),s&&a.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-2xl p-4 mb-6 flex items-start gap-3",children:[a.jsx(Lt,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),a.jsx("p",{className:"text-green-700",children:s})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl border-2-2 border-2-gray-100 p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx(bn,{className:"w-6 h-6 text-primary-600"}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Personal Information"})]}),a.jsxs("form",{onSubmit:u,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),a.jsx("input",{type:"text",id:"fullName",required:!0,value:c.fullName,onChange:b=>d({...c,fullName:b.target.value}),className:"input-field",placeholder:"John Doe"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),a.jsx("input",{type:"email",id:"email",required:!0,value:c.email,onChange:b=>d({...c,email:b.target.value}),className:"input-field",placeholder:"you@example.com"})]}),a.jsxs("button",{type:"submit",disabled:r,className:"w-full btn-primary disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[a.jsx(js,{className:"w-5 h-5"}),r?"Updating...":"Update Profile"]})]})]}),a.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl border-2-2 border-2-gray-100 p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx(An,{className:"w-6 h-6 text-primary-600"}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Change Password"})]}),a.jsxs("form",{onSubmit:p,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password *"}),a.jsx("input",{type:"password",id:"newPassword",required:!0,value:h.newPassword,onChange:b=>f({...h,newPassword:b.target.value}),className:"input-field",placeholder:"",minLength:6})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password *"}),a.jsx("input",{type:"password",id:"confirmPassword",required:!0,value:h.confirmPassword,onChange:b=>f({...h,confirmPassword:b.target.value}),className:"input-field",placeholder:"",minLength:6})]}),a.jsxs("button",{type:"submit",disabled:r,className:"w-full btn-primary disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[a.jsx(An,{className:"w-5 h-5"}),r?"Updating...":"Change Password"]})]})]})]})]})}):null}function Hj(){const[e,t]=O.useState(""),[r,n]=O.useState(""),[s,i]=O.useState(""),[o,l]=O.useState(!1),c=St(),{login:d,admin:h}=zo();O.useEffect(()=>{h&&c("/admin/dashboard")},[h,c]);const f=async u=>{u.preventDefault(),i(""),l(!0);const p=await d(e,r);p.success?c("/admin/dashboard"):i(p.error||"Invalid email or password"),l(!1)};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-primary-50 to-accent-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-md w-full",children:[a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-primary-600 to-primary-500 rounded-2xl mb-4",children:a.jsx(S0,{className:"w-8 h-8 text-white"})}),a.jsx("h2",{className:"text-3xl font-bold text-slate-900",children:"Admin Portal"}),a.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Sign in to access the admin dashboard"})]}),s&&a.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-2xl flex items-start gap-3",children:[a.jsx(Tn,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),a.jsx("div",{className:"flex-1",children:a.jsx("p",{className:"text-sm font-bold text-red-800",children:s})})]}),a.jsxs("form",{onSubmit:f,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-bold text-slate-700 mb-2",children:"Admin Email"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Cs,{className:"h-5 w-5 text-slate-400"})}),a.jsx("input",{id:"email",type:"email",required:!0,value:e,onChange:u=>t(u.target.value),className:"block w-full pl-10 pr-3 py-3 border border-slate-300 rounded-2xl focus:ring-2 focus:ring-primary-500 focus:border-2-primary-500 text-slate-900 placeholder-slate-400",placeholder:"admin@printerpro.com"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-bold text-slate-700 mb-2",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(An,{className:"h-5 w-5 text-slate-400"})}),a.jsx("input",{id:"password",type:"password",required:!0,value:r,onChange:u=>n(u.target.value),className:"block w-full pl-10 pr-3 py-3 border border-slate-300 rounded-2xl focus:ring-2 focus:ring-primary-500 focus:border-2-primary-500 text-slate-900 placeholder-slate-400",placeholder:"Enter your password"})]})]}),a.jsx("button",{type:"submit",disabled:o,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-2xl shadow-sm text-sm font-bold text-white bg-gradient-to-r from-primary-600 to-primary-500 hover:from-sky-700 hover:to-cyan-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:o?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),a.jsx("span",{children:"Signing in..."})]}):"Sign in to Admin Panel"})]}),a.jsx("div",{className:"mt-6 pt-6 border-t border-slate-200",children:a.jsx("p",{className:"text-xs text-center text-slate-500",children:"Authorized personnel only. All activities are logged and monitored."})})]}),a.jsxs("div",{className:"mt-6 text-center",children:[a.jsx("p",{className:"text-sm text-slate-600",children:"Default credentials for testing:"}),a.jsx("p",{className:"text-xs text-slate-500 mt-1 font-mono",children:"admin@printerpro.com / Admin@12345"})]})]})})}function Wj(){const{currentWebsite:e,websites:t,switchWebsite:r}=We();return t.length<=1?null:a.jsxs("div",{className:"flex items-center gap-3 bg-white rounded-lg border border-gray-200 px-4 py-2 shadow-sm",children:[a.jsx(Q_,{className:"w-5 h-5 text-gray-500"}),a.jsx("select",{value:(e==null?void 0:e.id)||"",onChange:n=>r(n.target.value),className:"border-0 bg-transparent focus:ring-0 focus:outline-none text-sm font-medium text-gray-700 cursor-pointer",children:t.map(n=>a.jsx("option",{value:n.id,children:n.name},n.id))})]})}function nt({children:e}){var d;const{admin:t,logout:r}=zo(),{settings:n}=Za(),s=jr(),[i,o]=O.useState(!1),l=h=>s.pathname===h||s.pathname.startsWith(h+"/"),c=[{name:"Dashboard",path:"/admin/dashboard",icon:ej},{name:"Brand Settings",path:"/admin/brand",icon:aj},{name:"Products",path:"/admin/products",icon:it},{name:"Categories",path:"/admin/categories",icon:dj},{name:"FAQs",path:"/admin/faqs",icon:Y_},{name:"Policies",path:"/admin/policies",icon:za},{name:"Orders",path:"/admin/orders",icon:Ad},{name:"Users",path:"/admin/users",icon:Cd},{name:"Inquiries",path:"/admin/inquiries",icon:Ed},{name:"Payments",path:"/admin/payments",icon:_s}];return a.jsxs("div",{className:"min-h-screen bg-slate-50",children:[a.jsx("div",{className:"bg-gradient-to-r from-slate-900 via-slate-800 to-slate-900 text-white shadow-xl",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex items-center justify-between h-16",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("button",{onClick:()=>o(!i),className:"lg:hidden p-2 rounded-lg hover:bg-slate-700 transition-colors",children:i?a.jsx($t,{className:"w-6 h-6"}):a.jsx(_0,{className:"w-6 h-6"})}),a.jsxs("h1",{className:"text-xl font-bold",children:[n.brand_name," Admin"]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(Wj,{}),a.jsxs("div",{className:"hidden sm:flex items-center gap-2 px-3 py-1.5 bg-slate-700/50 rounded-lg",children:[a.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-sky-500 to-cyan-600 rounded-full flex items-center justify-center text-sm font-bold",children:((d=t==null?void 0:t.name)==null?void 0:d.charAt(0))||"A"}),a.jsxs("div",{className:"text-sm",children:[a.jsx("div",{className:"font-medium",children:(t==null?void 0:t.name)||"Admin"}),a.jsx("div",{className:"text-slate-400 text-xs",children:t==null?void 0:t.email})]})]}),a.jsxs("button",{onClick:r,className:"flex items-center gap-2 px-4 py-2 bg-red-600 hover:bg-red-700 rounded-lg transition-colors text-sm font-medium",children:[a.jsx(ou,{className:"w-4 h-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Logout"})]})]})]})})}),a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:a.jsxs("div",{className:"grid lg:grid-cols-5 gap-8",children:[a.jsx("aside",{className:`lg:col-span-1 ${i?"block":"hidden lg:block"}`,children:a.jsx("nav",{className:"bg-white rounded-xl shadow-md p-3 space-y-1 sticky top-8",children:c.map(h=>a.jsxs(ce,{to:h.path,onClick:()=>o(!1),className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${l(h.path)?"bg-gradient-to-r from-sky-600 to-cyan-600 text-white shadow-lg":"text-slate-700 hover:bg-slate-100"}`,children:[a.jsx(h.icon,{className:"w-5 h-5"}),a.jsx("span",{className:"font-medium",children:h.name})]},h.path))})}),a.jsx("main",{className:"lg:col-span-4",children:e})]})})]})}function Vj(){const{websiteId:e}=We(),[t,r]=O.useState({products:0,blogs:0,orders:0,revenue:0,users:0,inquiries:0}),[n,s]=O.useState([]),[i,o]=O.useState(!0);O.useEffect(()=>{e&&l()},[e]);const l=async()=>{var d,h,f;try{const[u,p,b,x,w,m]=await Promise.all([X.from("products").select("*",{count:"exact",head:!0}),X.from("blogs").select("*",{count:"exact",head:!0}),X.from("orders").select("total_amount").eq("website_id",e),X.rpc("get_user_count"),X.rpc("admin_get_contact_submissions"),X.from("orders").select("id, total_amount, status, created_at").eq("website_id",e).order("created_at",{ascending:!1}).limit(5)]),g=((d=b.data)==null?void 0:d.reduce((y,v)=>y+parseFloat(v.total_amount),0))||0;r({products:u.count||0,blogs:p.count||0,orders:((h=b.data)==null?void 0:h.length)||0,revenue:g,users:x.data||0,inquiries:((f=w.data)==null?void 0:f.length)||0}),s(m.data||[])}catch(u){console.error("Error fetching dashboard data:",u)}finally{o(!1)}},c=d=>({pending:"bg-yellow-100 text-yellow-800",processing:"bg-blue-100 text-blue-800",shipped:"bg-cyan-100 text-cyan-800",delivered:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"})[d]||"bg-slate-100 text-slate-800";return i?a.jsx(nt,{children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-2-b-2 border-2-primary-600"})})}):a.jsx(nt,{children:a.jsxs("div",{children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-3xl font-bold text-slate-900",children:"Dashboard Overview"}),a.jsx("p",{className:"text-slate-600 mt-1",children:"Welcome back! Here's what's happening with your store."})]}),a.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[a.jsx("div",{className:"bg-gradient-to-br from-primary-600 to-primary-500 rounded-3xl shadow-lg p-6 text-white",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-primary-100 text-sm font-bold",children:"Total Products"}),a.jsx("p",{className:"text-4xl font-bold mt-2",children:t.products})]}),a.jsx("div",{className:"w-14 h-14 bg-white/20 rounded-3xl flex items-center justify-center",children:a.jsx(it,{className:"w-7 h-7"})})]})}),a.jsx("div",{className:"bg-gradient-to-br from-emerald-500 to-emerald-600 rounded-3xl shadow-lg p-6 text-white",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-emerald-100 text-sm font-bold",children:"Total Orders"}),a.jsx("p",{className:"text-4xl font-bold mt-2",children:t.orders})]}),a.jsx("div",{className:"w-14 h-14 bg-white/20 rounded-3xl flex items-center justify-center",children:a.jsx(hr,{className:"w-7 h-7"})})]})}),a.jsx("div",{className:"bg-gradient-to-br from-amber-500 to-amber-600 rounded-3xl shadow-lg p-6 text-white",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-amber-100 text-sm font-bold",children:"Total Revenue"}),a.jsxs("p",{className:"text-4xl font-bold mt-2",children:["$",t.revenue.toFixed(0)]})]}),a.jsx("div",{className:"w-14 h-14 bg-white/20 rounded-3xl flex items-center justify-center",children:a.jsx(V_,{className:"w-7 h-7"})})]})}),a.jsx("div",{className:"bg-white rounded-3xl shadow-md p-6 border-2 border-slate-100",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-slate-600 text-sm font-bold",children:"Registered Users"}),a.jsx("p",{className:"text-3xl font-bold text-slate-900 mt-2",children:t.users})]}),a.jsx("div",{className:"w-12 h-12 bg-slate-100 rounded-3xl flex items-center justify-center",children:a.jsx(Cd,{className:"w-6 h-6 text-slate-600"})})]})}),a.jsx("div",{className:"bg-white rounded-3xl shadow-md p-6 border-2 border-slate-100",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-slate-600 text-sm font-bold",children:"Customer Inquiries"}),a.jsx("p",{className:"text-3xl font-bold text-slate-900 mt-2",children:t.inquiries})]}),a.jsx("div",{className:"w-12 h-12 bg-slate-100 rounded-3xl flex items-center justify-center",children:a.jsx(Ed,{className:"w-6 h-6 text-slate-600"})})]})}),a.jsx("div",{className:"bg-white rounded-3xl shadow-md p-6 border-2 border-slate-100",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-slate-600 text-sm font-bold",children:"Blog Posts"}),a.jsx("p",{className:"text-3xl font-bold text-slate-900 mt-2",children:t.blogs})]}),a.jsx("div",{className:"w-12 h-12 bg-slate-100 rounded-3xl flex items-center justify-center",children:a.jsx(za,{className:"w-6 h-6 text-slate-600"})})]})})]}),a.jsxs("div",{className:"grid lg:grid-cols-2 gap-6 mb-8",children:[a.jsxs("div",{className:"bg-white rounded-3xl shadow-md p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-xl font-bold text-slate-900",children:"Recent Orders"}),a.jsx(ce,{to:"/admin/orders",className:"text-sm text-primary-600 hover:text-primary-700 font-bold",children:"View All"})]}),n.length===0?a.jsxs("div",{className:"text-center py-8 text-slate-500",children:[a.jsx(hr,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),a.jsx("p",{children:"No orders yet"})]}):a.jsx("div",{className:"space-y-3",children:n.map(d=>a.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-2xl hover:bg-slate-100 transition-colors",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Ba,{className:"w-4 h-4 text-slate-400"}),a.jsx("span",{className:"text-sm text-slate-600",children:new Date(d.created_at).toLocaleDateString()})]}),a.jsxs("p",{className:"font-mono text-xs text-slate-500 mt-1",children:["#",d.id.slice(0,8)]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-bold text-slate-900",children:["$",parseFloat(d.total_amount).toFixed(2)]}),a.jsx("span",{className:`inline-block px-2 py-1 rounded text-xs font-bold mt-1 ${c(d.status)}`,children:d.status})]})]},d.id))})]}),a.jsxs("div",{className:"bg-white rounded-3xl shadow-md p-6",children:[a.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-6",children:"Quick Actions"}),a.jsxs("div",{className:"grid gap-4",children:[a.jsxs(ce,{to:"/admin/products",className:"flex items-center gap-4 p-4 bg-gradient-to-r from-primary-50 to-accent-50 rounded-2xl hover:from-sky-100 hover:to-cyan-100 transition-colors group",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-primary-600 to-primary-500 rounded-2xl flex items-center justify-center group-hover:scale-110 transition-transform",children:a.jsx(it,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-slate-900",children:"Manage Products"}),a.jsx("p",{className:"text-sm text-slate-600",children:"Add, edit, or remove products"})]})]}),a.jsxs(ce,{to:"/admin/orders",className:"flex items-center gap-4 p-4 bg-gradient-to-r from-emerald-50 to-green-50 rounded-2xl hover:from-emerald-100 hover:to-green-100 transition-colors group",children:[a.jsx("div",{className:"w-12 h-12 bg-emerald-600 rounded-2xl flex items-center justify-center group-hover:scale-110 transition-transform",children:a.jsx(hr,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-slate-900",children:"Manage Orders"}),a.jsx("p",{className:"text-sm text-slate-600",children:"View and update order status"})]})]}),a.jsxs(ce,{to:"/admin/blogs",className:"flex items-center gap-4 p-4 bg-gradient-to-r from-amber-50 to-orange-50 rounded-2xl hover:from-amber-100 hover:to-orange-100 transition-colors group",children:[a.jsx("div",{className:"w-12 h-12 bg-amber-600 rounded-2xl flex items-center justify-center group-hover:scale-110 transition-transform",children:a.jsx(za,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-slate-900",children:"Manage Blogs"}),a.jsx("p",{className:"text-sm text-slate-600",children:"Create and publish blog posts"})]})]})]})]})]})]})})}const Kj=async(e,t="assets",r="",n=null)=>{try{const s=n||X,i=e.name.split(".").pop(),o=`${Math.random().toString(36).substring(2)}-${Date.now()}.${i}`,l=r?`${r}/${o}`:o,{data:c,error:d}=await s.storage.from(t).upload(l,e,{cacheControl:"3600",upsert:!1});if(d)throw d;const{data:{publicUrl:h}}=s.storage.from(t).getPublicUrl(l);return{url:h,path:l,error:null}}catch(s){return console.error("Upload error:",s),{url:null,path:null,error:s.message}}};function Rh({bucket:e="assets",folder:t="",onUploadComplete:r,currentImage:n=null,label:s="Upload Image",client:i=null}){const[o,l]=O.useState(!1),[c,d]=O.useState(n),[h,f]=O.useState(""),u=O.useRef(null),p=async x=>{var v;const w=(v=x.target.files)==null?void 0:v[0];if(!w)return;if(!["image/jpeg","image/jpg","image/png"].includes(w.type)){f("Only JPG and PNG files are allowed");return}if(w.size>5*1024*1024){f("Image size must be less than 5MB");return}f(""),l(!0);const g=new FileReader;g.onloadend=()=>{d(g.result)},g.readAsDataURL(w);const y=await Kj(w,e,t,i);y.error?(f(y.error),d(n)):r&&r(y.url,y.path),l(!1)},b=()=>{d(null),u.current&&(u.current.value=""),r&&r(null,null)};return a.jsxs("div",{className:"w-full",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:s}),a.jsxs("div",{className:"relative",children:[c?a.jsxs("div",{className:"relative w-full h-48 rounded-lg border-2 border-gray-200 overflow-hidden group",children:[a.jsx("img",{src:c,alt:"Preview",className:"w-full h-full object-cover"}),a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-40 transition-all flex items-center justify-center",children:a.jsx("button",{type:"button",onClick:b,className:"opacity-0 group-hover:opacity-100 transition-opacity bg-red-500 text-white p-2 rounded-full hover:bg-red-600",children:a.jsx($t,{className:"w-5 h-5"})})})]}):a.jsx("div",{onClick:()=>{var x;return(x=u.current)==null?void 0:x.click()},className:"w-full h-48 rounded-lg border-2 border-dashed border-gray-300 hover:border-blue-500 transition-colors cursor-pointer flex flex-col items-center justify-center bg-gray-50 hover:bg-gray-100",children:o?a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mb-2"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Uploading..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(O0,{className:"w-12 h-12 text-gray-400 mb-2"}),a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Click to upload image"}),a.jsx("p",{className:"text-xs text-gray-500",children:"PNG or JPG up to 5MB"})]})}),a.jsx("input",{ref:u,type:"file",accept:"image/png,image/jpeg,image/jpg",onChange:p,className:"hidden"})]}),h&&a.jsx("p",{className:"mt-2 text-sm text-red-600",children:h})]})}function Gj(){const[e,t]=O.useState([]),[r,n]=O.useState([]),[s,i]=O.useState(!0),{websiteId:o}=We(),[l,c]=O.useState(!1),[d,h]=O.useState(!1),[f,u]=O.useState(null),[p,b]=O.useState(""),[x,w]=O.useState("basic"),[m,g]=O.useState({uploading:!1,success:0,failed:0,errors:[]}),[y,v]=O.useState({name:"",description:"",price:"",category_id:"",brand:"",image_url:"",images:[]});O.useEffect(()=>{o&&(_(),N())},[o]);const _=async()=>{try{const{data:I,error:A}=await X.from("categories").select("*").order("name");if(A)throw A;n(I||[])}catch(I){console.error("Error fetching categories:",I)}},N=async()=>{i(!0);try{const{data:I,error:A}=await X.from("products").select("*, categories(*)").order("created_at",{ascending:!1});if(A)throw A;t(I||[])}catch(I){console.error("Error fetching products:",I)}finally{i(!1)}},j=async I=>{I.preventDefault();try{const A={name:y.name,description:y.description,price:parseFloat(y.price)||0,category_id:y.category_id,brand:y.brand,image_url:y.image_url,images:JSON.stringify(y.images),website_id:o};if(f){const{data:L,error:D}=await X.rpc("admin_manage_product",{operation:"update",product_id:f.id,product_data:A});if(D)throw D;if(!(L!=null&&L.success))throw new Error((L==null?void 0:L.error)||"Failed to update product")}else{const{data:L,error:D}=await X.rpc("admin_manage_product",{operation:"insert",product_data:A});if(D)throw D;if(!(L!=null&&L.success))throw new Error((L==null?void 0:L.error)||"Failed to create product")}c(!1),u(null),k(),N()}catch(A){console.error("Error saving product:",A),alert("Failed to save product: "+A.message)}},S=async I=>{if(confirm("Are you sure you want to delete this product?"))try{const{data:A,error:L}=await X.rpc("admin_manage_product",{operation:"delete",product_id:I});if(L)throw L;if(!(A!=null&&A.success))throw new Error((A==null?void 0:A.error)||"Failed to delete product");N()}catch(A){console.error("Error deleting product:",A),alert("Failed to delete product: "+A.message)}},R=(I=null)=>{I?(u(I),v({name:I.name||"",description:I.description||"",price:I.price||"",category_id:I.category_id||"",brand:I.brand||"",image_url:I.image_url||"",images:I.images||[]})):k(),w("basic"),c(!0)},k=()=>{v({name:"",description:"",price:"",category_id:"",brand:"",image_url:"",images:[]})},E=I=>{v({...y,image_url:I})},T=I=>{v({...y,images:[...y.images,I]})},P=I=>{const A=[...y.images];A.splice(I,1),v({...y,images:A})},C=I=>{const A=I.target.type==="checkbox"?I.target.checked:I.target.value;v({...y,[I.target.name]:A})},$=e.filter(I=>I.name.toLowerCase().includes(p.toLowerCase())||I.brand&&I.brand.toLowerCase().includes(p.toLowerCase())||I.description&&I.description.toLowerCase().includes(p.toLowerCase())),F=()=>{const I=`name,description,price,category_id,brand,image_url
HP LaserJet Pro,Professional laser printer,299.99,CATEGORY_ID_HERE,HP,https://example.com/image.jpg
Canon Inkjet,Affordable inkjet printer,149.99,CATEGORY_ID_HERE,Canon,https://example.com/image.jpg`,A=new Blob([I],{type:"text/csv"}),L=window.URL.createObjectURL(A),D=document.createElement("a");D.href=L,D.download="product_upload_template.csv",D.click(),window.URL.revokeObjectURL(L)},B=I=>{const A=[];let L="",D=!1;for(let W=0;W<I.length;W++){const z=I[W];z==='"'?D=!D:z===","&&!D?(A.push(L.trim()),L=""):L+=z}return A.push(L.trim()),A},H=async I=>{var D;const A=(D=I.target.files)==null?void 0:D[0];if(!A)return;g({uploading:!0,success:0,failed:0,errors:[]});const L=new FileReader;L.onload=async W=>{var z;try{const q=((z=W.target)==null?void 0:z.result).split(`
`).filter(ie=>ie.trim()),K=B(q[0]);let V=0,Q=0;const re=[];for(let ie=1;ie<q.length;ie++)if(q[ie].trim())try{const ue=B(q[ie]),de={};if(K.forEach((G,J)=>{de[G]=ue[J]||""}),!de.name||!de.category_id)throw new Error("Missing required fields: name and category_id");if(de.category_id==="CATEGORY_ID_HERE")throw new Error("Please replace CATEGORY_ID_HERE with an actual category ID");const ve={name:de.name,description:de.description||"",price:parseFloat(de.price)||0,category_id:de.category_id,brand:de.brand||"",image_url:de.image_url||"",images:"[]"},{data:$e,error:Re}=await X.rpc("admin_manage_product",{operation:"insert",product_data:ve});if(Re)throw Re;if(!($e!=null&&$e.success))throw new Error(($e==null?void 0:$e.error)||"Failed to insert product");V++}catch(ue){Q++,re.push(`Row ${ie+1}: ${ue.message}`)}g({uploading:!1,success:V,failed:Q,errors:re}),V>0&&N()}catch(M){g({uploading:!1,success:0,failed:0,errors:["Failed to parse CSV file: "+M.message]})}},L.readAsText(A),I.target.value=""},U=[{id:"basic",label:"Basic Info"},{id:"pricing",label:"Pricing"},{id:"images",label:"Images"}];return a.jsx(nt,{children:a.jsxs("div",{children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-3xl font-bold text-slate-900",children:"Product Management"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:F,className:"flex items-center gap-2 px-4 py-2 bg-slate-600 text-white rounded-2xl hover:bg-slate-700 transition-colors font-bold",children:[a.jsx(K_,{className:"w-5 h-5"}),a.jsx("span",{children:"Download Template"})]}),a.jsxs("label",{className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-2xl hover:bg-green-700 transition-colors font-bold cursor-pointer",children:[a.jsx(O0,{className:"w-5 h-5"}),a.jsx("span",{children:"Bulk Upload"}),a.jsx("input",{type:"file",accept:".csv",onChange:H,className:"hidden"})]}),a.jsxs("button",{onClick:()=>R(),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-primary-600 to-primary-500 text-white rounded-2xl hover:from-sky-700 hover:to-cyan-700 transition-colors font-bold",children:[a.jsx(Cn,{className:"w-5 h-5"}),a.jsx("span",{children:"Add Product"})]})]})]}),a.jsxs("div",{className:"relative",children:[a.jsx(xr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Search products by name or slug...",value:p,onChange:I=>b(I.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-slate-300 rounded-2xl focus:ring-2 focus:ring-primary-500 focus:border-2-primary-500"})]})]}),s?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-sky-600"})}):a.jsx("div",{className:"bg-white rounded-3xl shadow-md overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-slate-50 border-b-2 border-slate-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-700 uppercase tracking-wider",children:"Product"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-700 uppercase tracking-wider",children:"Category"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-700 uppercase tracking-wider",children:"Brand"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-700 uppercase tracking-wider",children:"Price"}),a.jsx("th",{className:"px-6 py-4 text-right text-xs font-bold text-slate-700 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-200",children:$.map(I=>{var A;return a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("img",{src:I.image_url,alt:I.name,className:"w-16 h-16 rounded-2xl object-cover shadow-sm"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-900",children:I.name}),a.jsx("p",{className:"text-sm text-slate-500",children:I.slug}),I.is_featured&&a.jsx("span",{className:"inline-block mt-1 px-2 py-0.5 text-xs font-bold bg-amber-100 text-amber-800 rounded",children:"Featured"})]})]})}),a.jsx("td",{className:"px-6 py-4 text-sm text-slate-700",children:((A=I.categories)==null?void 0:A.name)||"N/A"}),a.jsx("td",{className:"px-6 py-4 text-sm text-slate-700",children:I.brand||"N/A"}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("span",{className:"font-bold text-slate-900",children:["$",parseFloat(I.price).toFixed(2)]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsx("button",{onClick:()=>R(I),className:"p-2 text-primary-600 hover:bg-primary-50 rounded-2xl transition-colors",title:"Edit",children:a.jsx(E0,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>S(I.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-2xl transition-colors",title:"Delete",children:a.jsx(Ns,{className:"w-4 h-4"})})]})})]},I.id)})})]})})}),l&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50 overflow-y-auto",children:a.jsxs("div",{className:"bg-white rounded-3xl max-w-4xl w-full my-8",children:[a.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-6 py-4 rounded-t-xl z-10",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-2xl font-bold text-slate-900",children:f?"Edit Product":"Add New Product"}),a.jsx("button",{onClick:()=>{c(!1),u(null),k()},className:"text-slate-400 hover:text-slate-600 transition-colors",children:a.jsx($t,{className:"w-6 h-6"})})]}),a.jsx("div",{className:"flex gap-2 mt-4 overflow-x-auto",children:U.map(I=>a.jsx("button",{onClick:()=>w(I.id),className:`px-4 py-2 rounded-2xl font-bold whitespace-nowrap transition-colors ${x===I.id?"bg-gradient-to-r from-primary-600 to-primary-500 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:I.label},I.id))})]}),a.jsxs("form",{onSubmit:j,className:"p-6 space-y-6 max-h-[calc(90vh-200px)] overflow-y-auto",children:[x==="basic"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Product Name *"}),a.jsx("input",{type:"text",name:"name",required:!0,value:y.name,onChange:C,className:"w-full px-4 py-2.5 border border-slate-300 rounded-2xl focus:ring-2 focus:ring-primary-500 focus:border-2-primary-500",placeholder:"Enter product name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Brand *"}),a.jsx("input",{type:"text",name:"brand",required:!0,value:y.brand,onChange:C,className:"w-full px-4 py-2.5 border border-slate-300 rounded-2xl focus:ring-2 focus:ring-primary-500 focus:border-2-primary-500",placeholder:"Enter brand name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Category *"}),a.jsxs("select",{name:"category_id",required:!0,value:y.category_id,onChange:C,className:"w-full px-4 py-2.5 border border-slate-300 rounded-2xl focus:ring-2 focus:ring-primary-500 focus:border-2-primary-500",children:[a.jsx("option",{value:"",children:"Select a category"}),r.map(I=>a.jsx("option",{value:I.id,children:I.name},I.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Description *"}),a.jsx("textarea",{name:"description",required:!0,rows:"4",value:y.description,onChange:C,className:"w-full px-4 py-2.5 border border-slate-300 rounded-2xl focus:ring-2 focus:ring-primary-500 focus:border-2-primary-500 resize-none",placeholder:"Enter product description"})]})]}),x==="pricing"&&a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Price *"}),a.jsx("input",{type:"number",name:"price",required:!0,step:"0.01",min:"0",value:y.price,onChange:C,className:"w-full px-4 py-2.5 border border-slate-300 rounded-2xl focus:ring-2 focus:ring-primary-500 focus:border-2-primary-500",placeholder:"0.00"})]})}),x==="images"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{children:a.jsx(Rh,{bucket:"product-images",folder:"products",currentImage:y.image_url,onUploadComplete:E,label:"Main Product Image (PNG or JPG only) *"})}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Product Gallery (Optional)"}),a.jsx("div",{className:"grid grid-cols-3 gap-4 mb-4",children:y.images.map((I,A)=>a.jsxs("div",{className:"relative group",children:[a.jsx("img",{src:I,alt:`Gallery ${A+1}`,className:"w-full h-32 object-cover rounded-2xl border-2 border-slate-200"}),a.jsx("button",{type:"button",onClick:()=>P(A),className:"absolute top-2 right-2 p-1.5 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsx(pj,{className:"w-4 h-4"})})]},A))}),a.jsx(Rh,{bucket:"product-images",folder:"products",onUploadComplete:T,label:"Add Gallery Image (PNG or JPG only)"})]})]}),a.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200 sticky bottom-0 bg-white",children:[a.jsx("button",{type:"submit",disabled:!y.image_url,className:"flex-1 px-4 py-2.5 bg-gradient-to-r from-primary-600 to-primary-500 text-white rounded-2xl hover:from-sky-700 hover:to-cyan-700 transition-colors font-bold disabled:opacity-50 disabled:cursor-not-allowed",children:f?"Update Product":"Add Product"}),a.jsx("button",{type:"button",onClick:()=>{c(!1),u(null),k()},className:"flex-1 px-4 py-2.5 bg-slate-100 text-slate-700 rounded-2xl hover:bg-slate-200 transition-colors font-bold",children:"Cancel"})]})]})]})}),(m.uploading||m.success>0||m.failed>0)&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white rounded-3xl max-w-2xl w-full p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-2xl font-bold text-slate-900",children:m.uploading?"Uploading Products...":"Upload Complete"}),!m.uploading&&a.jsx("button",{onClick:()=>g({uploading:!1,success:0,failed:0,errors:[]}),className:"text-slate-400 hover:text-slate-600 transition-colors",children:a.jsx($t,{className:"w-6 h-6"})})]}),m.uploading?a.jsxs("div",{className:"flex flex-col items-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-sky-600 mb-4"}),a.jsx("p",{className:"text-slate-600",children:"Processing your CSV file..."})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-green-50 border-2 border-green-200 rounded-2xl p-4",children:[a.jsx("p",{className:"text-green-600 text-sm font-bold mb-1",children:"Successful"}),a.jsx("p",{className:"text-3xl font-bold text-green-700",children:m.success})]}),a.jsxs("div",{className:"bg-red-50 border-2 border-red-200 rounded-2xl p-4",children:[a.jsx("p",{className:"text-red-600 text-sm font-bold mb-1",children:"Failed"}),a.jsx("p",{className:"text-3xl font-bold text-red-700",children:m.failed})]})]}),m.errors.length>0&&a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-2xl p-4 max-h-64 overflow-y-auto",children:[a.jsx("p",{className:"text-red-700 font-bold mb-2",children:"Errors:"}),a.jsx("ul",{className:"space-y-1",children:m.errors.map((I,A)=>a.jsx("li",{className:"text-sm text-red-600",children:I},A))})]}),a.jsx("button",{onClick:()=>g({uploading:!1,success:0,failed:0,errors:[]}),className:"w-full px-4 py-2.5 bg-gradient-to-r from-primary-600 to-primary-500 text-white rounded-2xl hover:from-primary-700 hover:to-primary-600 transition-colors font-bold",children:"Close"})]})]})})]})})}function Jj(){const[e,t]=O.useState([]),[r,n]=O.useState(!0),[s,i]=O.useState(!1),[o,l]=O.useState(null),[c,d]=O.useState(""),[h,f]=O.useState({name:"",slug:"",description:"",is_active:!0});O.useEffect(()=>{u()},[]);const u=async()=>{n(!0);try{const{data:N,error:j}=await X.from("categories").select("*").order("created_at",{ascending:!1});if(j)throw j;t(N||[])}catch(N){console.error("Error fetching categories:",N)}finally{n(!1)}},p=async N=>{N.preventDefault();try{if(o){const{data:j,error:S}=await X.rpc("admin_manage_category",{operation:"update",category_id:o.id,category_data:h});if(S)throw S}else{const{data:j,error:S}=await X.rpc("admin_manage_category",{operation:"insert",category_data:h});if(S)throw S}i(!1),l(null),m(),u()}catch(j){console.error("Error saving category:",j),alert("Failed to save category: "+j.message)}},b=async N=>{if(confirm("Are you sure you want to delete this category? This may affect products using this category."))try{const{data:j,error:S}=await X.rpc("admin_manage_category",{operation:"delete",category_id:N});if(S)throw S;u()}catch(j){console.error("Error deleting category:",j),alert("Failed to delete category")}},x=async N=>{try{const{data:j,error:S}=await X.rpc("admin_manage_category",{operation:"update",category_id:N.id,category_data:{is_active:!N.is_active}});if(S)throw S;u()}catch(j){console.error("Error toggling category status:",j),alert("Failed to toggle category status")}},w=(N=null)=>{N?(l(N),f({name:N.name,slug:N.slug,description:N.description||"",is_active:N.is_active!==void 0?N.is_active:!0})):m(),i(!0)},m=()=>{f({name:"",slug:"",description:"",is_active:!0})},g=N=>{const j=N.target.type==="checkbox"?N.target.checked:N.target.value;f({...h,[N.target.name]:j})},y=N=>N.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),v=e.filter(N=>N.name.toLowerCase().includes(c.toLowerCase())||N.slug.toLowerCase().includes(c.toLowerCase())),_=N=>{navigator.clipboard.writeText(N),alert("Category ID copied to clipboard!")};return a.jsx(nt,{children:a.jsxs("div",{children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-3xl font-bold text-slate-900",children:"Category Management"}),a.jsxs("button",{onClick:()=>w(),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-primary-600 to-primary-500 text-white rounded-2xl hover:from-sky-700 hover:to-cyan-700 transition-colors font-bold",children:[a.jsx(Cn,{className:"w-5 h-5"}),a.jsx("span",{children:"Add Category"})]})]}),a.jsxs("div",{className:"relative",children:[a.jsx(xr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Search categories by name or slug...",value:c,onChange:N=>d(N.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-slate-300 rounded-2xl focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]})]}),r?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-sky-600"})}):a.jsx("div",{className:"bg-white rounded-3xl shadow-md overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-slate-50 border-b-2 border-slate-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-700 uppercase tracking-wider",children:"Category Name"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-700 uppercase tracking-wider",children:"Category ID"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-700 uppercase tracking-wider",children:"Slug"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-700 uppercase tracking-wider",children:"Description"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-700 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-4 text-right text-xs font-bold text-slate-700 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-200",children:v.map(N=>a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4",children:a.jsx("p",{className:"font-bold text-slate-900",children:N.name})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:"text-xs font-mono text-slate-600 bg-slate-100 px-2 py-1 rounded",children:[N.id.substring(0,8),"..."]}),a.jsx("button",{onClick:()=>_(N.id),className:"p-1.5 text-sky-600 hover:bg-sky-50 rounded transition-colors",title:"Copy full ID",children:a.jsx(W_,{className:"w-4 h-4"})})]})}),a.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:N.slug}),a.jsx("td",{className:"px-6 py-4 text-sm text-slate-700",children:N.description||"No description"}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("button",{onClick:()=>x(N),className:`flex items-center gap-2 px-3 py-1 rounded-2xl text-sm font-bold transition-colors ${N.is_active?"bg-green-100 text-green-800 hover:bg-green-200":"bg-slate-100 text-slate-800 hover:bg-slate-200"}`,children:N.is_active?a.jsxs(a.Fragment,{children:[a.jsx(hj,{className:"w-4 h-4"}),"Active"]}):a.jsxs(a.Fragment,{children:[a.jsx(fj,{className:"w-4 h-4"}),"Inactive"]})})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsx("button",{onClick:()=>w(N),className:"p-2 text-sky-600 hover:bg-sky-50 rounded-2xl transition-colors",title:"Edit",children:a.jsx(E0,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>b(N.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-2xl transition-colors",title:"Delete",children:a.jsx(Ns,{className:"w-4 h-4"})})]})})]},N.id))})]})})}),s&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white rounded-3xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsx("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-6 py-4 rounded-t-xl",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-2xl font-bold text-slate-900",children:o?"Edit Category":"Add New Category"}),a.jsx("button",{onClick:()=>{i(!1),l(null),m()},className:"text-slate-400 hover:text-slate-600 transition-colors",children:a.jsx($t,{className:"w-6 h-6"})})]})}),a.jsxs("form",{onSubmit:p,className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Category Name *"}),a.jsx("input",{type:"text",name:"name",required:!0,value:h.name,onChange:N=>{g(N),o||f(j=>({...j,slug:y(N.target.value)}))},className:"w-full px-4 py-2.5 border border-slate-300 rounded-2xl focus:ring-2 focus:ring-sky-500 focus:border-sky-500",placeholder:"Enter category name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Slug *"}),a.jsx("input",{type:"text",name:"slug",required:!0,value:h.slug,onChange:g,className:"w-full px-4 py-2.5 border border-slate-300 rounded-2xl focus:ring-2 focus:ring-sky-500 focus:border-sky-500",placeholder:"category-slug"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Description"}),a.jsx("textarea",{name:"description",rows:"3",value:h.description,onChange:g,className:"w-full px-4 py-2.5 border border-slate-300 rounded-2xl focus:ring-2 focus:ring-sky-500 focus:border-sky-500 resize-none",placeholder:"Enter category description"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"is_active",name:"is_active",checked:h.is_active,onChange:g,className:"w-4 h-4 text-sky-600 border-slate-300 rounded focus:ring-sky-500"}),a.jsx("label",{htmlFor:"is_active",className:"ml-2 text-sm font-bold text-slate-700",children:"Active Status"})]}),a.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200",children:[a.jsx("button",{type:"submit",className:"flex-1 px-4 py-2.5 bg-gradient-to-r from-primary-600 to-primary-500 text-white rounded-2xl hover:from-sky-700 hover:to-cyan-700 transition-colors font-bold",children:o?"Update Category":"Add Category"}),a.jsx("button",{type:"button",onClick:()=>{i(!1),l(null),m()},className:"flex-1 px-4 py-2.5 bg-slate-100 text-slate-700 rounded-2xl hover:bg-slate-200 transition-colors font-bold",children:"Cancel"})]})]})]})})]})})}function Qj(){var j,S,R;const{websiteId:e}=We(),[t,r]=O.useState([]),[n,s]=O.useState([]),[i,o]=O.useState(!0),[l,c]=O.useState(""),[d,h]=O.useState("all"),[f,u]=O.useState(null),[p,b]=O.useState(!1),[x,w]=O.useState([]);O.useEffect(()=>{e&&m()},[e]),O.useEffect(()=>{g()},[l,d,t]);const m=async()=>{try{const{data:k,error:E}=await X.from("orders").select("*").eq("website_id",e).order("created_at",{ascending:!1});if(E)throw E;r(k||[])}catch(k){console.error("Error fetching orders:",k)}finally{o(!1)}},g=()=>{let k=t;d!=="all"&&(k=k.filter(E=>E.status===d)),l&&(k=k.filter(E=>E.id.toLowerCase().includes(l.toLowerCase()))),s(k)},y=async(k,E)=>{try{const{error:T}=await X.from("orders").update({status:E,updated_at:new Date().toISOString()}).eq("id",k);if(T)throw T;r(t.map(P=>P.id===k?{...P,status:E}:P)),(f==null?void 0:f.id)===k&&u({...f,status:E})}catch(T){console.error("Error updating order status:",T),alert("Failed to update order status")}},v=async k=>{u(k),b(!0);try{const{data:E,error:T}=await X.from("order_items").select(`
          *,
          products (
            name,
            image_url,
            price
          )
        `).eq("order_id",k.id);if(T)throw T;w(E||[])}catch(E){console.error("Error fetching order items:",E)}},_=k=>({pending:a.jsx(Ba,{className:"w-5 h-5"}),processing:a.jsx(it,{className:"w-5 h-5"}),shipped:a.jsx(Rn,{className:"w-5 h-5"}),delivered:a.jsx(Lt,{className:"w-5 h-5"}),cancelled:a.jsx(Ha,{className:"w-5 h-5"})})[k]||a.jsx(Ba,{className:"w-5 h-5"}),N=k=>({pending:"bg-yellow-100 text-yellow-800 border-yellow-200",processing:"bg-blue-100 text-blue-800 border-blue-200",shipped:"bg-cyan-100 text-cyan-800 border-cyan-200",delivered:"bg-green-100 text-green-800 border-green-200",cancelled:"bg-red-100 text-red-800 border-red-200"})[k]||"bg-slate-100 text-slate-800 border-slate-200";return i?a.jsx(nt,{children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-sky-600"})})}):a.jsx(nt,{children:a.jsxs("div",{children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-3xl font-bold text-slate-900",children:"Order Management"}),a.jsx("p",{className:"text-slate-600 mt-1",children:"View and manage customer orders"})]}),a.jsxs("div",{className:"bg-white rounded-3xl shadow-md p-6 mb-6",children:[a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(xr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Search by order ID...",value:l,onChange:k=>c(k.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-slate-300 rounded-2xl focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),a.jsxs("div",{className:"relative",children:[a.jsx(Sd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsxs("select",{value:d,onChange:k=>h(k.target.value),className:"w-full pl-10 pr-10 py-2.5 border border-slate-300 rounded-2xl focus:ring-2 focus:ring-sky-500 focus:border-sky-500 appearance-none",children:[a.jsx("option",{value:"all",children:"All Statuses"}),a.jsx("option",{value:"pending",children:"Pending"}),a.jsx("option",{value:"processing",children:"Processing"}),a.jsx("option",{value:"shipped",children:"Shipped"}),a.jsx("option",{value:"delivered",children:"Delivered"}),a.jsx("option",{value:"cancelled",children:"Cancelled"})]}),a.jsx(po,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400 pointer-events-none"})]})]}),a.jsxs("div",{className:"mt-4 flex items-center gap-4 text-sm",children:[a.jsx("span",{className:"text-slate-600",children:"Total Orders:"}),a.jsx("span",{className:"font-bold text-slate-900",children:n.length})]})]}),n.length===0?a.jsxs("div",{className:"bg-white rounded-3xl shadow-md p-12 text-center",children:[a.jsx(it,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"No orders found"}),a.jsx("p",{className:"text-slate-600",children:l||d!=="all"?"Try adjusting your filters":"Orders will appear here once customers make purchases"})]}):a.jsx("div",{className:"bg-white rounded-3xl shadow-md overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-slate-50 border-b-2 border-slate-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-700 uppercase tracking-wider",children:"Order ID"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-700 uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-700 uppercase tracking-wider",children:"Amount"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-700 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-700 uppercase tracking-wider",children:"Payment"}),a.jsx("th",{className:"px-6 py-4 text-right text-xs font-bold text-slate-700 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-200",children:n.map(k=>a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4",children:a.jsxs("span",{className:"font-mono text-sm text-slate-600",children:["#",k.id.slice(0,8)]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:"text-sm text-slate-900",children:new Date(k.created_at).toLocaleDateString()})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("span",{className:"text-sm font-bold text-slate-900",children:["$",parseFloat(k.total_amount).toFixed(2)]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("span",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-full text-xs font-bold border ${N(k.status)}`,children:[_(k.status),k.status]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:"text-sm text-slate-600 capitalize",children:k.payment_status})}),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsxs("button",{onClick:()=>v(k),className:"inline-flex items-center gap-2 px-4 py-2 bg-sky-600 text-white rounded-2xl hover:bg-sky-700 transition-colors text-sm font-bold",children:[a.jsx(Yr,{className:"w-4 h-4"}),"View Details"]})})]},k.id))})]})})}),p&&f&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsx("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-6 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-2xl font-bold text-slate-900",children:"Order Details"}),a.jsx("button",{onClick:()=>b(!1),className:"text-slate-400 hover:text-slate-600",children:a.jsx(Ha,{className:"w-6 h-6"})})]})}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-bold text-slate-600",children:"Order ID"}),a.jsxs("p",{className:"font-mono text-slate-900 mt-1",children:["#",f.id]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-bold text-slate-600",children:"Order Date"}),a.jsx("p",{className:"text-slate-900 mt-1",children:new Date(f.created_at).toLocaleString()})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-bold text-slate-600",children:"Total Amount"}),a.jsxs("p",{className:"text-2xl font-bold text-slate-900 mt-1",children:["$",parseFloat(f.total_amount).toFixed(2)]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-bold text-slate-600 block mb-2",children:"Order Status"}),a.jsxs("select",{value:f.status,onChange:k=>y(f.id,k.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-2xl focus:ring-2 focus:ring-sky-500 focus:border-sky-500",children:[a.jsx("option",{value:"pending",children:"Pending"}),a.jsx("option",{value:"processing",children:"Processing"}),a.jsx("option",{value:"shipped",children:"Shipped"}),a.jsx("option",{value:"delivered",children:"Delivered"}),a.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-bold text-slate-600",children:"Payment Status"}),a.jsx("p",{className:"text-slate-900 mt-1 capitalize",children:f.payment_status})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-bold text-slate-600",children:"Payment Method"}),a.jsx("p",{className:"text-slate-900 mt-1 capitalize",children:f.payment_method||"Not specified"})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-slate-900 mb-3",children:"Customer Information"}),a.jsx("div",{className:"bg-slate-50 rounded-2xl p-4 space-y-2",children:f.is_guest?a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-bold text-slate-600",children:"Name: "}),a.jsx("span",{className:"text-slate-900",children:f.guest_name||"N/A"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-bold text-slate-600",children:"Email: "}),a.jsx("span",{className:"text-slate-900",children:f.guest_email||"N/A"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-bold text-slate-600",children:"Phone: "}),a.jsx("span",{className:"text-slate-900",children:f.guest_phone||"N/A"})]})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-bold text-slate-600",children:"Name: "}),a.jsx("span",{className:"text-slate-900",children:((j=f.shipping_address)==null?void 0:j.fullName)||"N/A"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-bold text-slate-600",children:"Email: "}),a.jsx("span",{className:"text-slate-900",children:((S=f.shipping_address)==null?void 0:S.email)||"N/A"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-bold text-slate-600",children:"Phone: "}),a.jsx("span",{className:"text-slate-900",children:((R=f.shipping_address)==null?void 0:R.phone)||"N/A"})]})]})})]}),f.shipping_address&&Object.keys(f.shipping_address).length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-slate-900 mb-3",children:"Shipping Address"}),a.jsxs("div",{className:"bg-slate-50 rounded-2xl p-4",children:[a.jsx("p",{className:"text-slate-900",children:f.shipping_address.address||"N/A"}),a.jsxs("p",{className:"text-slate-600 mt-1",children:[f.shipping_address.city||"N/A",", ",f.shipping_address.state||"N/A"," ",f.shipping_address.zipCode||""]}),a.jsx("p",{className:"text-slate-600",children:f.shipping_address.country||"N/A"})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-slate-900 mb-3",children:"Order Items"}),a.jsx("div",{className:"space-y-3",children:x.map(k=>{var E,T,P;return a.jsxs("div",{className:"flex items-center gap-4 p-4 bg-slate-50 rounded-2xl",children:[((E=k.products)==null?void 0:E.image_url)&&a.jsx("img",{src:k.products.image_url,alt:(T=k.products)==null?void 0:T.name,className:"w-16 h-16 object-cover rounded-2xl"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-bold text-slate-900",children:((P=k.products)==null?void 0:P.name)||"Product"}),a.jsxs("p",{className:"text-sm text-slate-600",children:["Quantity: ",k.quantity]})]}),a.jsxs("p",{className:"font-bold text-slate-900",children:["$",(parseFloat(k.price)*k.quantity).toFixed(2)]})]},k.id)})})]})]})]})})]})})}function Yj(){const{websiteId:e}=We(),[t,r]=O.useState([]),[n,s]=O.useState([]),[i,o]=O.useState(!0),[l,c]=O.useState(""),[d,h]=O.useState(null),[f,u]=O.useState([]),[p,b]=O.useState(!1);O.useEffect(()=>{e&&x()},[e]),O.useEffect(()=>{w()},[l,t]);const x=async()=>{try{const{data:y,error:v}=await X.rpc("admin_get_users_by_website",{target_website_id:e});if(v)throw v;r(y||[])}catch(y){console.error("Error fetching users:",y)}finally{o(!1)}},w=()=>{if(!l){s(t);return}const y=t.filter(v=>v.email.toLowerCase().includes(l.toLowerCase()));s(y)},m=async y=>{h(y),b(!0);try{const{data:v,error:_}=await X.rpc("admin_get_user_orders",{target_user_id:y.id});if(_)throw _;u(v||[])}catch(v){console.error("Error fetching user orders:",v)}},g=y=>({pending:"bg-yellow-100 text-yellow-800",processing:"bg-blue-100 text-blue-800",shipped:"bg-cyan-100 text-cyan-800",delivered:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"})[y]||"bg-slate-100 text-slate-800";return i?a.jsx(nt,{children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-sky-600"})})}):a.jsx(nt,{children:a.jsxs("div",{children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-3xl font-bold text-slate-900",children:"User Management"}),a.jsx("p",{className:"text-slate-600 mt-1",children:"View registered users and their order history"})]}),a.jsxs("div",{className:"bg-white rounded-3xl shadow-md p-6 mb-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx(xr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Search by email...",value:l,onChange:y=>c(y.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-slate-300 rounded-2xl focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),a.jsxs("div",{className:"mt-4 flex items-center gap-4 text-sm",children:[a.jsx("span",{className:"text-slate-600",children:"Total Users:"}),a.jsx("span",{className:"font-bold text-slate-900",children:n.length})]})]}),n.length===0?a.jsxs("div",{className:"bg-white rounded-3xl shadow-md p-12 text-center",children:[a.jsx(bn,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"No users found"}),a.jsx("p",{className:"text-slate-600",children:l?"Try adjusting your search":"Registered users will appear here"})]}):a.jsx("div",{className:"bg-white rounded-3xl shadow-md overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-slate-50 border-b-2 border-slate-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-700 uppercase tracking-wider",children:"User"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-700 uppercase tracking-wider",children:"Email"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-700 uppercase tracking-wider",children:"Joined"}),a.jsx("th",{className:"px-6 py-4 text-right text-xs font-bold text-slate-700 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-200",children:n.map(y=>a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-sky-500 to-cyan-600 rounded-full flex items-center justify-center text-white font-bold",children:y.email.charAt(0).toUpperCase()}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-900",children:y.email.split("@")[0]}),a.jsx("p",{className:"text-xs text-slate-500 font-mono",children:y.id.slice(0,8)})]})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[a.jsx(Cs,{className:"w-4 h-4"}),y.email]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[a.jsx(v0,{className:"w-4 h-4"}),new Date(y.created_at).toLocaleDateString()]})}),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsxs("button",{onClick:()=>m(y),className:"inline-flex items-center gap-2 px-4 py-2 bg-sky-600 text-white rounded-2xl hover:bg-sky-700 transition-colors text-sm font-bold",children:[a.jsx(Yr,{className:"w-4 h-4"}),"View Details"]})})]},y.id))})]})})}),p&&d&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsx("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-6 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-2xl font-bold text-slate-900",children:"User Details"}),a.jsx("button",{onClick:()=>b(!1),className:"text-slate-400 hover:text-slate-600",children:a.jsx(Ha,{className:"w-6 h-6"})})]})}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"bg-slate-50 rounded-2xl p-6",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-sky-500 to-cyan-600 rounded-full flex items-center justify-center text-white text-2xl font-bold",children:d.email.charAt(0).toUpperCase()}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-xl font-bold text-slate-900",children:d.email.split("@")[0]}),a.jsx("p",{className:"text-slate-600",children:d.email})]})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-bold text-slate-600",children:"User ID"}),a.jsx("p",{className:"font-mono text-sm text-slate-900 mt-1",children:d.id})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-bold text-slate-600",children:"Joined Date"}),a.jsx("p",{className:"text-slate-900 mt-1",children:new Date(d.created_at).toLocaleDateString()})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-bold text-slate-900 mb-4",children:"Order History"}),f.length===0?a.jsx("div",{className:"text-center py-8 bg-slate-50 rounded-2xl",children:a.jsx("p",{className:"text-slate-600",children:"No orders yet"})}):a.jsx("div",{className:"space-y-3",children:f.map(y=>a.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-2xl hover:bg-slate-100 transition-colors",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("p",{className:"font-mono text-sm text-slate-600",children:["#",y.id.slice(0,8)]}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:new Date(y.created_at).toLocaleDateString()})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-bold text-slate-900",children:["$",parseFloat(y.total_amount).toFixed(2)]}),a.jsx("span",{className:`inline-block px-2 py-1 rounded text-xs font-bold mt-1 ${g(y.status)}`,children:y.status})]})]},y.id))})]})]})]})})]})})}function Zj(){const{websiteId:e}=We(),[t,r]=O.useState([]),[n,s]=O.useState([]),[i,o]=O.useState(!0),[l,c]=O.useState(""),[d,h]=O.useState("all"),[f,u]=O.useState(null),[p,b]=O.useState(!1);O.useEffect(()=>{e&&x()},[e]),O.useEffect(()=>{w()},[l,d,t]);const x=async()=>{try{const{data:_,error:N}=await X.rpc("admin_get_contact_submissions",{target_website_id:e});if(N)throw N;r(_||[])}catch(_){console.error("Error fetching inquiries:",_)}finally{o(!1)}},w=()=>{let _=t;d!=="all"&&(_=_.filter(N=>N.status===d)),l&&(_=_.filter(N=>N.name.toLowerCase().includes(l.toLowerCase())||N.email.toLowerCase().includes(l.toLowerCase())||N.subject.toLowerCase().includes(l.toLowerCase()))),s(_)},m=async(_,N)=>{try{const{data:j,error:S}=await X.rpc("admin_update_contact_submission",{submission_id:_,new_status:N});if(S)throw S;if(!(j!=null&&j.success))throw new Error((j==null?void 0:j.error)||"Failed to update status");r(t.map(R=>R.id===_?{...R,status:N}:R)),(f==null?void 0:f.id)===_&&u({...f,status:N})}catch(j){console.error("Error updating inquiry status:",j),alert("Failed to update inquiry status")}},g=async _=>{if(confirm("Are you sure you want to delete this inquiry?"))try{const{data:N,error:j}=await X.rpc("admin_delete_contact_submission",{submission_id:_});if(j)throw j;if(!(N!=null&&N.success))throw new Error((N==null?void 0:N.error)||"Failed to delete inquiry");r(t.filter(S=>S.id!==_)),(f==null?void 0:f.id)===_&&b(!1)}catch(N){console.error("Error deleting inquiry:",N),alert("Failed to delete inquiry")}},y=_=>{u(_),b(!0)},v=_=>({new:"bg-blue-100 text-blue-800 border-blue-200",resolved:"bg-green-100 text-green-800 border-green-200",pending:"bg-yellow-100 text-yellow-800 border-yellow-200"})[_]||"bg-slate-100 text-slate-800 border-slate-200";return i?a.jsx(nt,{children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-sky-600"})})}):a.jsx(nt,{children:a.jsxs("div",{children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-3xl font-bold text-slate-900",children:"Customer Inquiries"}),a.jsx("p",{className:"text-slate-600 mt-1",children:"Manage customer contact submissions"})]}),a.jsxs("div",{className:"bg-white rounded-3xl shadow-md p-6 mb-6",children:[a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(xr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Search by name, email, or subject...",value:l,onChange:_=>c(_.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-slate-300 rounded-2xl focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),a.jsxs("div",{className:"relative",children:[a.jsx(Sd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsxs("select",{value:d,onChange:_=>h(_.target.value),className:"w-full pl-10 pr-10 py-2.5 border border-slate-300 rounded-2xl focus:ring-2 focus:ring-sky-500 focus:border-sky-500 appearance-none",children:[a.jsx("option",{value:"all",children:"All Statuses"}),a.jsx("option",{value:"new",children:"New"}),a.jsx("option",{value:"pending",children:"Pending"}),a.jsx("option",{value:"resolved",children:"Resolved"})]}),a.jsx(po,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400 pointer-events-none"})]})]}),a.jsxs("div",{className:"mt-4 flex items-center gap-4 text-sm",children:[a.jsx("span",{className:"text-slate-600",children:"Total Inquiries:"}),a.jsx("span",{className:"font-bold text-slate-900",children:n.length})]})]}),n.length===0?a.jsxs("div",{className:"bg-white rounded-3xl shadow-md p-12 text-center",children:[a.jsx(Ed,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"No inquiries found"}),a.jsx("p",{className:"text-slate-600",children:l||d!=="all"?"Try adjusting your filters":"Customer inquiries will appear here"})]}):a.jsx("div",{className:"bg-white rounded-3xl shadow-md overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-slate-50 border-b-2 border-slate-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-700 uppercase tracking-wider",children:"Customer"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-700 uppercase tracking-wider",children:"Subject"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-700 uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-700 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-4 text-right text-xs font-bold text-slate-700 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-200",children:n.map(_=>a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-900",children:_.name}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 mt-1",children:[a.jsx(Cs,{className:"w-3 h-3"}),_.email]}),_.phone&&a.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 mt-1",children:[a.jsx(Od,{className:"w-3 h-3"}),_.phone]})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("p",{className:"text-sm text-slate-900 line-clamp-2",children:_.subject})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[a.jsx(v0,{className:"w-4 h-4"}),new Date(_.created_at).toLocaleDateString()]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("span",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-full text-xs font-bold border ${v(_.status)}`,children:[_.status==="resolved"&&a.jsx(Lt,{className:"w-3 h-3"}),_.status]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsx("button",{onClick:()=>y(_),className:"p-2 text-sky-600 hover:bg-sky-50 rounded-2xl transition-colors",title:"View Details",children:a.jsx(Yr,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>g(_.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-2xl transition-colors",title:"Delete",children:a.jsx(Ns,{className:"w-4 h-4"})})]})})]},_.id))})]})})}),p&&f&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsx("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-6 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-2xl font-bold text-slate-900",children:"Inquiry Details"}),a.jsx("button",{onClick:()=>b(!1),className:"text-slate-400 hover:text-slate-600",children:a.jsx(Ha,{className:"w-6 h-6"})})]})}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsx("div",{className:"bg-slate-50 rounded-2xl p-6",children:a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-bold text-slate-600",children:"Name"}),a.jsx("p",{className:"text-slate-900 mt-1 font-bold",children:f.name})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-bold text-slate-600",children:"Date"}),a.jsx("p",{className:"text-slate-900 mt-1",children:new Date(f.created_at).toLocaleString()})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-bold text-slate-600",children:"Email"}),a.jsx("p",{className:"text-slate-900 mt-1",children:f.email})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-bold text-slate-600",children:"Phone"}),a.jsx("p",{className:"text-slate-900 mt-1",children:f.phone||"Not provided"})]})]})}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-bold text-slate-600 block mb-2",children:"Subject"}),a.jsx("p",{className:"text-slate-900 font-bold",children:f.subject})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-bold text-slate-600 block mb-2",children:"Message"}),a.jsx("div",{className:"bg-slate-50 rounded-2xl p-4",children:a.jsx("p",{className:"text-slate-900 whitespace-pre-wrap",children:f.message})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-bold text-slate-600 block mb-2",children:"Status"}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:()=>m(f.id,"new"),className:`px-4 py-2 rounded-2xl font-bold transition-colors ${f.status==="new"?"bg-blue-600 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:"New"}),a.jsx("button",{onClick:()=>m(f.id,"pending"),className:`px-4 py-2 rounded-2xl font-bold transition-colors ${f.status==="pending"?"bg-yellow-600 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:"Pending"}),a.jsx("button",{onClick:()=>m(f.id,"resolved"),className:`px-4 py-2 rounded-2xl font-bold transition-colors ${f.status==="resolved"?"bg-green-600 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:"Resolved"})]})]}),a.jsx("div",{className:"flex gap-3 pt-4 border-t border-slate-200",children:a.jsxs("button",{onClick:()=>g(f.id),className:"flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-2xl hover:bg-red-700 transition-colors",children:[a.jsx(Ns,{className:"w-4 h-4"}),"Delete Inquiry"]})})]})]})})]})})}function Xj(){const[e,t]=O.useState([]),[r,n]=O.useState([]),[s,i]=O.useState(!0),[o,l]=O.useState(!1),[c,d]=O.useState({type:"",text:""}),[h,f]=O.useState({});O.useEffect(()=>{u()},[]);const u=async()=>{try{i(!0);const[m,g]=await Promise.all([X.from("payment_settings").select("*").order("gateway_name"),X.from("payment_methods").select("*").order("display_order")]);if(m.error)throw m.error;if(g.error)throw g.error;t(m.data||[]),n(g.data||[])}catch(m){console.error("Error fetching payment data:",m),d({type:"error",text:"Failed to load payment settings"})}finally{i(!1)}},p=async(m,g,y)=>{t(v=>v.map(_=>_.id===m?{..._,[g]:y}:_))},b=async(m,g,y)=>{n(v=>v.map(_=>_.id===m?{..._,[g]:y}:_))},x=async()=>{try{l(!0),d({type:"",text:""});for(const m of e){const{error:g}=await X.from("payment_settings").update({api_key:m.api_key,api_secret:m.api_secret,is_enabled:m.is_enabled,is_test_mode:m.is_test_mode,updated_at:new Date().toISOString()}).eq("id",m.id);if(g)throw g}for(const m of r){const{error:g}=await X.from("payment_methods").update({is_enabled:m.is_enabled}).eq("id",m.id);if(g)throw g}d({type:"success",text:"Payment settings saved successfully!"}),setTimeout(()=>d({type:"",text:""}),3e3)}catch(m){console.error("Error saving settings:",m),d({type:"error",text:"Failed to save settings"})}finally{l(!1)}},w=m=>{f(g=>({...g,[m]:!g[m]}))};return s?a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):a.jsxs("div",{className:"max-w-6xl mx-auto",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Payment Settings"}),a.jsx("p",{className:"text-gray-600",children:"Configure payment gateways and manage payment methods"})]}),a.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-600 p-6 mb-6 rounded-2xl",children:[a.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-3",children:"Setup Instructions"}),a.jsxs("div",{className:"space-y-3 text-sm text-blue-800",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-1",children:"Razorpay Setup:"}),a.jsxs("ol",{className:"list-decimal list-inside space-y-1 ml-2",children:[a.jsx("li",{children:"Create account at razorpay.com"}),a.jsx("li",{children:"Go to Settings - API Keys"}),a.jsx("li",{children:"Copy Key ID (API Key) and Key Secret (API Secret)"}),a.jsx("li",{children:"Paste them below and enable Razorpay"}),a.jsx("li",{children:"Enable payment methods you want to offer"})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-1",children:"Stripe Setup:"}),a.jsxs("ol",{className:"list-decimal list-inside space-y-1 ml-2",children:[a.jsx("li",{children:"Create account at stripe.com"}),a.jsx("li",{children:"Go to Developers - API Keys"}),a.jsx("li",{children:"Copy Publishable Key (API Key) and Secret Key (API Secret)"}),a.jsx("li",{children:"Paste them below and enable Stripe"})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-1",children:"Cash on Delivery:"}),a.jsx("p",{className:"ml-2",children:"Already enabled by default. No setup required."})]})]})]}),c.text&&a.jsxs("div",{className:`mb-6 p-4 rounded-2xl flex items-center gap-2 ${c.type==="success"?"bg-green-50 text-green-800":"bg-red-50 text-red-800"}`,children:[c.type==="success"?a.jsx(Lt,{className:"w-5 h-5"}):a.jsx(Tn,{className:"w-5 h-5"}),c.text]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 mb-8",children:[a.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[a.jsx(_s,{className:"w-6 h-6"}),"Payment Gateways"]}),a.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Add your payment gateway API credentials. Keep these secure and never share them."}),a.jsx("div",{className:"space-y-6",children:e.map(m=>a.jsxs("div",{className:"border border-gray-200 rounded-2xl p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold",children:m.gateway_name}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[a.jsx("input",{type:"checkbox",checked:m.is_test_mode,onChange:g=>p(m.id,"is_test_mode",g.target.checked),className:"rounded"}),"Test Mode"]}),a.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[a.jsx("input",{type:"checkbox",checked:m.is_enabled,onChange:g=>p(m.id,"is_enabled",g.target.checked),className:"rounded"}),a.jsx("span",{className:m.is_enabled?"text-green-600 font-bold":"text-gray-600",children:m.is_enabled?"Enabled":"Disabled"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"API Key"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:h[`${m.id}-key`]?"text":"password",value:m.api_key||"",onChange:g=>p(m.id,"api_key",g.target.value),placeholder:"Enter API Key",className:"w-full px-3 py-2 border border-gray-300 rounded-2xl pr-10"}),a.jsx("button",{type:"button",onClick:()=>w(`${m.id}-key`),className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:h[`${m.id}-key`]?a.jsx(Th,{className:"w-5 h-5"}):a.jsx(Yr,{className:"w-5 h-5"})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"API Secret"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:h[`${m.id}-secret`]?"text":"password",value:m.api_secret||"",onChange:g=>p(m.id,"api_secret",g.target.value),placeholder:"Enter API Secret",className:"w-full px-3 py-2 border border-gray-300 rounded-2xl pr-10"}),a.jsx("button",{type:"button",onClick:()=>w(`${m.id}-secret`),className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:h[`${m.id}-secret`]?a.jsx(Th,{className:"w-5 h-5"}):a.jsx(Yr,{className:"w-5 h-5"})})]})]})]})]},m.id))})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Payment Methods"}),a.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Enable or disable payment methods available to customers during checkout."}),a.jsx("div",{className:"space-y-3",children:r.map(m=>a.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-2xl",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold",children:m.method_name}),a.jsx("p",{className:"text-sm text-gray-500",children:m.method_type==="cod"?"Cash on Delivery":"Payment Gateway"})]}),a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:m.is_enabled,onChange:g=>b(m.id,"is_enabled",g.target.checked),className:"rounded"}),a.jsx("span",{className:`text-sm font-bold ${m.is_enabled?"text-green-600":"text-gray-600"}`,children:m.is_enabled?"Enabled":"Disabled"})]})]},m.id))})]}),a.jsx("div",{className:"mt-8 flex justify-end",children:a.jsxs("button",{onClick:x,disabled:o,className:"flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-2xl hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed",children:[a.jsx(js,{className:"w-5 h-5"}),o?"Saving...":"Save All Settings"]})})]})}var e2=Object.defineProperty,t2=(e,t,r)=>t in e?e2(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Hl=(e,t,r)=>(t2(e,typeof t!="symbol"?t+"":t,r),r);let r2=class{constructor(){Hl(this,"current",this.detect()),Hl(this,"handoffState","pending"),Hl(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},nr=new r2;function Xa(e){var t;return nr.isServer?null:e==null?document:(t=e==null?void 0:e.ownerDocument)!=null?t:document}function cu(e){var t,r;return nr.isServer?null:e==null?document:(r=(t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))!=null?r:document}function A0(e){var t,r;return(r=(t=cu(e))==null?void 0:t.activeElement)!=null?r:null}function n2(e){return A0(e)===e}function Ho(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function Sr(){let e=[],t={addEventListener(r,n,s,i){return r.addEventListener(n,s,i),t.add(()=>r.removeEventListener(n,s,i))},requestAnimationFrame(...r){let n=requestAnimationFrame(...r);return t.add(()=>cancelAnimationFrame(n))},nextFrame(...r){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...r))},setTimeout(...r){let n=setTimeout(...r);return t.add(()=>clearTimeout(n))},microTask(...r){let n={current:!0};return Ho(()=>{n.current&&r[0]()}),t.add(()=>{n.current=!1})},style(r,n,s){let i=r.style.getPropertyValue(n);return Object.assign(r.style,{[n]:s}),this.add(()=>{Object.assign(r.style,{[n]:i})})},group(r){let n=Sr();return r(n),this.add(()=>n.dispose())},add(r){return e.includes(r)||e.push(r),()=>{let n=e.indexOf(r);if(n>=0)for(let s of e.splice(n,1))s()}},dispose(){for(let r of e.splice(0))r()}};return t}function Wo(){let[e]=O.useState(Sr);return O.useEffect(()=>()=>e.dispose(),[e]),e}let pt=(e,t)=>{nr.isServer?O.useEffect(e,t):O.useLayoutEffect(e,t)};function Dn(e){let t=O.useRef(e);return pt(()=>{t.current=e},[e]),t}let we=function(e){let t=Dn(e);return fe.useCallback((...r)=>t.current(...r),[t])};function ei(e){return O.useMemo(()=>e,Object.values(e))}let s2=O.createContext(void 0);function a2(){return O.useContext(s2)}function uu(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function br(e,t,...r){if(e in t){let s=t[e];return typeof s=="function"?s(...r):s}let n=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(s=>`"${s}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,br),n}var go=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(go||{}),Ur=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(Ur||{});function Dt(){let e=o2();return O.useCallback(t=>i2({mergeRefs:e,...t}),[e])}function i2({ourProps:e,theirProps:t,slot:r,defaultTag:n,features:s,visible:i=!0,name:o,mergeRefs:l}){l=l??l2;let c=C0(t,e);if(i)return Ni(c,r,n,o,l);let d=s??0;if(d&2){let{static:h=!1,...f}=c;if(h)return Ni(f,r,n,o,l)}if(d&1){let{unmount:h=!0,...f}=c;return br(h?0:1,{0(){return null},1(){return Ni({...f,hidden:!0,style:{display:"none"}},r,n,o,l)}})}return Ni(c,r,n,o,l)}function Ni(e,t={},r,n,s){let{as:i=r,children:o,refName:l="ref",...c}=Wl(e,["unmount","static"]),d=e.ref!==void 0?{[l]:e.ref}:{},h=typeof o=="function"?o(t):o;"className"in c&&c.className&&typeof c.className=="function"&&(c.className=c.className(t)),c["aria-labelledby"]&&c["aria-labelledby"]===c.id&&(c["aria-labelledby"]=void 0);let f={};if(t){let u=!1,p=[];for(let[b,x]of Object.entries(t))typeof x=="boolean"&&(u=!0),x===!0&&p.push(b.replace(/([A-Z])/g,w=>`-${w.toLowerCase()}`));if(u){f["data-headlessui-state"]=p.join(" ");for(let b of p)f[`data-${b}`]=""}}if(ha(i)&&(Object.keys(dn(c)).length>0||Object.keys(dn(f)).length>0))if(!O.isValidElement(h)||Array.isArray(h)&&h.length>1||u2(h)){if(Object.keys(dn(c)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${n} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(dn(c)).concat(Object.keys(dn(f))).map(u=>`  - ${u}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(u=>`  - ${u}`).join(`
`)].join(`
`))}else{let u=h.props,p=u==null?void 0:u.className,b=typeof p=="function"?(...m)=>uu(p(...m),c.className):uu(p,c.className),x=b?{className:b}:{},w=C0(h.props,dn(Wl(c,["ref"])));for(let m in f)m in w&&delete f[m];return O.cloneElement(h,Object.assign({},w,f,d,{ref:s(c2(h),d.ref)},x))}return O.createElement(i,Object.assign({},Wl(c,["ref"]),!ha(i)&&d,!ha(i)&&f),h)}function o2(){let e=O.useRef([]),t=O.useCallback(r=>{for(let n of e.current)n!=null&&(typeof n=="function"?n(r):n.current=r)},[]);return(...r)=>{if(!r.every(n=>n==null))return e.current=r,t}}function l2(...e){return e.every(t=>t==null)?void 0:t=>{for(let r of e)r!=null&&(typeof r=="function"?r(t):r.current=t)}}function C0(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},r={};for(let n of e)for(let s in n)s.startsWith("on")&&typeof n[s]=="function"?(r[s]!=null||(r[s]=[]),r[s].push(n[s])):t[s]=n[s];if(t.disabled||t["aria-disabled"])for(let n in r)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(n)&&(r[n]=[s=>{var i;return(i=s==null?void 0:s.preventDefault)==null?void 0:i.call(s)}]);for(let n in r)Object.assign(t,{[n](s,...i){let o=r[n];for(let l of o){if((s instanceof Event||(s==null?void 0:s.nativeEvent)instanceof Event)&&s.defaultPrevented)return;l(s,...i)}}});return t}function mt(e){var t;return Object.assign(O.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function dn(e){let t=Object.assign({},e);for(let r in t)t[r]===void 0&&delete t[r];return t}function Wl(e,t=[]){let r=Object.assign({},e);for(let n of t)n in r&&delete r[n];return r}function c2(e){return fe.version.split(".")[0]>="19"?e.props.ref:e.ref}function ha(e){return e===O.Fragment||e===Symbol.for("react.fragment")}function u2(e){return ha(e.type)}let d2="span";var yo=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(yo||{});function f2(e,t){var r;let{features:n=1,...s}=e,i={ref:t,"aria-hidden":(n&2)===2?!0:(r=s["aria-hidden"])!=null?r:void 0,hidden:(n&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(n&4)===4&&(n&2)!==2&&{display:"none"}}};return Dt()({ourProps:i,theirProps:s,slot:{},defaultTag:d2,name:"Hidden"})}let du=mt(f2);function h2(e){return typeof e!="object"||e===null?!1:"nodeType"in e}function Zr(e){return h2(e)&&"tagName"in e}function In(e){return Zr(e)&&"accessKey"in e}function qr(e){return Zr(e)&&"tabIndex"in e}function p2(e){return Zr(e)&&"style"in e}function m2(e){return In(e)&&e.nodeName==="IFRAME"}function g2(e){return In(e)&&e.nodeName==="INPUT"}let P0=Symbol();function y2(e,t=!0){return Object.assign(e,{[P0]:t})}function sr(...e){let t=O.useRef(e);O.useEffect(()=>{t.current=e},[e]);let r=we(n=>{for(let s of t.current)s!=null&&(typeof s=="function"?s(n):s.current=n)});return e.every(n=>n==null||(n==null?void 0:n[P0]))?void 0:r}let Pd=O.createContext(null);Pd.displayName="DescriptionContext";function R0(){let e=O.useContext(Pd);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,R0),t}return e}function v2(){let[e,t]=O.useState([]);return[e.length>0?e.join(" "):void 0,O.useMemo(()=>function(r){let n=we(i=>(t(o=>[...o,i]),()=>t(o=>{let l=o.slice(),c=l.indexOf(i);return c!==-1&&l.splice(c,1),l}))),s=O.useMemo(()=>({register:n,slot:r.slot,name:r.name,props:r.props,value:r.value}),[n,r.slot,r.name,r.props,r.value]);return fe.createElement(Pd.Provider,{value:s},r.children)},[t])]}let x2="p";function b2(e,t){let r=O.useId(),n=a2(),{id:s=`headlessui-description-${r}`,...i}=e,o=R0(),l=sr(t);pt(()=>o.register(s),[s,o.register]);let c=ei({...o.slot,disabled:n||!1}),d={ref:l,...o.props,id:s};return Dt()({ourProps:d,theirProps:i,slot:c,defaultTag:x2,name:o.name||"Description"})}let w2=mt(b2),_2=Object.assign(w2,{});var I0=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(I0||{});let j2=O.createContext(()=>{});function N2({value:e,children:t}){return fe.createElement(j2.Provider,{value:e},t)}let L0=class extends Map{constructor(t){super(),this.factory=t}get(t){let r=super.get(t);return r===void 0&&(r=this.factory(t),this.set(t,r)),r}};var k2=Object.defineProperty,S2=(e,t,r)=>t in e?k2(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,E2=(e,t,r)=>(S2(e,t+"",r),r),$0=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},Ot=(e,t,r)=>($0(e,t,"read from private field"),r?r.call(e):t.get(e)),Vl=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},Ih=(e,t,r,n)=>($0(e,t,"write to private field"),t.set(e,r),r),Zt,Xs,ea;let O2=class{constructor(t){Vl(this,Zt,{}),Vl(this,Xs,new L0(()=>new Set)),Vl(this,ea,new Set),E2(this,"disposables",Sr()),Ih(this,Zt,t),nr.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return Ot(this,Zt)}subscribe(t,r){if(nr.isServer)return()=>{};let n={selector:t,callback:r,current:t(Ot(this,Zt))};return Ot(this,ea).add(n),this.disposables.add(()=>{Ot(this,ea).delete(n)})}on(t,r){return nr.isServer?()=>{}:(Ot(this,Xs).get(t).add(r),this.disposables.add(()=>{Ot(this,Xs).get(t).delete(r)}))}send(t){let r=this.reduce(Ot(this,Zt),t);if(r!==Ot(this,Zt)){Ih(this,Zt,r);for(let n of Ot(this,ea)){let s=n.selector(Ot(this,Zt));D0(n.current,s)||(n.current=s,n.callback(s))}for(let n of Ot(this,Xs).get(t.type))n(Ot(this,Zt),t)}}};Zt=new WeakMap,Xs=new WeakMap,ea=new WeakMap;function D0(e,t){return Object.is(e,t)?!0:typeof e!="object"||e===null||typeof t!="object"||t===null?!1:Array.isArray(e)&&Array.isArray(t)?e.length!==t.length?!1:Kl(e[Symbol.iterator](),t[Symbol.iterator]()):e instanceof Map&&t instanceof Map||e instanceof Set&&t instanceof Set?e.size!==t.size?!1:Kl(e.entries(),t.entries()):Lh(e)&&Lh(t)?Kl(Object.entries(e)[Symbol.iterator](),Object.entries(t)[Symbol.iterator]()):!1}function Kl(e,t){do{let r=e.next(),n=t.next();if(r.done&&n.done)return!0;if(r.done||n.done||!Object.is(r.value,n.value))return!1}while(!0)}function Lh(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;let t=Object.getPrototypeOf(e);return t===null||Object.getPrototypeOf(t)===null}var T2=Object.defineProperty,A2=(e,t,r)=>t in e?T2(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,$h=(e,t,r)=>(A2(e,typeof t!="symbol"?t+"":t,r),r),C2=(e=>(e[e.Push=0]="Push",e[e.Pop=1]="Pop",e))(C2||{});let P2={0(e,t){let r=t.id,n=e.stack,s=e.stack.indexOf(r);if(s!==-1){let i=e.stack.slice();return i.splice(s,1),i.push(r),n=i,{...e,stack:n}}return{...e,stack:[...e.stack,r]}},1(e,t){let r=t.id,n=e.stack.indexOf(r);if(n===-1)return e;let s=e.stack.slice();return s.splice(n,1),{...e,stack:s}}},R2=class M0 extends O2{constructor(){super(...arguments),$h(this,"actions",{push:t=>this.send({type:0,id:t}),pop:t=>this.send({type:1,id:t})}),$h(this,"selectors",{isTop:(t,r)=>t.stack[t.stack.length-1]===r,inStack:(t,r)=>t.stack.includes(r)})}static new(){return new M0({stack:[]})}reduce(t,r){return br(r.type,P2,t,r)}};const F0=new L0(()=>R2.new());var U0={exports:{}},q0={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ti=O;function I2(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var L2=typeof Object.is=="function"?Object.is:I2,$2=ti.useSyncExternalStore,D2=ti.useRef,M2=ti.useEffect,F2=ti.useMemo,U2=ti.useDebugValue;q0.useSyncExternalStoreWithSelector=function(e,t,r,n,s){var i=D2(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=F2(function(){function c(p){if(!d){if(d=!0,h=p,p=n(p),s!==void 0&&o.hasValue){var b=o.value;if(s(b,p))return f=b}return f=p}if(b=f,L2(h,p))return b;var x=n(p);return s!==void 0&&s(b,x)?(h=p,b):(h=p,f=x)}var d=!1,h,f,u=r===void 0?null:r;return[function(){return c(t())},u===null?void 0:function(){return c(u())}]},[t,r,n,s]);var l=$2(e,i[0],i[1]);return M2(function(){o.hasValue=!0,o.value=l},[l]),U2(l),l};U0.exports=q0;var q2=U0.exports;function B0(e,t,r=D0){return q2.useSyncExternalStoreWithSelector(we(n=>e.subscribe(B2,n)),we(()=>e.state),we(()=>e.state),we(t),r)}function B2(e){return e}function ri(e,t){let r=O.useId(),n=F0.get(t),[s,i]=B0(n,O.useCallback(o=>[n.selectors.isTop(o,r),n.selectors.inStack(o,r)],[n,r]));return pt(()=>{if(e)return n.actions.push(r),()=>n.actions.pop(r)},[n,e,r]),e?i?s:!0:!1}let fu=new Map,pa=new Map;function Dh(e){var t;let r=(t=pa.get(e))!=null?t:0;return pa.set(e,r+1),r!==0?()=>Mh(e):(fu.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>Mh(e))}function Mh(e){var t;let r=(t=pa.get(e))!=null?t:1;if(r===1?pa.delete(e):pa.set(e,r-1),r!==1)return;let n=fu.get(e);n&&(n["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",n["aria-hidden"]),e.inert=n.inert,fu.delete(e))}function z2(e,{allowed:t,disallowed:r}={}){let n=ri(e,"inert-others");pt(()=>{var s,i;if(!n)return;let o=Sr();for(let c of(s=r==null?void 0:r())!=null?s:[])c&&o.add(Dh(c));let l=(i=t==null?void 0:t())!=null?i:[];for(let c of l){if(!c)continue;let d=Xa(c);if(!d)continue;let h=c.parentElement;for(;h&&h!==d.body;){for(let f of h.children)l.some(u=>f.contains(u))||o.add(Dh(f));h=h.parentElement}}return o.dispose},[n,t,r])}function H2(e,t,r){let n=Dn(s=>{let i=s.getBoundingClientRect();i.x===0&&i.y===0&&i.width===0&&i.height===0&&r()});O.useEffect(()=>{if(!e)return;let s=t===null?null:In(t)?t:t.current;if(!s)return;let i=Sr();if(typeof ResizeObserver<"u"){let o=new ResizeObserver(()=>n.current(s));o.observe(s),i.add(()=>o.disconnect())}if(typeof IntersectionObserver<"u"){let o=new IntersectionObserver(()=>n.current(s));o.observe(s),i.add(()=>o.disconnect())}return()=>i.dispose()},[t,n,e])}let vo=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","details>summary","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),W2=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var cr=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(cr||{}),hu=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(hu||{}),V2=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(V2||{});function K2(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(vo)).sort((t,r)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}function G2(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(W2)).sort((t,r)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}var z0=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(z0||{});function J2(e,t=0){var r;return e===((r=Xa(e))==null?void 0:r.body)?!1:br(t,{0(){return e.matches(vo)},1(){let n=e;for(;n!==null;){if(n.matches(vo))return!0;n=n.parentElement}return!1}})}var Q2=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(Q2||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function pr(e){e==null||e.focus({preventScroll:!0})}let Y2=["textarea","input"].join(",");function Z2(e){var t,r;return(r=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,Y2))!=null?r:!1}function X2(e,t=r=>r){return e.slice().sort((r,n)=>{let s=t(r),i=t(n);if(s===null||i===null)return 0;let o=s.compareDocumentPosition(i);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function ma(e,t,{sorted:r=!0,relativeTo:n=null,skipElements:s=[]}={}){let i=Array.isArray(e)?e.length>0?cu(e[0]):document:cu(e),o=Array.isArray(e)?r?X2(e):e:t&64?G2(e):K2(e);s.length>0&&o.length>1&&(o=o.filter(p=>!s.some(b=>b!=null&&"current"in b?(b==null?void 0:b.current)===p:b===p))),n=n??(i==null?void 0:i.activeElement);let l=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,o.indexOf(n))-1;if(t&4)return Math.max(0,o.indexOf(n))+1;if(t&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),d=t&32?{preventScroll:!0}:{},h=0,f=o.length,u;do{if(h>=f||h+f<=0)return 0;let p=c+h;if(t&16)p=(p+f)%f;else{if(p<0)return 3;if(p>=f)return 1}u=o[p],u==null||u.focus(d),h+=l}while(u!==A0(u));return t&6&&Z2(u)&&u.select(),2}function H0(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function eN(){return/Android/gi.test(window.navigator.userAgent)}function Fh(){return H0()||eN()}function ki(e,t,r,n){let s=Dn(r);O.useEffect(()=>{if(!e)return;function i(o){s.current(o)}return document.addEventListener(t,i,n),()=>document.removeEventListener(t,i,n)},[e,t,n])}function W0(e,t,r,n){let s=Dn(r);O.useEffect(()=>{if(!e)return;function i(o){s.current(o)}return window.addEventListener(t,i,n),()=>window.removeEventListener(t,i,n)},[e,t,n])}const Uh=30;function tN(e,t,r){let n=Dn(r),s=O.useCallback(function(l,c){if(l.defaultPrevented)return;let d=c(l);if(d===null||!d.getRootNode().contains(d)||!d.isConnected)return;let h=function f(u){return typeof u=="function"?f(u()):Array.isArray(u)||u instanceof Set?u:[u]}(t);for(let f of h)if(f!==null&&(f.contains(d)||l.composed&&l.composedPath().includes(f)))return;return!J2(d,z0.Loose)&&d.tabIndex!==-1&&l.preventDefault(),n.current(l,d)},[n,t]),i=O.useRef(null);ki(e,"pointerdown",l=>{var c,d;Fh()||(i.current=((d=(c=l.composedPath)==null?void 0:c.call(l))==null?void 0:d[0])||l.target)},!0),ki(e,"pointerup",l=>{if(Fh()||!i.current)return;let c=i.current;return i.current=null,s(l,()=>c)},!0);let o=O.useRef({x:0,y:0});ki(e,"touchstart",l=>{o.current.x=l.touches[0].clientX,o.current.y=l.touches[0].clientY},!0),ki(e,"touchend",l=>{let c={x:l.changedTouches[0].clientX,y:l.changedTouches[0].clientY};if(!(Math.abs(c.x-o.current.x)>=Uh||Math.abs(c.y-o.current.y)>=Uh))return s(l,()=>qr(l.target)?l.target:null)},!0),W0(e,"blur",l=>s(l,()=>m2(window.document.activeElement)?window.document.activeElement:null),!0)}function Rd(...e){return O.useMemo(()=>Xa(...e),[...e])}function V0(e,t,r,n){let s=Dn(r);O.useEffect(()=>{e=e??window;function i(o){s.current(o)}return e.addEventListener(t,i,n),()=>e.removeEventListener(t,i,n)},[e,t,n])}function rN(e){return O.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getSnapshot)}function nN(e,t){let r=e(),n=new Set;return{getSnapshot(){return r},subscribe(s){return n.add(s),()=>n.delete(s)},dispatch(s,...i){let o=t[s].call(r,...i);o&&(r=o,n.forEach(l=>l()))}}}function sN(){let e;return{before({doc:t}){var r;let n=t.documentElement,s=(r=t.defaultView)!=null?r:window;e=Math.max(0,s.innerWidth-n.clientWidth)},after({doc:t,d:r}){let n=t.documentElement,s=Math.max(0,n.clientWidth-n.offsetWidth),i=Math.max(0,e-s);r.style(n,"paddingRight",`${i}px`)}}}function aN(){return H0()?{before({doc:e,d:t,meta:r}){function n(s){for(let i of r().containers)for(let o of i())if(o.contains(s))return!0;return!1}t.microTask(()=>{var s;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let l=Sr();l.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>l.dispose()))}let i=(s=window.scrollY)!=null?s:window.pageYOffset,o=null;t.addEventListener(e,"click",l=>{if(qr(l.target))try{let c=l.target.closest("a");if(!c)return;let{hash:d}=new URL(c.href),h=e.querySelector(d);qr(h)&&!n(h)&&(o=h)}catch{}},!0),t.group(l=>{t.addEventListener(e,"touchstart",c=>{if(l.dispose(),qr(c.target)&&p2(c.target))if(n(c.target)){let d=c.target;for(;d.parentElement&&n(d.parentElement);)d=d.parentElement;l.style(d,"overscrollBehavior","contain")}else l.style(c.target,"touchAction","none")})}),t.addEventListener(e,"touchmove",l=>{if(qr(l.target)){if(g2(l.target))return;if(n(l.target)){let c=l.target;for(;c.parentElement&&c.dataset.headlessuiPortal!==""&&!(c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth);)c=c.parentElement;c.dataset.headlessuiPortal===""&&l.preventDefault()}else l.preventDefault()}},{passive:!1}),t.add(()=>{var l;let c=(l=window.scrollY)!=null?l:window.pageYOffset;i!==c&&window.scrollTo(0,i),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{}}function iN(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function qh(e){let t={};for(let r of e)Object.assign(t,r(t));return t}let wn=nN(()=>new Map,{PUSH(e,t){var r;let n=(r=this.get(e))!=null?r:{doc:e,count:0,d:Sr(),meta:new Set,computedMeta:{}};return n.count++,n.meta.add(t),n.computedMeta=qh(n.meta),this.set(e,n),this},POP(e,t){let r=this.get(e);return r&&(r.count--,r.meta.delete(t),r.computedMeta=qh(r.meta)),this},SCROLL_PREVENT(e){let t={doc:e.doc,d:e.d,meta(){return e.computedMeta}},r=[aN(),sN(),iN()];r.forEach(({before:n})=>n==null?void 0:n(t)),r.forEach(({after:n})=>n==null?void 0:n(t))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});wn.subscribe(()=>{let e=wn.getSnapshot(),t=new Map;for(let[r]of e)t.set(r,r.documentElement.style.overflow);for(let r of e.values()){let n=t.get(r.doc)==="hidden",s=r.count!==0;(s&&!n||!s&&n)&&wn.dispatch(r.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",r),r.count===0&&wn.dispatch("TEARDOWN",r)}});function oN(e,t,r=()=>({containers:[]})){let n=rN(wn),s=t?n.get(t):void 0,i=s?s.count>0:!1;return pt(()=>{if(!(!t||!e))return wn.dispatch("PUSH",t,r),()=>wn.dispatch("POP",t,r)},[e,t]),i}function lN(e,t,r=()=>[document.body]){let n=ri(e,"scroll-lock");oN(n,t,s=>{var i;return{containers:[...(i=s.containers)!=null?i:[],r]}})}function cN(e=0){let[t,r]=O.useState(e),n=O.useCallback(c=>r(c),[]),s=O.useCallback(c=>r(d=>d|c),[]),i=O.useCallback(c=>(t&c)===c,[t]),o=O.useCallback(c=>r(d=>d&~c),[]),l=O.useCallback(c=>r(d=>d^c),[]);return{flags:t,setFlag:n,addFlag:s,hasFlag:i,removeFlag:o,toggleFlag:l}}var uN={},Bh,zh;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((Bh=process==null?void 0:uN)==null?void 0:Bh.NODE_ENV)==="test"&&typeof((zh=Element==null?void 0:Element.prototype)==null?void 0:zh.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var dN=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(dN||{});function fN(e){let t={};for(let r in e)e[r]===!0&&(t[`data-${r}`]="");return t}function hN(e,t,r,n){let[s,i]=O.useState(r),{hasFlag:o,addFlag:l,removeFlag:c}=cN(e&&s?3:0),d=O.useRef(!1),h=O.useRef(!1),f=Wo();return pt(()=>{var u;if(e){if(r&&i(!0),!t){r&&l(3);return}return(u=n==null?void 0:n.start)==null||u.call(n,r),pN(t,{inFlight:d,prepare(){h.current?h.current=!1:h.current=d.current,d.current=!0,!h.current&&(r?(l(3),c(4)):(l(4),c(2)))},run(){h.current?r?(c(3),l(4)):(c(4),l(3)):r?c(1):l(1)},done(){var p;h.current&&yN(t)||(d.current=!1,c(7),r||i(!1),(p=n==null?void 0:n.end)==null||p.call(n,r))}})}},[e,r,t,f]),e?[s,{closed:o(1),enter:o(2),leave:o(4),transition:o(2)||o(4)}]:[r,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function pN(e,{prepare:t,run:r,done:n,inFlight:s}){let i=Sr();return gN(e,{prepare:t,inFlight:s}),i.nextFrame(()=>{r(),i.requestAnimationFrame(()=>{i.add(mN(e,n))})}),i.dispose}function mN(e,t){var r,n;let s=Sr();if(!e)return s.dispose;let i=!1;s.add(()=>{i=!0});let o=(n=(r=e.getAnimations)==null?void 0:r.call(e).filter(l=>l instanceof CSSTransition))!=null?n:[];return o.length===0?(t(),s.dispose):(Promise.allSettled(o.map(l=>l.finished)).then(()=>{i||t()}),s.dispose)}function gN(e,{inFlight:t,prepare:r}){if(t!=null&&t.current){r();return}let n=e.style.transition;e.style.transition="none",r(),e.offsetHeight,e.style.transition=n}function yN(e){var t,r;return((r=(t=e.getAnimations)==null?void 0:t.call(e))!=null?r:[]).some(n=>n instanceof CSSTransition&&n.playState!=="finished")}function Id(e,t){let r=O.useRef([]),n=we(e);O.useEffect(()=>{let s=[...r.current];for(let[i,o]of t.entries())if(r.current[i]!==o){let l=n(t,s);return r.current=t,l}},[n,...t])}let Vo=O.createContext(null);Vo.displayName="OpenClosedContext";var Wt=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(Wt||{});function Ko(){return O.useContext(Vo)}function vN({value:e,children:t}){return fe.createElement(Vo.Provider,{value:e},t)}function xN({children:e}){return fe.createElement(Vo.Provider,{value:null},e)}function bN(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let $r=[];bN(()=>{function e(t){if(!qr(t.target)||t.target===document.body||$r[0]===t.target)return;let r=t.target;r=r.closest(vo),$r.unshift(r??t.target),$r=$r.filter(n=>n!=null&&n.isConnected),$r.splice(10)}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function K0(e){let t=we(e),r=O.useRef(!1);O.useEffect(()=>(r.current=!1,()=>{r.current=!0,Ho(()=>{r.current&&t()})}),[t])}let G0=O.createContext(!1);function wN(){return O.useContext(G0)}function Hh(e){return fe.createElement(G0.Provider,{value:e.force},e.children)}function _N(e){let t=wN(),r=O.useContext(Q0),[n,s]=O.useState(()=>{var i;if(!t&&r!==null)return(i=r.current)!=null?i:null;if(nr.isServer)return null;let o=e==null?void 0:e.getElementById("headlessui-portal-root");if(o)return o;if(e===null)return null;let l=e.createElement("div");return l.setAttribute("id","headlessui-portal-root"),e.body.appendChild(l)});return O.useEffect(()=>{n!==null&&(e!=null&&e.body.contains(n)||e==null||e.body.appendChild(n))},[n,e]),O.useEffect(()=>{t||r!==null&&s(r.current)},[r,s,t]),n}let J0=O.Fragment,jN=mt(function(e,t){let{ownerDocument:r=null,...n}=e,s=O.useRef(null),i=sr(y2(u=>{s.current=u}),t),o=Rd(s.current),l=r??o,c=_N(l),d=O.useContext(pu),h=Wo(),f=Dt();return K0(()=>{var u;c&&c.childNodes.length<=0&&((u=c.parentElement)==null||u.removeChild(c))}),c?md.createPortal(fe.createElement("div",{"data-headlessui-portal":"",ref:u=>{h.dispose(),d&&u&&h.add(d.register(u))}},f({ourProps:{ref:i},theirProps:n,slot:{},defaultTag:J0,name:"Portal"})),c):null});function NN(e,t){let r=sr(t),{enabled:n=!0,ownerDocument:s,...i}=e,o=Dt();return n?fe.createElement(jN,{...i,ownerDocument:s,ref:r}):o({ourProps:{ref:r},theirProps:i,slot:{},defaultTag:J0,name:"Portal"})}let kN=O.Fragment,Q0=O.createContext(null);function SN(e,t){let{target:r,...n}=e,s={ref:sr(t)},i=Dt();return fe.createElement(Q0.Provider,{value:r},i({ourProps:s,theirProps:n,defaultTag:kN,name:"Popover.Group"}))}let pu=O.createContext(null);function EN(){let e=O.useContext(pu),t=O.useRef([]),r=we(i=>(t.current.push(i),e&&e.register(i),()=>n(i))),n=we(i=>{let o=t.current.indexOf(i);o!==-1&&t.current.splice(o,1),e&&e.unregister(i)}),s=O.useMemo(()=>({register:r,unregister:n,portals:t}),[r,n,t]);return[t,O.useMemo(()=>function({children:i}){return fe.createElement(pu.Provider,{value:s},i)},[s])]}let ON=mt(NN),Y0=mt(SN),TN=Object.assign(ON,{Group:Y0});function AN(e,t=typeof document<"u"?document.defaultView:null,r){let n=ri(e,"escape");V0(t,"keydown",s=>{n&&(s.defaultPrevented||s.key===I0.Escape&&r(s))})}function CN(){var e;let[t]=O.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[r,n]=O.useState((e=t==null?void 0:t.matches)!=null?e:!1);return pt(()=>{if(!t)return;function s(i){n(i.matches)}return t.addEventListener("change",s),()=>t.removeEventListener("change",s)},[t]),r}function PN({defaultContainers:e=[],portals:t,mainTreeNode:r}={}){let n=we(()=>{var s,i;let o=Xa(r),l=[];for(let c of e)c!==null&&(Zr(c)?l.push(c):"current"in c&&Zr(c.current)&&l.push(c.current));if(t!=null&&t.current)for(let c of t.current)l.push(c);for(let c of(s=o==null?void 0:o.querySelectorAll("html > *, body > *"))!=null?s:[])c!==document.body&&c!==document.head&&Zr(c)&&c.id!=="headlessui-portal-root"&&(r&&(c.contains(r)||c.contains((i=r==null?void 0:r.getRootNode())==null?void 0:i.host))||l.some(d=>c.contains(d))||l.push(c));return l});return{resolveContainers:n,contains:we(s=>n().some(i=>i.contains(s)))}}let Z0=O.createContext(null);function Wh({children:e,node:t}){let[r,n]=O.useState(null),s=X0(t??r);return fe.createElement(Z0.Provider,{value:s},e,s===null&&fe.createElement(du,{features:yo.Hidden,ref:i=>{var o,l;if(i){for(let c of(l=(o=Xa(i))==null?void 0:o.querySelectorAll("html > *, body > *"))!=null?l:[])if(c!==document.body&&c!==document.head&&Zr(c)&&c!=null&&c.contains(i)){n(c);break}}}}))}function X0(e=null){var t;return(t=O.useContext(Z0))!=null?t:e}function RN(){let e=typeof document>"u";return"useSyncExternalStore"in Zl?(t=>t.useSyncExternalStore)(Zl)(()=>()=>{},()=>!1,()=>!e):!1}function Go(){let e=RN(),[t,r]=O.useState(nr.isHandoffComplete);return t&&nr.isHandoffComplete===!1&&r(!1),O.useEffect(()=>{t!==!0&&r(!0)},[t]),O.useEffect(()=>nr.handoff(),[]),e?!1:t}function Ld(){let e=O.useRef(!1);return pt(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var ta=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(ta||{});function IN(){let e=O.useRef(0);return W0(!0,"keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function ey(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let r of e.current)Zr(r.current)&&t.add(r.current);return t}let LN="div";var mn=(e=>(e[e.None=0]="None",e[e.InitialFocus=1]="InitialFocus",e[e.TabLock=2]="TabLock",e[e.FocusLock=4]="FocusLock",e[e.RestoreFocus=8]="RestoreFocus",e[e.AutoFocus=16]="AutoFocus",e))(mn||{});function $N(e,t){let r=O.useRef(null),n=sr(r,t),{initialFocus:s,initialFocusFallback:i,containers:o,features:l=15,...c}=e;Go()||(l=0);let d=Rd(r.current);UN(l,{ownerDocument:d});let h=qN(l,{ownerDocument:d,container:r,initialFocus:s,initialFocusFallback:i});BN(l,{ownerDocument:d,container:r,containers:o,previousActiveElement:h});let f=IN(),u=we(g=>{if(!In(r.current))return;let y=r.current;(v=>v())(()=>{br(f.current,{[ta.Forwards]:()=>{ma(y,cr.First,{skipElements:[g.relatedTarget,i]})},[ta.Backwards]:()=>{ma(y,cr.Last,{skipElements:[g.relatedTarget,i]})}})})}),p=ri(!!(l&2),"focus-trap#tab-lock"),b=Wo(),x=O.useRef(!1),w={ref:n,onKeyDown(g){g.key=="Tab"&&(x.current=!0,b.requestAnimationFrame(()=>{x.current=!1}))},onBlur(g){if(!(l&4))return;let y=ey(o);In(r.current)&&y.add(r.current);let v=g.relatedTarget;qr(v)&&v.dataset.headlessuiFocusGuard!=="true"&&(ty(y,v)||(x.current?ma(r.current,br(f.current,{[ta.Forwards]:()=>cr.Next,[ta.Backwards]:()=>cr.Previous})|cr.WrapAround,{relativeTo:g.target}):qr(g.target)&&pr(g.target)))}},m=Dt();return fe.createElement(fe.Fragment,null,p&&fe.createElement(du,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:u,features:yo.Focusable}),m({ourProps:w,theirProps:c,defaultTag:LN,name:"FocusTrap"}),p&&fe.createElement(du,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:u,features:yo.Focusable}))}let DN=mt($N),MN=Object.assign(DN,{features:mn});function FN(e=!0){let t=O.useRef($r.slice());return Id(([r],[n])=>{n===!0&&r===!1&&Ho(()=>{t.current.splice(0)}),n===!1&&r===!0&&(t.current=$r.slice())},[e,$r,t]),we(()=>{var r;return(r=t.current.find(n=>n!=null&&n.isConnected))!=null?r:null})}function UN(e,{ownerDocument:t}){let r=!!(e&8),n=FN(r);Id(()=>{r||n2(t==null?void 0:t.body)&&pr(n())},[r]),K0(()=>{r&&pr(n())})}function qN(e,{ownerDocument:t,container:r,initialFocus:n,initialFocusFallback:s}){let i=O.useRef(null),o=ri(!!(e&1),"focus-trap#initial-focus"),l=Ld();return Id(()=>{if(e===0)return;if(!o){s!=null&&s.current&&pr(s.current);return}let c=r.current;c&&Ho(()=>{if(!l.current)return;let d=t==null?void 0:t.activeElement;if(n!=null&&n.current){if((n==null?void 0:n.current)===d){i.current=d;return}}else if(c.contains(d)){i.current=d;return}if(n!=null&&n.current)pr(n.current);else{if(e&16){if(ma(c,cr.First|cr.AutoFocus)!==hu.Error)return}else if(ma(c,cr.First)!==hu.Error)return;if(s!=null&&s.current&&(pr(s.current),(t==null?void 0:t.activeElement)===s.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}i.current=t==null?void 0:t.activeElement})},[s,o,e]),i}function BN(e,{ownerDocument:t,container:r,containers:n,previousActiveElement:s}){let i=Ld(),o=!!(e&4);V0(t==null?void 0:t.defaultView,"focus",l=>{if(!o||!i.current)return;let c=ey(n);In(r.current)&&c.add(r.current);let d=s.current;if(!d)return;let h=l.target;In(h)?ty(c,h)?(s.current=h,pr(h)):(l.preventDefault(),l.stopPropagation(),pr(d)):pr(s.current)},!0)}function ty(e,t){for(let r of e)if(r.contains(t))return!0;return!1}function ry(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||!ha((t=e.as)!=null?t:sy)||fe.Children.count(e.children)===1}let Jo=O.createContext(null);Jo.displayName="TransitionContext";var zN=(e=>(e.Visible="visible",e.Hidden="hidden",e))(zN||{});function HN(){let e=O.useContext(Jo);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function WN(){let e=O.useContext(Qo);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let Qo=O.createContext(null);Qo.displayName="NestingContext";function Yo(e){return"children"in e?Yo(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function ny(e,t){let r=Dn(e),n=O.useRef([]),s=Ld(),i=Wo(),o=we((p,b=Ur.Hidden)=>{let x=n.current.findIndex(({el:w})=>w===p);x!==-1&&(br(b,{[Ur.Unmount](){n.current.splice(x,1)},[Ur.Hidden](){n.current[x].state="hidden"}}),i.microTask(()=>{var w;!Yo(n)&&s.current&&((w=r.current)==null||w.call(r))}))}),l=we(p=>{let b=n.current.find(({el:x})=>x===p);return b?b.state!=="visible"&&(b.state="visible"):n.current.push({el:p,state:"visible"}),()=>o(p,Ur.Unmount)}),c=O.useRef([]),d=O.useRef(Promise.resolve()),h=O.useRef({enter:[],leave:[]}),f=we((p,b,x)=>{c.current.splice(0),t&&(t.chains.current[b]=t.chains.current[b].filter(([w])=>w!==p)),t==null||t.chains.current[b].push([p,new Promise(w=>{c.current.push(w)})]),t==null||t.chains.current[b].push([p,new Promise(w=>{Promise.all(h.current[b].map(([m,g])=>g)).then(()=>w())})]),b==="enter"?d.current=d.current.then(()=>t==null?void 0:t.wait.current).then(()=>x(b)):x(b)}),u=we((p,b,x)=>{Promise.all(h.current[b].splice(0).map(([w,m])=>m)).then(()=>{var w;(w=c.current.shift())==null||w()}).then(()=>x(b))});return O.useMemo(()=>({children:n,register:l,unregister:o,onStart:f,onStop:u,wait:d,chains:h}),[l,o,n,f,u,h,d])}let sy=O.Fragment,ay=go.RenderStrategy;function VN(e,t){var r,n;let{transition:s=!0,beforeEnter:i,afterEnter:o,beforeLeave:l,afterLeave:c,enter:d,enterFrom:h,enterTo:f,entered:u,leave:p,leaveFrom:b,leaveTo:x,...w}=e,[m,g]=O.useState(null),y=O.useRef(null),v=ry(e),_=sr(...v?[y,t,g]:t===null?[]:[t]),N=(r=w.unmount)==null||r?Ur.Unmount:Ur.Hidden,{show:j,appear:S,initial:R}=HN(),[k,E]=O.useState(j?"visible":"hidden"),T=WN(),{register:P,unregister:C}=T;pt(()=>P(y),[P,y]),pt(()=>{if(N===Ur.Hidden&&y.current){if(j&&k!=="visible"){E("visible");return}return br(k,{hidden:()=>C(y),visible:()=>P(y)})}},[k,y,P,C,j,N]);let $=Go();pt(()=>{if(v&&$&&k==="visible"&&y.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[y,k,$,v]);let F=R&&!S,B=S&&j&&R,H=O.useRef(!1),U=ny(()=>{H.current||(E("hidden"),C(y))},T),I=we(q=>{H.current=!0;let K=q?"enter":"leave";U.onStart(y,K,V=>{V==="enter"?i==null||i():V==="leave"&&(l==null||l())})}),A=we(q=>{let K=q?"enter":"leave";H.current=!1,U.onStop(y,K,V=>{V==="enter"?o==null||o():V==="leave"&&(c==null||c())}),K==="leave"&&!Yo(U)&&(E("hidden"),C(y))});O.useEffect(()=>{v&&s||(I(j),A(j))},[j,v,s]);let L=!(!s||!v||!$||F),[,D]=hN(L,m,j,{start:I,end:A}),W=dn({ref:_,className:((n=uu(w.className,B&&d,B&&h,D.enter&&d,D.enter&&D.closed&&h,D.enter&&!D.closed&&f,D.leave&&p,D.leave&&!D.closed&&b,D.leave&&D.closed&&x,!D.transition&&j&&u))==null?void 0:n.trim())||void 0,...fN(D)}),z=0;k==="visible"&&(z|=Wt.Open),k==="hidden"&&(z|=Wt.Closed),j&&k==="hidden"&&(z|=Wt.Opening),!j&&k==="visible"&&(z|=Wt.Closing);let M=Dt();return fe.createElement(Qo.Provider,{value:U},fe.createElement(vN,{value:z},M({ourProps:W,theirProps:w,defaultTag:sy,features:ay,visible:k==="visible",name:"Transition.Child"})))}function KN(e,t){let{show:r,appear:n=!1,unmount:s=!0,...i}=e,o=O.useRef(null),l=ry(e),c=sr(...l?[o,t]:t===null?[]:[t]);Go();let d=Ko();if(r===void 0&&d!==null&&(r=(d&Wt.Open)===Wt.Open),r===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[h,f]=O.useState(r?"visible":"hidden"),u=ny(()=>{r||f("hidden")}),[p,b]=O.useState(!0),x=O.useRef([r]);pt(()=>{p!==!1&&x.current[x.current.length-1]!==r&&(x.current.push(r),b(!1))},[x,r]);let w=O.useMemo(()=>({show:r,appear:n,initial:p}),[r,n,p]);pt(()=>{r?f("visible"):!Yo(u)&&o.current!==null&&f("hidden")},[r,u]);let m={unmount:s},g=we(()=>{var _;p&&b(!1),(_=e.beforeEnter)==null||_.call(e)}),y=we(()=>{var _;p&&b(!1),(_=e.beforeLeave)==null||_.call(e)}),v=Dt();return fe.createElement(Qo.Provider,{value:u},fe.createElement(Jo.Provider,{value:w},v({ourProps:{...m,as:O.Fragment,children:fe.createElement(iy,{ref:c,...m,...i,beforeEnter:g,beforeLeave:y})},theirProps:{},defaultTag:O.Fragment,features:ay,visible:h==="visible",name:"Transition"})))}function GN(e,t){let r=O.useContext(Jo)!==null,n=Ko()!==null;return fe.createElement(fe.Fragment,null,!r&&n?fe.createElement(mu,{ref:t,...e}):fe.createElement(iy,{ref:t,...e}))}let mu=mt(KN),iy=mt(VN),Wa=mt(GN),oy=Object.assign(mu,{Child:Wa,Root:mu});var JN=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(JN||{}),QN=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(QN||{});let YN={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},$d=O.createContext(null);$d.displayName="DialogContext";function Zo(e){let t=O.useContext($d);if(t===null){let r=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Zo),r}return t}function ZN(e,t){return br(t.type,YN,e,t)}let Vh=mt(function(e,t){let r=O.useId(),{id:n=`headlessui-dialog-${r}`,open:s,onClose:i,initialFocus:o,role:l="dialog",autoFocus:c=!0,__demoMode:d=!1,unmount:h=!1,...f}=e,u=O.useRef(!1);l=function(){return l==="dialog"||l==="alertdialog"?l:(u.current||(u.current=!0,console.warn(`Invalid role [${l}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let p=Ko();s===void 0&&p!==null&&(s=(p&Wt.Open)===Wt.Open);let b=O.useRef(null),x=sr(b,t),w=Rd(b.current),m=s?0:1,[g,y]=O.useReducer(ZN,{titleId:null,descriptionId:null,panelRef:O.createRef()}),v=we(()=>i(!1)),_=we(D=>y({type:0,id:D})),N=Go()?m===0:!1,[j,S]=EN(),R={get current(){var D;return(D=g.panelRef.current)!=null?D:b.current}},k=X0(),{resolveContainers:E}=PN({mainTreeNode:k,portals:j,defaultContainers:[R]}),T=p!==null?(p&Wt.Closing)===Wt.Closing:!1;z2(d||T?!1:N,{allowed:we(()=>{var D,W;return[(W=(D=b.current)==null?void 0:D.closest("[data-headlessui-portal]"))!=null?W:null]}),disallowed:we(()=>{var D;return[(D=k==null?void 0:k.closest("body > *:not(#headlessui-portal-root)"))!=null?D:null]})});let P=F0.get(null);pt(()=>{if(N)return P.actions.push(n),()=>P.actions.pop(n)},[P,n,N]);let C=B0(P,O.useCallback(D=>P.selectors.isTop(D,n),[P,n]));tN(C,E,D=>{D.preventDefault(),v()}),AN(C,w==null?void 0:w.defaultView,D=>{D.preventDefault(),D.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),v()}),lN(d||T?!1:N,w,E),H2(N,b,v);let[$,F]=v2(),B=O.useMemo(()=>[{dialogState:m,close:v,setTitleId:_,unmount:h},g],[m,v,_,h,g]),H=ei({open:m===0}),U={ref:x,id:n,role:l,tabIndex:-1,"aria-modal":d?void 0:m===0?!0:void 0,"aria-labelledby":g.titleId,"aria-describedby":$,unmount:h},I=!CN(),A=mn.None;N&&!d&&(A|=mn.RestoreFocus,A|=mn.TabLock,c&&(A|=mn.AutoFocus),I&&(A|=mn.InitialFocus));let L=Dt();return fe.createElement(xN,null,fe.createElement(Hh,{force:!0},fe.createElement(TN,null,fe.createElement($d.Provider,{value:B},fe.createElement(Y0,{target:b},fe.createElement(Hh,{force:!1},fe.createElement(F,{slot:H},fe.createElement(S,null,fe.createElement(MN,{initialFocus:o,initialFocusFallback:b,containers:E,features:A},fe.createElement(N2,{value:v},L({ourProps:U,theirProps:f,slot:H,defaultTag:XN,features:ek,visible:m===0,name:"Dialog"})))))))))))}),XN="div",ek=go.RenderStrategy|go.Static;function tk(e,t){let{transition:r=!1,open:n,...s}=e,i=Ko(),o=e.hasOwnProperty("open")||i!==null,l=e.hasOwnProperty("onClose");if(!o&&!l)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!o)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!l)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!i&&typeof e.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${e.open}`);if(typeof e.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${e.onClose}`);return(n!==void 0||r)&&!s.static?fe.createElement(Wh,null,fe.createElement(oy,{show:n,transition:r,unmount:s.unmount},fe.createElement(Vh,{ref:t,...s}))):fe.createElement(Wh,null,fe.createElement(Vh,{ref:t,open:n,...s}))}let rk="div";function nk(e,t){let r=O.useId(),{id:n=`headlessui-dialog-panel-${r}`,transition:s=!1,...i}=e,[{dialogState:o,unmount:l},c]=Zo("Dialog.Panel"),d=sr(t,c.panelRef),h=ei({open:o===0}),f=we(w=>{w.stopPropagation()}),u={ref:d,id:n,onClick:f},p=s?Wa:O.Fragment,b=s?{unmount:l}:{},x=Dt();return fe.createElement(p,{...b},x({ourProps:u,theirProps:i,slot:h,defaultTag:rk,name:"Dialog.Panel"}))}let sk="div";function ak(e,t){let{transition:r=!1,...n}=e,[{dialogState:s,unmount:i}]=Zo("Dialog.Backdrop"),o=ei({open:s===0}),l={ref:t,"aria-hidden":!0},c=r?Wa:O.Fragment,d=r?{unmount:i}:{},h=Dt();return fe.createElement(c,{...d},h({ourProps:l,theirProps:n,slot:o,defaultTag:sk,name:"Dialog.Backdrop"}))}let ik="h2";function ok(e,t){let r=O.useId(),{id:n=`headlessui-dialog-title-${r}`,...s}=e,[{dialogState:i,setTitleId:o}]=Zo("Dialog.Title"),l=sr(t);O.useEffect(()=>(o(n),()=>o(null)),[n,o]);let c=ei({open:i===0}),d={ref:l,id:n};return Dt()({ourProps:d,theirProps:s,slot:c,defaultTag:ik,name:"Dialog.Title"})}let lk=mt(tk),ly=mt(nk);mt(ak);let cy=mt(ok),ck=Object.assign(lk,{Panel:ly,Title:cy,Description:_2});function uk(){var $;const{websiteId:e,refreshWebsites:t}=We(),{admin:r}=zo(),[n,s]=O.useState({brand_name:"",brand_logo:"",contact_email:"",contact_phone:"",address:"",announcement_text:"",announcement_enabled:!1}),[i,o]=O.useState([]),[l,c]=O.useState(!0),[d,h]=O.useState(!1),[f,u]=O.useState({type:"",text:""}),[p,b]=O.useState(!1),[x,w]=O.useState(""),[m,g]=O.useState(""),[y,v]=O.useState(!0),[_,N]=O.useState(!1),[j,S]=O.useState({type:"",text:""});O.useEffect(()=>{r!=null&&r.id&&(k(),R())},[e,r==null?void 0:r.id]);const R=async()=>{try{const{data:F,error:B}=await X.rpc("admin_get_all_websites");if(B)throw B;o(F||[])}catch(F){console.error("Error fetching all websites:",F),u({type:"error",text:"Failed to load all websites"})}},k=async()=>{c(!0);try{const{data:F,error:B}=await X.from("site_settings").select("*").eq("website_id",e).maybeSingle();if(B)throw B;s(F||{brand_name:"",brand_logo:"",contact_email:"",contact_phone:"",address:"",announcement_text:"",announcement_enabled:!1})}catch(F){console.error("Error fetching settings:",F),u({type:"error",text:"Failed to load settings"})}finally{c(!1)}},E=F=>{s({...n,[F.target.name]:F.target.value})},T=()=>{s({...n,announcement_enabled:!n.announcement_enabled})},P=async F=>{F.preventDefault(),h(!0),u({type:"",text:""});try{if(!(r!=null&&r.id))throw new Error("Admin not authenticated");const B={brand_name:n.brand_name,brand_logo:n.brand_logo||"",contact_email:n.contact_email,contact_phone:n.contact_phone,address:n.address||"",announcement_text:n.announcement_text||"",announcement_enabled:n.announcement_enabled||!1,website_id:e},{data:H,error:U}=await X.rpc("admin_upsert_site_settings",{settings_data:B});if(U)throw U;if(!(H!=null&&H.success))throw new Error((H==null?void 0:H.error)||"Failed to save settings");u({type:"success",text:"Settings saved successfully!"})}catch(B){console.error("Error saving settings:",B),u({type:"error",text:B.message||"Failed to save settings"})}finally{h(!1)}},C=async F=>{F.preventDefault(),N(!0),S({type:"",text:""});try{if(!x||!m)throw new Error("Name and Domain are required.");const{data:B,error:H}=await X.rpc("admin_manage_website",{p_id:null,p_name:x,p_domain:m,p_is_active:y,p_config:{}});if(H)throw H;S({type:"success",text:`Website "${x}" added successfully!`}),w(""),g(""),v(!0),R(),t(),setTimeout(()=>{b(!1),S({type:"",text:""})},2e3)}catch(B){console.error("Error adding new website:",B),S({type:"error",text:B.message||"Failed to add website."})}finally{N(!1)}};return l?a.jsx(nt,{children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):a.jsx(nt,{children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Website Settings"}),a.jsx("p",{className:"text-gray-600",children:"Manage your brand, contact information and available websites"})]}),f.text&&a.jsxs("div",{className:`mb-6 p-4 rounded-2xl flex items-center gap-2 ${f.type==="success"?"bg-green-50 text-green-800":"bg-red-50 text-red-800"}`,children:[f.type==="success"?a.jsx(Lt,{size:20}):a.jsx(Tn,{size:20}),a.jsx("span",{children:f.text})]}),a.jsxs("section",{className:"bg-white rounded-2xl shadow-md p-6 mb-8",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Manage Websites"}),a.jsxs("button",{type:"button",onClick:()=>b(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[a.jsx(oj,{size:18})," Add New Website"]})]}),i.length===0?a.jsx("p",{className:"text-gray-500",children:'No websites found. Click "Add New Website" to create one.'}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Domain"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i.map(F=>a.jsxs("tr",{children:[a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:[F.name," ",F.id===e&&a.jsx("span",{className:"text-blue-500 text-xs",children:"(Current)"})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:F.domain}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:a.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${F.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:F.is_active?"Active":"Inactive"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-xs text-gray-400",children:F.id})]},F.id))})]})})]}),a.jsxs("form",{onSubmit:P,className:"bg-white rounded-2xl shadow-md p-6 space-y-6",children:[a.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:["Brand Settings for ",a.jsx("span",{className:"text-blue-600",children:(($=i.find(F=>F.id===e))==null?void 0:$.name)||"Current Website"})]}),a.jsx("p",{className:"text-gray-500 text-sm",children:"These settings apply to the currently selected website."}),a.jsx("hr",{className:"my-4"}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"brand_name",className:"block text-sm font-bold text-gray-700 mb-2",children:"Brand Name *"}),a.jsx("input",{type:"text",id:"brand_name",name:"brand_name",value:n.brand_name,onChange:E,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-2xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Printer Pro"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"This name will appear throughout the website (header, footer, pages, etc.)"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"brand_logo",className:"block text-sm font-bold text-gray-700 mb-2",children:"Brand Logo URL"}),a.jsx("input",{type:"url",id:"brand_logo",name:"brand_logo",value:n.brand_logo,onChange:E,className:"w-full px-4 py-2 border border-gray-300 rounded-2xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"https://example.com/logo.png"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Optional: URL to your brand logo image"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"contact_email",className:"block text-sm font-bold text-gray-700 mb-2",children:"Contact Email *"}),a.jsx("input",{type:"email",id:"contact_email",name:"contact_email",value:n.contact_email,onChange:E,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-2xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"info@example.com"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"contact_phone",className:"block text-sm font-bold text-gray-700 mb-2",children:"Contact Phone *"}),a.jsx("input",{type:"tel",id:"contact_phone",name:"contact_phone",value:n.contact_phone,onChange:E,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-2xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"+1-234-567-8900"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"address",className:"block text-sm font-bold text-gray-700 mb-2",children:"Address"}),a.jsx("textarea",{id:"address",name:"address",value:n.address,onChange:E,rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-2xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Your business address"})]}),a.jsxs("div",{className:"border-t pt-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-amber-500 to-orange-600 rounded-xl flex items-center justify-center",children:a.jsx(z_,{className:"w-5 h-5 text-white"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Announcement Bar"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Display an announcement at the top of your website"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-gray-900",children:"Enable Announcement Bar"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Show announcement to visitors"})]}),a.jsx("button",{type:"button",onClick:T,className:`relative inline-flex h-8 w-14 items-center rounded-full transition-colors ${n.announcement_enabled?"bg-green-600":"bg-gray-300"}`,children:a.jsx("span",{className:`inline-block h-6 w-6 transform rounded-full bg-white transition-transform ${n.announcement_enabled?"translate-x-7":"translate-x-1"}`})})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"announcement_text",className:"block text-sm font-bold text-gray-700 mb-2",children:"Announcement Text"}),a.jsx("textarea",{id:"announcement_text",name:"announcement_text",value:n.announcement_text||"",onChange:E,rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-2xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Free Shipping on Orders Over $500 | Sale: Up to 30% Off Select Models | Limited Time Offer"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"This message will appear in a banner at the top of your website. Leave empty to hide."})]})]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsxs("button",{type:"submit",disabled:d,className:"flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-2xl hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[a.jsx(js,{size:20}),d?"Saving...":"Save Settings"]})})]}),a.jsx(oy,{appear:!0,show:p,as:O.Fragment,children:a.jsxs(ck,{as:"div",className:"relative z-10",onClose:()=>b(!1),children:[a.jsx(Wa,{as:O.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),a.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:a.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:a.jsx(Wa,{as:O.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:a.jsxs(ly,{className:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[a.jsx(cy,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900",children:"Add New Website"}),a.jsxs("div",{className:"mt-4",children:[j.text&&a.jsxs("div",{className:`mb-4 p-3 rounded-xl flex items-center gap-2 text-sm ${j.type==="success"?"bg-green-50 text-green-800":"bg-red-50 text-red-800"}`,children:[j.type==="success"?a.jsx(Lt,{size:16}):a.jsx(Tn,{size:16}),a.jsx("span",{children:j.text})]}),a.jsxs("form",{onSubmit:C,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"newWebsiteName",className:"block text-sm font-bold text-gray-700 mb-1",children:"Website Name *"}),a.jsx("input",{type:"text",id:"newWebsiteName",value:x,onChange:F=>w(F.target.value),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., My New Awesome Store"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"newWebsiteDomain",className:"block text-sm font-bold text-gray-700 mb-1",children:"Website Domain *"}),a.jsx("input",{type:"text",id:"newWebsiteDomain",value:m,onChange:F=>g(F.target.value),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., mynewstore.com"}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Ensure this matches the actual domain."})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[a.jsx("label",{htmlFor:"newWebsiteIsActive",className:"font-bold text-gray-700",children:"Is Active"}),a.jsx("button",{type:"button",onClick:()=>v(!y),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${y?"bg-green-600":"bg-gray-300"}`,children:a.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${y?"translate-x-6":"translate-x-1"}`})})]}),a.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[a.jsx("button",{type:"button",className:"inline-flex justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",onClick:()=>b(!1),children:"Cancel"}),a.jsx("button",{type:"submit",disabled:_,className:"inline-flex justify-center rounded-md border border-transparent bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",children:_?"Adding...":"Add Website"})]})]})]})]})})})})]})})]})})}function dk(){const{websiteId:e}=We(),[t,r]=O.useState([]),[n,s]=O.useState(!0),[i,o]=O.useState(!1),[l,c]=O.useState(null),[d,h]=O.useState({type:"",text:""}),[f,u]=O.useState({question:"",answer:"",display_order:0,is_active:!0});O.useEffect(()=>{e&&p()},[e]);const p=async()=>{try{const{data:y,error:v}=await X.from("faqs").select("*").eq("website_id",e).order("display_order");if(v)throw v;r(y||[])}catch(y){console.error("Error fetching FAQs:",y)}finally{s(!1)}},b=()=>{u({question:"",answer:"",display_order:0,is_active:!0}),c(null),o(!1)},x=y=>{u({question:y.question,answer:y.answer,display_order:y.display_order,is_active:y.is_active}),c(y.id),o(!0)},w=async y=>{y.preventDefault(),h({type:"",text:""});try{if(l){const{data:v,error:_}=await X.rpc("admin_manage_faq",{operation:"update",faq_id:l,faq_data:{...f,website_id:e}});if(_)throw _;h({type:"success",text:"FAQ updated successfully!"})}else{const{data:v,error:_}=await X.rpc("admin_manage_faq",{operation:"insert",faq_data:{...f,website_id:e}});if(_)throw _;h({type:"success",text:"FAQ created successfully!"})}b(),p()}catch(v){console.error("Error saving FAQ:",v),h({type:"error",text:v.message||"Failed to save FAQ"})}},m=async y=>{if(confirm("Are you sure you want to delete this FAQ?"))try{const{data:v,error:_}=await X.rpc("admin_manage_faq",{operation:"delete",faq_id:y});if(_)throw _;h({type:"success",text:"FAQ deleted successfully!"}),p()}catch(v){console.error("Error deleting FAQ:",v),h({type:"error",text:v.message||"Failed to delete FAQ"})}},g=async y=>{try{const{data:v,error:_}=await X.rpc("admin_manage_faq",{operation:"update",faq_id:y.id,faq_data:{is_active:!y.is_active}});if(_)throw _;p()}catch(v){console.error("Error updating FAQ status:",v),h({type:"error",text:v.message||"Failed to update status"})}};return n?a.jsx(nt,{children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-sky-600"})})}):a.jsx(nt,{children:a.jsxs("div",{className:"max-w-6xl mx-auto",children:[a.jsxs("div",{className:"mb-8 flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Manage FAQs"}),a.jsx("p",{className:"text-gray-600",children:"Add, edit, or remove frequently asked questions"})]}),a.jsxs("button",{onClick:()=>o(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-2xl hover:bg-blue-700 transition-colors",children:[a.jsx(Cn,{size:20}),"Add FAQ"]})]}),d.text&&a.jsxs("div",{className:`mb-6 p-4 rounded-2xl flex items-center gap-2 ${d.type==="success"?"bg-green-50 text-green-800":"bg-red-50 text-red-800"}`,children:[d.type==="success"?a.jsx(Lt,{size:20}):a.jsx(Tn,{size:20}),a.jsx("span",{children:d.text})]}),i&&a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 mb-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-xl font-semibold",children:l?"Edit FAQ":"Add New FAQ"}),a.jsx("button",{onClick:b,className:"text-gray-500 hover:text-gray-700",children:a.jsx($t,{size:24})})]}),a.jsxs("form",{onSubmit:w,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Question *"}),a.jsx("input",{type:"text",value:f.question,onChange:y=>u({...f,question:y.target.value}),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-2xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter the question"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Answer *"}),a.jsx("textarea",{value:f.answer,onChange:y=>u({...f,answer:y.target.value}),required:!0,rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-2xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter the answer"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Display Order"}),a.jsx("input",{type:"number",value:f.display_order,onChange:y=>u({...f,display_order:parseInt(y.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-2xl focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Status"}),a.jsxs("select",{value:f.is_active?"active":"inactive",onChange:y=>u({...f,is_active:y.target.value==="active"}),className:"w-full px-4 py-2 border border-gray-300 rounded-2xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"inactive",children:"Inactive"})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx("button",{type:"button",onClick:b,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-2xl hover:bg-gray-50 transition-colors",children:"Cancel"}),a.jsxs("button",{type:"submit",className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-2xl hover:bg-blue-700 transition-colors",children:[a.jsx(js,{size:20}),l?"Update FAQ":"Add FAQ"]})]})]})]}),a.jsx("div",{className:"bg-white rounded-2xl shadow-md overflow-hidden",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-gray-500 uppercase",children:"Order"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-gray-500 uppercase",children:"Question"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-gray-500 uppercase",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-bold text-gray-500 uppercase",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:t.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:"4",className:"px-6 py-8 text-center text-gray-500",children:"No FAQs found. Add your first FAQ to get started."})}):t.map(y=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:y.display_order}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:y.question}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("button",{onClick:()=>g(y),className:`px-3 py-1 rounded-full text-xs font-bold ${y.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:y.is_active?"Active":"Inactive"})}),a.jsxs("td",{className:"px-6 py-4 text-right space-x-2",children:[a.jsx("button",{onClick:()=>x(y),className:"text-blue-600 hover:text-blue-900",children:a.jsx(N0,{size:18})}),a.jsx("button",{onClick:()=>m(y.id),className:"text-red-600 hover:text-red-900",children:a.jsx(Ns,{size:18})})]})]},y.id))})]})})]})})}function fk(){this.__data__=[],this.size=0}var hk=fk;function pk(e,t){return e===t||e!==e&&t!==t}var uy=pk,mk=uy;function gk(e,t){for(var r=e.length;r--;)if(mk(e[r][0],t))return r;return-1}var Xo=gk,yk=Xo,vk=Array.prototype,xk=vk.splice;function bk(e){var t=this.__data__,r=yk(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():xk.call(t,r,1),--this.size,!0}var wk=bk,_k=Xo;function jk(e){var t=this.__data__,r=_k(t,e);return r<0?void 0:t[r][1]}var Nk=jk,kk=Xo;function Sk(e){return kk(this.__data__,e)>-1}var Ek=Sk,Ok=Xo;function Tk(e,t){var r=this.__data__,n=Ok(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var Ak=Tk,Ck=hk,Pk=wk,Rk=Nk,Ik=Ek,Lk=Ak;function Ps(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Ps.prototype.clear=Ck;Ps.prototype.delete=Pk;Ps.prototype.get=Rk;Ps.prototype.has=Ik;Ps.prototype.set=Lk;var el=Ps,$k=el;function Dk(){this.__data__=new $k,this.size=0}var Mk=Dk;function Fk(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var Uk=Fk;function qk(e){return this.__data__.get(e)}var Bk=qk;function zk(e){return this.__data__.has(e)}var Hk=zk,Wk=typeof bt=="object"&&bt&&bt.Object===Object&&bt,dy=Wk,Vk=dy,Kk=typeof self=="object"&&self&&self.Object===Object&&self,Gk=Vk||Kk||Function("return this")(),Er=Gk,Jk=Er,Qk=Jk.Symbol,Dd=Qk,Kh=Dd,fy=Object.prototype,Yk=fy.hasOwnProperty,Zk=fy.toString,Vs=Kh?Kh.toStringTag:void 0;function Xk(e){var t=Yk.call(e,Vs),r=e[Vs];try{e[Vs]=void 0;var n=!0}catch{}var s=Zk.call(e);return n&&(t?e[Vs]=r:delete e[Vs]),s}var eS=Xk,tS=Object.prototype,rS=tS.toString;function nS(e){return rS.call(e)}var sS=nS,Gh=Dd,aS=eS,iS=sS,oS="[object Null]",lS="[object Undefined]",Jh=Gh?Gh.toStringTag:void 0;function cS(e){return e==null?e===void 0?lS:oS:Jh&&Jh in Object(e)?aS(e):iS(e)}var tl=cS;function uS(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var hy=uS,dS=tl,fS=hy,hS="[object AsyncFunction]",pS="[object Function]",mS="[object GeneratorFunction]",gS="[object Proxy]";function yS(e){if(!fS(e))return!1;var t=dS(e);return t==pS||t==mS||t==hS||t==gS}var py=yS,vS=Er,xS=vS["__core-js_shared__"],bS=xS,Gl=bS,Qh=function(){var e=/[^.]+$/.exec(Gl&&Gl.keys&&Gl.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function wS(e){return!!Qh&&Qh in e}var _S=wS,jS=Function.prototype,NS=jS.toString;function kS(e){if(e!=null){try{return NS.call(e)}catch{}try{return e+""}catch{}}return""}var my=kS,SS=py,ES=_S,OS=hy,TS=my,AS=/[\\^$.*+?()[\]{}|]/g,CS=/^\[object .+?Constructor\]$/,PS=Function.prototype,RS=Object.prototype,IS=PS.toString,LS=RS.hasOwnProperty,$S=RegExp("^"+IS.call(LS).replace(AS,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function DS(e){if(!OS(e)||ES(e))return!1;var t=SS(e)?$S:CS;return t.test(TS(e))}var MS=DS;function FS(e,t){return e==null?void 0:e[t]}var US=FS,qS=MS,BS=US;function zS(e,t){var r=BS(e,t);return qS(r)?r:void 0}var Rs=zS,HS=Rs,WS=Er,VS=HS(WS,"Map"),Md=VS,KS=Rs,GS=KS(Object,"create"),rl=GS,Yh=rl;function JS(){this.__data__=Yh?Yh(null):{},this.size=0}var QS=JS;function YS(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var ZS=YS,XS=rl,eE="__lodash_hash_undefined__",tE=Object.prototype,rE=tE.hasOwnProperty;function nE(e){var t=this.__data__;if(XS){var r=t[e];return r===eE?void 0:r}return rE.call(t,e)?t[e]:void 0}var sE=nE,aE=rl,iE=Object.prototype,oE=iE.hasOwnProperty;function lE(e){var t=this.__data__;return aE?t[e]!==void 0:oE.call(t,e)}var cE=lE,uE=rl,dE="__lodash_hash_undefined__";function fE(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=uE&&t===void 0?dE:t,this}var hE=fE,pE=QS,mE=ZS,gE=sE,yE=cE,vE=hE;function Is(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Is.prototype.clear=pE;Is.prototype.delete=mE;Is.prototype.get=gE;Is.prototype.has=yE;Is.prototype.set=vE;var xE=Is,Zh=xE,bE=el,wE=Md;function _E(){this.size=0,this.__data__={hash:new Zh,map:new(wE||bE),string:new Zh}}var jE=_E;function NE(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var kE=NE,SE=kE;function EE(e,t){var r=e.__data__;return SE(t)?r[typeof t=="string"?"string":"hash"]:r.map}var nl=EE,OE=nl;function TE(e){var t=OE(this,e).delete(e);return this.size-=t?1:0,t}var AE=TE,CE=nl;function PE(e){return CE(this,e).get(e)}var RE=PE,IE=nl;function LE(e){return IE(this,e).has(e)}var $E=LE,DE=nl;function ME(e,t){var r=DE(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var FE=ME,UE=jE,qE=AE,BE=RE,zE=$E,HE=FE;function Ls(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Ls.prototype.clear=UE;Ls.prototype.delete=qE;Ls.prototype.get=BE;Ls.prototype.has=zE;Ls.prototype.set=HE;var gy=Ls,WE=el,VE=Md,KE=gy,GE=200;function JE(e,t){var r=this.__data__;if(r instanceof WE){var n=r.__data__;if(!VE||n.length<GE-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new KE(n)}return r.set(e,t),this.size=r.size,this}var QE=JE,YE=el,ZE=Mk,XE=Uk,eO=Bk,tO=Hk,rO=QE;function $s(e){var t=this.__data__=new YE(e);this.size=t.size}$s.prototype.clear=ZE;$s.prototype.delete=XE;$s.prototype.get=eO;$s.prototype.has=tO;$s.prototype.set=rO;var nO=$s,sO="__lodash_hash_undefined__";function aO(e){return this.__data__.set(e,sO),this}var iO=aO;function oO(e){return this.__data__.has(e)}var lO=oO,cO=gy,uO=iO,dO=lO;function xo(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new cO;++t<r;)this.add(e[t])}xo.prototype.add=xo.prototype.push=uO;xo.prototype.has=dO;var fO=xo;function hO(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var pO=hO;function mO(e,t){return e.has(t)}var gO=mO,yO=fO,vO=pO,xO=gO,bO=1,wO=2;function _O(e,t,r,n,s,i){var o=r&bO,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var d=i.get(e),h=i.get(t);if(d&&h)return d==t&&h==e;var f=-1,u=!0,p=r&wO?new yO:void 0;for(i.set(e,t),i.set(t,e);++f<l;){var b=e[f],x=t[f];if(n)var w=o?n(x,b,f,t,e,i):n(b,x,f,e,t,i);if(w!==void 0){if(w)continue;u=!1;break}if(p){if(!vO(t,function(m,g){if(!xO(p,g)&&(b===m||s(b,m,r,n,i)))return p.push(g)})){u=!1;break}}else if(!(b===x||s(b,x,r,n,i))){u=!1;break}}return i.delete(e),i.delete(t),u}var yy=_O,jO=Er,NO=jO.Uint8Array,kO=NO;function SO(e){var t=-1,r=Array(e.size);return e.forEach(function(n,s){r[++t]=[s,n]}),r}var EO=SO;function OO(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var TO=OO,Xh=Dd,ep=kO,AO=uy,CO=yy,PO=EO,RO=TO,IO=1,LO=2,$O="[object Boolean]",DO="[object Date]",MO="[object Error]",FO="[object Map]",UO="[object Number]",qO="[object RegExp]",BO="[object Set]",zO="[object String]",HO="[object Symbol]",WO="[object ArrayBuffer]",VO="[object DataView]",tp=Xh?Xh.prototype:void 0,Jl=tp?tp.valueOf:void 0;function KO(e,t,r,n,s,i,o){switch(r){case VO:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case WO:return!(e.byteLength!=t.byteLength||!i(new ep(e),new ep(t)));case $O:case DO:case UO:return AO(+e,+t);case MO:return e.name==t.name&&e.message==t.message;case qO:case zO:return e==t+"";case FO:var l=PO;case BO:var c=n&IO;if(l||(l=RO),e.size!=t.size&&!c)return!1;var d=o.get(e);if(d)return d==t;n|=LO,o.set(e,t);var h=CO(l(e),l(t),n,s,i,o);return o.delete(e),h;case HO:if(Jl)return Jl.call(e)==Jl.call(t)}return!1}var GO=KO;function JO(e,t){for(var r=-1,n=t.length,s=e.length;++r<n;)e[s+r]=t[r];return e}var QO=JO,YO=Array.isArray,Fd=YO,ZO=QO,XO=Fd;function e4(e,t,r){var n=t(e);return XO(e)?n:ZO(n,r(e))}var t4=e4;function r4(e,t){for(var r=-1,n=e==null?0:e.length,s=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[s++]=o)}return i}var n4=r4;function s4(){return[]}var a4=s4,i4=n4,o4=a4,l4=Object.prototype,c4=l4.propertyIsEnumerable,rp=Object.getOwnPropertySymbols,u4=rp?function(e){return e==null?[]:(e=Object(e),i4(rp(e),function(t){return c4.call(e,t)}))}:o4,d4=u4;function f4(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var h4=f4;function p4(e){return e!=null&&typeof e=="object"}var sl=p4,m4=tl,g4=sl,y4="[object Arguments]";function v4(e){return g4(e)&&m4(e)==y4}var x4=v4,np=x4,b4=sl,vy=Object.prototype,w4=vy.hasOwnProperty,_4=vy.propertyIsEnumerable,j4=np(function(){return arguments}())?np:function(e){return b4(e)&&w4.call(e,"callee")&&!_4.call(e,"callee")},N4=j4,bo={exports:{}};function k4(){return!1}var S4=k4;bo.exports;(function(e,t){var r=Er,n=S4,s=t&&!t.nodeType&&t,i=s&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===s,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,d=c||n;e.exports=d})(bo,bo.exports);var xy=bo.exports,E4=9007199254740991,O4=/^(?:0|[1-9]\d*)$/;function T4(e,t){var r=typeof e;return t=t??E4,!!t&&(r=="number"||r!="symbol"&&O4.test(e))&&e>-1&&e%1==0&&e<t}var A4=T4,C4=9007199254740991;function P4(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=C4}var by=P4,R4=tl,I4=by,L4=sl,$4="[object Arguments]",D4="[object Array]",M4="[object Boolean]",F4="[object Date]",U4="[object Error]",q4="[object Function]",B4="[object Map]",z4="[object Number]",H4="[object Object]",W4="[object RegExp]",V4="[object Set]",K4="[object String]",G4="[object WeakMap]",J4="[object ArrayBuffer]",Q4="[object DataView]",Y4="[object Float32Array]",Z4="[object Float64Array]",X4="[object Int8Array]",e5="[object Int16Array]",t5="[object Int32Array]",r5="[object Uint8Array]",n5="[object Uint8ClampedArray]",s5="[object Uint16Array]",a5="[object Uint32Array]",ke={};ke[Y4]=ke[Z4]=ke[X4]=ke[e5]=ke[t5]=ke[r5]=ke[n5]=ke[s5]=ke[a5]=!0;ke[$4]=ke[D4]=ke[J4]=ke[M4]=ke[Q4]=ke[F4]=ke[U4]=ke[q4]=ke[B4]=ke[z4]=ke[H4]=ke[W4]=ke[V4]=ke[K4]=ke[G4]=!1;function i5(e){return L4(e)&&I4(e.length)&&!!ke[R4(e)]}var o5=i5;function l5(e){return function(t){return e(t)}}var c5=l5,wo={exports:{}};wo.exports;(function(e,t){var r=dy,n=t&&!t.nodeType&&t,s=n&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===n,o=i&&r.process,l=function(){try{var c=s&&s.require&&s.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(wo,wo.exports);var u5=wo.exports,d5=o5,f5=c5,sp=u5,ap=sp&&sp.isTypedArray,h5=ap?f5(ap):d5,wy=h5,p5=h4,m5=N4,g5=Fd,y5=xy,v5=A4,x5=wy,b5=Object.prototype,w5=b5.hasOwnProperty;function _5(e,t){var r=g5(e),n=!r&&m5(e),s=!r&&!n&&y5(e),i=!r&&!n&&!s&&x5(e),o=r||n||s||i,l=o?p5(e.length,String):[],c=l.length;for(var d in e)(t||w5.call(e,d))&&!(o&&(d=="length"||s&&(d=="offset"||d=="parent")||i&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||v5(d,c)))&&l.push(d);return l}var j5=_5,N5=Object.prototype;function k5(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||N5;return e===r}var S5=k5;function E5(e,t){return function(r){return e(t(r))}}var O5=E5,T5=O5,A5=T5(Object.keys,Object),C5=A5,P5=S5,R5=C5,I5=Object.prototype,L5=I5.hasOwnProperty;function $5(e){if(!P5(e))return R5(e);var t=[];for(var r in Object(e))L5.call(e,r)&&r!="constructor"&&t.push(r);return t}var D5=$5,M5=py,F5=by;function U5(e){return e!=null&&F5(e.length)&&!M5(e)}var q5=U5,B5=j5,z5=D5,H5=q5;function W5(e){return H5(e)?B5(e):z5(e)}var V5=W5,K5=t4,G5=d4,J5=V5;function Q5(e){return K5(e,J5,G5)}var Y5=Q5,ip=Y5,Z5=1,X5=Object.prototype,eT=X5.hasOwnProperty;function tT(e,t,r,n,s,i){var o=r&Z5,l=ip(e),c=l.length,d=ip(t),h=d.length;if(c!=h&&!o)return!1;for(var f=c;f--;){var u=l[f];if(!(o?u in t:eT.call(t,u)))return!1}var p=i.get(e),b=i.get(t);if(p&&b)return p==t&&b==e;var x=!0;i.set(e,t),i.set(t,e);for(var w=o;++f<c;){u=l[f];var m=e[u],g=t[u];if(n)var y=o?n(g,m,u,t,e,i):n(m,g,u,e,t,i);if(!(y===void 0?m===g||s(m,g,r,n,i):y)){x=!1;break}w||(w=u=="constructor")}if(x&&!w){var v=e.constructor,_=t.constructor;v!=_&&"constructor"in e&&"constructor"in t&&!(typeof v=="function"&&v instanceof v&&typeof _=="function"&&_ instanceof _)&&(x=!1)}return i.delete(e),i.delete(t),x}var rT=tT,nT=Rs,sT=Er,aT=nT(sT,"DataView"),iT=aT,oT=Rs,lT=Er,cT=oT(lT,"Promise"),uT=cT,dT=Rs,fT=Er,hT=dT(fT,"Set"),pT=hT,mT=Rs,gT=Er,yT=mT(gT,"WeakMap"),vT=yT,gu=iT,yu=Md,vu=uT,xu=pT,bu=vT,_y=tl,Ds=my,op="[object Map]",xT="[object Object]",lp="[object Promise]",cp="[object Set]",up="[object WeakMap]",dp="[object DataView]",bT=Ds(gu),wT=Ds(yu),_T=Ds(vu),jT=Ds(xu),NT=Ds(bu),fn=_y;(gu&&fn(new gu(new ArrayBuffer(1)))!=dp||yu&&fn(new yu)!=op||vu&&fn(vu.resolve())!=lp||xu&&fn(new xu)!=cp||bu&&fn(new bu)!=up)&&(fn=function(e){var t=_y(e),r=t==xT?e.constructor:void 0,n=r?Ds(r):"";if(n)switch(n){case bT:return dp;case wT:return op;case _T:return lp;case jT:return cp;case NT:return up}return t});var kT=fn,Ql=nO,ST=yy,ET=GO,OT=rT,fp=kT,hp=Fd,pp=xy,TT=wy,AT=1,mp="[object Arguments]",gp="[object Array]",Si="[object Object]",CT=Object.prototype,yp=CT.hasOwnProperty;function PT(e,t,r,n,s,i){var o=hp(e),l=hp(t),c=o?gp:fp(e),d=l?gp:fp(t);c=c==mp?Si:c,d=d==mp?Si:d;var h=c==Si,f=d==Si,u=c==d;if(u&&pp(e)){if(!pp(t))return!1;o=!0,h=!1}if(u&&!h)return i||(i=new Ql),o||TT(e)?ST(e,t,r,n,s,i):ET(e,t,c,r,n,s,i);if(!(r&AT)){var p=h&&yp.call(e,"__wrapped__"),b=f&&yp.call(t,"__wrapped__");if(p||b){var x=p?e.value():e,w=b?t.value():t;return i||(i=new Ql),s(x,w,r,n,i)}}return u?(i||(i=new Ql),OT(e,t,r,n,s,i)):!1}var RT=PT,IT=RT,vp=sl;function jy(e,t,r,n,s){return e===t?!0:e==null||t==null||!vp(e)&&!vp(t)?e!==e&&t!==t:IT(e,t,r,n,jy,s)}var LT=jy,$T=LT;function DT(e,t){return $T(e,t)}var MT=DT,Ny={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(e,t){(function(n,s){e.exports=s()})(typeof self<"u"?self:bt,function(){return function(r){var n={};function s(i){if(n[i])return n[i].exports;var o=n[i]={i,l:!1,exports:{}};return r[i].call(o.exports,o,o.exports,s),o.l=!0,o.exports}return s.m=r,s.c=n,s.d=function(i,o,l){s.o(i,o)||Object.defineProperty(i,o,{configurable:!1,enumerable:!0,get:l})},s.n=function(i){var o=i&&i.__esModule?function(){return i.default}:function(){return i};return s.d(o,"a",o),o},s.o=function(i,o){return Object.prototype.hasOwnProperty.call(i,o)},s.p="",s(s.s=109)}([function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=s(17),o=s(18),l=s(19),c=s(45),d=s(46),h=s(47),f=s(48),u=s(49),p=s(12),b=s(32),x=s(33),w=s(31),m=s(1),g={Scope:m.Scope,create:m.create,find:m.find,query:m.query,register:m.register,Container:i.default,Format:o.default,Leaf:l.default,Embed:f.default,Scroll:c.default,Block:h.default,Inline:d.default,Text:u.default,Attributor:{Attribute:p.default,Class:b.default,Style:x.default,Store:w.default}};n.default=g},function(r,n,s){var i=this&&this.__extends||function(){var w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var y in g)g.hasOwnProperty(y)&&(m[y]=g[y])};return function(m,g){w(m,g);function y(){this.constructor=m}m.prototype=g===null?Object.create(g):(y.prototype=g.prototype,new y)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=function(w){i(m,w);function m(g){var y=this;return g="[Parchment] "+g,y=w.call(this,g)||this,y.message=g,y.name=y.constructor.name,y}return m}(Error);n.ParchmentError=o;var l={},c={},d={},h={};n.DATA_KEY="__blot";var f;(function(w){w[w.TYPE=3]="TYPE",w[w.LEVEL=12]="LEVEL",w[w.ATTRIBUTE=13]="ATTRIBUTE",w[w.BLOT=14]="BLOT",w[w.INLINE=7]="INLINE",w[w.BLOCK=11]="BLOCK",w[w.BLOCK_BLOT=10]="BLOCK_BLOT",w[w.INLINE_BLOT=6]="INLINE_BLOT",w[w.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",w[w.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",w[w.ANY=15]="ANY"})(f=n.Scope||(n.Scope={}));function u(w,m){var g=b(w);if(g==null)throw new o("Unable to create "+w+" blot");var y=g,v=w instanceof Node||w.nodeType===Node.TEXT_NODE?w:y.create(m);return new y(v,m)}n.create=u;function p(w,m){return m===void 0&&(m=!1),w==null?null:w[n.DATA_KEY]!=null?w[n.DATA_KEY].blot:m?p(w.parentNode,m):null}n.find=p;function b(w,m){m===void 0&&(m=f.ANY);var g;if(typeof w=="string")g=h[w]||l[w];else if(w instanceof Text||w.nodeType===Node.TEXT_NODE)g=h.text;else if(typeof w=="number")w&f.LEVEL&f.BLOCK?g=h.block:w&f.LEVEL&f.INLINE&&(g=h.inline);else if(w instanceof HTMLElement){var y=(w.getAttribute("class")||"").split(/\s+/);for(var v in y)if(g=c[y[v]],g)break;g=g||d[w.tagName]}return g==null?null:m&f.LEVEL&g.scope&&m&f.TYPE&g.scope?g:null}n.query=b;function x(){for(var w=[],m=0;m<arguments.length;m++)w[m]=arguments[m];if(w.length>1)return w.map(function(v){return x(v)});var g=w[0];if(typeof g.blotName!="string"&&typeof g.attrName!="string")throw new o("Invalid definition");if(g.blotName==="abstract")throw new o("Cannot register abstract class");if(h[g.blotName||g.attrName]=g,typeof g.keyName=="string")l[g.keyName]=g;else if(g.className!=null&&(c[g.className]=g),g.tagName!=null){Array.isArray(g.tagName)?g.tagName=g.tagName.map(function(v){return v.toUpperCase()}):g.tagName=g.tagName.toUpperCase();var y=Array.isArray(g.tagName)?g.tagName:[g.tagName];y.forEach(function(v){(d[v]==null||g.className==null)&&(d[v]=g)})}return g}n.register=x},function(r,n,s){var i=s(51),o=s(11),l=s(3),c=s(20),d="\0",h=function(f){Array.isArray(f)?this.ops=f:f!=null&&Array.isArray(f.ops)?this.ops=f.ops:this.ops=[]};h.prototype.insert=function(f,u){var p={};return f.length===0?this:(p.insert=f,u!=null&&typeof u=="object"&&Object.keys(u).length>0&&(p.attributes=u),this.push(p))},h.prototype.delete=function(f){return f<=0?this:this.push({delete:f})},h.prototype.retain=function(f,u){if(f<=0)return this;var p={retain:f};return u!=null&&typeof u=="object"&&Object.keys(u).length>0&&(p.attributes=u),this.push(p)},h.prototype.push=function(f){var u=this.ops.length,p=this.ops[u-1];if(f=l(!0,{},f),typeof p=="object"){if(typeof f.delete=="number"&&typeof p.delete=="number")return this.ops[u-1]={delete:p.delete+f.delete},this;if(typeof p.delete=="number"&&f.insert!=null&&(u-=1,p=this.ops[u-1],typeof p!="object"))return this.ops.unshift(f),this;if(o(f.attributes,p.attributes)){if(typeof f.insert=="string"&&typeof p.insert=="string")return this.ops[u-1]={insert:p.insert+f.insert},typeof f.attributes=="object"&&(this.ops[u-1].attributes=f.attributes),this;if(typeof f.retain=="number"&&typeof p.retain=="number")return this.ops[u-1]={retain:p.retain+f.retain},typeof f.attributes=="object"&&(this.ops[u-1].attributes=f.attributes),this}}return u===this.ops.length?this.ops.push(f):this.ops.splice(u,0,f),this},h.prototype.chop=function(){var f=this.ops[this.ops.length-1];return f&&f.retain&&!f.attributes&&this.ops.pop(),this},h.prototype.filter=function(f){return this.ops.filter(f)},h.prototype.forEach=function(f){this.ops.forEach(f)},h.prototype.map=function(f){return this.ops.map(f)},h.prototype.partition=function(f){var u=[],p=[];return this.forEach(function(b){var x=f(b)?u:p;x.push(b)}),[u,p]},h.prototype.reduce=function(f,u){return this.ops.reduce(f,u)},h.prototype.changeLength=function(){return this.reduce(function(f,u){return u.insert?f+c.length(u):u.delete?f-u.delete:f},0)},h.prototype.length=function(){return this.reduce(function(f,u){return f+c.length(u)},0)},h.prototype.slice=function(f,u){f=f||0,typeof u!="number"&&(u=1/0);for(var p=[],b=c.iterator(this.ops),x=0;x<u&&b.hasNext();){var w;x<f?w=b.next(f-x):(w=b.next(u-x),p.push(w)),x+=c.length(w)}return new h(p)},h.prototype.compose=function(f){var u=c.iterator(this.ops),p=c.iterator(f.ops),b=[],x=p.peek();if(x!=null&&typeof x.retain=="number"&&x.attributes==null){for(var w=x.retain;u.peekType()==="insert"&&u.peekLength()<=w;)w-=u.peekLength(),b.push(u.next());x.retain-w>0&&p.next(x.retain-w)}for(var m=new h(b);u.hasNext()||p.hasNext();)if(p.peekType()==="insert")m.push(p.next());else if(u.peekType()==="delete")m.push(u.next());else{var g=Math.min(u.peekLength(),p.peekLength()),y=u.next(g),v=p.next(g);if(typeof v.retain=="number"){var _={};typeof y.retain=="number"?_.retain=g:_.insert=y.insert;var N=c.attributes.compose(y.attributes,v.attributes,typeof y.retain=="number");if(N&&(_.attributes=N),m.push(_),!p.hasNext()&&o(m.ops[m.ops.length-1],_)){var j=new h(u.rest());return m.concat(j).chop()}}else typeof v.delete=="number"&&typeof y.retain=="number"&&m.push(v)}return m.chop()},h.prototype.concat=function(f){var u=new h(this.ops.slice());return f.ops.length>0&&(u.push(f.ops[0]),u.ops=u.ops.concat(f.ops.slice(1))),u},h.prototype.diff=function(f,u){if(this.ops===f.ops)return new h;var p=[this,f].map(function(g){return g.map(function(y){if(y.insert!=null)return typeof y.insert=="string"?y.insert:d;var v=g===f?"on":"with";throw new Error("diff() called "+v+" non-document")}).join("")}),b=new h,x=i(p[0],p[1],u),w=c.iterator(this.ops),m=c.iterator(f.ops);return x.forEach(function(g){for(var y=g[1].length;y>0;){var v=0;switch(g[0]){case i.INSERT:v=Math.min(m.peekLength(),y),b.push(m.next(v));break;case i.DELETE:v=Math.min(y,w.peekLength()),w.next(v),b.delete(v);break;case i.EQUAL:v=Math.min(w.peekLength(),m.peekLength(),y);var _=w.next(v),N=m.next(v);o(_.insert,N.insert)?b.retain(v,c.attributes.diff(_.attributes,N.attributes)):b.push(N).delete(v);break}y-=v}}),b.chop()},h.prototype.eachLine=function(f,u){u=u||`
`;for(var p=c.iterator(this.ops),b=new h,x=0;p.hasNext();){if(p.peekType()!=="insert")return;var w=p.peek(),m=c.length(w)-p.peekLength(),g=typeof w.insert=="string"?w.insert.indexOf(u,m)-m:-1;if(g<0)b.push(p.next());else if(g>0)b.push(p.next(g));else{if(f(b,p.next(1).attributes||{},x)===!1)return;x+=1,b=new h}}b.length()>0&&f(b,{},x)},h.prototype.transform=function(f,u){if(u=!!u,typeof f=="number")return this.transformPosition(f,u);for(var p=c.iterator(this.ops),b=c.iterator(f.ops),x=new h;p.hasNext()||b.hasNext();)if(p.peekType()==="insert"&&(u||b.peekType()!=="insert"))x.retain(c.length(p.next()));else if(b.peekType()==="insert")x.push(b.next());else{var w=Math.min(p.peekLength(),b.peekLength()),m=p.next(w),g=b.next(w);if(m.delete)continue;g.delete?x.push(g):x.retain(w,c.attributes.transform(m.attributes,g.attributes,u))}return x.chop()},h.prototype.transformPosition=function(f,u){u=!!u;for(var p=c.iterator(this.ops),b=0;p.hasNext()&&b<=f;){var x=p.peekLength(),w=p.peekType();if(p.next(),w==="delete"){f-=Math.min(x,f-b);continue}else w==="insert"&&(b<f||!u)&&(f+=x);b+=x}return f},r.exports=h},function(r,n){var s=Object.prototype.hasOwnProperty,i=Object.prototype.toString,o=Object.defineProperty,l=Object.getOwnPropertyDescriptor,c=function(p){return typeof Array.isArray=="function"?Array.isArray(p):i.call(p)==="[object Array]"},d=function(p){if(!p||i.call(p)!=="[object Object]")return!1;var b=s.call(p,"constructor"),x=p.constructor&&p.constructor.prototype&&s.call(p.constructor.prototype,"isPrototypeOf");if(p.constructor&&!b&&!x)return!1;var w;for(w in p);return typeof w>"u"||s.call(p,w)},h=function(p,b){o&&b.name==="__proto__"?o(p,b.name,{enumerable:!0,configurable:!0,value:b.newValue,writable:!0}):p[b.name]=b.newValue},f=function(p,b){if(b==="__proto__")if(s.call(p,b)){if(l)return l(p,b).value}else return;return p[b]};r.exports=function u(){var p,b,x,w,m,g,y=arguments[0],v=1,_=arguments.length,N=!1;for(typeof y=="boolean"&&(N=y,y=arguments[1]||{},v=2),(y==null||typeof y!="object"&&typeof y!="function")&&(y={});v<_;++v)if(p=arguments[v],p!=null)for(b in p)x=f(y,b),w=f(p,b),y!==w&&(N&&w&&(d(w)||(m=c(w)))?(m?(m=!1,g=x&&c(x)?x:[]):g=x&&d(x)?x:{},h(y,{name:b,newValue:u(N,g,w)})):typeof w<"u"&&h(y,{name:b,newValue:w}));return y}},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BlockEmbed=n.bubbleFormats=void 0;var i=function(){function E(T,P){for(var C=0;C<P.length;C++){var $=P[C];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(T,$.key,$)}}return function(T,P,C){return P&&E(T.prototype,P),C&&E(T,C),T}}(),o=function E(T,P,C){T===null&&(T=Function.prototype);var $=Object.getOwnPropertyDescriptor(T,P);if($===void 0){var F=Object.getPrototypeOf(T);return F===null?void 0:E(F,P,C)}else{if("value"in $)return $.value;var B=$.get;return B===void 0?void 0:B.call(C)}},l=s(3),c=y(l),d=s(2),h=y(d),f=s(0),u=y(f),p=s(16),b=y(p),x=s(6),w=y(x),m=s(7),g=y(m);function y(E){return E&&E.__esModule?E:{default:E}}function v(E,T){if(!(E instanceof T))throw new TypeError("Cannot call a class as a function")}function _(E,T){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:E}function N(E,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);E.prototype=Object.create(T&&T.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(E,T):E.__proto__=T)}var j=1,S=function(E){N(T,E);function T(){return v(this,T),_(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return i(T,[{key:"attach",value:function(){o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"attach",this).call(this),this.attributes=new u.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new h.default().insert(this.value(),(0,c.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(C,$){var F=u.default.query(C,u.default.Scope.BLOCK_ATTRIBUTE);F!=null&&this.attributes.attribute(F,$)}},{key:"formatAt",value:function(C,$,F,B){this.format(F,B)}},{key:"insertAt",value:function(C,$,F){if(typeof $=="string"&&$.endsWith(`
`)){var B=u.default.create(R.blotName);this.parent.insertBefore(B,C===0?this:this.next),B.insertAt(0,$.slice(0,-1))}else o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertAt",this).call(this,C,$,F)}}]),T}(u.default.Embed);S.scope=u.default.Scope.BLOCK_BLOT;var R=function(E){N(T,E);function T(P){v(this,T);var C=_(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,P));return C.cache={},C}return i(T,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(u.default.Leaf).reduce(function(C,$){return $.length()===0?C:C.insert($.value(),k($))},new h.default).insert(`
`,k(this))),this.cache.delta}},{key:"deleteAt",value:function(C,$){o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"deleteAt",this).call(this,C,$),this.cache={}}},{key:"formatAt",value:function(C,$,F,B){$<=0||(u.default.query(F,u.default.Scope.BLOCK)?C+$===this.length()&&this.format(F,B):o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"formatAt",this).call(this,C,Math.min($,this.length()-C-1),F,B),this.cache={})}},{key:"insertAt",value:function(C,$,F){if(F!=null)return o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertAt",this).call(this,C,$,F);if($.length!==0){var B=$.split(`
`),H=B.shift();H.length>0&&(C<this.length()-1||this.children.tail==null?o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertAt",this).call(this,Math.min(C,this.length()-1),H):this.children.tail.insertAt(this.children.tail.length(),H),this.cache={});var U=this;B.reduce(function(I,A){return U=U.split(I,!0),U.insertAt(0,A),A.length},C+H.length)}}},{key:"insertBefore",value:function(C,$){var F=this.children.head;o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertBefore",this).call(this,C,$),F instanceof b.default&&F.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"length",this).call(this)+j),this.cache.length}},{key:"moveChildren",value:function(C,$){o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"moveChildren",this).call(this,C,$),this.cache={}}},{key:"optimize",value:function(C){o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"optimize",this).call(this,C),this.cache={}}},{key:"path",value:function(C){return o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"path",this).call(this,C,!0)}},{key:"removeChild",value:function(C){o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"removeChild",this).call(this,C),this.cache={}}},{key:"split",value:function(C){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if($&&(C===0||C>=this.length()-j)){var F=this.clone();return C===0?(this.parent.insertBefore(F,this),this):(this.parent.insertBefore(F,this.next),F)}else{var B=o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"split",this).call(this,C,$);return this.cache={},B}}}]),T}(u.default.Block);R.blotName="block",R.tagName="P",R.defaultChild="break",R.allowedChildren=[w.default,u.default.Embed,g.default];function k(E){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return E==null||(typeof E.formats=="function"&&(T=(0,c.default)(T,E.formats())),E.parent==null||E.parent.blotName=="scroll"||E.parent.statics.scope!==E.statics.scope)?T:k(E.parent,T)}n.bubbleFormats=k,n.BlockEmbed=S,n.default=R},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.overload=n.expandConfig=void 0;var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(U){return typeof U}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U},o=function(){function U(I,A){var L=[],D=!0,W=!1,z=void 0;try{for(var M=I[Symbol.iterator](),q;!(D=(q=M.next()).done)&&(L.push(q.value),!(A&&L.length===A));D=!0);}catch(K){W=!0,z=K}finally{try{!D&&M.return&&M.return()}finally{if(W)throw z}}return L}return function(I,A){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return U(I,A);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function U(I,A){for(var L=0;L<A.length;L++){var D=A[L];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(I,D.key,D)}}return function(I,A,L){return A&&U(I.prototype,A),L&&U(I,L),I}}();s(50);var c=s(2),d=k(c),h=s(14),f=k(h),u=s(8),p=k(u),b=s(9),x=k(b),w=s(0),m=k(w),g=s(15),y=k(g),v=s(3),_=k(v),N=s(10),j=k(N),S=s(34),R=k(S);function k(U){return U&&U.__esModule?U:{default:U}}function E(U,I,A){return I in U?Object.defineProperty(U,I,{value:A,enumerable:!0,configurable:!0,writable:!0}):U[I]=A,U}function T(U,I){if(!(U instanceof I))throw new TypeError("Cannot call a class as a function")}var P=(0,j.default)("quill"),C=function(){l(U,null,[{key:"debug",value:function(A){A===!0&&(A="log"),j.default.level(A)}},{key:"find",value:function(A){return A.__quill||m.default.find(A)}},{key:"import",value:function(A){return this.imports[A]==null&&P.error("Cannot import "+A+". Are you sure it was registered?"),this.imports[A]}},{key:"register",value:function(A,L){var D=this,W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof A!="string"){var z=A.attrName||A.blotName;typeof z=="string"?this.register("formats/"+z,A,L):Object.keys(A).forEach(function(M){D.register(M,A[M],L)})}else this.imports[A]!=null&&!W&&P.warn("Overwriting "+A+" with",L),this.imports[A]=L,(A.startsWith("blots/")||A.startsWith("formats/"))&&L.blotName!=="abstract"?m.default.register(L):A.startsWith("modules")&&typeof L.register=="function"&&L.register()}}]);function U(I){var A=this,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(T(this,U),this.options=$(I,L),this.container=this.options.container,this.container==null)return P.error("Invalid Quill container",I);this.options.debug&&U.debug(this.options.debug);var D=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new p.default,this.scroll=m.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new f.default(this.scroll),this.selection=new y.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(p.default.events.EDITOR_CHANGE,function(z){z===p.default.events.TEXT_CHANGE&&A.root.classList.toggle("ql-blank",A.editor.isBlank())}),this.emitter.on(p.default.events.SCROLL_UPDATE,function(z,M){var q=A.selection.lastRange,K=q&&q.length===0?q.index:void 0;F.call(A,function(){return A.editor.update(null,M,K)},z)});var W=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+D+"<p><br></p></div>");this.setContents(W),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return l(U,[{key:"addContainer",value:function(A){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof A=="string"){var D=A;A=document.createElement("div"),A.classList.add(D)}return this.container.insertBefore(A,L),A}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(A,L,D){var W=this,z=B(A,L,D),M=o(z,4);return A=M[0],L=M[1],D=M[3],F.call(this,function(){return W.editor.deleteText(A,L)},D,A,-1*L)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(A),this.container.classList.toggle("ql-disabled",!A)}},{key:"focus",value:function(){var A=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=A,this.scrollIntoView()}},{key:"format",value:function(A,L){var D=this,W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:p.default.sources.API;return F.call(this,function(){var z=D.getSelection(!0),M=new d.default;if(z==null)return M;if(m.default.query(A,m.default.Scope.BLOCK))M=D.editor.formatLine(z.index,z.length,E({},A,L));else{if(z.length===0)return D.selection.format(A,L),M;M=D.editor.formatText(z.index,z.length,E({},A,L))}return D.setSelection(z,p.default.sources.SILENT),M},W)}},{key:"formatLine",value:function(A,L,D,W,z){var M=this,q=void 0,K=B(A,L,D,W,z),V=o(K,4);return A=V[0],L=V[1],q=V[2],z=V[3],F.call(this,function(){return M.editor.formatLine(A,L,q)},z,A,0)}},{key:"formatText",value:function(A,L,D,W,z){var M=this,q=void 0,K=B(A,L,D,W,z),V=o(K,4);return A=V[0],L=V[1],q=V[2],z=V[3],F.call(this,function(){return M.editor.formatText(A,L,q)},z,A,0)}},{key:"getBounds",value:function(A){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,D=void 0;typeof A=="number"?D=this.selection.getBounds(A,L):D=this.selection.getBounds(A.index,A.length);var W=this.container.getBoundingClientRect();return{bottom:D.bottom-W.top,height:D.height,left:D.left-W.left,right:D.right-W.left,top:D.top-W.top,width:D.width}}},{key:"getContents",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-A,D=B(A,L),W=o(D,2);return A=W[0],L=W[1],this.editor.getContents(A,L)}},{key:"getFormat",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof A=="number"?this.editor.getFormat(A,L):this.editor.getFormat(A.index,A.length)}},{key:"getIndex",value:function(A){return A.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(A){return this.scroll.leaf(A)}},{key:"getLine",value:function(A){return this.scroll.line(A)}},{key:"getLines",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof A!="number"?this.scroll.lines(A.index,A.length):this.scroll.lines(A,L)}},{key:"getModule",value:function(A){return this.theme.modules[A]}},{key:"getSelection",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return A&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-A,D=B(A,L),W=o(D,2);return A=W[0],L=W[1],this.editor.getText(A,L)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(A,L,D){var W=this,z=arguments.length>3&&arguments[3]!==void 0?arguments[3]:U.sources.API;return F.call(this,function(){return W.editor.insertEmbed(A,L,D)},z,A)}},{key:"insertText",value:function(A,L,D,W,z){var M=this,q=void 0,K=B(A,0,D,W,z),V=o(K,4);return A=V[0],q=V[2],z=V[3],F.call(this,function(){return M.editor.insertText(A,L,q)},z,A,L.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(A,L,D){this.clipboard.dangerouslyPasteHTML(A,L,D)}},{key:"removeFormat",value:function(A,L,D){var W=this,z=B(A,L,D),M=o(z,4);return A=M[0],L=M[1],D=M[3],F.call(this,function(){return W.editor.removeFormat(A,L)},D,A)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(A){var L=this,D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API;return F.call(this,function(){A=new d.default(A);var W=L.getLength(),z=L.editor.deleteText(0,W),M=L.editor.applyDelta(A),q=M.ops[M.ops.length-1];q!=null&&typeof q.insert=="string"&&q.insert[q.insert.length-1]===`
`&&(L.editor.deleteText(L.getLength()-1,1),M.delete(1));var K=z.compose(M);return K},D)}},{key:"setSelection",value:function(A,L,D){if(A==null)this.selection.setRange(null,L||U.sources.API);else{var W=B(A,L,D),z=o(W,4);A=z[0],L=z[1],D=z[3],this.selection.setRange(new g.Range(A,L),D),D!==p.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(A){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API,D=new d.default().insert(A);return this.setContents(D,L)}},{key:"update",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p.default.sources.USER,L=this.scroll.update(A);return this.selection.update(A),L}},{key:"updateContents",value:function(A){var L=this,D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API;return F.call(this,function(){return A=new d.default(A),L.editor.applyDelta(A,D)},D,!0)}}]),U}();C.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},C.events=p.default.events,C.sources=p.default.sources,C.version="1.3.7",C.imports={delta:d.default,parchment:m.default,"core/module":x.default,"core/theme":R.default};function $(U,I){if(I=(0,_.default)(!0,{container:U,modules:{clipboard:!0,keyboard:!0,history:!0}},I),!I.theme||I.theme===C.DEFAULTS.theme)I.theme=R.default;else if(I.theme=C.import("themes/"+I.theme),I.theme==null)throw new Error("Invalid theme "+I.theme+". Did you register it?");var A=(0,_.default)(!0,{},I.theme.DEFAULTS);[A,I].forEach(function(W){W.modules=W.modules||{},Object.keys(W.modules).forEach(function(z){W.modules[z]===!0&&(W.modules[z]={})})});var L=Object.keys(A.modules).concat(Object.keys(I.modules)),D=L.reduce(function(W,z){var M=C.import("modules/"+z);return M==null?P.error("Cannot load "+z+" module. Are you sure you registered it?"):W[z]=M.DEFAULTS||{},W},{});return I.modules!=null&&I.modules.toolbar&&I.modules.toolbar.constructor!==Object&&(I.modules.toolbar={container:I.modules.toolbar}),I=(0,_.default)(!0,{},C.DEFAULTS,{modules:D},A,I),["bounds","container","scrollingContainer"].forEach(function(W){typeof I[W]=="string"&&(I[W]=document.querySelector(I[W]))}),I.modules=Object.keys(I.modules).reduce(function(W,z){return I.modules[z]&&(W[z]=I.modules[z]),W},{}),I}function F(U,I,A,L){if(this.options.strict&&!this.isEnabled()&&I===p.default.sources.USER)return new d.default;var D=A==null?null:this.getSelection(),W=this.editor.delta,z=U();if(D!=null&&(A===!0&&(A=D.index),L==null?D=H(D,z,I):L!==0&&(D=H(D,A,L,I)),this.setSelection(D,p.default.sources.SILENT)),z.length()>0){var M,q=[p.default.events.TEXT_CHANGE,z,W,I];if((M=this.emitter).emit.apply(M,[p.default.events.EDITOR_CHANGE].concat(q)),I!==p.default.sources.SILENT){var K;(K=this.emitter).emit.apply(K,q)}}return z}function B(U,I,A,L,D){var W={};return typeof U.index=="number"&&typeof U.length=="number"?typeof I!="number"?(D=L,L=A,A=I,I=U.length,U=U.index):(I=U.length,U=U.index):typeof I!="number"&&(D=L,L=A,A=I,I=0),(typeof A>"u"?"undefined":i(A))==="object"?(W=A,D=L):typeof A=="string"&&(L!=null?W[A]=L:D=A),D=D||p.default.sources.API,[U,I,W,D]}function H(U,I,A,L){if(U==null)return null;var D=void 0,W=void 0;if(I instanceof d.default){var z=[U.index,U.index+U.length].map(function(V){return I.transformPosition(V,L!==p.default.sources.USER)}),M=o(z,2);D=M[0],W=M[1]}else{var q=[U.index,U.index+U.length].map(function(V){return V<I||V===I&&L===p.default.sources.USER?V:A>=0?V+A:Math.max(I,V+A)}),K=o(q,2);D=K[0],W=K[1]}return new g.Range(D,W-D)}n.expandConfig=$,n.overload=B,n.default=C},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function w(m,g){for(var y=0;y<g.length;y++){var v=g[y];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,v.key,v)}}return function(m,g,y){return g&&w(m.prototype,g),y&&w(m,y),m}}(),o=function w(m,g,y){m===null&&(m=Function.prototype);var v=Object.getOwnPropertyDescriptor(m,g);if(v===void 0){var _=Object.getPrototypeOf(m);return _===null?void 0:w(_,g,y)}else{if("value"in v)return v.value;var N=v.get;return N===void 0?void 0:N.call(y)}},l=s(7),c=f(l),d=s(0),h=f(d);function f(w){return w&&w.__esModule?w:{default:w}}function u(w,m){if(!(w instanceof m))throw new TypeError("Cannot call a class as a function")}function p(w,m){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:w}function b(w,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);w.prototype=Object.create(m&&m.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(w,m):w.__proto__=m)}var x=function(w){b(m,w);function m(){return u(this,m),p(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return i(m,[{key:"formatAt",value:function(y,v,_,N){if(m.compare(this.statics.blotName,_)<0&&h.default.query(_,h.default.Scope.BLOT)){var j=this.isolate(y,v);N&&j.wrap(_,N)}else o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"formatAt",this).call(this,y,v,_,N)}},{key:"optimize",value:function(y){if(o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"optimize",this).call(this,y),this.parent instanceof m&&m.compare(this.statics.blotName,this.parent.statics.blotName)>0){var v=this.parent.isolate(this.offset(),this.length());this.moveChildren(v),v.wrap(this)}}}],[{key:"compare",value:function(y,v){var _=m.order.indexOf(y),N=m.order.indexOf(v);return _>=0||N>=0?_-N:y===v?0:y<v?-1:1}}]),m}(h.default.Inline);x.allowedChildren=[x,h.default.Embed,c.default],x.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],n.default=x},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=s(0),o=l(i);function l(u){return u&&u.__esModule?u:{default:u}}function c(u,p){if(!(u instanceof p))throw new TypeError("Cannot call a class as a function")}function d(u,p){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:u}function h(u,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);u.prototype=Object.create(p&&p.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(u,p):u.__proto__=p)}var f=function(u){h(p,u);function p(){return c(this,p),d(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default.Text);n.default=f},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function g(y,v){for(var _=0;_<v.length;_++){var N=v[_];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(y,N.key,N)}}return function(y,v,_){return v&&g(y.prototype,v),_&&g(y,_),y}}(),o=function g(y,v,_){y===null&&(y=Function.prototype);var N=Object.getOwnPropertyDescriptor(y,v);if(N===void 0){var j=Object.getPrototypeOf(y);return j===null?void 0:g(j,v,_)}else{if("value"in N)return N.value;var S=N.get;return S===void 0?void 0:S.call(_)}},l=s(54),c=f(l),d=s(10),h=f(d);function f(g){return g&&g.__esModule?g:{default:g}}function u(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function p(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function b(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var x=(0,h.default)("quill:events"),w=["selectionchange","mousedown","mouseup","click"];w.forEach(function(g){document.addEventListener(g,function(){for(var y=arguments.length,v=Array(y),_=0;_<y;_++)v[_]=arguments[_];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(N){if(N.__quill&&N.__quill.emitter){var j;(j=N.__quill.emitter).handleDOM.apply(j,v)}})})});var m=function(g){b(y,g);function y(){u(this,y);var v=p(this,(y.__proto__||Object.getPrototypeOf(y)).call(this));return v.listeners={},v.on("error",x.error),v}return i(y,[{key:"emit",value:function(){x.log.apply(x,arguments),o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(_){for(var N=arguments.length,j=Array(N>1?N-1:0),S=1;S<N;S++)j[S-1]=arguments[S];(this.listeners[_.type]||[]).forEach(function(R){var k=R.node,E=R.handler;(_.target===k||k.contains(_.target))&&E.apply(void 0,[_].concat(j))})}},{key:"listenDOM",value:function(_,N,j){this.listeners[_]||(this.listeners[_]=[]),this.listeners[_].push({node:N,handler:j})}}]),y}(c.default);m.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},m.sources={API:"api",SILENT:"silent",USER:"user"},n.default=m},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});function i(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}var o=function l(c){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};i(this,l),this.quill=c,this.options=d};o.DEFAULTS={},n.default=o},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=["error","warn","log","info"],o="warn";function l(d){if(i.indexOf(d)<=i.indexOf(o)){for(var h,f=arguments.length,u=Array(f>1?f-1:0),p=1;p<f;p++)u[p-1]=arguments[p];(h=console)[d].apply(h,u)}}function c(d){return i.reduce(function(h,f){return h[f]=l.bind(console,f,d),h},{})}l.level=c.level=function(d){o=d},n.default=c},function(r,n,s){var i=Array.prototype.slice,o=s(52),l=s(53),c=r.exports=function(u,p,b){return b||(b={}),u===p?!0:u instanceof Date&&p instanceof Date?u.getTime()===p.getTime():!u||!p||typeof u!="object"&&typeof p!="object"?b.strict?u===p:u==p:f(u,p,b)};function d(u){return u==null}function h(u){return!(!u||typeof u!="object"||typeof u.length!="number"||typeof u.copy!="function"||typeof u.slice!="function"||u.length>0&&typeof u[0]!="number")}function f(u,p,b){var x,w;if(d(u)||d(p)||u.prototype!==p.prototype)return!1;if(l(u))return l(p)?(u=i.call(u),p=i.call(p),c(u,p,b)):!1;if(h(u)){if(!h(p)||u.length!==p.length)return!1;for(x=0;x<u.length;x++)if(u[x]!==p[x])return!1;return!0}try{var m=o(u),g=o(p)}catch{return!1}if(m.length!=g.length)return!1;for(m.sort(),g.sort(),x=m.length-1;x>=0;x--)if(m[x]!=g[x])return!1;for(x=m.length-1;x>=0;x--)if(w=m[x],!c(u[w],p[w],b))return!1;return typeof u==typeof p}},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=s(1),o=function(){function l(c,d,h){h===void 0&&(h={}),this.attrName=c,this.keyName=d;var f=i.Scope.TYPE&i.Scope.ATTRIBUTE;h.scope!=null?this.scope=h.scope&i.Scope.LEVEL|f:this.scope=i.Scope.ATTRIBUTE,h.whitelist!=null&&(this.whitelist=h.whitelist)}return l.keys=function(c){return[].map.call(c.attributes,function(d){return d.name})},l.prototype.add=function(c,d){return this.canAdd(c,d)?(c.setAttribute(this.keyName,d),!0):!1},l.prototype.canAdd=function(c,d){var h=i.query(c,i.Scope.BLOT&(this.scope|i.Scope.TYPE));return h==null?!1:this.whitelist==null?!0:typeof d=="string"?this.whitelist.indexOf(d.replace(/["']/g,""))>-1:this.whitelist.indexOf(d)>-1},l.prototype.remove=function(c){c.removeAttribute(this.keyName)},l.prototype.value=function(c){var d=c.getAttribute(this.keyName);return this.canAdd(c,d)&&d?d:""},l}();n.default=o},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.Code=void 0;var i=function(){function S(R,k){var E=[],T=!0,P=!1,C=void 0;try{for(var $=R[Symbol.iterator](),F;!(T=(F=$.next()).done)&&(E.push(F.value),!(k&&E.length===k));T=!0);}catch(B){P=!0,C=B}finally{try{!T&&$.return&&$.return()}finally{if(P)throw C}}return E}return function(R,k){if(Array.isArray(R))return R;if(Symbol.iterator in Object(R))return S(R,k);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function S(R,k){for(var E=0;E<k.length;E++){var T=k[E];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(R,T.key,T)}}return function(R,k,E){return k&&S(R.prototype,k),E&&S(R,E),R}}(),l=function S(R,k,E){R===null&&(R=Function.prototype);var T=Object.getOwnPropertyDescriptor(R,k);if(T===void 0){var P=Object.getPrototypeOf(R);return P===null?void 0:S(P,k,E)}else{if("value"in T)return T.value;var C=T.get;return C===void 0?void 0:C.call(E)}},c=s(2),d=g(c),h=s(0),f=g(h),u=s(4),p=g(u),b=s(6),x=g(b),w=s(7),m=g(w);function g(S){return S&&S.__esModule?S:{default:S}}function y(S,R){if(!(S instanceof R))throw new TypeError("Cannot call a class as a function")}function v(S,R){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R&&(typeof R=="object"||typeof R=="function")?R:S}function _(S,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);S.prototype=Object.create(R&&R.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(S,R):S.__proto__=R)}var N=function(S){_(R,S);function R(){return y(this,R),v(this,(R.__proto__||Object.getPrototypeOf(R)).apply(this,arguments))}return R}(x.default);N.blotName="code",N.tagName="CODE";var j=function(S){_(R,S);function R(){return y(this,R),v(this,(R.__proto__||Object.getPrototypeOf(R)).apply(this,arguments))}return o(R,[{key:"delta",value:function(){var E=this,T=this.domNode.textContent;return T.endsWith(`
`)&&(T=T.slice(0,-1)),T.split(`
`).reduce(function(P,C){return P.insert(C).insert(`
`,E.formats())},new d.default)}},{key:"format",value:function(E,T){if(!(E===this.statics.blotName&&T)){var P=this.descendant(m.default,this.length()-1),C=i(P,1),$=C[0];$!=null&&$.deleteAt($.length()-1,1),l(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"format",this).call(this,E,T)}}},{key:"formatAt",value:function(E,T,P,C){if(T!==0&&!(f.default.query(P,f.default.Scope.BLOCK)==null||P===this.statics.blotName&&C===this.statics.formats(this.domNode))){var $=this.newlineIndex(E);if(!($<0||$>=E+T)){var F=this.newlineIndex(E,!0)+1,B=$-F+1,H=this.isolate(F,B),U=H.next;H.format(P,C),U instanceof R&&U.formatAt(0,E-F+T-B,P,C)}}}},{key:"insertAt",value:function(E,T,P){if(P==null){var C=this.descendant(m.default,E),$=i(C,2),F=$[0],B=$[1];F.insertAt(B,T)}}},{key:"length",value:function(){var E=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?E:E+1}},{key:"newlineIndex",value:function(E){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(T)return this.domNode.textContent.slice(0,E).lastIndexOf(`
`);var P=this.domNode.textContent.slice(E).indexOf(`
`);return P>-1?E+P:-1}},{key:"optimize",value:function(E){this.domNode.textContent.endsWith(`
`)||this.appendChild(f.default.create("text",`
`)),l(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"optimize",this).call(this,E);var T=this.next;T!=null&&T.prev===this&&T.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===T.statics.formats(T.domNode)&&(T.optimize(E),T.moveChildren(this),T.remove())}},{key:"replace",value:function(E){l(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"replace",this).call(this,E),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(T){var P=f.default.find(T);P==null?T.parentNode.removeChild(T):P instanceof f.default.Embed?P.remove():P.unwrap()})}}],[{key:"create",value:function(E){var T=l(R.__proto__||Object.getPrototypeOf(R),"create",this).call(this,E);return T.setAttribute("spellcheck",!1),T}},{key:"formats",value:function(){return!0}}]),R}(p.default);j.blotName="code-block",j.tagName="PRE",j.TAB="  ",n.Code=N,n.default=j},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(U){return typeof U}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U},o=function(){function U(I,A){var L=[],D=!0,W=!1,z=void 0;try{for(var M=I[Symbol.iterator](),q;!(D=(q=M.next()).done)&&(L.push(q.value),!(A&&L.length===A));D=!0);}catch(K){W=!0,z=K}finally{try{!D&&M.return&&M.return()}finally{if(W)throw z}}return L}return function(I,A){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return U(I,A);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function U(I,A){for(var L=0;L<A.length;L++){var D=A[L];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(I,D.key,D)}}return function(I,A,L){return A&&U(I.prototype,A),L&&U(I,L),I}}(),c=s(2),d=T(c),h=s(20),f=T(h),u=s(0),p=T(u),b=s(13),x=T(b),w=s(24),m=T(w),g=s(4),y=T(g),v=s(16),_=T(v),N=s(21),j=T(N),S=s(11),R=T(S),k=s(3),E=T(k);function T(U){return U&&U.__esModule?U:{default:U}}function P(U,I,A){return I in U?Object.defineProperty(U,I,{value:A,enumerable:!0,configurable:!0,writable:!0}):U[I]=A,U}function C(U,I){if(!(U instanceof I))throw new TypeError("Cannot call a class as a function")}var $=/^[ -~]*$/,F=function(){function U(I){C(this,U),this.scroll=I,this.delta=this.getDelta()}return l(U,[{key:"applyDelta",value:function(A){var L=this,D=!1;this.scroll.update();var W=this.scroll.length();return this.scroll.batchStart(),A=H(A),A.reduce(function(z,M){var q=M.retain||M.delete||M.insert.length||1,K=M.attributes||{};if(M.insert!=null){if(typeof M.insert=="string"){var V=M.insert;V.endsWith(`
`)&&D&&(D=!1,V=V.slice(0,-1)),z>=W&&!V.endsWith(`
`)&&(D=!0),L.scroll.insertAt(z,V);var Q=L.scroll.line(z),re=o(Q,2),ie=re[0],ue=re[1],de=(0,E.default)({},(0,g.bubbleFormats)(ie));if(ie instanceof y.default){var ve=ie.descendant(p.default.Leaf,ue),$e=o(ve,1),Re=$e[0];de=(0,E.default)(de,(0,g.bubbleFormats)(Re))}K=f.default.attributes.diff(de,K)||{}}else if(i(M.insert)==="object"){var G=Object.keys(M.insert)[0];if(G==null)return z;L.scroll.insertAt(z,G,M.insert[G])}W+=q}return Object.keys(K).forEach(function(J){L.scroll.formatAt(z,q,J,K[J])}),z+q},0),A.reduce(function(z,M){return typeof M.delete=="number"?(L.scroll.deleteAt(z,M.delete),z):z+(M.retain||M.insert.length||1)},0),this.scroll.batchEnd(),this.update(A)}},{key:"deleteText",value:function(A,L){return this.scroll.deleteAt(A,L),this.update(new d.default().retain(A).delete(L))}},{key:"formatLine",value:function(A,L){var D=this,W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(W).forEach(function(z){if(!(D.scroll.whitelist!=null&&!D.scroll.whitelist[z])){var M=D.scroll.lines(A,Math.max(L,1)),q=L;M.forEach(function(K){var V=K.length();if(!(K instanceof x.default))K.format(z,W[z]);else{var Q=A-K.offset(D.scroll),re=K.newlineIndex(Q+q)-Q+1;K.formatAt(Q,re,z,W[z])}q-=V})}}),this.scroll.optimize(),this.update(new d.default().retain(A).retain(L,(0,j.default)(W)))}},{key:"formatText",value:function(A,L){var D=this,W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(W).forEach(function(z){D.scroll.formatAt(A,L,z,W[z])}),this.update(new d.default().retain(A).retain(L,(0,j.default)(W)))}},{key:"getContents",value:function(A,L){return this.delta.slice(A,A+L)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(A,L){return A.concat(L.delta())},new d.default)}},{key:"getFormat",value:function(A){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,D=[],W=[];L===0?this.scroll.path(A).forEach(function(M){var q=o(M,1),K=q[0];K instanceof y.default?D.push(K):K instanceof p.default.Leaf&&W.push(K)}):(D=this.scroll.lines(A,L),W=this.scroll.descendants(p.default.Leaf,A,L));var z=[D,W].map(function(M){if(M.length===0)return{};for(var q=(0,g.bubbleFormats)(M.shift());Object.keys(q).length>0;){var K=M.shift();if(K==null)return q;q=B((0,g.bubbleFormats)(K),q)}return q});return E.default.apply(E.default,z)}},{key:"getText",value:function(A,L){return this.getContents(A,L).filter(function(D){return typeof D.insert=="string"}).map(function(D){return D.insert}).join("")}},{key:"insertEmbed",value:function(A,L,D){return this.scroll.insertAt(A,L,D),this.update(new d.default().retain(A).insert(P({},L,D)))}},{key:"insertText",value:function(A,L){var D=this,W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return L=L.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(A,L),Object.keys(W).forEach(function(z){D.scroll.formatAt(A,L.length,z,W[z])}),this.update(new d.default().retain(A).insert(L,(0,j.default)(W)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var A=this.scroll.children.head;return A.statics.blotName!==y.default.blotName||A.children.length>1?!1:A.children.head instanceof _.default}},{key:"removeFormat",value:function(A,L){var D=this.getText(A,L),W=this.scroll.line(A+L),z=o(W,2),M=z[0],q=z[1],K=0,V=new d.default;M!=null&&(M instanceof x.default?K=M.newlineIndex(q)-q+1:K=M.length()-q,V=M.delta().slice(q,q+K-1).insert(`
`));var Q=this.getContents(A,L+K),re=Q.diff(new d.default().insert(D).concat(V)),ie=new d.default().retain(A).concat(re);return this.applyDelta(ie)}},{key:"update",value:function(A){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,W=this.delta;if(L.length===1&&L[0].type==="characterData"&&L[0].target.data.match($)&&p.default.find(L[0].target)){var z=p.default.find(L[0].target),M=(0,g.bubbleFormats)(z),q=z.offset(this.scroll),K=L[0].oldValue.replace(m.default.CONTENTS,""),V=new d.default().insert(K),Q=new d.default().insert(z.value()),re=new d.default().retain(q).concat(V.diff(Q,D));A=re.reduce(function(ie,ue){return ue.insert?ie.insert(ue.insert,M):ie.push(ue)},new d.default),this.delta=W.compose(A)}else this.delta=this.getDelta(),(!A||!(0,R.default)(W.compose(A),this.delta))&&(A=W.diff(this.delta,D));return A}}]),U}();function B(U,I){return Object.keys(I).reduce(function(A,L){return U[L]==null||(I[L]===U[L]?A[L]=I[L]:Array.isArray(I[L])?I[L].indexOf(U[L])<0&&(A[L]=I[L].concat([U[L]])):A[L]=[I[L],U[L]]),A},{})}function H(U){return U.reduce(function(I,A){if(A.insert===1){var L=(0,j.default)(A.attributes);return delete L.image,I.insert({image:A.attributes.image},L)}if(A.attributes!=null&&(A.attributes.list===!0||A.attributes.bullet===!0)&&(A=(0,j.default)(A),A.attributes.list?A.attributes.list="ordered":(A.attributes.list="bullet",delete A.attributes.bullet)),typeof A.insert=="string"){var D=A.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return I.insert(D,A.attributes)}return I.push(A)},new d.default)}n.default=F},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.Range=void 0;var i=function(){function S(R,k){var E=[],T=!0,P=!1,C=void 0;try{for(var $=R[Symbol.iterator](),F;!(T=(F=$.next()).done)&&(E.push(F.value),!(k&&E.length===k));T=!0);}catch(B){P=!0,C=B}finally{try{!T&&$.return&&$.return()}finally{if(P)throw C}}return E}return function(R,k){if(Array.isArray(R))return R;if(Symbol.iterator in Object(R))return S(R,k);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function S(R,k){for(var E=0;E<k.length;E++){var T=k[E];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(R,T.key,T)}}return function(R,k,E){return k&&S(R.prototype,k),E&&S(R,E),R}}(),l=s(0),c=m(l),d=s(21),h=m(d),f=s(11),u=m(f),p=s(8),b=m(p),x=s(10),w=m(x);function m(S){return S&&S.__esModule?S:{default:S}}function g(S){if(Array.isArray(S)){for(var R=0,k=Array(S.length);R<S.length;R++)k[R]=S[R];return k}else return Array.from(S)}function y(S,R){if(!(S instanceof R))throw new TypeError("Cannot call a class as a function")}var v=(0,w.default)("quill:selection"),_=function S(R){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;y(this,S),this.index=R,this.length=k},N=function(){function S(R,k){var E=this;y(this,S),this.emitter=k,this.scroll=R,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=c.default.create("cursor",this),this.lastRange=this.savedRange=new _(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){E.mouseDown||setTimeout(E.update.bind(E,b.default.sources.USER),1)}),this.emitter.on(b.default.events.EDITOR_CHANGE,function(T,P){T===b.default.events.TEXT_CHANGE&&P.length()>0&&E.update(b.default.sources.SILENT)}),this.emitter.on(b.default.events.SCROLL_BEFORE_UPDATE,function(){if(E.hasFocus()){var T=E.getNativeRange();T!=null&&T.start.node!==E.cursor.textNode&&E.emitter.once(b.default.events.SCROLL_UPDATE,function(){try{E.setNativeRange(T.start.node,T.start.offset,T.end.node,T.end.offset)}catch{}})}}),this.emitter.on(b.default.events.SCROLL_OPTIMIZE,function(T,P){if(P.range){var C=P.range,$=C.startNode,F=C.startOffset,B=C.endNode,H=C.endOffset;E.setNativeRange($,F,B,H)}}),this.update(b.default.sources.SILENT)}return o(S,[{key:"handleComposition",value:function(){var k=this;this.root.addEventListener("compositionstart",function(){k.composing=!0}),this.root.addEventListener("compositionend",function(){if(k.composing=!1,k.cursor.parent){var E=k.cursor.restore();if(!E)return;setTimeout(function(){k.setNativeRange(E.startNode,E.startOffset,E.endNode,E.endOffset)},1)}})}},{key:"handleDragging",value:function(){var k=this;this.emitter.listenDOM("mousedown",document.body,function(){k.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){k.mouseDown=!1,k.update(b.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(k,E){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[k])){this.scroll.update();var T=this.getNativeRange();if(!(T==null||!T.native.collapsed||c.default.query(k,c.default.Scope.BLOCK))){if(T.start.node!==this.cursor.textNode){var P=c.default.find(T.start.node,!1);if(P==null)return;if(P instanceof c.default.Leaf){var C=P.split(T.start.offset);P.parent.insertBefore(this.cursor,C)}else P.insertBefore(this.cursor,T.start.node);this.cursor.attach()}this.cursor.format(k,E),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(k){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,T=this.scroll.length();k=Math.min(k,T-1),E=Math.min(k+E,T-1)-k;var P=void 0,C=this.scroll.leaf(k),$=i(C,2),F=$[0],B=$[1];if(F==null)return null;var H=F.position(B,!0),U=i(H,2);P=U[0],B=U[1];var I=document.createRange();if(E>0){I.setStart(P,B);var A=this.scroll.leaf(k+E),L=i(A,2);if(F=L[0],B=L[1],F==null)return null;var D=F.position(B,!0),W=i(D,2);return P=W[0],B=W[1],I.setEnd(P,B),I.getBoundingClientRect()}else{var z="left",M=void 0;return P instanceof Text?(B<P.data.length?(I.setStart(P,B),I.setEnd(P,B+1)):(I.setStart(P,B-1),I.setEnd(P,B),z="right"),M=I.getBoundingClientRect()):(M=F.domNode.getBoundingClientRect(),B>0&&(z="right")),{bottom:M.top+M.height,height:M.height,left:M[z],right:M[z],top:M.top,width:0}}}},{key:"getNativeRange",value:function(){var k=document.getSelection();if(k==null||k.rangeCount<=0)return null;var E=k.getRangeAt(0);if(E==null)return null;var T=this.normalizeNative(E);return v.info("getNativeRange",T),T}},{key:"getRange",value:function(){var k=this.getNativeRange();if(k==null)return[null,null];var E=this.normalizedToRange(k);return[E,k]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(k){var E=this,T=[[k.start.node,k.start.offset]];k.native.collapsed||T.push([k.end.node,k.end.offset]);var P=T.map(function(F){var B=i(F,2),H=B[0],U=B[1],I=c.default.find(H,!0),A=I.offset(E.scroll);return U===0?A:I instanceof c.default.Container?A+I.length():A+I.index(H,U)}),C=Math.min(Math.max.apply(Math,g(P)),this.scroll.length()-1),$=Math.min.apply(Math,[C].concat(g(P)));return new _($,C-$)}},{key:"normalizeNative",value:function(k){if(!j(this.root,k.startContainer)||!k.collapsed&&!j(this.root,k.endContainer))return null;var E={start:{node:k.startContainer,offset:k.startOffset},end:{node:k.endContainer,offset:k.endOffset},native:k};return[E.start,E.end].forEach(function(T){for(var P=T.node,C=T.offset;!(P instanceof Text)&&P.childNodes.length>0;)if(P.childNodes.length>C)P=P.childNodes[C],C=0;else if(P.childNodes.length===C)P=P.lastChild,C=P instanceof Text?P.data.length:P.childNodes.length+1;else break;T.node=P,T.offset=C}),E}},{key:"rangeToNative",value:function(k){var E=this,T=k.collapsed?[k.index]:[k.index,k.index+k.length],P=[],C=this.scroll.length();return T.forEach(function($,F){$=Math.min(C-1,$);var B=void 0,H=E.scroll.leaf($),U=i(H,2),I=U[0],A=U[1],L=I.position(A,F!==0),D=i(L,2);B=D[0],A=D[1],P.push(B,A)}),P.length<2&&(P=P.concat(P)),P}},{key:"scrollIntoView",value:function(k){var E=this.lastRange;if(E!=null){var T=this.getBounds(E.index,E.length);if(T!=null){var P=this.scroll.length()-1,C=this.scroll.line(Math.min(E.index,P)),$=i(C,1),F=$[0],B=F;if(E.length>0){var H=this.scroll.line(Math.min(E.index+E.length,P)),U=i(H,1);B=U[0]}if(!(F==null||B==null)){var I=k.getBoundingClientRect();T.top<I.top?k.scrollTop-=I.top-T.top:T.bottom>I.bottom&&(k.scrollTop+=T.bottom-I.bottom)}}}}},{key:"setNativeRange",value:function(k,E){var T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:k,P=arguments.length>3&&arguments[3]!==void 0?arguments[3]:E,C=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(v.info("setNativeRange",k,E,T,P),!(k!=null&&(this.root.parentNode==null||k.parentNode==null||T.parentNode==null))){var $=document.getSelection();if($!=null)if(k!=null){this.hasFocus()||this.root.focus();var F=(this.getNativeRange()||{}).native;if(F==null||C||k!==F.startContainer||E!==F.startOffset||T!==F.endContainer||P!==F.endOffset){k.tagName=="BR"&&(E=[].indexOf.call(k.parentNode.childNodes,k),k=k.parentNode),T.tagName=="BR"&&(P=[].indexOf.call(T.parentNode.childNodes,T),T=T.parentNode);var B=document.createRange();B.setStart(k,E),B.setEnd(T,P),$.removeAllRanges(),$.addRange(B)}}else $.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(k){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:b.default.sources.API;if(typeof E=="string"&&(T=E,E=!1),v.info("setRange",k),k!=null){var P=this.rangeToNative(k);this.setNativeRange.apply(this,g(P).concat([E]))}else this.setNativeRange(null);this.update(T)}},{key:"update",value:function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:b.default.sources.USER,E=this.lastRange,T=this.getRange(),P=i(T,2),C=P[0],$=P[1];if(this.lastRange=C,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,u.default)(E,this.lastRange)){var F;!this.composing&&$!=null&&$.native.collapsed&&$.start.node!==this.cursor.textNode&&this.cursor.restore();var B=[b.default.events.SELECTION_CHANGE,(0,h.default)(this.lastRange),(0,h.default)(E),k];if((F=this.emitter).emit.apply(F,[b.default.events.EDITOR_CHANGE].concat(B)),k!==b.default.sources.SILENT){var H;(H=this.emitter).emit.apply(H,B)}}}}]),S}();function j(S,R){try{R.parentNode}catch{return!1}return R instanceof Text&&(R=R.parentNode),S.contains(R)}n.Range=_,n.default=N},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function b(x,w){for(var m=0;m<w.length;m++){var g=w[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(x,g.key,g)}}return function(x,w,m){return w&&b(x.prototype,w),m&&b(x,m),x}}(),o=function b(x,w,m){x===null&&(x=Function.prototype);var g=Object.getOwnPropertyDescriptor(x,w);if(g===void 0){var y=Object.getPrototypeOf(x);return y===null?void 0:b(y,w,m)}else{if("value"in g)return g.value;var v=g.get;return v===void 0?void 0:v.call(m)}},l=s(0),c=d(l);function d(b){return b&&b.__esModule?b:{default:b}}function h(b,x){if(!(b instanceof x))throw new TypeError("Cannot call a class as a function")}function f(b,x){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:b}function u(b,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);b.prototype=Object.create(x&&x.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(b,x):b.__proto__=x)}var p=function(b){u(x,b);function x(){return h(this,x),f(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return i(x,[{key:"insertInto",value:function(m,g){m.children.length===0?o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"insertInto",this).call(this,m,g):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),x}(c.default.Embed);p.blotName="break",p.tagName="BR",n.default=p},function(r,n,s){var i=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,p){u.__proto__=p}||function(u,p){for(var b in p)p.hasOwnProperty(b)&&(u[b]=p[b])};return function(u,p){f(u,p);function b(){this.constructor=u}u.prototype=p===null?Object.create(p):(b.prototype=p.prototype,new b)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=s(44),l=s(30),c=s(1),d=function(f){i(u,f);function u(p){var b=f.call(this,p)||this;return b.build(),b}return u.prototype.appendChild=function(p){this.insertBefore(p)},u.prototype.attach=function(){f.prototype.attach.call(this),this.children.forEach(function(p){p.attach()})},u.prototype.build=function(){var p=this;this.children=new o.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(b){try{var x=h(b);p.insertBefore(x,p.children.head||void 0)}catch(w){if(w instanceof c.ParchmentError)return;throw w}})},u.prototype.deleteAt=function(p,b){if(p===0&&b===this.length())return this.remove();this.children.forEachAt(p,b,function(x,w,m){x.deleteAt(w,m)})},u.prototype.descendant=function(p,b){var x=this.children.find(b),w=x[0],m=x[1];return p.blotName==null&&p(w)||p.blotName!=null&&w instanceof p?[w,m]:w instanceof u?w.descendant(p,m):[null,-1]},u.prototype.descendants=function(p,b,x){b===void 0&&(b=0),x===void 0&&(x=Number.MAX_VALUE);var w=[],m=x;return this.children.forEachAt(b,x,function(g,y,v){(p.blotName==null&&p(g)||p.blotName!=null&&g instanceof p)&&w.push(g),g instanceof u&&(w=w.concat(g.descendants(p,y,m))),m-=v}),w},u.prototype.detach=function(){this.children.forEach(function(p){p.detach()}),f.prototype.detach.call(this)},u.prototype.formatAt=function(p,b,x,w){this.children.forEachAt(p,b,function(m,g,y){m.formatAt(g,y,x,w)})},u.prototype.insertAt=function(p,b,x){var w=this.children.find(p),m=w[0],g=w[1];if(m)m.insertAt(g,b,x);else{var y=x==null?c.create("text",b):c.create(b,x);this.appendChild(y)}},u.prototype.insertBefore=function(p,b){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(x){return p instanceof x}))throw new c.ParchmentError("Cannot insert "+p.statics.blotName+" into "+this.statics.blotName);p.insertInto(this,b)},u.prototype.length=function(){return this.children.reduce(function(p,b){return p+b.length()},0)},u.prototype.moveChildren=function(p,b){this.children.forEach(function(x){p.insertBefore(x,b)})},u.prototype.optimize=function(p){if(f.prototype.optimize.call(this,p),this.children.length===0)if(this.statics.defaultChild!=null){var b=c.create(this.statics.defaultChild);this.appendChild(b),b.optimize(p)}else this.remove()},u.prototype.path=function(p,b){b===void 0&&(b=!1);var x=this.children.find(p,b),w=x[0],m=x[1],g=[[this,p]];return w instanceof u?g.concat(w.path(m,b)):(w!=null&&g.push([w,m]),g)},u.prototype.removeChild=function(p){this.children.remove(p)},u.prototype.replace=function(p){p instanceof u&&p.moveChildren(this),f.prototype.replace.call(this,p)},u.prototype.split=function(p,b){if(b===void 0&&(b=!1),!b){if(p===0)return this;if(p===this.length())return this.next}var x=this.clone();return this.parent.insertBefore(x,this.next),this.children.forEachAt(p,this.length(),function(w,m,g){w=w.split(m,b),x.appendChild(w)}),x},u.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},u.prototype.update=function(p,b){var x=this,w=[],m=[];p.forEach(function(g){g.target===x.domNode&&g.type==="childList"&&(w.push.apply(w,g.addedNodes),m.push.apply(m,g.removedNodes))}),m.forEach(function(g){if(!(g.parentNode!=null&&g.tagName!=="IFRAME"&&document.body.compareDocumentPosition(g)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var y=c.find(g);y!=null&&(y.domNode.parentNode==null||y.domNode.parentNode===x.domNode)&&y.detach()}}),w.filter(function(g){return g.parentNode==x.domNode}).sort(function(g,y){return g===y?0:g.compareDocumentPosition(y)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(g){var y=null;g.nextSibling!=null&&(y=c.find(g.nextSibling));var v=h(g);(v.next!=y||v.next==null)&&(v.parent!=null&&v.parent.removeChild(x),x.insertBefore(v,y||void 0))})},u}(l.default);function h(f){var u=c.find(f);if(u==null)try{u=c.create(f)}catch{u=c.create(c.Scope.INLINE),[].slice.call(f.childNodes).forEach(function(b){u.domNode.appendChild(b)}),f.parentNode&&f.parentNode.replaceChild(u.domNode,f),u.attach()}return u}n.default=d},function(r,n,s){var i=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,p){u.__proto__=p}||function(u,p){for(var b in p)p.hasOwnProperty(b)&&(u[b]=p[b])};return function(u,p){f(u,p);function b(){this.constructor=u}u.prototype=p===null?Object.create(p):(b.prototype=p.prototype,new b)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=s(12),l=s(31),c=s(17),d=s(1),h=function(f){i(u,f);function u(p){var b=f.call(this,p)||this;return b.attributes=new l.default(b.domNode),b}return u.formats=function(p){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return p.tagName.toLowerCase()},u.prototype.format=function(p,b){var x=d.query(p);x instanceof o.default?this.attributes.attribute(x,b):b&&x!=null&&(p!==this.statics.blotName||this.formats()[p]!==b)&&this.replaceWith(p,b)},u.prototype.formats=function(){var p=this.attributes.values(),b=this.statics.formats(this.domNode);return b!=null&&(p[this.statics.blotName]=b),p},u.prototype.replaceWith=function(p,b){var x=f.prototype.replaceWith.call(this,p,b);return this.attributes.copy(x),x},u.prototype.update=function(p,b){var x=this;f.prototype.update.call(this,p,b),p.some(function(w){return w.target===x.domNode&&w.type==="attributes"})&&this.attributes.build()},u.prototype.wrap=function(p,b){var x=f.prototype.wrap.call(this,p,b);return x instanceof u&&x.statics.scope===this.statics.scope&&this.attributes.move(x),x},u}(c.default);n.default=h},function(r,n,s){var i=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,f){h.__proto__=f}||function(h,f){for(var u in f)f.hasOwnProperty(u)&&(h[u]=f[u])};return function(h,f){d(h,f);function u(){this.constructor=h}h.prototype=f===null?Object.create(f):(u.prototype=f.prototype,new u)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=s(30),l=s(1),c=function(d){i(h,d);function h(){return d!==null&&d.apply(this,arguments)||this}return h.value=function(f){return!0},h.prototype.index=function(f,u){return this.domNode===f||this.domNode.compareDocumentPosition(f)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(u,1):-1},h.prototype.position=function(f,u){var p=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return f>0&&(p+=1),[this.parent.domNode,p]},h.prototype.value=function(){var f;return f={},f[this.statics.blotName]=this.statics.value(this.domNode)||!0,f},h.scope=l.Scope.INLINE_BLOT,h}(o.default);n.default=c},function(r,n,s){var i=s(11),o=s(3),l={attributes:{compose:function(d,h,f){typeof d!="object"&&(d={}),typeof h!="object"&&(h={});var u=o(!0,{},h);f||(u=Object.keys(u).reduce(function(b,x){return u[x]!=null&&(b[x]=u[x]),b},{}));for(var p in d)d[p]!==void 0&&h[p]===void 0&&(u[p]=d[p]);return Object.keys(u).length>0?u:void 0},diff:function(d,h){typeof d!="object"&&(d={}),typeof h!="object"&&(h={});var f=Object.keys(d).concat(Object.keys(h)).reduce(function(u,p){return i(d[p],h[p])||(u[p]=h[p]===void 0?null:h[p]),u},{});return Object.keys(f).length>0?f:void 0},transform:function(d,h,f){if(typeof d!="object")return h;if(typeof h=="object"){if(!f)return h;var u=Object.keys(h).reduce(function(p,b){return d[b]===void 0&&(p[b]=h[b]),p},{});return Object.keys(u).length>0?u:void 0}}},iterator:function(d){return new c(d)},length:function(d){return typeof d.delete=="number"?d.delete:typeof d.retain=="number"?d.retain:typeof d.insert=="string"?d.insert.length:1}};function c(d){this.ops=d,this.index=0,this.offset=0}c.prototype.hasNext=function(){return this.peekLength()<1/0},c.prototype.next=function(d){d||(d=1/0);var h=this.ops[this.index];if(h){var f=this.offset,u=l.length(h);if(d>=u-f?(d=u-f,this.index+=1,this.offset=0):this.offset+=d,typeof h.delete=="number")return{delete:d};var p={};return h.attributes&&(p.attributes=h.attributes),typeof h.retain=="number"?p.retain=d:typeof h.insert=="string"?p.insert=h.insert.substr(f,d):p.insert=h.insert,p}else return{retain:1/0}},c.prototype.peek=function(){return this.ops[this.index]},c.prototype.peekLength=function(){return this.ops[this.index]?l.length(this.ops[this.index])-this.offset:1/0},c.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},c.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var d=this.offset,h=this.index,f=this.next(),u=this.ops.slice(this.index);return this.offset=d,this.index=h,[f].concat(u)}else return[]},r.exports=l},function(r,n){var s=function(){function i(x,w){return w!=null&&x instanceof w}var o;try{o=Map}catch{o=function(){}}var l;try{l=Set}catch{l=function(){}}var c;try{c=Promise}catch{c=function(){}}function d(x,w,m,g,y){typeof w=="object"&&(m=w.depth,g=w.prototype,y=w.includeNonEnumerable,w=w.circular);var v=[],_=[],N=typeof Buffer<"u";typeof w>"u"&&(w=!0),typeof m>"u"&&(m=1/0);function j(S,R){if(S===null)return null;if(R===0)return S;var k,E;if(typeof S!="object")return S;if(i(S,o))k=new o;else if(i(S,l))k=new l;else if(i(S,c))k=new c(function(I,A){S.then(function(L){I(j(L,R-1))},function(L){A(j(L,R-1))})});else if(d.__isArray(S))k=[];else if(d.__isRegExp(S))k=new RegExp(S.source,b(S)),S.lastIndex&&(k.lastIndex=S.lastIndex);else if(d.__isDate(S))k=new Date(S.getTime());else{if(N&&Buffer.isBuffer(S))return Buffer.allocUnsafe?k=Buffer.allocUnsafe(S.length):k=new Buffer(S.length),S.copy(k),k;i(S,Error)?k=Object.create(S):typeof g>"u"?(E=Object.getPrototypeOf(S),k=Object.create(E)):(k=Object.create(g),E=g)}if(w){var T=v.indexOf(S);if(T!=-1)return _[T];v.push(S),_.push(k)}i(S,o)&&S.forEach(function(I,A){var L=j(A,R-1),D=j(I,R-1);k.set(L,D)}),i(S,l)&&S.forEach(function(I){var A=j(I,R-1);k.add(A)});for(var P in S){var C;E&&(C=Object.getOwnPropertyDescriptor(E,P)),!(C&&C.set==null)&&(k[P]=j(S[P],R-1))}if(Object.getOwnPropertySymbols)for(var $=Object.getOwnPropertySymbols(S),P=0;P<$.length;P++){var F=$[P],B=Object.getOwnPropertyDescriptor(S,F);B&&!B.enumerable&&!y||(k[F]=j(S[F],R-1),B.enumerable||Object.defineProperty(k,F,{enumerable:!1}))}if(y)for(var H=Object.getOwnPropertyNames(S),P=0;P<H.length;P++){var U=H[P],B=Object.getOwnPropertyDescriptor(S,U);B&&B.enumerable||(k[U]=j(S[U],R-1),Object.defineProperty(k,U,{enumerable:!1}))}return k}return j(x,m)}d.clonePrototype=function(w){if(w===null)return null;var m=function(){};return m.prototype=w,new m};function h(x){return Object.prototype.toString.call(x)}d.__objToStr=h;function f(x){return typeof x=="object"&&h(x)==="[object Date]"}d.__isDate=f;function u(x){return typeof x=="object"&&h(x)==="[object Array]"}d.__isArray=u;function p(x){return typeof x=="object"&&h(x)==="[object RegExp]"}d.__isRegExp=p;function b(x){var w="";return x.global&&(w+="g"),x.ignoreCase&&(w+="i"),x.multiline&&(w+="m"),w}return d.__getRegExpFlags=b,d}();typeof r=="object"&&r.exports&&(r.exports=s)},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function k(E,T){var P=[],C=!0,$=!1,F=void 0;try{for(var B=E[Symbol.iterator](),H;!(C=(H=B.next()).done)&&(P.push(H.value),!(T&&P.length===T));C=!0);}catch(U){$=!0,F=U}finally{try{!C&&B.return&&B.return()}finally{if($)throw F}}return P}return function(E,T){if(Array.isArray(E))return E;if(Symbol.iterator in Object(E))return k(E,T);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function k(E,T){for(var P=0;P<T.length;P++){var C=T[P];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(E,C.key,C)}}return function(E,T,P){return T&&k(E.prototype,T),P&&k(E,P),E}}(),l=function k(E,T,P){E===null&&(E=Function.prototype);var C=Object.getOwnPropertyDescriptor(E,T);if(C===void 0){var $=Object.getPrototypeOf(E);return $===null?void 0:k($,T,P)}else{if("value"in C)return C.value;var F=C.get;return F===void 0?void 0:F.call(P)}},c=s(0),d=v(c),h=s(8),f=v(h),u=s(4),p=v(u),b=s(16),x=v(b),w=s(13),m=v(w),g=s(25),y=v(g);function v(k){return k&&k.__esModule?k:{default:k}}function _(k,E){if(!(k instanceof E))throw new TypeError("Cannot call a class as a function")}function N(k,E){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:k}function j(k,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);k.prototype=Object.create(E&&E.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(k,E):k.__proto__=E)}function S(k){return k instanceof p.default||k instanceof u.BlockEmbed}var R=function(k){j(E,k);function E(T,P){_(this,E);var C=N(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,T));return C.emitter=P.emitter,Array.isArray(P.whitelist)&&(C.whitelist=P.whitelist.reduce(function($,F){return $[F]=!0,$},{})),C.domNode.addEventListener("DOMNodeInserted",function(){}),C.optimize(),C.enable(),C}return o(E,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(P,C){var $=this.line(P),F=i($,2),B=F[0],H=F[1],U=this.line(P+C),I=i(U,1),A=I[0];if(l(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"deleteAt",this).call(this,P,C),A!=null&&B!==A&&H>0){if(B instanceof u.BlockEmbed||A instanceof u.BlockEmbed){this.optimize();return}if(B instanceof m.default){var L=B.newlineIndex(B.length(),!0);if(L>-1&&(B=B.split(L+1),B===A)){this.optimize();return}}else if(A instanceof m.default){var D=A.newlineIndex(0);D>-1&&A.split(D+1)}var W=A.children.head instanceof x.default?null:A.children.head;B.moveChildren(A,W),B.remove()}this.optimize()}},{key:"enable",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",P)}},{key:"formatAt",value:function(P,C,$,F){this.whitelist!=null&&!this.whitelist[$]||(l(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"formatAt",this).call(this,P,C,$,F),this.optimize())}},{key:"insertAt",value:function(P,C,$){if(!($!=null&&this.whitelist!=null&&!this.whitelist[C])){if(P>=this.length())if($==null||d.default.query(C,d.default.Scope.BLOCK)==null){var F=d.default.create(this.statics.defaultChild);this.appendChild(F),$==null&&C.endsWith(`
`)&&(C=C.slice(0,-1)),F.insertAt(0,C,$)}else{var B=d.default.create(C,$);this.appendChild(B)}else l(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"insertAt",this).call(this,P,C,$);this.optimize()}}},{key:"insertBefore",value:function(P,C){if(P.statics.scope===d.default.Scope.INLINE_BLOT){var $=d.default.create(this.statics.defaultChild);$.appendChild(P),P=$}l(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"insertBefore",this).call(this,P,C)}},{key:"leaf",value:function(P){return this.path(P).pop()||[null,-1]}},{key:"line",value:function(P){return P===this.length()?this.line(P-1):this.descendant(S,P)}},{key:"lines",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,$=function F(B,H,U){var I=[],A=U;return B.children.forEachAt(H,U,function(L,D,W){S(L)?I.push(L):L instanceof d.default.Container&&(I=I.concat(F(L,D,A))),A-=W}),I};return $(this,P,C)}},{key:"optimize",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(l(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"optimize",this).call(this,P,C),P.length>0&&this.emitter.emit(f.default.events.SCROLL_OPTIMIZE,P,C))}},{key:"path",value:function(P){return l(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"path",this).call(this,P).slice(1)}},{key:"update",value:function(P){if(this.batch!==!0){var C=f.default.sources.USER;typeof P=="string"&&(C=P),Array.isArray(P)||(P=this.observer.takeRecords()),P.length>0&&this.emitter.emit(f.default.events.SCROLL_BEFORE_UPDATE,C,P),l(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"update",this).call(this,P.concat([])),P.length>0&&this.emitter.emit(f.default.events.SCROLL_UPDATE,C,P)}}}]),E}(d.default.Scroll);R.blotName="scroll",R.className="ql-editor",R.tagName="DIV",R.defaultChild="block",R.allowedChildren=[p.default,u.BlockEmbed,y.default],n.default=R},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.SHORTKEY=n.default=void 0;var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},o=function(){function M(q,K){var V=[],Q=!0,re=!1,ie=void 0;try{for(var ue=q[Symbol.iterator](),de;!(Q=(de=ue.next()).done)&&(V.push(de.value),!(K&&V.length===K));Q=!0);}catch(ve){re=!0,ie=ve}finally{try{!Q&&ue.return&&ue.return()}finally{if(re)throw ie}}return V}return function(q,K){if(Array.isArray(q))return q;if(Symbol.iterator in Object(q))return M(q,K);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function M(q,K){for(var V=0;V<K.length;V++){var Q=K[V];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(q,Q.key,Q)}}return function(q,K,V){return K&&M(q.prototype,K),V&&M(q,V),q}}(),c=s(21),d=k(c),h=s(11),f=k(h),u=s(3),p=k(u),b=s(2),x=k(b),w=s(20),m=k(w),g=s(0),y=k(g),v=s(5),_=k(v),N=s(10),j=k(N),S=s(9),R=k(S);function k(M){return M&&M.__esModule?M:{default:M}}function E(M,q,K){return q in M?Object.defineProperty(M,q,{value:K,enumerable:!0,configurable:!0,writable:!0}):M[q]=K,M}function T(M,q){if(!(M instanceof q))throw new TypeError("Cannot call a class as a function")}function P(M,q){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return q&&(typeof q=="object"||typeof q=="function")?q:M}function C(M,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof q);M.prototype=Object.create(q&&q.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),q&&(Object.setPrototypeOf?Object.setPrototypeOf(M,q):M.__proto__=q)}var $=(0,j.default)("quill:keyboard"),F=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",B=function(M){C(q,M),l(q,null,[{key:"match",value:function(V,Q){return Q=z(Q),["altKey","ctrlKey","metaKey","shiftKey"].some(function(re){return!!Q[re]!==V[re]&&Q[re]!==null})?!1:Q.key===(V.which||V.keyCode)}}]);function q(K,V){T(this,q);var Q=P(this,(q.__proto__||Object.getPrototypeOf(q)).call(this,K,V));return Q.bindings={},Object.keys(Q.options.bindings).forEach(function(re){re==="list autofill"&&K.scroll.whitelist!=null&&!K.scroll.whitelist.list||Q.options.bindings[re]&&Q.addBinding(Q.options.bindings[re])}),Q.addBinding({key:q.keys.ENTER,shiftKey:null},L),Q.addBinding({key:q.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(Q.addBinding({key:q.keys.BACKSPACE},{collapsed:!0},U),Q.addBinding({key:q.keys.DELETE},{collapsed:!0},I)):(Q.addBinding({key:q.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},U),Q.addBinding({key:q.keys.DELETE},{collapsed:!0,suffix:/^.?$/},I)),Q.addBinding({key:q.keys.BACKSPACE},{collapsed:!1},A),Q.addBinding({key:q.keys.DELETE},{collapsed:!1},A),Q.addBinding({key:q.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},U),Q.listen(),Q}return l(q,[{key:"addBinding",value:function(V){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},re=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ie=z(V);if(ie==null||ie.key==null)return $.warn("Attempted to add invalid keyboard binding",ie);typeof Q=="function"&&(Q={handler:Q}),typeof re=="function"&&(re={handler:re}),ie=(0,p.default)(ie,Q,re),this.bindings[ie.key]=this.bindings[ie.key]||[],this.bindings[ie.key].push(ie)}},{key:"listen",value:function(){var V=this;this.quill.root.addEventListener("keydown",function(Q){if(!Q.defaultPrevented){var re=Q.which||Q.keyCode,ie=(V.bindings[re]||[]).filter(function(Fe){return q.match(Q,Fe)});if(ie.length!==0){var ue=V.quill.getSelection();if(!(ue==null||!V.quill.hasFocus())){var de=V.quill.getLine(ue.index),ve=o(de,2),$e=ve[0],Re=ve[1],G=V.quill.getLeaf(ue.index),J=o(G,2),te=J[0],ne=J[1],Y=ue.length===0?[te,ne]:V.quill.getLeaf(ue.index+ue.length),he=o(Y,2),pe=he[0],me=he[1],Et=te instanceof y.default.Text?te.value().slice(0,ne):"",ar=pe instanceof y.default.Text?pe.value().slice(me):"",Oe={collapsed:ue.length===0,empty:ue.length===0&&$e.length()<=1,format:V.quill.getFormat(ue),offset:Re,prefix:Et,suffix:ar},ky=ie.some(function(Fe){if(Fe.collapsed!=null&&Fe.collapsed!==Oe.collapsed||Fe.empty!=null&&Fe.empty!==Oe.empty||Fe.offset!=null&&Fe.offset!==Oe.offset)return!1;if(Array.isArray(Fe.format)){if(Fe.format.every(function(Or){return Oe.format[Or]==null}))return!1}else if(i(Fe.format)==="object"&&!Object.keys(Fe.format).every(function(Or){return Fe.format[Or]===!0?Oe.format[Or]!=null:Fe.format[Or]===!1?Oe.format[Or]==null:(0,f.default)(Fe.format[Or],Oe.format[Or])}))return!1;return Fe.prefix!=null&&!Fe.prefix.test(Oe.prefix)||Fe.suffix!=null&&!Fe.suffix.test(Oe.suffix)?!1:Fe.handler.call(V,ue,Oe)!==!0});ky&&Q.preventDefault()}}}})}}]),q}(R.default);B.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},B.DEFAULTS={bindings:{bold:W("bold"),italic:W("italic"),underline:W("underline"),indent:{key:B.keys.TAB,format:["blockquote","indent","list"],handler:function(q,K){if(K.collapsed&&K.offset!==0)return!0;this.quill.format("indent","+1",_.default.sources.USER)}},outdent:{key:B.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(q,K){if(K.collapsed&&K.offset!==0)return!0;this.quill.format("indent","-1",_.default.sources.USER)}},"outdent backspace":{key:B.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(q,K){K.format.indent!=null?this.quill.format("indent","-1",_.default.sources.USER):K.format.list!=null&&this.quill.format("list",!1,_.default.sources.USER)}},"indent code-block":D(!0),"outdent code-block":D(!1),"remove tab":{key:B.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(q){this.quill.deleteText(q.index-1,1,_.default.sources.USER)}},tab:{key:B.keys.TAB,handler:function(q){this.quill.history.cutoff();var K=new x.default().retain(q.index).delete(q.length).insert("	");this.quill.updateContents(K,_.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(q.index+1,_.default.sources.SILENT)}},"list empty enter":{key:B.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(q,K){this.quill.format("list",!1,_.default.sources.USER),K.format.indent&&this.quill.format("indent",!1,_.default.sources.USER)}},"checklist enter":{key:B.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(q){var K=this.quill.getLine(q.index),V=o(K,2),Q=V[0],re=V[1],ie=(0,p.default)({},Q.formats(),{list:"checked"}),ue=new x.default().retain(q.index).insert(`
`,ie).retain(Q.length()-re-1).retain(1,{list:"unchecked"});this.quill.updateContents(ue,_.default.sources.USER),this.quill.setSelection(q.index+1,_.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:B.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(q,K){var V=this.quill.getLine(q.index),Q=o(V,2),re=Q[0],ie=Q[1],ue=new x.default().retain(q.index).insert(`
`,K.format).retain(re.length()-ie-1).retain(1,{header:null});this.quill.updateContents(ue,_.default.sources.USER),this.quill.setSelection(q.index+1,_.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(q,K){var V=K.prefix.length,Q=this.quill.getLine(q.index),re=o(Q,2),ie=re[0],ue=re[1];if(ue>V)return!0;var de=void 0;switch(K.prefix.trim()){case"[]":case"[ ]":de="unchecked";break;case"[x]":de="checked";break;case"-":case"*":de="bullet";break;default:de="ordered"}this.quill.insertText(q.index," ",_.default.sources.USER),this.quill.history.cutoff();var ve=new x.default().retain(q.index-ue).delete(V+1).retain(ie.length()-2-ue).retain(1,{list:de});this.quill.updateContents(ve,_.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(q.index-V,_.default.sources.SILENT)}},"code exit":{key:B.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(q){var K=this.quill.getLine(q.index),V=o(K,2),Q=V[0],re=V[1],ie=new x.default().retain(q.index+Q.length()-re-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(ie,_.default.sources.USER)}},"embed left":H(B.keys.LEFT,!1),"embed left shift":H(B.keys.LEFT,!0),"embed right":H(B.keys.RIGHT,!1),"embed right shift":H(B.keys.RIGHT,!0)}};function H(M,q){var K,V=M===B.keys.LEFT?"prefix":"suffix";return K={key:M,shiftKey:q,altKey:null},E(K,V,/^$/),E(K,"handler",function(re){var ie=re.index;M===B.keys.RIGHT&&(ie+=re.length+1);var ue=this.quill.getLeaf(ie),de=o(ue,1),ve=de[0];return ve instanceof y.default.Embed?(M===B.keys.LEFT?q?this.quill.setSelection(re.index-1,re.length+1,_.default.sources.USER):this.quill.setSelection(re.index-1,_.default.sources.USER):q?this.quill.setSelection(re.index,re.length+1,_.default.sources.USER):this.quill.setSelection(re.index+re.length+1,_.default.sources.USER),!1):!0}),K}function U(M,q){if(!(M.index===0||this.quill.getLength()<=1)){var K=this.quill.getLine(M.index),V=o(K,1),Q=V[0],re={};if(q.offset===0){var ie=this.quill.getLine(M.index-1),ue=o(ie,1),de=ue[0];if(de!=null&&de.length()>1){var ve=Q.formats(),$e=this.quill.getFormat(M.index-1,1);re=m.default.attributes.diff(ve,$e)||{}}}var Re=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(q.prefix)?2:1;this.quill.deleteText(M.index-Re,Re,_.default.sources.USER),Object.keys(re).length>0&&this.quill.formatLine(M.index-Re,Re,re,_.default.sources.USER),this.quill.focus()}}function I(M,q){var K=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(q.suffix)?2:1;if(!(M.index>=this.quill.getLength()-K)){var V={},Q=0,re=this.quill.getLine(M.index),ie=o(re,1),ue=ie[0];if(q.offset>=ue.length()-1){var de=this.quill.getLine(M.index+1),ve=o(de,1),$e=ve[0];if($e){var Re=ue.formats(),G=this.quill.getFormat(M.index,1);V=m.default.attributes.diff(Re,G)||{},Q=$e.length()}}this.quill.deleteText(M.index,K,_.default.sources.USER),Object.keys(V).length>0&&this.quill.formatLine(M.index+Q-1,K,V,_.default.sources.USER)}}function A(M){var q=this.quill.getLines(M),K={};if(q.length>1){var V=q[0].formats(),Q=q[q.length-1].formats();K=m.default.attributes.diff(Q,V)||{}}this.quill.deleteText(M,_.default.sources.USER),Object.keys(K).length>0&&this.quill.formatLine(M.index,1,K,_.default.sources.USER),this.quill.setSelection(M.index,_.default.sources.SILENT),this.quill.focus()}function L(M,q){var K=this;M.length>0&&this.quill.scroll.deleteAt(M.index,M.length);var V=Object.keys(q.format).reduce(function(Q,re){return y.default.query(re,y.default.Scope.BLOCK)&&!Array.isArray(q.format[re])&&(Q[re]=q.format[re]),Q},{});this.quill.insertText(M.index,`
`,V,_.default.sources.USER),this.quill.setSelection(M.index+1,_.default.sources.SILENT),this.quill.focus(),Object.keys(q.format).forEach(function(Q){V[Q]==null&&(Array.isArray(q.format[Q])||Q!=="link"&&K.quill.format(Q,q.format[Q],_.default.sources.USER))})}function D(M){return{key:B.keys.TAB,shiftKey:!M,format:{"code-block":!0},handler:function(K){var V=y.default.query("code-block"),Q=K.index,re=K.length,ie=this.quill.scroll.descendant(V,Q),ue=o(ie,2),de=ue[0],ve=ue[1];if(de!=null){var $e=this.quill.getIndex(de),Re=de.newlineIndex(ve,!0)+1,G=de.newlineIndex($e+ve+re),J=de.domNode.textContent.slice(Re,G).split(`
`);ve=0,J.forEach(function(te,ne){M?(de.insertAt(Re+ve,V.TAB),ve+=V.TAB.length,ne===0?Q+=V.TAB.length:re+=V.TAB.length):te.startsWith(V.TAB)&&(de.deleteAt(Re+ve,V.TAB.length),ve-=V.TAB.length,ne===0?Q-=V.TAB.length:re-=V.TAB.length),ve+=te.length+1}),this.quill.update(_.default.sources.USER),this.quill.setSelection(Q,re,_.default.sources.SILENT)}}}}function W(M){return{key:M[0].toUpperCase(),shortKey:!0,handler:function(K,V){this.quill.format(M,!V.format[M],_.default.sources.USER)}}}function z(M){if(typeof M=="string"||typeof M=="number")return z({key:M});if((typeof M>"u"?"undefined":i(M))==="object"&&(M=(0,d.default)(M,!1)),typeof M.key=="string")if(B.keys[M.key.toUpperCase()]!=null)M.key=B.keys[M.key.toUpperCase()];else if(M.key.length===1)M.key=M.key.toUpperCase().charCodeAt(0);else return null;return M.shortKey&&(M[F]=M.shortKey,delete M.shortKey),M}n.default=B,n.SHORTKEY=F},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function m(g,y){var v=[],_=!0,N=!1,j=void 0;try{for(var S=g[Symbol.iterator](),R;!(_=(R=S.next()).done)&&(v.push(R.value),!(y&&v.length===y));_=!0);}catch(k){N=!0,j=k}finally{try{!_&&S.return&&S.return()}finally{if(N)throw j}}return v}return function(g,y){if(Array.isArray(g))return g;if(Symbol.iterator in Object(g))return m(g,y);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function m(g,y,v){g===null&&(g=Function.prototype);var _=Object.getOwnPropertyDescriptor(g,y);if(_===void 0){var N=Object.getPrototypeOf(g);return N===null?void 0:m(N,y,v)}else{if("value"in _)return _.value;var j=_.get;return j===void 0?void 0:j.call(v)}},l=function(){function m(g,y){for(var v=0;v<y.length;v++){var _=y[v];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(g,_.key,_)}}return function(g,y,v){return y&&m(g.prototype,y),v&&m(g,v),g}}(),c=s(0),d=u(c),h=s(7),f=u(h);function u(m){return m&&m.__esModule?m:{default:m}}function p(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}function b(m,g){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:m}function x(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);m.prototype=Object.create(g&&g.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(m,g):m.__proto__=g)}var w=function(m){x(g,m),l(g,null,[{key:"value",value:function(){}}]);function g(y,v){p(this,g);var _=b(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,y));return _.selection=v,_.textNode=document.createTextNode(g.CONTENTS),_.domNode.appendChild(_.textNode),_._length=0,_}return l(g,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(v,_){if(this._length!==0)return o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"format",this).call(this,v,_);for(var N=this,j=0;N!=null&&N.statics.scope!==d.default.Scope.BLOCK_BLOT;)j+=N.offset(N.parent),N=N.parent;N!=null&&(this._length=g.CONTENTS.length,N.optimize(),N.formatAt(j,g.CONTENTS.length,v,_),this._length=0)}},{key:"index",value:function(v,_){return v===this.textNode?0:o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"index",this).call(this,v,_)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var v=this.textNode,_=this.selection.getNativeRange(),N=void 0,j=void 0,S=void 0;if(_!=null&&_.start.node===v&&_.end.node===v){var R=[v,_.start.offset,_.end.offset];N=R[0],j=R[1],S=R[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==g.CONTENTS){var k=this.textNode.data.split(g.CONTENTS).join("");this.next instanceof f.default?(N=this.next.domNode,this.next.insertAt(0,k),this.textNode.data=g.CONTENTS):(this.textNode.data=k,this.parent.insertBefore(d.default.create(this.textNode),this),this.textNode=document.createTextNode(g.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),j!=null){var E=[j,S].map(function(P){return Math.max(0,Math.min(N.data.length,P-1))}),T=i(E,2);return j=T[0],S=T[1],{startNode:N,startOffset:j,endNode:N,endOffset:S}}}}},{key:"update",value:function(v,_){var N=this;if(v.some(function(S){return S.type==="characterData"&&S.target===N.textNode})){var j=this.restore();j&&(_.range=j)}}},{key:"value",value:function(){return""}}]),g}(d.default.Embed);w.blotName="cursor",w.className="ql-cursor",w.tagName="span",w.CONTENTS="\uFEFF",n.default=w},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=s(0),o=d(i),l=s(4),c=d(l);function d(b){return b&&b.__esModule?b:{default:b}}function h(b,x){if(!(b instanceof x))throw new TypeError("Cannot call a class as a function")}function f(b,x){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:b}function u(b,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);b.prototype=Object.create(x&&x.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(b,x):b.__proto__=x)}var p=function(b){u(x,b);function x(){return h(this,x),f(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return x}(o.default.Container);p.allowedChildren=[c.default,l.BlockEmbed,p],n.default=p},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.ColorStyle=n.ColorClass=n.ColorAttributor=void 0;var i=function(){function w(m,g){for(var y=0;y<g.length;y++){var v=g[y];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,v.key,v)}}return function(m,g,y){return g&&w(m.prototype,g),y&&w(m,y),m}}(),o=function w(m,g,y){m===null&&(m=Function.prototype);var v=Object.getOwnPropertyDescriptor(m,g);if(v===void 0){var _=Object.getPrototypeOf(m);return _===null?void 0:w(_,g,y)}else{if("value"in v)return v.value;var N=v.get;return N===void 0?void 0:N.call(y)}},l=s(0),c=d(l);function d(w){return w&&w.__esModule?w:{default:w}}function h(w,m){if(!(w instanceof m))throw new TypeError("Cannot call a class as a function")}function f(w,m){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:w}function u(w,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);w.prototype=Object.create(m&&m.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(w,m):w.__proto__=m)}var p=function(w){u(m,w);function m(){return h(this,m),f(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return i(m,[{key:"value",value:function(y){var v=o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"value",this).call(this,y);return v.startsWith("rgb(")?(v=v.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+v.split(",").map(function(_){return("00"+parseInt(_).toString(16)).slice(-2)}).join("")):v}}]),m}(c.default.Attributor.Style),b=new c.default.Attributor.Class("color","ql-color",{scope:c.default.Scope.INLINE}),x=new p("color","color",{scope:c.default.Scope.INLINE});n.ColorAttributor=p,n.ColorClass=b,n.ColorStyle=x},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.sanitize=n.default=void 0;var i=function(){function x(w,m){for(var g=0;g<m.length;g++){var y=m[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(w,y.key,y)}}return function(w,m,g){return m&&x(w.prototype,m),g&&x(w,g),w}}(),o=function x(w,m,g){w===null&&(w=Function.prototype);var y=Object.getOwnPropertyDescriptor(w,m);if(y===void 0){var v=Object.getPrototypeOf(w);return v===null?void 0:x(v,m,g)}else{if("value"in y)return y.value;var _=y.get;return _===void 0?void 0:_.call(g)}},l=s(6),c=d(l);function d(x){return x&&x.__esModule?x:{default:x}}function h(x,w){if(!(x instanceof w))throw new TypeError("Cannot call a class as a function")}function f(x,w){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:x}function u(x,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);x.prototype=Object.create(w&&w.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(x,w):x.__proto__=w)}var p=function(x){u(w,x);function w(){return h(this,w),f(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return i(w,[{key:"format",value:function(g,y){if(g!==this.statics.blotName||!y)return o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"format",this).call(this,g,y);y=this.constructor.sanitize(y),this.domNode.setAttribute("href",y)}}],[{key:"create",value:function(g){var y=o(w.__proto__||Object.getPrototypeOf(w),"create",this).call(this,g);return g=this.sanitize(g),y.setAttribute("href",g),y.setAttribute("rel","noopener noreferrer"),y.setAttribute("target","_blank"),y}},{key:"formats",value:function(g){return g.getAttribute("href")}},{key:"sanitize",value:function(g){return b(g,this.PROTOCOL_WHITELIST)?g:this.SANITIZED_URL}}]),w}(c.default);p.blotName="link",p.tagName="A",p.SANITIZED_URL="about:blank",p.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function b(x,w){var m=document.createElement("a");m.href=x;var g=m.href.slice(0,m.href.indexOf(":"));return w.indexOf(g)>-1}n.default=p,n.sanitize=b},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},o=function(){function w(m,g){for(var y=0;y<g.length;y++){var v=g[y];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,v.key,v)}}return function(m,g,y){return g&&w(m.prototype,g),y&&w(m,y),m}}(),l=s(23),c=f(l),d=s(107),h=f(d);function f(w){return w&&w.__esModule?w:{default:w}}function u(w,m){if(!(w instanceof m))throw new TypeError("Cannot call a class as a function")}var p=0;function b(w,m){w.setAttribute(m,w.getAttribute(m)!=="true")}var x=function(){function w(m){var g=this;u(this,w),this.select=m,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){g.togglePicker()}),this.label.addEventListener("keydown",function(y){switch(y.keyCode){case c.default.keys.ENTER:g.togglePicker();break;case c.default.keys.ESCAPE:g.escape(),y.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return o(w,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),b(this.label,"aria-expanded"),b(this.options,"aria-hidden")}},{key:"buildItem",value:function(g){var y=this,v=document.createElement("span");return v.tabIndex="0",v.setAttribute("role","button"),v.classList.add("ql-picker-item"),g.hasAttribute("value")&&v.setAttribute("data-value",g.getAttribute("value")),g.textContent&&v.setAttribute("data-label",g.textContent),v.addEventListener("click",function(){y.selectItem(v,!0)}),v.addEventListener("keydown",function(_){switch(_.keyCode){case c.default.keys.ENTER:y.selectItem(v,!0),_.preventDefault();break;case c.default.keys.ESCAPE:y.escape(),_.preventDefault();break}}),v}},{key:"buildLabel",value:function(){var g=document.createElement("span");return g.classList.add("ql-picker-label"),g.innerHTML=h.default,g.tabIndex="0",g.setAttribute("role","button"),g.setAttribute("aria-expanded","false"),this.container.appendChild(g),g}},{key:"buildOptions",value:function(){var g=this,y=document.createElement("span");y.classList.add("ql-picker-options"),y.setAttribute("aria-hidden","true"),y.tabIndex="-1",y.id="ql-picker-options-"+p,p+=1,this.label.setAttribute("aria-controls",y.id),this.options=y,[].slice.call(this.select.options).forEach(function(v){var _=g.buildItem(v);y.appendChild(_),v.selected===!0&&g.selectItem(_)}),this.container.appendChild(y)}},{key:"buildPicker",value:function(){var g=this;[].slice.call(this.select.attributes).forEach(function(y){g.container.setAttribute(y.name,y.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var g=this;this.close(),setTimeout(function(){return g.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(g){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,v=this.container.querySelector(".ql-selected");if(g!==v&&(v!=null&&v.classList.remove("ql-selected"),g!=null&&(g.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(g.parentNode.children,g),g.hasAttribute("data-value")?this.label.setAttribute("data-value",g.getAttribute("data-value")):this.label.removeAttribute("data-value"),g.hasAttribute("data-label")?this.label.setAttribute("data-label",g.getAttribute("data-label")):this.label.removeAttribute("data-label"),y))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":i(Event))==="object"){var _=document.createEvent("Event");_.initEvent("change",!0,!0),this.select.dispatchEvent(_)}this.close()}}},{key:"update",value:function(){var g=void 0;if(this.select.selectedIndex>-1){var y=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];g=this.select.options[this.select.selectedIndex],this.selectItem(y)}else this.selectItem(null);var v=g!=null&&g!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",v)}}]),w}();n.default=x},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=s(0),o=$(i),l=s(5),c=$(l),d=s(4),h=$(d),f=s(16),u=$(f),p=s(25),b=$(p),x=s(24),w=$(x),m=s(35),g=$(m),y=s(6),v=$(y),_=s(22),N=$(_),j=s(7),S=$(j),R=s(55),k=$(R),E=s(42),T=$(E),P=s(23),C=$(P);function $(F){return F&&F.__esModule?F:{default:F}}c.default.register({"blots/block":h.default,"blots/block/embed":d.BlockEmbed,"blots/break":u.default,"blots/container":b.default,"blots/cursor":w.default,"blots/embed":g.default,"blots/inline":v.default,"blots/scroll":N.default,"blots/text":S.default,"modules/clipboard":k.default,"modules/history":T.default,"modules/keyboard":C.default}),o.default.register(h.default,u.default,w.default,v.default,N.default,S.default),n.default=c.default},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=s(1),o=function(){function l(c){this.domNode=c,this.domNode[i.DATA_KEY]={blot:this}}return Object.defineProperty(l.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),l.create=function(c){if(this.tagName==null)throw new i.ParchmentError("Blot definition missing tagName");var d;return Array.isArray(this.tagName)?(typeof c=="string"&&(c=c.toUpperCase(),parseInt(c).toString()===c&&(c=parseInt(c))),typeof c=="number"?d=document.createElement(this.tagName[c-1]):this.tagName.indexOf(c)>-1?d=document.createElement(c):d=document.createElement(this.tagName[0])):d=document.createElement(this.tagName),this.className&&d.classList.add(this.className),d},l.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},l.prototype.clone=function(){var c=this.domNode.cloneNode(!1);return i.create(c)},l.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[i.DATA_KEY]},l.prototype.deleteAt=function(c,d){var h=this.isolate(c,d);h.remove()},l.prototype.formatAt=function(c,d,h,f){var u=this.isolate(c,d);if(i.query(h,i.Scope.BLOT)!=null&&f)u.wrap(h,f);else if(i.query(h,i.Scope.ATTRIBUTE)!=null){var p=i.create(this.statics.scope);u.wrap(p),p.format(h,f)}},l.prototype.insertAt=function(c,d,h){var f=h==null?i.create("text",d):i.create(d,h),u=this.split(c);this.parent.insertBefore(f,u)},l.prototype.insertInto=function(c,d){d===void 0&&(d=null),this.parent!=null&&this.parent.children.remove(this);var h=null;c.children.insertBefore(this,d),d!=null&&(h=d.domNode),(this.domNode.parentNode!=c.domNode||this.domNode.nextSibling!=h)&&c.domNode.insertBefore(this.domNode,h),this.parent=c,this.attach()},l.prototype.isolate=function(c,d){var h=this.split(c);return h.split(d),h},l.prototype.length=function(){return 1},l.prototype.offset=function(c){return c===void 0&&(c=this.parent),this.parent==null||this==c?0:this.parent.children.offset(this)+this.parent.offset(c)},l.prototype.optimize=function(c){this.domNode[i.DATA_KEY]!=null&&delete this.domNode[i.DATA_KEY].mutations},l.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},l.prototype.replace=function(c){c.parent!=null&&(c.parent.insertBefore(this,c.next),c.remove())},l.prototype.replaceWith=function(c,d){var h=typeof c=="string"?i.create(c,d):c;return h.replace(this),h},l.prototype.split=function(c,d){return c===0?this:this.next},l.prototype.update=function(c,d){},l.prototype.wrap=function(c,d){var h=typeof c=="string"?i.create(c,d):c;return this.parent!=null&&this.parent.insertBefore(h,this.next),h.appendChild(this),h},l.blotName="abstract",l}();n.default=o},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=s(12),o=s(32),l=s(33),c=s(1),d=function(){function h(f){this.attributes={},this.domNode=f,this.build()}return h.prototype.attribute=function(f,u){u?f.add(this.domNode,u)&&(f.value(this.domNode)!=null?this.attributes[f.attrName]=f:delete this.attributes[f.attrName]):(f.remove(this.domNode),delete this.attributes[f.attrName])},h.prototype.build=function(){var f=this;this.attributes={};var u=i.default.keys(this.domNode),p=o.default.keys(this.domNode),b=l.default.keys(this.domNode);u.concat(p).concat(b).forEach(function(x){var w=c.query(x,c.Scope.ATTRIBUTE);w instanceof i.default&&(f.attributes[w.attrName]=w)})},h.prototype.copy=function(f){var u=this;Object.keys(this.attributes).forEach(function(p){var b=u.attributes[p].value(u.domNode);f.format(p,b)})},h.prototype.move=function(f){var u=this;this.copy(f),Object.keys(this.attributes).forEach(function(p){u.attributes[p].remove(u.domNode)}),this.attributes={}},h.prototype.values=function(){var f=this;return Object.keys(this.attributes).reduce(function(u,p){return u[p]=f.attributes[p].value(f.domNode),u},{})},h}();n.default=d},function(r,n,s){var i=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,f){h.__proto__=f}||function(h,f){for(var u in f)f.hasOwnProperty(u)&&(h[u]=f[u])};return function(h,f){d(h,f);function u(){this.constructor=h}h.prototype=f===null?Object.create(f):(u.prototype=f.prototype,new u)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=s(12);function l(d,h){var f=d.getAttribute("class")||"";return f.split(/\s+/).filter(function(u){return u.indexOf(h+"-")===0})}var c=function(d){i(h,d);function h(){return d!==null&&d.apply(this,arguments)||this}return h.keys=function(f){return(f.getAttribute("class")||"").split(/\s+/).map(function(u){return u.split("-").slice(0,-1).join("-")})},h.prototype.add=function(f,u){return this.canAdd(f,u)?(this.remove(f),f.classList.add(this.keyName+"-"+u),!0):!1},h.prototype.remove=function(f){var u=l(f,this.keyName);u.forEach(function(p){f.classList.remove(p)}),f.classList.length===0&&f.removeAttribute("class")},h.prototype.value=function(f){var u=l(f,this.keyName)[0]||"",p=u.slice(this.keyName.length+1);return this.canAdd(f,p)?p:""},h}(o.default);n.default=c},function(r,n,s){var i=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,f){h.__proto__=f}||function(h,f){for(var u in f)f.hasOwnProperty(u)&&(h[u]=f[u])};return function(h,f){d(h,f);function u(){this.constructor=h}h.prototype=f===null?Object.create(f):(u.prototype=f.prototype,new u)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=s(12);function l(d){var h=d.split("-"),f=h.slice(1).map(function(u){return u[0].toUpperCase()+u.slice(1)}).join("");return h[0]+f}var c=function(d){i(h,d);function h(){return d!==null&&d.apply(this,arguments)||this}return h.keys=function(f){return(f.getAttribute("style")||"").split(";").map(function(u){var p=u.split(":");return p[0].trim()})},h.prototype.add=function(f,u){return this.canAdd(f,u)?(f.style[l(this.keyName)]=u,!0):!1},h.prototype.remove=function(f){f.style[l(this.keyName)]="",f.getAttribute("style")||f.removeAttribute("style")},h.prototype.value=function(f){var u=f.style[l(this.keyName)];return this.canAdd(f,u)?u:""},h}(o.default);n.default=c},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function c(d,h){for(var f=0;f<h.length;f++){var u=h[f];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(d,u.key,u)}}return function(d,h,f){return h&&c(d.prototype,h),f&&c(d,f),d}}();function o(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}var l=function(){function c(d,h){o(this,c),this.quill=d,this.options=h,this.modules={}}return i(c,[{key:"init",value:function(){var h=this;Object.keys(this.options.modules).forEach(function(f){h.modules[f]==null&&h.addModule(f)})}},{key:"addModule",value:function(h){var f=this.quill.constructor.import("modules/"+h);return this.modules[h]=new f(this.quill,this.options.modules[h]||{}),this.modules[h]}}]),c}();l.DEFAULTS={modules:{}},l.themes={default:l},n.default=l},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function m(g,y){for(var v=0;v<y.length;v++){var _=y[v];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(g,_.key,_)}}return function(g,y,v){return y&&m(g.prototype,y),v&&m(g,v),g}}(),o=function m(g,y,v){g===null&&(g=Function.prototype);var _=Object.getOwnPropertyDescriptor(g,y);if(_===void 0){var N=Object.getPrototypeOf(g);return N===null?void 0:m(N,y,v)}else{if("value"in _)return _.value;var j=_.get;return j===void 0?void 0:j.call(v)}},l=s(0),c=f(l),d=s(7),h=f(d);function f(m){return m&&m.__esModule?m:{default:m}}function u(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}function p(m,g){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:m}function b(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);m.prototype=Object.create(g&&g.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(m,g):m.__proto__=g)}var x="\uFEFF",w=function(m){b(g,m);function g(y){u(this,g);var v=p(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,y));return v.contentNode=document.createElement("span"),v.contentNode.setAttribute("contenteditable",!1),[].slice.call(v.domNode.childNodes).forEach(function(_){v.contentNode.appendChild(_)}),v.leftGuard=document.createTextNode(x),v.rightGuard=document.createTextNode(x),v.domNode.appendChild(v.leftGuard),v.domNode.appendChild(v.contentNode),v.domNode.appendChild(v.rightGuard),v}return i(g,[{key:"index",value:function(v,_){return v===this.leftGuard?0:v===this.rightGuard?1:o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"index",this).call(this,v,_)}},{key:"restore",value:function(v){var _=void 0,N=void 0,j=v.data.split(x).join("");if(v===this.leftGuard)if(this.prev instanceof h.default){var S=this.prev.length();this.prev.insertAt(S,j),_={startNode:this.prev.domNode,startOffset:S+j.length}}else N=document.createTextNode(j),this.parent.insertBefore(c.default.create(N),this),_={startNode:N,startOffset:j.length};else v===this.rightGuard&&(this.next instanceof h.default?(this.next.insertAt(0,j),_={startNode:this.next.domNode,startOffset:j.length}):(N=document.createTextNode(j),this.parent.insertBefore(c.default.create(N),this.next),_={startNode:N,startOffset:j.length}));return v.data=x,_}},{key:"update",value:function(v,_){var N=this;v.forEach(function(j){if(j.type==="characterData"&&(j.target===N.leftGuard||j.target===N.rightGuard)){var S=N.restore(j.target);S&&(_.range=S)}})}}]),g}(c.default.Embed);n.default=w},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.AlignStyle=n.AlignClass=n.AlignAttribute=void 0;var i=s(0),o=l(i);function l(u){return u&&u.__esModule?u:{default:u}}var c={scope:o.default.Scope.BLOCK,whitelist:["right","center","justify"]},d=new o.default.Attributor.Attribute("align","align",c),h=new o.default.Attributor.Class("align","ql-align",c),f=new o.default.Attributor.Style("align","text-align",c);n.AlignAttribute=d,n.AlignClass=h,n.AlignStyle=f},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.BackgroundStyle=n.BackgroundClass=void 0;var i=s(0),o=c(i),l=s(26);function c(f){return f&&f.__esModule?f:{default:f}}var d=new o.default.Attributor.Class("background","ql-bg",{scope:o.default.Scope.INLINE}),h=new l.ColorAttributor("background","background-color",{scope:o.default.Scope.INLINE});n.BackgroundClass=d,n.BackgroundStyle=h},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.DirectionStyle=n.DirectionClass=n.DirectionAttribute=void 0;var i=s(0),o=l(i);function l(u){return u&&u.__esModule?u:{default:u}}var c={scope:o.default.Scope.BLOCK,whitelist:["rtl"]},d=new o.default.Attributor.Attribute("direction","dir",c),h=new o.default.Attributor.Class("direction","ql-direction",c),f=new o.default.Attributor.Style("direction","direction",c);n.DirectionAttribute=d,n.DirectionClass=h,n.DirectionStyle=f},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.FontClass=n.FontStyle=void 0;var i=function(){function m(g,y){for(var v=0;v<y.length;v++){var _=y[v];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(g,_.key,_)}}return function(g,y,v){return y&&m(g.prototype,y),v&&m(g,v),g}}(),o=function m(g,y,v){g===null&&(g=Function.prototype);var _=Object.getOwnPropertyDescriptor(g,y);if(_===void 0){var N=Object.getPrototypeOf(g);return N===null?void 0:m(N,y,v)}else{if("value"in _)return _.value;var j=_.get;return j===void 0?void 0:j.call(v)}},l=s(0),c=d(l);function d(m){return m&&m.__esModule?m:{default:m}}function h(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}function f(m,g){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:m}function u(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);m.prototype=Object.create(g&&g.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(m,g):m.__proto__=g)}var p={scope:c.default.Scope.INLINE,whitelist:["serif","monospace"]},b=new c.default.Attributor.Class("font","ql-font",p),x=function(m){u(g,m);function g(){return h(this,g),f(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return i(g,[{key:"value",value:function(v){return o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"value",this).call(this,v).replace(/["']/g,"")}}]),g}(c.default.Attributor.Style),w=new x("font","font-family",p);n.FontStyle=w,n.FontClass=b},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.SizeStyle=n.SizeClass=void 0;var i=s(0),o=l(i);function l(h){return h&&h.__esModule?h:{default:h}}var c=new o.default.Attributor.Class("size","ql-size",{scope:o.default.Scope.INLINE,whitelist:["small","large","huge"]}),d=new o.default.Attributor.Style("size","font-size",{scope:o.default.Scope.INLINE,whitelist:["10px","18px","32px"]});n.SizeClass=c,n.SizeStyle=d},function(r,n,s){r.exports={align:{"":s(76),center:s(77),right:s(78),justify:s(79)},background:s(80),blockquote:s(81),bold:s(82),clean:s(83),code:s(58),"code-block":s(58),color:s(84),direction:{"":s(85),rtl:s(86)},float:{center:s(87),full:s(88),left:s(89),right:s(90)},formula:s(91),header:{1:s(92),2:s(93)},italic:s(94),image:s(95),indent:{"+1":s(96),"-1":s(97)},link:s(98),list:{ordered:s(99),bullet:s(100),check:s(101)},script:{sub:s(102),super:s(103)},strike:s(104),underline:s(105),video:s(106)}},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.getLastChangeIndex=n.default=void 0;var i=function(){function y(v,_){for(var N=0;N<_.length;N++){var j=_[N];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(v,j.key,j)}}return function(v,_,N){return _&&y(v.prototype,_),N&&y(v,N),v}}(),o=s(0),l=u(o),c=s(5),d=u(c),h=s(9),f=u(h);function u(y){return y&&y.__esModule?y:{default:y}}function p(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}function b(y,v){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:y}function x(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(y,v):y.__proto__=v)}var w=function(y){x(v,y);function v(_,N){p(this,v);var j=b(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,_,N));return j.lastRecorded=0,j.ignoreChange=!1,j.clear(),j.quill.on(d.default.events.EDITOR_CHANGE,function(S,R,k,E){S!==d.default.events.TEXT_CHANGE||j.ignoreChange||(!j.options.userOnly||E===d.default.sources.USER?j.record(R,k):j.transform(R))}),j.quill.keyboard.addBinding({key:"Z",shortKey:!0},j.undo.bind(j)),j.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},j.redo.bind(j)),/Win/i.test(navigator.platform)&&j.quill.keyboard.addBinding({key:"Y",shortKey:!0},j.redo.bind(j)),j}return i(v,[{key:"change",value:function(N,j){if(this.stack[N].length!==0){var S=this.stack[N].pop();this.stack[j].push(S),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(S[N],d.default.sources.USER),this.ignoreChange=!1;var R=g(S[N]);this.quill.setSelection(R)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(N,j){if(N.ops.length!==0){this.stack.redo=[];var S=this.quill.getContents().diff(j),R=Date.now();if(this.lastRecorded+this.options.delay>R&&this.stack.undo.length>0){var k=this.stack.undo.pop();S=S.compose(k.undo),N=k.redo.compose(N)}else this.lastRecorded=R;this.stack.undo.push({redo:N,undo:S}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(N){this.stack.undo.forEach(function(j){j.undo=N.transform(j.undo,!0),j.redo=N.transform(j.redo,!0)}),this.stack.redo.forEach(function(j){j.undo=N.transform(j.undo,!0),j.redo=N.transform(j.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),v}(f.default);w.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function m(y){var v=y.ops[y.ops.length-1];return v==null?!1:v.insert!=null?typeof v.insert=="string"&&v.insert.endsWith(`
`):v.attributes!=null?Object.keys(v.attributes).some(function(_){return l.default.query(_,l.default.Scope.BLOCK)!=null}):!1}function g(y){var v=y.reduce(function(N,j){return N+=j.delete||0,N},0),_=y.length()-v;return m(y)&&(_-=1),_}n.default=w,n.getLastChangeIndex=g},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BaseTooltip=void 0;var i=function(){function L(D,W){for(var z=0;z<W.length;z++){var M=W[z];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(D,M.key,M)}}return function(D,W,z){return W&&L(D.prototype,W),z&&L(D,z),D}}(),o=function L(D,W,z){D===null&&(D=Function.prototype);var M=Object.getOwnPropertyDescriptor(D,W);if(M===void 0){var q=Object.getPrototypeOf(D);return q===null?void 0:L(q,W,z)}else{if("value"in M)return M.value;var K=M.get;return K===void 0?void 0:K.call(z)}},l=s(3),c=R(l),d=s(2),h=R(d),f=s(8),u=R(f),p=s(23),b=R(p),x=s(34),w=R(x),m=s(59),g=R(m),y=s(60),v=R(y),_=s(28),N=R(_),j=s(61),S=R(j);function R(L){return L&&L.__esModule?L:{default:L}}function k(L,D){if(!(L instanceof D))throw new TypeError("Cannot call a class as a function")}function E(L,D){if(!L)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D&&(typeof D=="object"||typeof D=="function")?D:L}function T(L,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof D);L.prototype=Object.create(D&&D.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(L,D):L.__proto__=D)}var P=[!1,"center","right","justify"],C=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],$=[!1,"serif","monospace"],F=["1","2","3",!1],B=["small",!1,"large","huge"],H=function(L){T(D,L);function D(W,z){k(this,D);var M=E(this,(D.__proto__||Object.getPrototypeOf(D)).call(this,W,z)),q=function K(V){if(!document.body.contains(W.root))return document.body.removeEventListener("click",K);M.tooltip!=null&&!M.tooltip.root.contains(V.target)&&document.activeElement!==M.tooltip.textbox&&!M.quill.hasFocus()&&M.tooltip.hide(),M.pickers!=null&&M.pickers.forEach(function(Q){Q.container.contains(V.target)||Q.close()})};return W.emitter.listenDOM("click",document.body,q),M}return i(D,[{key:"addModule",value:function(z){var M=o(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"addModule",this).call(this,z);return z==="toolbar"&&this.extendToolbar(M),M}},{key:"buildButtons",value:function(z,M){z.forEach(function(q){var K=q.getAttribute("class")||"";K.split(/\s+/).forEach(function(V){if(V.startsWith("ql-")&&(V=V.slice(3),M[V]!=null))if(V==="direction")q.innerHTML=M[V][""]+M[V].rtl;else if(typeof M[V]=="string")q.innerHTML=M[V];else{var Q=q.value||"";Q!=null&&M[V][Q]&&(q.innerHTML=M[V][Q])}})})}},{key:"buildPickers",value:function(z,M){var q=this;this.pickers=z.map(function(V){if(V.classList.contains("ql-align"))return V.querySelector("option")==null&&A(V,P),new v.default(V,M.align);if(V.classList.contains("ql-background")||V.classList.contains("ql-color")){var Q=V.classList.contains("ql-background")?"background":"color";return V.querySelector("option")==null&&A(V,C,Q==="background"?"#ffffff":"#000000"),new g.default(V,M[Q])}else return V.querySelector("option")==null&&(V.classList.contains("ql-font")?A(V,$):V.classList.contains("ql-header")?A(V,F):V.classList.contains("ql-size")&&A(V,B)),new N.default(V)});var K=function(){q.pickers.forEach(function(Q){Q.update()})};this.quill.on(u.default.events.EDITOR_CHANGE,K)}}]),D}(w.default);H.DEFAULTS=(0,c.default)(!0,{},w.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var D=this,W=this.container.querySelector("input.ql-image[type=file]");W==null&&(W=document.createElement("input"),W.setAttribute("type","file"),W.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),W.classList.add("ql-image"),W.addEventListener("change",function(){if(W.files!=null&&W.files[0]!=null){var z=new FileReader;z.onload=function(M){var q=D.quill.getSelection(!0);D.quill.updateContents(new h.default().retain(q.index).delete(q.length).insert({image:M.target.result}),u.default.sources.USER),D.quill.setSelection(q.index+1,u.default.sources.SILENT),W.value=""},z.readAsDataURL(W.files[0])}}),this.container.appendChild(W)),W.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var U=function(L){T(D,L);function D(W,z){k(this,D);var M=E(this,(D.__proto__||Object.getPrototypeOf(D)).call(this,W,z));return M.textbox=M.root.querySelector('input[type="text"]'),M.listen(),M}return i(D,[{key:"listen",value:function(){var z=this;this.textbox.addEventListener("keydown",function(M){b.default.match(M,"enter")?(z.save(),M.preventDefault()):b.default.match(M,"escape")&&(z.cancel(),M.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),M!=null?this.textbox.value=M:z!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+z)||""),this.root.setAttribute("data-mode",z)}},{key:"restoreFocus",value:function(){var z=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=z}},{key:"save",value:function(){var z=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var M=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",z,u.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",z,u.default.sources.USER)),this.quill.root.scrollTop=M;break}case"video":z=I(z);case"formula":{if(!z)break;var q=this.quill.getSelection(!0);if(q!=null){var K=q.index+q.length;this.quill.insertEmbed(K,this.root.getAttribute("data-mode"),z,u.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(K+1," ",u.default.sources.USER),this.quill.setSelection(K+2,u.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),D}(S.default);function I(L){var D=L.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||L.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return D?(D[1]||"https")+"://www.youtube.com/embed/"+D[2]+"?showinfo=0":(D=L.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(D[1]||"https")+"://player.vimeo.com/video/"+D[2]+"/":L}function A(L,D){var W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;D.forEach(function(z){var M=document.createElement("option");z===W?M.setAttribute("selected","selected"):M.setAttribute("value",z),L.appendChild(M)})}n.BaseTooltip=U,n.default=H},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function o(){this.head=this.tail=null,this.length=0}return o.prototype.append=function(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];this.insertBefore(l[0],null),l.length>1&&this.append.apply(this,l.slice(1))},o.prototype.contains=function(l){for(var c,d=this.iterator();c=d();)if(c===l)return!0;return!1},o.prototype.insertBefore=function(l,c){l&&(l.next=c,c!=null?(l.prev=c.prev,c.prev!=null&&(c.prev.next=l),c.prev=l,c===this.head&&(this.head=l)):this.tail!=null?(this.tail.next=l,l.prev=this.tail,this.tail=l):(l.prev=null,this.head=this.tail=l),this.length+=1)},o.prototype.offset=function(l){for(var c=0,d=this.head;d!=null;){if(d===l)return c;c+=d.length(),d=d.next}return-1},o.prototype.remove=function(l){this.contains(l)&&(l.prev!=null&&(l.prev.next=l.next),l.next!=null&&(l.next.prev=l.prev),l===this.head&&(this.head=l.next),l===this.tail&&(this.tail=l.prev),this.length-=1)},o.prototype.iterator=function(l){return l===void 0&&(l=this.head),function(){var c=l;return l!=null&&(l=l.next),c}},o.prototype.find=function(l,c){c===void 0&&(c=!1);for(var d,h=this.iterator();d=h();){var f=d.length();if(l<f||c&&l===f&&(d.next==null||d.next.length()!==0))return[d,l];l-=f}return[null,0]},o.prototype.forEach=function(l){for(var c,d=this.iterator();c=d();)l(c)},o.prototype.forEachAt=function(l,c,d){if(!(c<=0))for(var h=this.find(l),f=h[0],u=h[1],p,b=l-u,x=this.iterator(f);(p=x())&&b<l+c;){var w=p.length();l>b?d(p,l-b,Math.min(c,b+w-l)):d(p,0,Math.min(w,l+c-b)),b+=w}},o.prototype.map=function(l){return this.reduce(function(c,d){return c.push(l(d)),c},[])},o.prototype.reduce=function(l,c){for(var d,h=this.iterator();d=h();)c=l(c,d);return c},o}();n.default=i},function(r,n,s){var i=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,p){u.__proto__=p}||function(u,p){for(var b in p)p.hasOwnProperty(b)&&(u[b]=p[b])};return function(u,p){f(u,p);function b(){this.constructor=u}u.prototype=p===null?Object.create(p):(b.prototype=p.prototype,new b)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=s(17),l=s(1),c={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},d=100,h=function(f){i(u,f);function u(p){var b=f.call(this,p)||this;return b.scroll=b,b.observer=new MutationObserver(function(x){b.update(x)}),b.observer.observe(b.domNode,c),b.attach(),b}return u.prototype.detach=function(){f.prototype.detach.call(this),this.observer.disconnect()},u.prototype.deleteAt=function(p,b){this.update(),p===0&&b===this.length()?this.children.forEach(function(x){x.remove()}):f.prototype.deleteAt.call(this,p,b)},u.prototype.formatAt=function(p,b,x,w){this.update(),f.prototype.formatAt.call(this,p,b,x,w)},u.prototype.insertAt=function(p,b,x){this.update(),f.prototype.insertAt.call(this,p,b,x)},u.prototype.optimize=function(p,b){var x=this;p===void 0&&(p=[]),b===void 0&&(b={}),f.prototype.optimize.call(this,b);for(var w=[].slice.call(this.observer.takeRecords());w.length>0;)p.push(w.pop());for(var m=function(_,N){N===void 0&&(N=!0),!(_==null||_===x)&&_.domNode.parentNode!=null&&(_.domNode[l.DATA_KEY].mutations==null&&(_.domNode[l.DATA_KEY].mutations=[]),N&&m(_.parent))},g=function(_){_.domNode[l.DATA_KEY]==null||_.domNode[l.DATA_KEY].mutations==null||(_ instanceof o.default&&_.children.forEach(g),_.optimize(b))},y=p,v=0;y.length>0;v+=1){if(v>=d)throw new Error("[Parchment] Maximum optimize iterations reached");for(y.forEach(function(_){var N=l.find(_.target,!0);N!=null&&(N.domNode===_.target&&(_.type==="childList"?(m(l.find(_.previousSibling,!1)),[].forEach.call(_.addedNodes,function(j){var S=l.find(j,!1);m(S,!1),S instanceof o.default&&S.children.forEach(function(R){m(R,!1)})})):_.type==="attributes"&&m(N.prev)),m(N))}),this.children.forEach(g),y=[].slice.call(this.observer.takeRecords()),w=y.slice();w.length>0;)p.push(w.pop())}},u.prototype.update=function(p,b){var x=this;b===void 0&&(b={}),p=p||this.observer.takeRecords(),p.map(function(w){var m=l.find(w.target,!0);return m==null?null:m.domNode[l.DATA_KEY].mutations==null?(m.domNode[l.DATA_KEY].mutations=[w],m):(m.domNode[l.DATA_KEY].mutations.push(w),null)}).forEach(function(w){w==null||w===x||w.domNode[l.DATA_KEY]==null||w.update(w.domNode[l.DATA_KEY].mutations||[],b)}),this.domNode[l.DATA_KEY].mutations!=null&&f.prototype.update.call(this,this.domNode[l.DATA_KEY].mutations,b),this.optimize(p,b)},u.blotName="scroll",u.defaultChild="block",u.scope=l.Scope.BLOCK_BLOT,u.tagName="DIV",u}(o.default);n.default=h},function(r,n,s){var i=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,u){f.__proto__=u}||function(f,u){for(var p in u)u.hasOwnProperty(p)&&(f[p]=u[p])};return function(f,u){h(f,u);function p(){this.constructor=f}f.prototype=u===null?Object.create(u):(p.prototype=u.prototype,new p)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=s(18),l=s(1);function c(h,f){if(Object.keys(h).length!==Object.keys(f).length)return!1;for(var u in h)if(h[u]!==f[u])return!1;return!0}var d=function(h){i(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.formats=function(u){if(u.tagName!==f.tagName)return h.formats.call(this,u)},f.prototype.format=function(u,p){var b=this;u===this.statics.blotName&&!p?(this.children.forEach(function(x){x instanceof o.default||(x=x.wrap(f.blotName,!0)),b.attributes.copy(x)}),this.unwrap()):h.prototype.format.call(this,u,p)},f.prototype.formatAt=function(u,p,b,x){if(this.formats()[b]!=null||l.query(b,l.Scope.ATTRIBUTE)){var w=this.isolate(u,p);w.format(b,x)}else h.prototype.formatAt.call(this,u,p,b,x)},f.prototype.optimize=function(u){h.prototype.optimize.call(this,u);var p=this.formats();if(Object.keys(p).length===0)return this.unwrap();var b=this.next;b instanceof f&&b.prev===this&&c(p,b.formats())&&(b.moveChildren(this),b.remove())},f.blotName="inline",f.scope=l.Scope.INLINE_BLOT,f.tagName="SPAN",f}(o.default);n.default=d},function(r,n,s){var i=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,f){h.__proto__=f}||function(h,f){for(var u in f)f.hasOwnProperty(u)&&(h[u]=f[u])};return function(h,f){d(h,f);function u(){this.constructor=h}h.prototype=f===null?Object.create(f):(u.prototype=f.prototype,new u)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=s(18),l=s(1),c=function(d){i(h,d);function h(){return d!==null&&d.apply(this,arguments)||this}return h.formats=function(f){var u=l.query(h.blotName).tagName;if(f.tagName!==u)return d.formats.call(this,f)},h.prototype.format=function(f,u){l.query(f,l.Scope.BLOCK)!=null&&(f===this.statics.blotName&&!u?this.replaceWith(h.blotName):d.prototype.format.call(this,f,u))},h.prototype.formatAt=function(f,u,p,b){l.query(p,l.Scope.BLOCK)!=null?this.format(p,b):d.prototype.formatAt.call(this,f,u,p,b)},h.prototype.insertAt=function(f,u,p){if(p==null||l.query(u,l.Scope.INLINE)!=null)d.prototype.insertAt.call(this,f,u,p);else{var b=this.split(f),x=l.create(u,p);b.parent.insertBefore(x,b)}},h.prototype.update=function(f,u){navigator.userAgent.match(/Trident/)?this.build():d.prototype.update.call(this,f,u)},h.blotName="block",h.scope=l.Scope.BLOCK_BLOT,h.tagName="P",h}(o.default);n.default=c},function(r,n,s){var i=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var f in h)h.hasOwnProperty(f)&&(d[f]=h[f])};return function(d,h){c(d,h);function f(){this.constructor=d}d.prototype=h===null?Object.create(h):(f.prototype=h.prototype,new f)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=s(19),l=function(c){i(d,c);function d(){return c!==null&&c.apply(this,arguments)||this}return d.formats=function(h){},d.prototype.format=function(h,f){c.prototype.formatAt.call(this,0,this.length(),h,f)},d.prototype.formatAt=function(h,f,u,p){h===0&&f===this.length()?this.format(u,p):c.prototype.formatAt.call(this,h,f,u,p)},d.prototype.formats=function(){return this.statics.formats(this.domNode)},d}(o.default);n.default=l},function(r,n,s){var i=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,f){h.__proto__=f}||function(h,f){for(var u in f)f.hasOwnProperty(u)&&(h[u]=f[u])};return function(h,f){d(h,f);function u(){this.constructor=h}h.prototype=f===null?Object.create(f):(u.prototype=f.prototype,new u)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=s(19),l=s(1),c=function(d){i(h,d);function h(f){var u=d.call(this,f)||this;return u.text=u.statics.value(u.domNode),u}return h.create=function(f){return document.createTextNode(f)},h.value=function(f){var u=f.data;return u.normalize&&(u=u.normalize()),u},h.prototype.deleteAt=function(f,u){this.domNode.data=this.text=this.text.slice(0,f)+this.text.slice(f+u)},h.prototype.index=function(f,u){return this.domNode===f?u:-1},h.prototype.insertAt=function(f,u,p){p==null?(this.text=this.text.slice(0,f)+u+this.text.slice(f),this.domNode.data=this.text):d.prototype.insertAt.call(this,f,u,p)},h.prototype.length=function(){return this.text.length},h.prototype.optimize=function(f){d.prototype.optimize.call(this,f),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof h&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},h.prototype.position=function(f,u){return[this.domNode,f]},h.prototype.split=function(f,u){if(u===void 0&&(u=!1),!u){if(f===0)return this;if(f===this.length())return this.next}var p=l.create(this.domNode.splitText(f));return this.parent.insertBefore(p,this.next),this.text=this.statics.value(this.domNode),p},h.prototype.update=function(f,u){var p=this;f.some(function(b){return b.type==="characterData"&&b.target===p.domNode})&&(this.text=this.statics.value(this.domNode))},h.prototype.value=function(){return this.text},h.blotName="text",h.scope=l.Scope.INLINE_BLOT,h}(o.default);n.default=c},function(r,n,s){var i=document.createElement("div");if(i.classList.toggle("test-class",!1),i.classList.contains("test-class")){var o=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(l,c){return arguments.length>1&&!this.contains(l)==!c?c:o.call(this,l)}}String.prototype.startsWith||(String.prototype.startsWith=function(l,c){return c=c||0,this.substr(c,l.length)===l}),String.prototype.endsWith||(String.prototype.endsWith=function(l,c){var d=this.toString();(typeof c!="number"||!isFinite(c)||Math.floor(c)!==c||c>d.length)&&(c=d.length),c-=l.length;var h=d.indexOf(l,c);return h!==-1&&h===c}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(c){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof c!="function")throw new TypeError("predicate must be a function");for(var d=Object(this),h=d.length>>>0,f=arguments[1],u,p=0;p<h;p++)if(u=d[p],c.call(f,u,p,d))return u}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(r,n){var s=-1,i=1,o=0;function l(v,_,N){if(v==_)return v?[[o,v]]:[];(N<0||v.length<N)&&(N=null);var j=f(v,_),S=v.substring(0,j);v=v.substring(j),_=_.substring(j),j=u(v,_);var R=v.substring(v.length-j);v=v.substring(0,v.length-j),_=_.substring(0,_.length-j);var k=c(v,_);return S&&k.unshift([o,S]),R&&k.push([o,R]),b(k),N!=null&&(k=m(k,N)),k=g(k),k}function c(v,_){var N;if(!v)return[[i,_]];if(!_)return[[s,v]];var j=v.length>_.length?v:_,S=v.length>_.length?_:v,R=j.indexOf(S);if(R!=-1)return N=[[i,j.substring(0,R)],[o,S],[i,j.substring(R+S.length)]],v.length>_.length&&(N[0][0]=N[2][0]=s),N;if(S.length==1)return[[s,v],[i,_]];var k=p(v,_);if(k){var E=k[0],T=k[1],P=k[2],C=k[3],$=k[4],F=l(E,P),B=l(T,C);return F.concat([[o,$]],B)}return d(v,_)}function d(v,_){for(var N=v.length,j=_.length,S=Math.ceil((N+j)/2),R=S,k=2*S,E=new Array(k),T=new Array(k),P=0;P<k;P++)E[P]=-1,T[P]=-1;E[R+1]=0,T[R+1]=0;for(var C=N-j,$=C%2!=0,F=0,B=0,H=0,U=0,I=0;I<S;I++){for(var A=-I+F;A<=I-B;A+=2){var L=R+A,D;A==-I||A!=I&&E[L-1]<E[L+1]?D=E[L+1]:D=E[L-1]+1;for(var W=D-A;D<N&&W<j&&v.charAt(D)==_.charAt(W);)D++,W++;if(E[L]=D,D>N)B+=2;else if(W>j)F+=2;else if($){var z=R+C-A;if(z>=0&&z<k&&T[z]!=-1){var M=N-T[z];if(D>=M)return h(v,_,D,W)}}}for(var q=-I+H;q<=I-U;q+=2){var z=R+q,M;q==-I||q!=I&&T[z-1]<T[z+1]?M=T[z+1]:M=T[z-1]+1;for(var K=M-q;M<N&&K<j&&v.charAt(N-M-1)==_.charAt(j-K-1);)M++,K++;if(T[z]=M,M>N)U+=2;else if(K>j)H+=2;else if(!$){var L=R+C-q;if(L>=0&&L<k&&E[L]!=-1){var D=E[L],W=R+D-L;if(M=N-M,D>=M)return h(v,_,D,W)}}}}return[[s,v],[i,_]]}function h(v,_,N,j){var S=v.substring(0,N),R=_.substring(0,j),k=v.substring(N),E=_.substring(j),T=l(S,R),P=l(k,E);return T.concat(P)}function f(v,_){if(!v||!_||v.charAt(0)!=_.charAt(0))return 0;for(var N=0,j=Math.min(v.length,_.length),S=j,R=0;N<S;)v.substring(R,S)==_.substring(R,S)?(N=S,R=N):j=S,S=Math.floor((j-N)/2+N);return S}function u(v,_){if(!v||!_||v.charAt(v.length-1)!=_.charAt(_.length-1))return 0;for(var N=0,j=Math.min(v.length,_.length),S=j,R=0;N<S;)v.substring(v.length-S,v.length-R)==_.substring(_.length-S,_.length-R)?(N=S,R=N):j=S,S=Math.floor((j-N)/2+N);return S}function p(v,_){var N=v.length>_.length?v:_,j=v.length>_.length?_:v;if(N.length<4||j.length*2<N.length)return null;function S(B,H,U){for(var I=B.substring(U,U+Math.floor(B.length/4)),A=-1,L="",D,W,z,M;(A=H.indexOf(I,A+1))!=-1;){var q=f(B.substring(U),H.substring(A)),K=u(B.substring(0,U),H.substring(0,A));L.length<K+q&&(L=H.substring(A-K,A)+H.substring(A,A+q),D=B.substring(0,U-K),W=B.substring(U+q),z=H.substring(0,A-K),M=H.substring(A+q))}return L.length*2>=B.length?[D,W,z,M,L]:null}var R=S(N,j,Math.ceil(N.length/4)),k=S(N,j,Math.ceil(N.length/2)),E;if(!R&&!k)return null;k?R?E=R[4].length>k[4].length?R:k:E=k:E=R;var T,P,C,$;v.length>_.length?(T=E[0],P=E[1],C=E[2],$=E[3]):(C=E[0],$=E[1],T=E[2],P=E[3]);var F=E[4];return[T,P,C,$,F]}function b(v){v.push([o,""]);for(var _=0,N=0,j=0,S="",R="",k;_<v.length;)switch(v[_][0]){case i:j++,R+=v[_][1],_++;break;case s:N++,S+=v[_][1],_++;break;case o:N+j>1?(N!==0&&j!==0&&(k=f(R,S),k!==0&&(_-N-j>0&&v[_-N-j-1][0]==o?v[_-N-j-1][1]+=R.substring(0,k):(v.splice(0,0,[o,R.substring(0,k)]),_++),R=R.substring(k),S=S.substring(k)),k=u(R,S),k!==0&&(v[_][1]=R.substring(R.length-k)+v[_][1],R=R.substring(0,R.length-k),S=S.substring(0,S.length-k))),N===0?v.splice(_-j,N+j,[i,R]):j===0?v.splice(_-N,N+j,[s,S]):v.splice(_-N-j,N+j,[s,S],[i,R]),_=_-N-j+(N?1:0)+(j?1:0)+1):_!==0&&v[_-1][0]==o?(v[_-1][1]+=v[_][1],v.splice(_,1)):_++,j=0,N=0,S="",R="";break}v[v.length-1][1]===""&&v.pop();var E=!1;for(_=1;_<v.length-1;)v[_-1][0]==o&&v[_+1][0]==o&&(v[_][1].substring(v[_][1].length-v[_-1][1].length)==v[_-1][1]?(v[_][1]=v[_-1][1]+v[_][1].substring(0,v[_][1].length-v[_-1][1].length),v[_+1][1]=v[_-1][1]+v[_+1][1],v.splice(_-1,1),E=!0):v[_][1].substring(0,v[_+1][1].length)==v[_+1][1]&&(v[_-1][1]+=v[_+1][1],v[_][1]=v[_][1].substring(v[_+1][1].length)+v[_+1][1],v.splice(_+1,1),E=!0)),_++;E&&b(v)}var x=l;x.INSERT=i,x.DELETE=s,x.EQUAL=o,r.exports=x;function w(v,_){if(_===0)return[o,v];for(var N=0,j=0;j<v.length;j++){var S=v[j];if(S[0]===s||S[0]===o){var R=N+S[1].length;if(_===R)return[j+1,v];if(_<R){v=v.slice();var k=_-N,E=[S[0],S[1].slice(0,k)],T=[S[0],S[1].slice(k)];return v.splice(j,1,E,T),[j+1,v]}else N=R}}throw new Error("cursor_pos is out of bounds!")}function m(v,_){var N=w(v,_),j=N[1],S=N[0],R=j[S],k=j[S+1];if(R==null)return v;if(R[0]!==o)return v;if(k!=null&&R[1]+k[1]===k[1]+R[1])return j.splice(S,2,k,R),y(j,S,2);if(k!=null&&k[1].indexOf(R[1])===0){j.splice(S,2,[k[0],R[1]],[0,R[1]]);var E=k[1].slice(R[1].length);return E.length>0&&j.splice(S+2,0,[k[0],E]),y(j,S,3)}else return v}function g(v){for(var _=!1,N=function(k){return k.charCodeAt(0)>=56320&&k.charCodeAt(0)<=57343},j=function(k){return k.charCodeAt(k.length-1)>=55296&&k.charCodeAt(k.length-1)<=56319},S=2;S<v.length;S+=1)v[S-2][0]===o&&j(v[S-2][1])&&v[S-1][0]===s&&N(v[S-1][1])&&v[S][0]===i&&N(v[S][1])&&(_=!0,v[S-1][1]=v[S-2][1].slice(-1)+v[S-1][1],v[S][1]=v[S-2][1].slice(-1)+v[S][1],v[S-2][1]=v[S-2][1].slice(0,-1));if(!_)return v;for(var R=[],S=0;S<v.length;S+=1)v[S][1].length>0&&R.push(v[S]);return R}function y(v,_,N){for(var j=_+N-1;j>=0&&j>=_-1;j--)if(j+1<v.length){var S=v[j],R=v[j+1];S[0]===R[1]&&v.splice(j,2,[S[0],S[1]+R[1]])}return v}},function(r,n){n=r.exports=typeof Object.keys=="function"?Object.keys:s,n.shim=s;function s(i){var o=[];for(var l in i)o.push(l);return o}},function(r,n){var s=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";n=r.exports=s?i:o,n.supported=i;function i(l){return Object.prototype.toString.call(l)=="[object Arguments]"}n.unsupported=o;function o(l){return l&&typeof l=="object"&&typeof l.length=="number"&&Object.prototype.hasOwnProperty.call(l,"callee")&&!Object.prototype.propertyIsEnumerable.call(l,"callee")||!1}},function(r,n){var s=Object.prototype.hasOwnProperty,i="~";function o(){}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(i=!1));function l(d,h,f){this.fn=d,this.context=h,this.once=f||!1}function c(){this._events=new o,this._eventsCount=0}c.prototype.eventNames=function(){var h=[],f,u;if(this._eventsCount===0)return h;for(u in f=this._events)s.call(f,u)&&h.push(i?u.slice(1):u);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(f)):h},c.prototype.listeners=function(h,f){var u=i?i+h:h,p=this._events[u];if(f)return!!p;if(!p)return[];if(p.fn)return[p.fn];for(var b=0,x=p.length,w=new Array(x);b<x;b++)w[b]=p[b].fn;return w},c.prototype.emit=function(h,f,u,p,b,x){var w=i?i+h:h;if(!this._events[w])return!1;var m=this._events[w],g=arguments.length,y,v;if(m.fn){switch(m.once&&this.removeListener(h,m.fn,void 0,!0),g){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,f),!0;case 3:return m.fn.call(m.context,f,u),!0;case 4:return m.fn.call(m.context,f,u,p),!0;case 5:return m.fn.call(m.context,f,u,p,b),!0;case 6:return m.fn.call(m.context,f,u,p,b,x),!0}for(v=1,y=new Array(g-1);v<g;v++)y[v-1]=arguments[v];m.fn.apply(m.context,y)}else{var _=m.length,N;for(v=0;v<_;v++)switch(m[v].once&&this.removeListener(h,m[v].fn,void 0,!0),g){case 1:m[v].fn.call(m[v].context);break;case 2:m[v].fn.call(m[v].context,f);break;case 3:m[v].fn.call(m[v].context,f,u);break;case 4:m[v].fn.call(m[v].context,f,u,p);break;default:if(!y)for(N=1,y=new Array(g-1);N<g;N++)y[N-1]=arguments[N];m[v].fn.apply(m[v].context,y)}}return!0},c.prototype.on=function(h,f,u){var p=new l(f,u||this),b=i?i+h:h;return this._events[b]?this._events[b].fn?this._events[b]=[this._events[b],p]:this._events[b].push(p):(this._events[b]=p,this._eventsCount++),this},c.prototype.once=function(h,f,u){var p=new l(f,u||this,!0),b=i?i+h:h;return this._events[b]?this._events[b].fn?this._events[b]=[this._events[b],p]:this._events[b].push(p):(this._events[b]=p,this._eventsCount++),this},c.prototype.removeListener=function(h,f,u,p){var b=i?i+h:h;if(!this._events[b])return this;if(!f)return--this._eventsCount===0?this._events=new o:delete this._events[b],this;var x=this._events[b];if(x.fn)x.fn===f&&(!p||x.once)&&(!u||x.context===u)&&(--this._eventsCount===0?this._events=new o:delete this._events[b]);else{for(var w=0,m=[],g=x.length;w<g;w++)(x[w].fn!==f||p&&!x[w].once||u&&x[w].context!==u)&&m.push(x[w]);m.length?this._events[b]=m.length===1?m[0]:m:--this._eventsCount===0?this._events=new o:delete this._events[b]}return this},c.prototype.removeAllListeners=function(h){var f;return h?(f=i?i+h:h,this._events[f]&&(--this._eventsCount===0?this._events=new o:delete this._events[f])):(this._events=new o,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prototype.setMaxListeners=function(){return this},c.prefixed=i,c.EventEmitter=c,typeof r<"u"&&(r.exports=c)},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.matchText=n.matchSpacing=n.matchNewline=n.matchBlot=n.matchAttributor=n.default=void 0;var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G},o=function(){function G(J,te){var ne=[],Y=!0,he=!1,pe=void 0;try{for(var me=J[Symbol.iterator](),Et;!(Y=(Et=me.next()).done)&&(ne.push(Et.value),!(te&&ne.length===te));Y=!0);}catch(ar){he=!0,pe=ar}finally{try{!Y&&me.return&&me.return()}finally{if(he)throw pe}}return ne}return function(J,te){if(Array.isArray(J))return J;if(Symbol.iterator in Object(J))return G(J,te);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function G(J,te){for(var ne=0;ne<te.length;ne++){var Y=te[ne];Y.enumerable=Y.enumerable||!1,Y.configurable=!0,"value"in Y&&(Y.writable=!0),Object.defineProperty(J,Y.key,Y)}}return function(J,te,ne){return te&&G(J.prototype,te),ne&&G(J,ne),J}}(),c=s(3),d=T(c),h=s(2),f=T(h),u=s(0),p=T(u),b=s(5),x=T(b),w=s(10),m=T(w),g=s(9),y=T(g),v=s(36),_=s(37),N=s(13),j=T(N),S=s(26),R=s(38),k=s(39),E=s(40);function T(G){return G&&G.__esModule?G:{default:G}}function P(G,J,te){return J in G?Object.defineProperty(G,J,{value:te,enumerable:!0,configurable:!0,writable:!0}):G[J]=te,G}function C(G,J){if(!(G instanceof J))throw new TypeError("Cannot call a class as a function")}function $(G,J){if(!G)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return J&&(typeof J=="object"||typeof J=="function")?J:G}function F(G,J){if(typeof J!="function"&&J!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof J);G.prototype=Object.create(J&&J.prototype,{constructor:{value:G,enumerable:!1,writable:!0,configurable:!0}}),J&&(Object.setPrototypeOf?Object.setPrototypeOf(G,J):G.__proto__=J)}var B=(0,m.default)("quill:clipboard"),H="__ql-matcher",U=[[Node.TEXT_NODE,Re],[Node.TEXT_NODE,de],["br",re],[Node.ELEMENT_NODE,de],[Node.ELEMENT_NODE,Q],[Node.ELEMENT_NODE,ve],[Node.ELEMENT_NODE,V],[Node.ELEMENT_NODE,$e],["li",ue],["b",K.bind(K,"bold")],["i",K.bind(K,"italic")],["style",ie]],I=[v.AlignAttribute,R.DirectionAttribute].reduce(function(G,J){return G[J.keyName]=J,G},{}),A=[v.AlignStyle,_.BackgroundStyle,S.ColorStyle,R.DirectionStyle,k.FontStyle,E.SizeStyle].reduce(function(G,J){return G[J.keyName]=J,G},{}),L=function(G){F(J,G);function J(te,ne){C(this,J);var Y=$(this,(J.__proto__||Object.getPrototypeOf(J)).call(this,te,ne));return Y.quill.root.addEventListener("paste",Y.onPaste.bind(Y)),Y.container=Y.quill.addContainer("ql-clipboard"),Y.container.setAttribute("contenteditable",!0),Y.container.setAttribute("tabindex",-1),Y.matchers=[],U.concat(Y.options.matchers).forEach(function(he){var pe=o(he,2),me=pe[0],Et=pe[1];!ne.matchVisual&&Et===ve||Y.addMatcher(me,Et)}),Y}return l(J,[{key:"addMatcher",value:function(ne,Y){this.matchers.push([ne,Y])}},{key:"convert",value:function(ne){if(typeof ne=="string")return this.container.innerHTML=ne.replace(/\>\r?\n +\</g,"><"),this.convert();var Y=this.quill.getFormat(this.quill.selection.savedRange.index);if(Y[j.default.blotName]){var he=this.container.innerText;return this.container.innerHTML="",new f.default().insert(he,P({},j.default.blotName,Y[j.default.blotName]))}var pe=this.prepareMatching(),me=o(pe,2),Et=me[0],ar=me[1],Oe=q(this.container,Et,ar);return z(Oe,`
`)&&Oe.ops[Oe.ops.length-1].attributes==null&&(Oe=Oe.compose(new f.default().retain(Oe.length()-1).delete(1))),B.log("convert",this.container.innerHTML,Oe),this.container.innerHTML="",Oe}},{key:"dangerouslyPasteHTML",value:function(ne,Y){var he=arguments.length>2&&arguments[2]!==void 0?arguments[2]:x.default.sources.API;if(typeof ne=="string")this.quill.setContents(this.convert(ne),Y),this.quill.setSelection(0,x.default.sources.SILENT);else{var pe=this.convert(Y);this.quill.updateContents(new f.default().retain(ne).concat(pe),he),this.quill.setSelection(ne+pe.length(),x.default.sources.SILENT)}}},{key:"onPaste",value:function(ne){var Y=this;if(!(ne.defaultPrevented||!this.quill.isEnabled())){var he=this.quill.getSelection(),pe=new f.default().retain(he.index),me=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(x.default.sources.SILENT),setTimeout(function(){pe=pe.concat(Y.convert()).delete(he.length),Y.quill.updateContents(pe,x.default.sources.USER),Y.quill.setSelection(pe.length()-he.length,x.default.sources.SILENT),Y.quill.scrollingContainer.scrollTop=me,Y.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var ne=this,Y=[],he=[];return this.matchers.forEach(function(pe){var me=o(pe,2),Et=me[0],ar=me[1];switch(Et){case Node.TEXT_NODE:he.push(ar);break;case Node.ELEMENT_NODE:Y.push(ar);break;default:[].forEach.call(ne.container.querySelectorAll(Et),function(Oe){Oe[H]=Oe[H]||[],Oe[H].push(ar)});break}}),[Y,he]}}]),J}(y.default);L.DEFAULTS={matchers:[],matchVisual:!0};function D(G,J,te){return(typeof J>"u"?"undefined":i(J))==="object"?Object.keys(J).reduce(function(ne,Y){return D(ne,Y,J[Y])},G):G.reduce(function(ne,Y){return Y.attributes&&Y.attributes[J]?ne.push(Y):ne.insert(Y.insert,(0,d.default)({},P({},J,te),Y.attributes))},new f.default)}function W(G){if(G.nodeType!==Node.ELEMENT_NODE)return{};var J="__ql-computed-style";return G[J]||(G[J]=window.getComputedStyle(G))}function z(G,J){for(var te="",ne=G.ops.length-1;ne>=0&&te.length<J.length;--ne){var Y=G.ops[ne];if(typeof Y.insert!="string")break;te=Y.insert+te}return te.slice(-1*J.length)===J}function M(G){if(G.childNodes.length===0)return!1;var J=W(G);return["block","list-item"].indexOf(J.display)>-1}function q(G,J,te){return G.nodeType===G.TEXT_NODE?te.reduce(function(ne,Y){return Y(G,ne)},new f.default):G.nodeType===G.ELEMENT_NODE?[].reduce.call(G.childNodes||[],function(ne,Y){var he=q(Y,J,te);return Y.nodeType===G.ELEMENT_NODE&&(he=J.reduce(function(pe,me){return me(Y,pe)},he),he=(Y[H]||[]).reduce(function(pe,me){return me(Y,pe)},he)),ne.concat(he)},new f.default):new f.default}function K(G,J,te){return D(te,G,!0)}function V(G,J){var te=p.default.Attributor.Attribute.keys(G),ne=p.default.Attributor.Class.keys(G),Y=p.default.Attributor.Style.keys(G),he={};return te.concat(ne).concat(Y).forEach(function(pe){var me=p.default.query(pe,p.default.Scope.ATTRIBUTE);me!=null&&(he[me.attrName]=me.value(G),he[me.attrName])||(me=I[pe],me!=null&&(me.attrName===pe||me.keyName===pe)&&(he[me.attrName]=me.value(G)||void 0),me=A[pe],me!=null&&(me.attrName===pe||me.keyName===pe)&&(me=A[pe],he[me.attrName]=me.value(G)||void 0))}),Object.keys(he).length>0&&(J=D(J,he)),J}function Q(G,J){var te=p.default.query(G);if(te==null)return J;if(te.prototype instanceof p.default.Embed){var ne={},Y=te.value(G);Y!=null&&(ne[te.blotName]=Y,J=new f.default().insert(ne,te.formats(G)))}else typeof te.formats=="function"&&(J=D(J,te.blotName,te.formats(G)));return J}function re(G,J){return z(J,`
`)||J.insert(`
`),J}function ie(){return new f.default}function ue(G,J){var te=p.default.query(G);if(te==null||te.blotName!=="list-item"||!z(J,`
`))return J;for(var ne=-1,Y=G.parentNode;!Y.classList.contains("ql-clipboard");)(p.default.query(Y)||{}).blotName==="list"&&(ne+=1),Y=Y.parentNode;return ne<=0?J:J.compose(new f.default().retain(J.length()-1).retain(1,{indent:ne}))}function de(G,J){return z(J,`
`)||(M(G)||J.length()>0&&G.nextSibling&&M(G.nextSibling))&&J.insert(`
`),J}function ve(G,J){if(M(G)&&G.nextElementSibling!=null&&!z(J,`

`)){var te=G.offsetHeight+parseFloat(W(G).marginTop)+parseFloat(W(G).marginBottom);G.nextElementSibling.offsetTop>G.offsetTop+te*1.5&&J.insert(`
`)}return J}function $e(G,J){var te={},ne=G.style||{};return ne.fontStyle&&W(G).fontStyle==="italic"&&(te.italic=!0),ne.fontWeight&&(W(G).fontWeight.startsWith("bold")||parseInt(W(G).fontWeight)>=700)&&(te.bold=!0),Object.keys(te).length>0&&(J=D(J,te)),parseFloat(ne.textIndent||0)>0&&(J=new f.default().insert("	").concat(J)),J}function Re(G,J){var te=G.data;if(G.parentNode.tagName==="O:P")return J.insert(te.trim());if(te.trim().length===0&&G.parentNode.classList.contains("ql-clipboard"))return J;if(!W(G.parentNode).whiteSpace.startsWith("pre")){var ne=function(he,pe){return pe=pe.replace(/[^\u00a0]/g,""),pe.length<1&&he?" ":pe};te=te.replace(/\r\n/g," ").replace(/\n/g," "),te=te.replace(/\s\s+/g,ne.bind(ne,!0)),(G.previousSibling==null&&M(G.parentNode)||G.previousSibling!=null&&M(G.previousSibling))&&(te=te.replace(/^\s+/,ne.bind(ne,!1))),(G.nextSibling==null&&M(G.parentNode)||G.nextSibling!=null&&M(G.nextSibling))&&(te=te.replace(/\s+$/,ne.bind(ne,!1)))}return J.insert(te)}n.default=L,n.matchAttributor=V,n.matchBlot=Q,n.matchNewline=de,n.matchSpacing=ve,n.matchText=Re},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function b(x,w){for(var m=0;m<w.length;m++){var g=w[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(x,g.key,g)}}return function(x,w,m){return w&&b(x.prototype,w),m&&b(x,m),x}}(),o=function b(x,w,m){x===null&&(x=Function.prototype);var g=Object.getOwnPropertyDescriptor(x,w);if(g===void 0){var y=Object.getPrototypeOf(x);return y===null?void 0:b(y,w,m)}else{if("value"in g)return g.value;var v=g.get;return v===void 0?void 0:v.call(m)}},l=s(6),c=d(l);function d(b){return b&&b.__esModule?b:{default:b}}function h(b,x){if(!(b instanceof x))throw new TypeError("Cannot call a class as a function")}function f(b,x){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:b}function u(b,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);b.prototype=Object.create(x&&x.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(b,x):b.__proto__=x)}var p=function(b){u(x,b);function x(){return h(this,x),f(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return i(x,[{key:"optimize",value:function(m){o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"optimize",this).call(this,m),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return o(x.__proto__||Object.getPrototypeOf(x),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),x}(c.default);p.blotName="bold",p.tagName=["STRONG","B"],n.default=p},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.addControls=n.default=void 0;var i=function(){function E(T,P){var C=[],$=!0,F=!1,B=void 0;try{for(var H=T[Symbol.iterator](),U;!($=(U=H.next()).done)&&(C.push(U.value),!(P&&C.length===P));$=!0);}catch(I){F=!0,B=I}finally{try{!$&&H.return&&H.return()}finally{if(F)throw B}}return C}return function(T,P){if(Array.isArray(T))return T;if(Symbol.iterator in Object(T))return E(T,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function E(T,P){for(var C=0;C<P.length;C++){var $=P[C];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(T,$.key,$)}}return function(T,P,C){return P&&E(T.prototype,P),C&&E(T,C),T}}(),l=s(2),c=m(l),d=s(0),h=m(d),f=s(5),u=m(f),p=s(10),b=m(p),x=s(9),w=m(x);function m(E){return E&&E.__esModule?E:{default:E}}function g(E,T,P){return T in E?Object.defineProperty(E,T,{value:P,enumerable:!0,configurable:!0,writable:!0}):E[T]=P,E}function y(E,T){if(!(E instanceof T))throw new TypeError("Cannot call a class as a function")}function v(E,T){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:E}function _(E,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);E.prototype=Object.create(T&&T.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(E,T):E.__proto__=T)}var N=(0,b.default)("quill:toolbar"),j=function(E){_(T,E);function T(P,C){y(this,T);var $=v(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,P,C));if(Array.isArray($.options.container)){var F=document.createElement("div");R(F,$.options.container),P.container.parentNode.insertBefore(F,P.container),$.container=F}else typeof $.options.container=="string"?$.container=document.querySelector($.options.container):$.container=$.options.container;if(!($.container instanceof HTMLElement)){var B;return B=N.error("Container required for toolbar",$.options),v($,B)}return $.container.classList.add("ql-toolbar"),$.controls=[],$.handlers={},Object.keys($.options.handlers).forEach(function(H){$.addHandler(H,$.options.handlers[H])}),[].forEach.call($.container.querySelectorAll("button, select"),function(H){$.attach(H)}),$.quill.on(u.default.events.EDITOR_CHANGE,function(H,U){H===u.default.events.SELECTION_CHANGE&&$.update(U)}),$.quill.on(u.default.events.SCROLL_OPTIMIZE,function(){var H=$.quill.selection.getRange(),U=i(H,1),I=U[0];$.update(I)}),$}return o(T,[{key:"addHandler",value:function(C,$){this.handlers[C]=$}},{key:"attach",value:function(C){var $=this,F=[].find.call(C.classList,function(H){return H.indexOf("ql-")===0});if(F){if(F=F.slice(3),C.tagName==="BUTTON"&&C.setAttribute("type","button"),this.handlers[F]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[F]==null){N.warn("ignoring attaching to disabled format",F,C);return}if(h.default.query(F)==null){N.warn("ignoring attaching to nonexistent format",F,C);return}}var B=C.tagName==="SELECT"?"change":"click";C.addEventListener(B,function(H){var U=void 0;if(C.tagName==="SELECT"){if(C.selectedIndex<0)return;var I=C.options[C.selectedIndex];I.hasAttribute("selected")?U=!1:U=I.value||!1}else C.classList.contains("ql-active")?U=!1:U=C.value||!C.hasAttribute("value"),H.preventDefault();$.quill.focus();var A=$.quill.selection.getRange(),L=i(A,1),D=L[0];if($.handlers[F]!=null)$.handlers[F].call($,U);else if(h.default.query(F).prototype instanceof h.default.Embed){if(U=prompt("Enter "+F),!U)return;$.quill.updateContents(new c.default().retain(D.index).delete(D.length).insert(g({},F,U)),u.default.sources.USER)}else $.quill.format(F,U,u.default.sources.USER);$.update(D)}),this.controls.push([F,C])}}},{key:"update",value:function(C){var $=C==null?{}:this.quill.getFormat(C);this.controls.forEach(function(F){var B=i(F,2),H=B[0],U=B[1];if(U.tagName==="SELECT"){var I=void 0;if(C==null)I=null;else if($[H]==null)I=U.querySelector("option[selected]");else if(!Array.isArray($[H])){var A=$[H];typeof A=="string"&&(A=A.replace(/\"/g,'\\"')),I=U.querySelector('option[value="'+A+'"]')}I==null?(U.value="",U.selectedIndex=-1):I.selected=!0}else if(C==null)U.classList.remove("ql-active");else if(U.hasAttribute("value")){var L=$[H]===U.getAttribute("value")||$[H]!=null&&$[H].toString()===U.getAttribute("value")||$[H]==null&&!U.getAttribute("value");U.classList.toggle("ql-active",L)}else U.classList.toggle("ql-active",$[H]!=null)})}}]),T}(w.default);j.DEFAULTS={};function S(E,T,P){var C=document.createElement("button");C.setAttribute("type","button"),C.classList.add("ql-"+T),P!=null&&(C.value=P),E.appendChild(C)}function R(E,T){Array.isArray(T[0])||(T=[T]),T.forEach(function(P){var C=document.createElement("span");C.classList.add("ql-formats"),P.forEach(function($){if(typeof $=="string")S(C,$);else{var F=Object.keys($)[0],B=$[F];Array.isArray(B)?k(C,F,B):S(C,F,B)}}),E.appendChild(C)})}function k(E,T,P){var C=document.createElement("select");C.classList.add("ql-"+T),P.forEach(function($){var F=document.createElement("option");$!==!1?F.setAttribute("value",$):F.setAttribute("selected","selected"),C.appendChild(F)}),E.appendChild(C)}j.DEFAULTS={container:null,handlers:{clean:function(){var T=this,P=this.quill.getSelection();if(P!=null)if(P.length==0){var C=this.quill.getFormat();Object.keys(C).forEach(function($){h.default.query($,h.default.Scope.INLINE)!=null&&T.quill.format($,!1)})}else this.quill.removeFormat(P,u.default.sources.USER)},direction:function(T){var P=this.quill.getFormat().align;T==="rtl"&&P==null?this.quill.format("align","right",u.default.sources.USER):!T&&P==="right"&&this.quill.format("align",!1,u.default.sources.USER),this.quill.format("direction",T,u.default.sources.USER)},indent:function(T){var P=this.quill.getSelection(),C=this.quill.getFormat(P),$=parseInt(C.indent||0);if(T==="+1"||T==="-1"){var F=T==="+1"?1:-1;C.direction==="rtl"&&(F*=-1),this.quill.format("indent",$+F,u.default.sources.USER)}},link:function(T){T===!0&&(T=prompt("Enter link URL:")),this.quill.format("link",T,u.default.sources.USER)},list:function(T){var P=this.quill.getSelection(),C=this.quill.getFormat(P);T==="check"?C.list==="checked"||C.list==="unchecked"?this.quill.format("list",!1,u.default.sources.USER):this.quill.format("list","unchecked",u.default.sources.USER):this.quill.format("list",T,u.default.sources.USER)}}},n.default=j,n.addControls=R},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function b(x,w){for(var m=0;m<w.length;m++){var g=w[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(x,g.key,g)}}return function(x,w,m){return w&&b(x.prototype,w),m&&b(x,m),x}}(),o=function b(x,w,m){x===null&&(x=Function.prototype);var g=Object.getOwnPropertyDescriptor(x,w);if(g===void 0){var y=Object.getPrototypeOf(x);return y===null?void 0:b(y,w,m)}else{if("value"in g)return g.value;var v=g.get;return v===void 0?void 0:v.call(m)}},l=s(28),c=d(l);function d(b){return b&&b.__esModule?b:{default:b}}function h(b,x){if(!(b instanceof x))throw new TypeError("Cannot call a class as a function")}function f(b,x){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:b}function u(b,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);b.prototype=Object.create(x&&x.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(b,x):b.__proto__=x)}var p=function(b){u(x,b);function x(w,m){h(this,x);var g=f(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,w));return g.label.innerHTML=m,g.container.classList.add("ql-color-picker"),[].slice.call(g.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(y){y.classList.add("ql-primary")}),g}return i(x,[{key:"buildItem",value:function(m){var g=o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"buildItem",this).call(this,m);return g.style.backgroundColor=m.getAttribute("value")||"",g}},{key:"selectItem",value:function(m,g){o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"selectItem",this).call(this,m,g);var y=this.label.querySelector(".ql-color-label"),v=m&&m.getAttribute("data-value")||"";y&&(y.tagName==="line"?y.style.stroke=v:y.style.fill=v)}}]),x}(c.default);n.default=p},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function b(x,w){for(var m=0;m<w.length;m++){var g=w[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(x,g.key,g)}}return function(x,w,m){return w&&b(x.prototype,w),m&&b(x,m),x}}(),o=function b(x,w,m){x===null&&(x=Function.prototype);var g=Object.getOwnPropertyDescriptor(x,w);if(g===void 0){var y=Object.getPrototypeOf(x);return y===null?void 0:b(y,w,m)}else{if("value"in g)return g.value;var v=g.get;return v===void 0?void 0:v.call(m)}},l=s(28),c=d(l);function d(b){return b&&b.__esModule?b:{default:b}}function h(b,x){if(!(b instanceof x))throw new TypeError("Cannot call a class as a function")}function f(b,x){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:b}function u(b,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);b.prototype=Object.create(x&&x.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(b,x):b.__proto__=x)}var p=function(b){u(x,b);function x(w,m){h(this,x);var g=f(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,w));return g.container.classList.add("ql-icon-picker"),[].forEach.call(g.container.querySelectorAll(".ql-picker-item"),function(y){y.innerHTML=m[y.getAttribute("data-value")||""]}),g.defaultItem=g.container.querySelector(".ql-selected"),g.selectItem(g.defaultItem),g}return i(x,[{key:"selectItem",value:function(m,g){o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"selectItem",this).call(this,m,g),m=m||this.defaultItem,this.label.innerHTML=m.innerHTML}}]),x}(c.default);n.default=p},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function c(d,h){for(var f=0;f<h.length;f++){var u=h[f];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(d,u.key,u)}}return function(d,h,f){return h&&c(d.prototype,h),f&&c(d,f),d}}();function o(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}var l=function(){function c(d,h){var f=this;o(this,c),this.quill=d,this.boundsContainer=h||document.body,this.root=d.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){f.root.style.marginTop=-1*f.quill.root.scrollTop+"px"}),this.hide()}return i(c,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(h){var f=h.left+h.width/2-this.root.offsetWidth/2,u=h.bottom+this.quill.root.scrollTop;this.root.style.left=f+"px",this.root.style.top=u+"px",this.root.classList.remove("ql-flip");var p=this.boundsContainer.getBoundingClientRect(),b=this.root.getBoundingClientRect(),x=0;if(b.right>p.right&&(x=p.right-b.right,this.root.style.left=f+x+"px"),b.left<p.left&&(x=p.left-b.left,this.root.style.left=f+x+"px"),b.bottom>p.bottom){var w=b.bottom-b.top,m=h.bottom-h.top+w;this.root.style.top=u-m+"px",this.root.classList.add("ql-flip")}return x}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),c}();n.default=l},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function k(E,T){var P=[],C=!0,$=!1,F=void 0;try{for(var B=E[Symbol.iterator](),H;!(C=(H=B.next()).done)&&(P.push(H.value),!(T&&P.length===T));C=!0);}catch(U){$=!0,F=U}finally{try{!C&&B.return&&B.return()}finally{if($)throw F}}return P}return function(E,T){if(Array.isArray(E))return E;if(Symbol.iterator in Object(E))return k(E,T);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function k(E,T,P){E===null&&(E=Function.prototype);var C=Object.getOwnPropertyDescriptor(E,T);if(C===void 0){var $=Object.getPrototypeOf(E);return $===null?void 0:k($,T,P)}else{if("value"in C)return C.value;var F=C.get;return F===void 0?void 0:F.call(P)}},l=function(){function k(E,T){for(var P=0;P<T.length;P++){var C=T[P];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(E,C.key,C)}}return function(E,T,P){return T&&k(E.prototype,T),P&&k(E,P),E}}(),c=s(3),d=y(c),h=s(8),f=y(h),u=s(43),p=y(u),b=s(27),x=y(b),w=s(15),m=s(41),g=y(m);function y(k){return k&&k.__esModule?k:{default:k}}function v(k,E){if(!(k instanceof E))throw new TypeError("Cannot call a class as a function")}function _(k,E){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:k}function N(k,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);k.prototype=Object.create(E&&E.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(k,E):k.__proto__=E)}var j=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],S=function(k){N(E,k);function E(T,P){v(this,E),P.modules.toolbar!=null&&P.modules.toolbar.container==null&&(P.modules.toolbar.container=j);var C=_(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,T,P));return C.quill.container.classList.add("ql-snow"),C}return l(E,[{key:"extendToolbar",value:function(P){P.container.classList.add("ql-snow"),this.buildButtons([].slice.call(P.container.querySelectorAll("button")),g.default),this.buildPickers([].slice.call(P.container.querySelectorAll("select")),g.default),this.tooltip=new R(this.quill,this.options.bounds),P.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(C,$){P.handlers.link.call(P,!$.format.link)})}}]),E}(p.default);S.DEFAULTS=(0,d.default)(!0,{},p.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(E){if(E){var T=this.quill.getSelection();if(T==null||T.length==0)return;var P=this.quill.getText(T);/^\S+@\S+\.\S+$/.test(P)&&P.indexOf("mailto:")!==0&&(P="mailto:"+P);var C=this.quill.theme.tooltip;C.edit("link",P)}else this.quill.format("link",!1)}}}}});var R=function(k){N(E,k);function E(T,P){v(this,E);var C=_(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,T,P));return C.preview=C.root.querySelector("a.ql-preview"),C}return l(E,[{key:"listen",value:function(){var P=this;o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(C){P.root.classList.contains("ql-editing")?P.save():P.edit("link",P.preview.textContent),C.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(C){if(P.linkRange!=null){var $=P.linkRange;P.restoreFocus(),P.quill.formatText($,"link",!1,f.default.sources.USER),delete P.linkRange}C.preventDefault(),P.hide()}),this.quill.on(f.default.events.SELECTION_CHANGE,function(C,$,F){if(C!=null){if(C.length===0&&F===f.default.sources.USER){var B=P.quill.scroll.descendant(x.default,C.index),H=i(B,2),U=H[0],I=H[1];if(U!=null){P.linkRange=new w.Range(C.index-I,U.length());var A=x.default.formats(U.domNode);P.preview.textContent=A,P.preview.setAttribute("href",A),P.show(),P.position(P.quill.getBounds(P.linkRange));return}}else delete P.linkRange;P.hide()}})}},{key:"show",value:function(){o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),E}(u.BaseTooltip);R.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),n.default=S},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=s(29),o=Y(i),l=s(36),c=s(38),d=s(64),h=s(65),f=Y(h),u=s(66),p=Y(u),b=s(67),x=Y(b),w=s(37),m=s(26),g=s(39),y=s(40),v=s(56),_=Y(v),N=s(68),j=Y(N),S=s(27),R=Y(S),k=s(69),E=Y(k),T=s(70),P=Y(T),C=s(71),$=Y(C),F=s(72),B=Y(F),H=s(73),U=Y(H),I=s(13),A=Y(I),L=s(74),D=Y(L),W=s(75),z=Y(W),M=s(57),q=Y(M),K=s(41),V=Y(K),Q=s(28),re=Y(Q),ie=s(59),ue=Y(ie),de=s(60),ve=Y(de),$e=s(61),Re=Y($e),G=s(108),J=Y(G),te=s(62),ne=Y(te);function Y(he){return he&&he.__esModule?he:{default:he}}o.default.register({"attributors/attribute/direction":c.DirectionAttribute,"attributors/class/align":l.AlignClass,"attributors/class/background":w.BackgroundClass,"attributors/class/color":m.ColorClass,"attributors/class/direction":c.DirectionClass,"attributors/class/font":g.FontClass,"attributors/class/size":y.SizeClass,"attributors/style/align":l.AlignStyle,"attributors/style/background":w.BackgroundStyle,"attributors/style/color":m.ColorStyle,"attributors/style/direction":c.DirectionStyle,"attributors/style/font":g.FontStyle,"attributors/style/size":y.SizeStyle},!0),o.default.register({"formats/align":l.AlignClass,"formats/direction":c.DirectionClass,"formats/indent":d.IndentClass,"formats/background":w.BackgroundStyle,"formats/color":m.ColorStyle,"formats/font":g.FontClass,"formats/size":y.SizeClass,"formats/blockquote":f.default,"formats/code-block":A.default,"formats/header":p.default,"formats/list":x.default,"formats/bold":_.default,"formats/code":I.Code,"formats/italic":j.default,"formats/link":R.default,"formats/script":E.default,"formats/strike":P.default,"formats/underline":$.default,"formats/image":B.default,"formats/video":U.default,"formats/list/item":b.ListItem,"modules/formula":D.default,"modules/syntax":z.default,"modules/toolbar":q.default,"themes/bubble":J.default,"themes/snow":ne.default,"ui/icons":V.default,"ui/picker":re.default,"ui/icon-picker":ve.default,"ui/color-picker":ue.default,"ui/tooltip":Re.default},!0),n.default=o.default},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.IndentClass=void 0;var i=function(){function x(w,m){for(var g=0;g<m.length;g++){var y=m[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(w,y.key,y)}}return function(w,m,g){return m&&x(w.prototype,m),g&&x(w,g),w}}(),o=function x(w,m,g){w===null&&(w=Function.prototype);var y=Object.getOwnPropertyDescriptor(w,m);if(y===void 0){var v=Object.getPrototypeOf(w);return v===null?void 0:x(v,m,g)}else{if("value"in y)return y.value;var _=y.get;return _===void 0?void 0:_.call(g)}},l=s(0),c=d(l);function d(x){return x&&x.__esModule?x:{default:x}}function h(x,w){if(!(x instanceof w))throw new TypeError("Cannot call a class as a function")}function f(x,w){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:x}function u(x,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);x.prototype=Object.create(w&&w.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(x,w):x.__proto__=w)}var p=function(x){u(w,x);function w(){return h(this,w),f(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return i(w,[{key:"add",value:function(g,y){if(y==="+1"||y==="-1"){var v=this.value(g)||0;y=y==="+1"?v+1:v-1}return y===0?(this.remove(g),!0):o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"add",this).call(this,g,y)}},{key:"canAdd",value:function(g,y){return o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"canAdd",this).call(this,g,y)||o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"canAdd",this).call(this,g,parseInt(y))}},{key:"value",value:function(g){return parseInt(o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"value",this).call(this,g))||void 0}}]),w}(c.default.Attributor.Class),b=new p("indent","ql-indent",{scope:c.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});n.IndentClass=b},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=s(4),o=l(i);function l(u){return u&&u.__esModule?u:{default:u}}function c(u,p){if(!(u instanceof p))throw new TypeError("Cannot call a class as a function")}function d(u,p){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:u}function h(u,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);u.prototype=Object.create(p&&p.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(u,p):u.__proto__=p)}var f=function(u){h(p,u);function p(){return c(this,p),d(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default);f.blotName="blockquote",f.tagName="blockquote",n.default=f},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function p(b,x){for(var w=0;w<x.length;w++){var m=x[w];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(b,m.key,m)}}return function(b,x,w){return x&&p(b.prototype,x),w&&p(b,w),b}}(),o=s(4),l=c(o);function c(p){return p&&p.__esModule?p:{default:p}}function d(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")}function h(p,b){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:p}function f(p,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);p.prototype=Object.create(b&&b.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(p,b):p.__proto__=b)}var u=function(p){f(b,p);function b(){return d(this,b),h(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return i(b,null,[{key:"formats",value:function(w){return this.tagName.indexOf(w.tagName)+1}}]),b}(l.default);u.blotName="header",u.tagName=["H1","H2","H3","H4","H5","H6"],n.default=u},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.ListItem=void 0;var i=function(){function v(_,N){for(var j=0;j<N.length;j++){var S=N[j];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(_,S.key,S)}}return function(_,N,j){return N&&v(_.prototype,N),j&&v(_,j),_}}(),o=function v(_,N,j){_===null&&(_=Function.prototype);var S=Object.getOwnPropertyDescriptor(_,N);if(S===void 0){var R=Object.getPrototypeOf(_);return R===null?void 0:v(R,N,j)}else{if("value"in S)return S.value;var k=S.get;return k===void 0?void 0:k.call(j)}},l=s(0),c=p(l),d=s(4),h=p(d),f=s(25),u=p(f);function p(v){return v&&v.__esModule?v:{default:v}}function b(v,_,N){return _ in v?Object.defineProperty(v,_,{value:N,enumerable:!0,configurable:!0,writable:!0}):v[_]=N,v}function x(v,_){if(!(v instanceof _))throw new TypeError("Cannot call a class as a function")}function w(v,_){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:v}function m(v,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);v.prototype=Object.create(_&&_.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(v,_):v.__proto__=_)}var g=function(v){m(_,v);function _(){return x(this,_),w(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return i(_,[{key:"format",value:function(j,S){j===y.blotName&&!S?this.replaceWith(c.default.create(this.statics.scope)):o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"format",this).call(this,j,S)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(j,S){return this.parent.isolate(this.offset(this.parent),this.length()),j===this.parent.statics.blotName?(this.parent.replaceWith(j,S),this):(this.parent.unwrap(),o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"replaceWith",this).call(this,j,S))}}],[{key:"formats",value:function(j){return j.tagName===this.tagName?void 0:o(_.__proto__||Object.getPrototypeOf(_),"formats",this).call(this,j)}}]),_}(h.default);g.blotName="list-item",g.tagName="LI";var y=function(v){m(_,v),i(_,null,[{key:"create",value:function(j){var S=j==="ordered"?"OL":"UL",R=o(_.__proto__||Object.getPrototypeOf(_),"create",this).call(this,S);return(j==="checked"||j==="unchecked")&&R.setAttribute("data-checked",j==="checked"),R}},{key:"formats",value:function(j){if(j.tagName==="OL")return"ordered";if(j.tagName==="UL")return j.hasAttribute("data-checked")?j.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function _(N){x(this,_);var j=w(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,N)),S=function(k){if(k.target.parentNode===N){var E=j.statics.formats(N),T=c.default.find(k.target);E==="checked"?T.format("list","unchecked"):E==="unchecked"&&T.format("list","checked")}};return N.addEventListener("touchstart",S),N.addEventListener("mousedown",S),j}return i(_,[{key:"format",value:function(j,S){this.children.length>0&&this.children.tail.format(j,S)}},{key:"formats",value:function(){return b({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(j,S){if(j instanceof g)o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"insertBefore",this).call(this,j,S);else{var R=S==null?this.length():S.offset(this),k=this.split(R);k.parent.insertBefore(j,k)}}},{key:"optimize",value:function(j){o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"optimize",this).call(this,j);var S=this.next;S!=null&&S.prev===this&&S.statics.blotName===this.statics.blotName&&S.domNode.tagName===this.domNode.tagName&&S.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(S.moveChildren(this),S.remove())}},{key:"replace",value:function(j){if(j.statics.blotName!==this.statics.blotName){var S=c.default.create(this.statics.defaultChild);j.moveChildren(S),this.appendChild(S)}o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"replace",this).call(this,j)}}]),_}(u.default);y.blotName="list",y.scope=c.default.Scope.BLOCK_BLOT,y.tagName=["OL","UL"],y.defaultChild="list-item",y.allowedChildren=[g],n.ListItem=g,n.default=y},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=s(56),o=l(i);function l(u){return u&&u.__esModule?u:{default:u}}function c(u,p){if(!(u instanceof p))throw new TypeError("Cannot call a class as a function")}function d(u,p){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:u}function h(u,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);u.prototype=Object.create(p&&p.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(u,p):u.__proto__=p)}var f=function(u){h(p,u);function p(){return c(this,p),d(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default);f.blotName="italic",f.tagName=["EM","I"],n.default=f},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function b(x,w){for(var m=0;m<w.length;m++){var g=w[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(x,g.key,g)}}return function(x,w,m){return w&&b(x.prototype,w),m&&b(x,m),x}}(),o=function b(x,w,m){x===null&&(x=Function.prototype);var g=Object.getOwnPropertyDescriptor(x,w);if(g===void 0){var y=Object.getPrototypeOf(x);return y===null?void 0:b(y,w,m)}else{if("value"in g)return g.value;var v=g.get;return v===void 0?void 0:v.call(m)}},l=s(6),c=d(l);function d(b){return b&&b.__esModule?b:{default:b}}function h(b,x){if(!(b instanceof x))throw new TypeError("Cannot call a class as a function")}function f(b,x){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:b}function u(b,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);b.prototype=Object.create(x&&x.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(b,x):b.__proto__=x)}var p=function(b){u(x,b);function x(){return h(this,x),f(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return i(x,null,[{key:"create",value:function(m){return m==="super"?document.createElement("sup"):m==="sub"?document.createElement("sub"):o(x.__proto__||Object.getPrototypeOf(x),"create",this).call(this,m)}},{key:"formats",value:function(m){if(m.tagName==="SUB")return"sub";if(m.tagName==="SUP")return"super"}}]),x}(c.default);p.blotName="script",p.tagName=["SUB","SUP"],n.default=p},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=s(6),o=l(i);function l(u){return u&&u.__esModule?u:{default:u}}function c(u,p){if(!(u instanceof p))throw new TypeError("Cannot call a class as a function")}function d(u,p){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:u}function h(u,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);u.prototype=Object.create(p&&p.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(u,p):u.__proto__=p)}var f=function(u){h(p,u);function p(){return c(this,p),d(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default);f.blotName="strike",f.tagName="S",n.default=f},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=s(6),o=l(i);function l(u){return u&&u.__esModule?u:{default:u}}function c(u,p){if(!(u instanceof p))throw new TypeError("Cannot call a class as a function")}function d(u,p){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:u}function h(u,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);u.prototype=Object.create(p&&p.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(u,p):u.__proto__=p)}var f=function(u){h(p,u);function p(){return c(this,p),d(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default);f.blotName="underline",f.tagName="U",n.default=f},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function w(m,g){for(var y=0;y<g.length;y++){var v=g[y];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,v.key,v)}}return function(m,g,y){return g&&w(m.prototype,g),y&&w(m,y),m}}(),o=function w(m,g,y){m===null&&(m=Function.prototype);var v=Object.getOwnPropertyDescriptor(m,g);if(v===void 0){var _=Object.getPrototypeOf(m);return _===null?void 0:w(_,g,y)}else{if("value"in v)return v.value;var N=v.get;return N===void 0?void 0:N.call(y)}},l=s(0),c=h(l),d=s(27);function h(w){return w&&w.__esModule?w:{default:w}}function f(w,m){if(!(w instanceof m))throw new TypeError("Cannot call a class as a function")}function u(w,m){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:w}function p(w,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);w.prototype=Object.create(m&&m.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(w,m):w.__proto__=m)}var b=["alt","height","width"],x=function(w){p(m,w);function m(){return f(this,m),u(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return i(m,[{key:"format",value:function(y,v){b.indexOf(y)>-1?v?this.domNode.setAttribute(y,v):this.domNode.removeAttribute(y):o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"format",this).call(this,y,v)}}],[{key:"create",value:function(y){var v=o(m.__proto__||Object.getPrototypeOf(m),"create",this).call(this,y);return typeof y=="string"&&v.setAttribute("src",this.sanitize(y)),v}},{key:"formats",value:function(y){return b.reduce(function(v,_){return y.hasAttribute(_)&&(v[_]=y.getAttribute(_)),v},{})}},{key:"match",value:function(y){return/\.(jpe?g|gif|png)$/.test(y)||/^data:image\/.+;base64/.test(y)}},{key:"sanitize",value:function(y){return(0,d.sanitize)(y,["http","https","data"])?y:"//:0"}},{key:"value",value:function(y){return y.getAttribute("src")}}]),m}(c.default.Embed);x.blotName="image",x.tagName="IMG",n.default=x},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function w(m,g){for(var y=0;y<g.length;y++){var v=g[y];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,v.key,v)}}return function(m,g,y){return g&&w(m.prototype,g),y&&w(m,y),m}}(),o=function w(m,g,y){m===null&&(m=Function.prototype);var v=Object.getOwnPropertyDescriptor(m,g);if(v===void 0){var _=Object.getPrototypeOf(m);return _===null?void 0:w(_,g,y)}else{if("value"in v)return v.value;var N=v.get;return N===void 0?void 0:N.call(y)}},l=s(4),c=s(27),d=h(c);function h(w){return w&&w.__esModule?w:{default:w}}function f(w,m){if(!(w instanceof m))throw new TypeError("Cannot call a class as a function")}function u(w,m){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:w}function p(w,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);w.prototype=Object.create(m&&m.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(w,m):w.__proto__=m)}var b=["height","width"],x=function(w){p(m,w);function m(){return f(this,m),u(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return i(m,[{key:"format",value:function(y,v){b.indexOf(y)>-1?v?this.domNode.setAttribute(y,v):this.domNode.removeAttribute(y):o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"format",this).call(this,y,v)}}],[{key:"create",value:function(y){var v=o(m.__proto__||Object.getPrototypeOf(m),"create",this).call(this,y);return v.setAttribute("frameborder","0"),v.setAttribute("allowfullscreen",!0),v.setAttribute("src",this.sanitize(y)),v}},{key:"formats",value:function(y){return b.reduce(function(v,_){return y.hasAttribute(_)&&(v[_]=y.getAttribute(_)),v},{})}},{key:"sanitize",value:function(y){return d.default.sanitize(y)}},{key:"value",value:function(y){return y.getAttribute("src")}}]),m}(l.BlockEmbed);x.blotName="video",x.className="ql-video",x.tagName="IFRAME",n.default=x},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.FormulaBlot=void 0;var i=function(){function y(v,_){for(var N=0;N<_.length;N++){var j=_[N];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(v,j.key,j)}}return function(v,_,N){return _&&y(v.prototype,_),N&&y(v,N),v}}(),o=function y(v,_,N){v===null&&(v=Function.prototype);var j=Object.getOwnPropertyDescriptor(v,_);if(j===void 0){var S=Object.getPrototypeOf(v);return S===null?void 0:y(S,_,N)}else{if("value"in j)return j.value;var R=j.get;return R===void 0?void 0:R.call(N)}},l=s(35),c=p(l),d=s(5),h=p(d),f=s(9),u=p(f);function p(y){return y&&y.__esModule?y:{default:y}}function b(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}function x(y,v){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:y}function w(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(y,v):y.__proto__=v)}var m=function(y){w(v,y);function v(){return b(this,v),x(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return i(v,null,[{key:"create",value:function(N){var j=o(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this,N);return typeof N=="string"&&(window.katex.render(N,j,{throwOnError:!1,errorColor:"#f00"}),j.setAttribute("data-value",N)),j}},{key:"value",value:function(N){return N.getAttribute("data-value")}}]),v}(c.default);m.blotName="formula",m.className="ql-formula",m.tagName="SPAN";var g=function(y){w(v,y),i(v,null,[{key:"register",value:function(){h.default.register(m,!0)}}]);function v(){b(this,v);var _=x(this,(v.__proto__||Object.getPrototypeOf(v)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return _}return v}(u.default);n.FormulaBlot=m,n.default=g},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.CodeToken=n.CodeBlock=void 0;var i=function(){function N(j,S){for(var R=0;R<S.length;R++){var k=S[R];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(j,k.key,k)}}return function(j,S,R){return S&&N(j.prototype,S),R&&N(j,R),j}}(),o=function N(j,S,R){j===null&&(j=Function.prototype);var k=Object.getOwnPropertyDescriptor(j,S);if(k===void 0){var E=Object.getPrototypeOf(j);return E===null?void 0:N(E,S,R)}else{if("value"in k)return k.value;var T=k.get;return T===void 0?void 0:T.call(R)}},l=s(0),c=x(l),d=s(5),h=x(d),f=s(9),u=x(f),p=s(13),b=x(p);function x(N){return N&&N.__esModule?N:{default:N}}function w(N,j){if(!(N instanceof j))throw new TypeError("Cannot call a class as a function")}function m(N,j){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j&&(typeof j=="object"||typeof j=="function")?j:N}function g(N,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof j);N.prototype=Object.create(j&&j.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),j&&(Object.setPrototypeOf?Object.setPrototypeOf(N,j):N.__proto__=j)}var y=function(N){g(j,N);function j(){return w(this,j),m(this,(j.__proto__||Object.getPrototypeOf(j)).apply(this,arguments))}return i(j,[{key:"replaceWith",value:function(R){this.domNode.textContent=this.domNode.textContent,this.attach(),o(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"replaceWith",this).call(this,R)}},{key:"highlight",value:function(R){var k=this.domNode.textContent;this.cachedText!==k&&((k.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=R(k),this.domNode.normalize(),this.attach()),this.cachedText=k)}}]),j}(b.default);y.className="ql-syntax";var v=new c.default.Attributor.Class("token","hljs",{scope:c.default.Scope.INLINE}),_=function(N){g(j,N),i(j,null,[{key:"register",value:function(){h.default.register(v,!0),h.default.register(y,!0)}}]);function j(S,R){w(this,j);var k=m(this,(j.__proto__||Object.getPrototypeOf(j)).call(this,S,R));if(typeof k.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var E=null;return k.quill.on(h.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(E),E=setTimeout(function(){k.highlight(),E=null},k.options.interval)}),k.highlight(),k}return i(j,[{key:"highlight",value:function(){var R=this;if(!this.quill.selection.composing){this.quill.update(h.default.sources.USER);var k=this.quill.getSelection();this.quill.scroll.descendants(y).forEach(function(E){E.highlight(R.options.highlight)}),this.quill.update(h.default.sources.SILENT),k!=null&&this.quill.setSelection(k,h.default.sources.SILENT)}}}]),j}(u.default);_.DEFAULTS={highlight:function(){return window.hljs==null?null:function(N){var j=window.hljs.highlightAuto(N);return j.value}}(),interval:1e3},n.CodeBlock=y,n.CodeToken=v,n.default=_},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(r,n){r.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(r,n){r.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(r,n){r.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(r,n){r.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BubbleTooltip=void 0;var i=function j(S,R,k){S===null&&(S=Function.prototype);var E=Object.getOwnPropertyDescriptor(S,R);if(E===void 0){var T=Object.getPrototypeOf(S);return T===null?void 0:j(T,R,k)}else{if("value"in E)return E.value;var P=E.get;return P===void 0?void 0:P.call(k)}},o=function(){function j(S,R){for(var k=0;k<R.length;k++){var E=R[k];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(S,E.key,E)}}return function(S,R,k){return R&&j(S.prototype,R),k&&j(S,k),S}}(),l=s(3),c=w(l),d=s(8),h=w(d),f=s(43),u=w(f),p=s(15),b=s(41),x=w(b);function w(j){return j&&j.__esModule?j:{default:j}}function m(j,S){if(!(j instanceof S))throw new TypeError("Cannot call a class as a function")}function g(j,S){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:j}function y(j,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);j.prototype=Object.create(S&&S.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(j,S):j.__proto__=S)}var v=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],_=function(j){y(S,j);function S(R,k){m(this,S),k.modules.toolbar!=null&&k.modules.toolbar.container==null&&(k.modules.toolbar.container=v);var E=g(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,R,k));return E.quill.container.classList.add("ql-bubble"),E}return o(S,[{key:"extendToolbar",value:function(k){this.tooltip=new N(this.quill,this.options.bounds),this.tooltip.root.appendChild(k.container),this.buildButtons([].slice.call(k.container.querySelectorAll("button")),x.default),this.buildPickers([].slice.call(k.container.querySelectorAll("select")),x.default)}}]),S}(u.default);_.DEFAULTS=(0,c.default)(!0,{},u.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(S){S?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var N=function(j){y(S,j);function S(R,k){m(this,S);var E=g(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,R,k));return E.quill.on(h.default.events.EDITOR_CHANGE,function(T,P,C,$){if(T===h.default.events.SELECTION_CHANGE)if(P!=null&&P.length>0&&$===h.default.sources.USER){E.show(),E.root.style.left="0px",E.root.style.width="",E.root.style.width=E.root.offsetWidth+"px";var F=E.quill.getLines(P.index,P.length);if(F.length===1)E.position(E.quill.getBounds(P));else{var B=F[F.length-1],H=E.quill.getIndex(B),U=Math.min(B.length()-1,P.index+P.length-H),I=E.quill.getBounds(new p.Range(H,U));E.position(I)}}else document.activeElement!==E.textbox&&E.quill.hasFocus()&&E.hide()}),E}return o(S,[{key:"listen",value:function(){var k=this;i(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){k.root.classList.remove("ql-editing")}),this.quill.on(h.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!k.root.classList.contains("ql-hidden")){var E=k.quill.getSelection();E!=null&&k.position(k.quill.getBounds(E))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(k){var E=i(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"position",this).call(this,k),T=this.root.querySelector(".ql-tooltip-arrow");if(T.style.marginLeft="",E===0)return E;T.style.marginLeft=-1*E-T.offsetWidth/2+"px"}}]),S}(f.BaseTooltip);N.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),n.BubbleTooltip=N,n.default=_},function(r,n,s){r.exports=s(63)}]).default})})(Ny);var FT=Ny.exports,UT=bt&&bt.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var i in s)s.hasOwnProperty(i)&&(n[i]=s[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),_o=bt&&bt.__assign||function(){return _o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},_o.apply(this,arguments)},qT=bt&&bt.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),s=0,t=0;t<r;t++)for(var i=arguments[t],o=0,l=i.length;o<l;o++,s++)n[s]=i[o];return n},al=bt&&bt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Yt=al(O),BT=al(md),Ks=al(MT),xp=al(FT),zT=function(e){UT(t,e);function t(r){var n=e.call(this,r)||this;n.dirtyProps=["modules","formats","bounds","theme","children"],n.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],n.state={generation:0},n.selection=null,n.onEditorChange=function(i,o,l,c){var d,h,f,u;i==="text-change"?(h=(d=n).onEditorChangeText)===null||h===void 0||h.call(d,n.editor.root.innerHTML,o,c,n.unprivilegedEditor):i==="selection-change"&&((u=(f=n).onEditorChangeSelection)===null||u===void 0||u.call(f,o,c,n.unprivilegedEditor))};var s=n.isControlled()?r.value:r.defaultValue;return n.value=s??"",n}return t.prototype.validateProps=function(r){var n;if(Yt.default.Children.count(r.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(Yt.default.Children.count(r.children)){var s=Yt.default.Children.only(r.children);if(((n=s)===null||n===void 0?void 0:n.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&r.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},t.prototype.shouldComponentUpdate=function(r,n){var s=this,i;if(this.validateProps(r),!this.editor||this.state.generation!==n.generation)return!0;if("value"in r){var o=this.getEditorContents(),l=(i=r.value,i??"");this.isEqualValue(l,o)||this.setEditorContents(this.editor,l)}return r.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,r.readOnly),qT(this.cleanProps,this.dirtyProps).some(function(c){return!Ks.default(r[c],s.props[c])})},t.prototype.shouldComponentRegenerate=function(r){var n=this;return this.dirtyProps.some(function(s){return!Ks.default(r[s],n.props[s])})},t.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},t.prototype.componentWillUnmount=function(){this.destroyEditor()},t.prototype.componentDidUpdate=function(r,n){var s=this;if(this.editor&&this.shouldComponentRegenerate(r)){var i=this.editor.getContents(),o=this.editor.getSelection();this.regenerationSnapshot={delta:i,selection:o},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==n.generation){var l=this.regenerationSnapshot,i=l.delta,c=l.selection;delete this.regenerationSnapshot,this.instantiateEditor();var d=this.editor;d.setContents(i),bp(function(){return s.setEditorSelection(d,c)})}},t.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},t.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},t.prototype.isControlled=function(){return"value"in this.props},t.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},t.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},t.prototype.createEditor=function(r,n){var s=new xp.default(r,n);return n.tabIndex!=null&&this.setEditorTabIndex(s,n.tabIndex),this.hookEditor(s),s},t.prototype.hookEditor=function(r){this.unprivilegedEditor=this.makeUnprivilegedEditor(r),r.on("editor-change",this.onEditorChange)},t.prototype.unhookEditor=function(r){r.off("editor-change",this.onEditorChange)},t.prototype.getEditorContents=function(){return this.value},t.prototype.getEditorSelection=function(){return this.selection},t.prototype.isDelta=function(r){return r&&r.ops},t.prototype.isEqualValue=function(r,n){return this.isDelta(r)&&this.isDelta(n)?Ks.default(r.ops,n.ops):Ks.default(r,n)},t.prototype.setEditorContents=function(r,n){var s=this;this.value=n;var i=this.getEditorSelection();typeof n=="string"?r.setContents(r.clipboard.convert(n)):r.setContents(n),bp(function(){return s.setEditorSelection(r,i)})},t.prototype.setEditorSelection=function(r,n){if(this.selection=n,n){var s=r.getLength();n.index=Math.max(0,Math.min(n.index,s-1)),n.length=Math.max(0,Math.min(n.length,s-1-n.index)),r.setSelection(n)}},t.prototype.setEditorTabIndex=function(r,n){var s,i;!((i=(s=r)===null||s===void 0?void 0:s.scroll)===null||i===void 0)&&i.domNode&&(r.scroll.domNode.tabIndex=n)},t.prototype.setEditorReadOnly=function(r,n){n?r.disable():r.enable()},t.prototype.makeUnprivilegedEditor=function(r){var n=r;return{getHTML:function(){return n.root.innerHTML},getLength:n.getLength.bind(n),getText:n.getText.bind(n),getContents:n.getContents.bind(n),getSelection:n.getSelection.bind(n),getBounds:n.getBounds.bind(n)}},t.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var r=BT.default.findDOMNode(this.editingArea);if(!r)throw new Error("Cannot find element for editing area");if(r.nodeType===3)throw new Error("Editing area cannot be a text node");return r},t.prototype.renderEditingArea=function(){var r=this,n=this.props,s=n.children,i=n.preserveWhitespace,o=this.state.generation,l={key:o,ref:function(c){r.editingArea=c}};return Yt.default.Children.count(s)?Yt.default.cloneElement(Yt.default.Children.only(s),l):i?Yt.default.createElement("pre",_o({},l)):Yt.default.createElement("div",_o({},l))},t.prototype.render=function(){var r;return Yt.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(r=this.props.className,r??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},t.prototype.onEditorChangeText=function(r,n,s,i){var o,l;if(this.editor){var c=this.isDelta(this.value)?i.getContents():i.getHTML();c!==this.getEditorContents()&&(this.lastDeltaChangeSet=n,this.value=c,(l=(o=this.props).onChange)===null||l===void 0||l.call(o,r,n,s,i))}},t.prototype.onEditorChangeSelection=function(r,n,s){var i,o,l,c,d,h;if(this.editor){var f=this.getEditorSelection(),u=!f&&r,p=f&&!r;Ks.default(r,f)||(this.selection=r,(o=(i=this.props).onChangeSelection)===null||o===void 0||o.call(i,r,n,s),u?(c=(l=this.props).onFocus)===null||c===void 0||c.call(l,r,n,s):p&&((h=(d=this.props).onBlur)===null||h===void 0||h.call(d,f,n,s)))}},t.prototype.focus=function(){this.editor&&this.editor.focus()},t.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},t.displayName="React Quill",t.Quill=xp.default,t.defaultProps={theme:"snow",modules:{},readOnly:!1},t}(Yt.default.Component);function bp(e){Promise.resolve().then(e)}var HT=zT;const wp=Np(HT),_p={toolbar:[[{header:[1,2,3,4,5,6,!1]}],[{font:[]}],[{size:["small",!1,"large","huge"]}],["bold","italic","underline","strike"],[{color:[]},{background:[]}],[{script:"sub"},{script:"super"}],[{list:"ordered"},{list:"bullet"}],[{indent:"-1"},{indent:"+1"}],[{align:[]}],["blockquote","code-block"],["link","image","video"],["clean"]]},jp=["header","font","size","bold","italic","underline","strike","color","background","script","list","bullet","indent","align","blockquote","code-block","link","image","video"];function WT(){const{websiteId:e}=We(),[t,r]=O.useState([]),[n,s]=O.useState(!0),[i,o]=O.useState(null),[l,c]=O.useState(!1),[d,h]=O.useState({type:"",text:""}),[f,u]=O.useState({policy_type:"privacy",title:"",slug:"",content:"",is_active:!0});O.useEffect(()=>{e&&p()},[e]);const p=async()=>{try{const{data:j,error:S}=await X.from("policies").select("*").eq("website_id",e).order("policy_type");if(S)throw S;r(j||[])}catch(j){console.error("Error fetching policies:",j)}finally{s(!1)}},b=j=>{c(!1),o({...j})},x=()=>{o(null),c(!0),u({policy_type:"privacy",title:"",slug:"",content:"",is_active:!0})},w=()=>{c(!1),u({policy_type:"privacy",title:"",slug:"",content:"",is_active:!0})},m=j=>j.replace(/className=/g,"class="),g=async()=>{if(i){h({type:"",text:""});try{const j=m(i.content),{data:S,error:R}=await X.rpc("admin_manage_policy",{operation:"update",policy_id:i.id,policy_data:{title:i.title,content:j,is_active:i.is_active,website_id:e}});if(R)throw R;h({type:"success",text:"Policy updated successfully!"}),o(null),p()}catch(j){console.error("Error saving policy:",j),h({type:"error",text:j.message||"Failed to save policy"})}}},y=async()=>{if(h({type:"",text:""}),!f.title||!f.slug||!f.content){h({type:"error",text:"Please fill all required fields"});return}try{const j=m(f.content),{data:S,error:R}=await X.rpc("admin_manage_policy",{operation:"insert",policy_data:{policy_type:f.policy_type,title:f.title,slug:f.slug,content:j,is_active:f.is_active,website_id:e}});if(R)throw R;h({type:"success",text:"Policy created successfully!"}),c(!1),u({policy_type:"privacy",title:"",slug:"",content:"",is_active:!0}),p()}catch(j){console.error("Error creating policy:",j),h({type:"error",text:j.message||"Failed to create policy"})}},v=async j=>{try{const{data:S,error:R}=await X.rpc("admin_manage_policy",{operation:"update",policy_id:j.id,policy_data:{is_active:!j.is_active,website_id:e}});if(R)throw R;p()}catch(S){console.error("Error updating policy status:",S),h({type:"error",text:S.message||"Failed to update status"})}},_=j=>a.jsx(za,{size:24,className:"text-blue-600"}),N=j=>({privacy:"Privacy Policy",terms:"Terms & Conditions",refund:"Refund Policy",shipping:"Shipping & Cancellation"})[j]||j;return n?a.jsx(nt,{children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):a.jsx(nt,{children:a.jsxs("div",{className:"max-w-6xl mx-auto",children:[a.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Manage Policies"}),a.jsx("p",{className:"text-gray-600",children:"Edit website policies and terms"})]}),!i&&!l&&a.jsxs("button",{onClick:x,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-2xl hover:bg-blue-700 transition-colors",children:[a.jsx(Cn,{size:20}),"Add New Policy"]})]}),d.text&&a.jsxs("div",{className:`mb-6 p-4 rounded-2xl flex items-center gap-2 ${d.type==="success"?"bg-green-50 text-green-800":"bg-red-50 text-red-800"}`,children:[d.type==="success"?a.jsx(Lt,{size:20}):a.jsx(Tn,{size:20}),a.jsx("span",{children:d.text})]}),l?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Create New Policy"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Policy Type *"}),a.jsxs("select",{value:f.policy_type,onChange:j=>u({...f,policy_type:j.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-2xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"privacy",children:"Privacy Policy"}),a.jsx("option",{value:"terms",children:"Terms & Conditions"}),a.jsx("option",{value:"refund",children:"Refund Policy"}),a.jsx("option",{value:"shipping",children:"Shipping & Cancellation"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Title *"}),a.jsx("input",{type:"text",value:f.title,onChange:j=>u({...f,title:j.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-2xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Privacy Policy"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"URL Slug *"}),a.jsx("input",{type:"text",value:f.slug,onChange:j=>u({...f,slug:j.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-2xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., privacy-policy"}),a.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["URL will be: /policy/",f.slug]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Content *"}),a.jsx("div",{className:"border border-gray-300 rounded-2xl overflow-hidden",children:a.jsx(wp,{theme:"snow",value:f.content,onChange:j=>u({...f,content:j}),modules:_p,formats:jp,className:"bg-white",style:{height:"400px",marginBottom:"42px"}})})]}),a.jsx("div",{children:a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:f.is_active,onChange:j=>u({...f,is_active:j.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),a.jsx("span",{className:"text-sm font-bold text-gray-700",children:"Active"})]})}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsxs("button",{onClick:w,className:"flex items-center gap-2 px-4 py-2 border border-gray-300 text-gray-700 rounded-2xl hover:bg-gray-50 transition-colors",children:[a.jsx($t,{size:20}),"Cancel"]}),a.jsxs("button",{onClick:y,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-2xl hover:bg-blue-700 transition-colors",children:[a.jsx(js,{size:20}),"Create Policy"]})]})]})]}):i?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6",children:[a.jsxs("h2",{className:"text-xl font-semibold mb-4",children:["Edit ",N(i.policy_type)]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Title *"}),a.jsx("input",{type:"text",value:i.title,onChange:j=>o({...i,title:j.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-2xl focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Content *"}),a.jsx("div",{className:"border border-gray-300 rounded-2xl overflow-hidden",children:a.jsx(wp,{theme:"snow",value:i.content,onChange:j=>o({...i,content:j}),modules:_p,formats:jp,className:"bg-white",style:{height:"400px",marginBottom:"42px"}})}),a.jsx("p",{className:"mt-2 text-sm text-gray-500",children:'Tip: You can paste HTML code directly. Use "class" (or "className" - it will be auto-converted) for Tailwind CSS styling.'})]}),a.jsx("div",{children:a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:i.is_active,onChange:j=>o({...i,is_active:j.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),a.jsx("span",{className:"text-sm font-bold text-gray-700",children:"Active"})]})}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsxs("button",{onClick:()=>o(null),className:"flex items-center gap-2 px-4 py-2 border border-gray-300 text-gray-700 rounded-2xl hover:bg-gray-50 transition-colors",children:[a.jsx($t,{size:20}),"Cancel"]}),a.jsxs("button",{onClick:g,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-2xl hover:bg-blue-700 transition-colors",children:[a.jsx(js,{size:20}),"Save Policy"]})]})]})]}):a.jsx("div",{className:"grid gap-6",children:t.length===0?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-12 text-center",children:[a.jsx(za,{size:48,className:"mx-auto text-gray-400 mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Policies Yet"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Create your first policy to get started"}),a.jsxs("button",{onClick:x,className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-2xl hover:bg-blue-700 transition-colors",children:[a.jsx(Cn,{size:20}),"Create First Policy"]})]}):t.map(j=>a.jsx("div",{className:"bg-white rounded-2xl shadow-md p-6",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[_(j.policy_type),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:j.title}),a.jsxs("p",{className:"text-sm text-gray-500 mb-3",children:["Slug: /",j.slug]}),a.jsxs("p",{className:"text-sm text-gray-600 line-clamp-3",children:[j.content.substring(0,200),"..."]}),a.jsx("div",{className:"mt-4",children:a.jsx("button",{onClick:()=>v(j),className:`px-3 py-1 rounded-full text-xs font-bold ${j.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:j.is_active?"Active":"Inactive"})})]})]}),a.jsxs("button",{onClick:()=>b(j),className:"flex items-center gap-2 px-4 py-2 text-blue-600 hover:bg-blue-50 rounded-2xl transition-colors",children:[a.jsx(N0,{size:18}),"Edit"]})]})},j.id))})]})})}const Yl={laser:Td,ink:x0,multi:k0,fast:T0,business:Pn,consumable:it};function VT(){const[e,t]=O.useState([]),[r,n]=O.useState(!0);O.useEffect(()=>{document.title="All Categories - Modern E-commerce Store",s()},[]);const s=async()=>{n(!0);const{data:i,error:o}=await X.from("categories").select(`
                id,
                name,
                description,
                products (id)
            `).order("name");o||t(i.map(l=>{var c;return{...l,count:((c=l.products)==null?void 0:c.length)||0}})),n(!1)};return r?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("div",{className:"inline-block h-12 w-12 animate-spin rounded-full border-4 border-gray-200 border-t-primary-600"})}):a.jsxs("div",{className:"bg-white dark:bg-gray-950 min-h-screen",children:[a.jsx("section",{className:"py-12 md:py-16 bg-gray-100 dark:bg-gray-900",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-6 lg:px-8 text-center",children:[a.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold text-gray-900 dark:text-white mb-4",children:"Explore All Product Categories"}),a.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 max-w-2xl mx-auto",children:"Dive into our extensive range of products, organized to help you find exactly what you need."})]})}),a.jsx("section",{className:"py-12 md:py-16",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-6 lg:px-8",children:[a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-5",children:e.map(i=>{const o=i.name.toLowerCase(),l=Object.keys(Yl).find(c=>o.includes(c))?Yl[Object.keys(Yl).find(c=>o.includes(c))]:it;return a.jsxs(ce,{to:`/shop?category=${encodeURIComponent(i.name)}`,className:`
                                        group rounded-xl border border-gray-200 dark:border-gray-800
                                        bg-white dark:bg-gray-900 p-5 text-center
                                        transition-all duration-200
                                        hover:shadow-lg hover:-translate-y-1
                                    `,children:[a.jsx("div",{className:"mx-auto mb-4 flex h-12 w-12 items-center justify-center rounded-lg border bg-gray-50 dark:bg-gray-800",children:a.jsx(l,{size:26,className:"text-gray-700 dark:text-gray-300"})}),a.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:i.name}),a.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400 line-clamp-2",children:i.description||"Explore products"}),a.jsxs("span",{className:"mt-3 inline-block rounded-full bg-gray-100 dark:bg-gray-800 px-4 py-1 text-xs text-gray-600 dark:text-gray-400",children:[i.count," products"]})]},i.id)})}),e.length===0&&!r&&a.jsx("p",{className:"text-center text-gray-500 mt-8",children:"No categories found."})]})})]})}function KT(){return a.jsxs(Yb,{children:[a.jsx(jj,{}),a.jsx(F_,{children:a.jsx(U_,{children:a.jsx(L_,{children:a.jsx($_,{children:a.jsx(M_,{children:a.jsxs(rh,{children:[a.jsx(be,{path:"/admin/login",element:a.jsx(Hj,{})}),a.jsx(be,{path:"/admin/dashboard",element:a.jsx(Qt,{children:a.jsx(Vj,{})})}),a.jsx(be,{path:"/admin/products",element:a.jsx(Qt,{children:a.jsx(Gj,{})})}),a.jsx(be,{path:"/admin/categories",element:a.jsx(Qt,{children:a.jsx(Jj,{})})}),a.jsx(be,{path:"/admin/orders",element:a.jsx(Qt,{children:a.jsx(Qj,{})})}),a.jsx(be,{path:"/admin/users",element:a.jsx(Qt,{children:a.jsx(Yj,{})})}),a.jsx(be,{path:"/admin/inquiries",element:a.jsx(Qt,{children:a.jsx(Zj,{})})}),a.jsx(be,{path:"/admin/payments",element:a.jsx(Qt,{children:a.jsx(Xj,{})})}),a.jsx(be,{path:"/admin/brand",element:a.jsx(Qt,{children:a.jsx(uk,{})})}),a.jsx(be,{path:"/admin/faqs",element:a.jsx(Qt,{children:a.jsx(dk,{})})}),a.jsx(be,{path:"/admin/policies",element:a.jsx(Qt,{children:a.jsx(WT,{})})}),a.jsx(be,{path:"*",element:a.jsxs("div",{className:"flex flex-col min-h-screen",children:[a.jsx(vj,{}),a.jsx(wj,{}),a.jsx("main",{className:"flex-1",children:a.jsxs(rh,{children:[a.jsx(be,{path:"/",element:a.jsx(kj,{})}),a.jsx(be,{path:"/shop",element:a.jsx(Tj,{})}),a.jsx(be,{path:"/categories",element:a.jsx(VT,{})}),a.jsx(be,{path:"/shop/:id",element:a.jsx(Sj,{})}),a.jsx(be,{path:"/faq",element:a.jsx(Ej,{})}),a.jsx(be,{path:"/policy/:slug",element:a.jsx(Oj,{})}),a.jsx(be,{path:"/about",element:a.jsx(Aj,{})}),a.jsx(be,{path:"/cart",element:a.jsx(Cj,{})}),a.jsx(be,{path:"/checkout",element:a.jsx(Dj,{})}),a.jsx(be,{path:"/orders",element:a.jsx(Mj,{})}),a.jsx(be,{path:"/order-success",element:a.jsx(Fj,{})}),a.jsx(be,{path:"/contact",element:a.jsx(Uj,{})}),a.jsx(be,{path:"/login",element:a.jsx(qj,{})}),a.jsx(be,{path:"/signup",element:a.jsx(Bj,{})}),a.jsx(be,{path:"/profile",element:a.jsx(zj,{})})]})}),a.jsx(_j,{})]})})]})})})})})})]})}Xl.createRoot(document.getElementById("root")).render(a.jsx(fe.StrictMode,{children:a.jsx(KT,{})}));
